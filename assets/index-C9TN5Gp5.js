(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cC(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Xt={},jc=[],pn=()=>{},TH=()=>!1,bm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),fC=t=>t.startsWith("onUpdate:"),Xr=Object.assign,hC=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},CH=Object.prototype.hasOwnProperty,At=(t,e)=>CH.call(t,e),We=Array.isArray,$c=t=>Tm(t)==="[object Map]",ZB=t=>Tm(t)==="[object Set]",Ge=t=>typeof t=="function",vt=t=>typeof t=="string",$o=t=>typeof t=="symbol",Lt=t=>t!==null&&typeof t=="object",JB=t=>(Lt(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),QB=Object.prototype.toString,Tm=t=>QB.call(t),EH=t=>Tm(t).slice(8,-1),e4=t=>Tm(t)==="[object Object]",pC=t=>vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,up=cC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cm=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},DH=/-(\w)/g,ra=Cm(t=>t.replace(DH,(e,r)=>r?r.toUpperCase():"")),OH=/\B([A-Z])/g,Ko=Cm(t=>t.replace(OH,"-$1").toLowerCase()),Em=Cm(t=>t.charAt(0).toUpperCase()+t.slice(1)),w_=Cm(t=>t?`on${Em(t)}`:""),Is=(t,e)=>!Object.is(t,e),S_=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},t4=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},MH=t=>{const e=parseFloat(t);return isNaN(e)?t:e},LH=t=>{const e=vt(t)?Number(t):NaN;return isNaN(e)?t:e};let ED;const Dm=()=>ED||(ED=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kr(t){if(We(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=vt(n)?NH(n):kr(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(vt(t)||Lt(t))return t}const kH=/;(?![^(]*\))/g,RH=/:([^]+)/,AH=/\/\*[^]*?\*\//g;function NH(t){const e={};return t.replace(AH,"").split(kH).forEach(r=>{if(r){const n=r.split(RH);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Be(t){let e="";if(vt(t))e=t;else if(We(t))for(let r=0;r<t.length;r++){const n=Be(t[r]);n&&(e+=n+" ")}else if(Lt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function DD(t){if(!t)return null;let{class:e,style:r}=t;return e&&!vt(e)&&(t.class=Be(e)),r&&(t.style=kr(r)),t}const FH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BH=cC(FH);function r4(t){return!!t||t===""}const n4=t=>!!(t&&t.__v_isRef===!0),Zn=t=>vt(t)?t:t==null?"":We(t)||Lt(t)&&(t.toString===QB||!Ge(t.toString))?n4(t)?Zn(t.value):JSON.stringify(t,a4,2):String(t),a4=(t,e)=>n4(e)?a4(t,e.value):$c(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[b_(n,i)+" =>"]=a,r),{})}:ZB(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>b_(r))}:$o(e)?b_(e):Lt(e)&&!We(e)&&!e4(e)?String(e):e,b_=(t,e="")=>{var r;return $o(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class i4{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_n,!e&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=_n;try{return _n=this,e()}finally{_n=r}}}on(){_n=this}off(){_n=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function IH(t){return new i4(t)}function o4(){return _n}function VH(t,e=!1){_n&&_n.cleanups.push(t)}let Zt;const T_=new WeakSet;class s4{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_n&&_n.active&&_n.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,T_.has(this)&&(T_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||l4(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,OD(this),c4(this);const e=Zt,r=ni;Zt=this,ni=!0;try{return this.fn()}finally{f4(this),Zt=e,ni=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gC(e);this.deps=this.depsTail=void 0,OD(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?T_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){PS(this)&&this.run()}get dirty(){return PS(this)}}let u4=0,lp,cp;function l4(t,e=!1){if(t.flags|=8,e){t.next=cp,cp=t;return}t.next=lp,lp=t}function vC(){u4++}function dC(){if(--u4>0)return;if(cp){let e=cp;for(cp=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;lp;){let e=lp;for(lp=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function c4(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function f4(t){let e,r=t.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),gC(n),PH(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}t.deps=e,t.depsTail=r}function PS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h4(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h4(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pp))return;t.globalVersion=Pp;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!PS(t)){t.flags&=-3;return}const r=Zt,n=ni;Zt=t,ni=!0;try{c4(t);const a=t.fn(t._value);(e.version===0||Is(a,t._value))&&(t._value=a,e.version++)}catch(a){throw e.version++,a}finally{Zt=r,ni=n,f4(t),t.flags&=-3}}function gC(t,e=!1){const{dep:r,prevSub:n,nextSub:a}=t;if(n&&(n.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)gC(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function PH(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let ni=!0;const p4=[];function nu(){p4.push(ni),ni=!1}function au(){const t=p4.pop();ni=t===void 0?!0:t}function OD(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Zt;Zt=void 0;try{e()}finally{Zt=r}}}let Pp=0;class UH{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yC{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Zt||!ni||Zt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Zt)r=this.activeLink=new UH(Zt,this),Zt.deps?(r.prevDep=Zt.depsTail,Zt.depsTail.nextDep=r,Zt.depsTail=r):Zt.deps=Zt.depsTail=r,v4(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Zt.depsTail,r.nextDep=void 0,Zt.depsTail.nextDep=r,Zt.depsTail=r,Zt.deps===r&&(Zt.deps=n)}return r}trigger(e){this.version++,Pp++,this.notify(e)}notify(e){vC();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{dC()}}}function v4(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)v4(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const oy=new WeakMap,fl=Symbol(""),US=Symbol(""),Up=Symbol("");function ln(t,e,r){if(ni&&Zt){let n=oy.get(t);n||oy.set(t,n=new Map);let a=n.get(r);a||(n.set(r,a=new yC),a.map=n,a.key=r),a.track()}}function So(t,e,r,n,a,i){const o=oy.get(t);if(!o){Pp++;return}const s=u=>{u&&u.trigger()};if(vC(),e==="clear")o.forEach(s);else{const u=We(t),l=u&&pC(r);if(u&&r==="length"){const f=Number(n);o.forEach((c,h)=>{(h==="length"||h===Up||!$o(h)&&h>=f)&&s(c)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),l&&s(o.get(Up)),e){case"add":u?l&&s(o.get("length")):(s(o.get(fl)),$c(t)&&s(o.get(US)));break;case"delete":u||(s(o.get(fl)),$c(t)&&s(o.get(US)));break;case"set":$c(t)&&s(o.get(fl));break}}dC()}function zH(t,e){const r=oy.get(t);return r&&r.get(e)}function Yl(t){const e=Rt(t);return e===t?e:(ln(e,"iterate",Up),ba(t)?e:e.map(cn))}function Om(t){return ln(t=Rt(t),"iterate",Up),t}const GH={__proto__:null,[Symbol.iterator](){return C_(this,Symbol.iterator,cn)},concat(...t){return Yl(this).concat(...t.map(e=>We(e)?Yl(e):e))},entries(){return C_(this,"entries",t=>(t[1]=cn(t[1]),t))},every(t,e){return Qi(this,"every",t,e,void 0,arguments)},filter(t,e){return Qi(this,"filter",t,e,r=>r.map(cn),arguments)},find(t,e){return Qi(this,"find",t,e,cn,arguments)},findIndex(t,e){return Qi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Qi(this,"findLast",t,e,cn,arguments)},findLastIndex(t,e){return Qi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Qi(this,"forEach",t,e,void 0,arguments)},includes(...t){return E_(this,"includes",t)},indexOf(...t){return E_(this,"indexOf",t)},join(t){return Yl(this).join(t)},lastIndexOf(...t){return E_(this,"lastIndexOf",t)},map(t,e){return Qi(this,"map",t,e,void 0,arguments)},pop(){return th(this,"pop")},push(...t){return th(this,"push",t)},reduce(t,...e){return MD(this,"reduce",t,e)},reduceRight(t,...e){return MD(this,"reduceRight",t,e)},shift(){return th(this,"shift")},some(t,e){return Qi(this,"some",t,e,void 0,arguments)},splice(...t){return th(this,"splice",t)},toReversed(){return Yl(this).toReversed()},toSorted(t){return Yl(this).toSorted(t)},toSpliced(...t){return Yl(this).toSpliced(...t)},unshift(...t){return th(this,"unshift",t)},values(){return C_(this,"values",cn)}};function C_(t,e,r){const n=Om(t),a=n[e]();return n!==t&&!ba(t)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const WH=Array.prototype;function Qi(t,e,r,n,a,i){const o=Om(t),s=o!==t&&!ba(t),u=o[e];if(u!==WH[e]){const c=u.apply(t,i);return s?cn(c):c}let l=r;o!==t&&(s?l=function(c,h){return r.call(this,cn(c),h,t)}:r.length>2&&(l=function(c,h){return r.call(this,c,h,t)}));const f=u.call(o,l,n);return s&&a?a(f):f}function MD(t,e,r,n){const a=Om(t);let i=r;return a!==t&&(ba(t)?r.length>3&&(i=function(o,s,u){return r.call(this,o,s,u,t)}):i=function(o,s,u){return r.call(this,o,cn(s),u,t)}),a[e](i,...n)}function E_(t,e,r){const n=Rt(t);ln(n,"iterate",Up);const a=n[e](...r);return(a===-1||a===!1)&&wC(r[0])?(r[0]=Rt(r[0]),n[e](...r)):a}function th(t,e,r=[]){nu(),vC();const n=Rt(t)[e].apply(t,r);return dC(),au(),n}const HH=cC("__proto__,__v_isRef,__isVue"),d4=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($o));function jH(t){$o(t)||(t=String(t));const e=Rt(this);return ln(e,"has",t),e.hasOwnProperty(t)}class g4{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?tj:x4:i?_4:m4).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=We(e);if(!a){let u;if(o&&(u=GH[r]))return u;if(r==="hasOwnProperty")return jH}const s=Reflect.get(e,r,Nr(e)?e:n);return($o(r)?d4.has(r):HH(r))||(a||ln(e,"get",r),i)?s:Nr(s)?o&&pC(r)?s:s.value:Lt(s)?a?Vv(s):Xo(s):s}}class y4 extends g4{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._isShallow){const u=bl(i);if(!ba(n)&&!bl(n)&&(i=Rt(i),n=Rt(n)),!We(e)&&Nr(i)&&!Nr(n))return u?!1:(i.value=n,!0)}const o=We(e)&&pC(r)?Number(r)<e.length:At(e,r),s=Reflect.set(e,r,n,Nr(e)?e:a);return e===Rt(a)&&(o?Is(n,i)&&So(e,"set",r,n):So(e,"add",r,n)),s}deleteProperty(e,r){const n=At(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&So(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!$o(r)||!d4.has(r))&&ln(e,"has",r),n}ownKeys(e){return ln(e,"iterate",We(e)?"length":fl),Reflect.ownKeys(e)}}class $H extends g4{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const KH=new y4,XH=new $H,YH=new y4(!0);const zS=t=>t,Td=t=>Reflect.getPrototypeOf(t);function qH(t,e,r){return function(...n){const a=this.__v_raw,i=Rt(a),o=$c(i),s=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,l=a[t](...n),f=r?zS:e?WS:cn;return!e&&ln(i,"iterate",u?US:fl),{next(){const{value:c,done:h}=l.next();return h?{value:c,done:h}:{value:s?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function Cd(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ZH(t,e){const r={get(a){const i=this.__v_raw,o=Rt(i),s=Rt(a);t||(Is(a,s)&&ln(o,"get",a),ln(o,"get",s));const{has:u}=Td(o),l=e?zS:t?WS:cn;if(u.call(o,a))return l(i.get(a));if(u.call(o,s))return l(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!t&&ln(Rt(a),"iterate",fl),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Rt(i),s=Rt(a);return t||(Is(a,s)&&ln(o,"has",a),ln(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,u=Rt(s),l=e?zS:t?WS:cn;return!t&&ln(u,"iterate",fl),s.forEach((f,c)=>a.call(i,l(f),l(c),o))}};return Xr(r,t?{add:Cd("add"),set:Cd("set"),delete:Cd("delete"),clear:Cd("clear")}:{add(a){!e&&!ba(a)&&!bl(a)&&(a=Rt(a));const i=Rt(this);return Td(i).has.call(i,a)||(i.add(a),So(i,"add",a,a)),this},set(a,i){!e&&!ba(i)&&!bl(i)&&(i=Rt(i));const o=Rt(this),{has:s,get:u}=Td(o);let l=s.call(o,a);l||(a=Rt(a),l=s.call(o,a));const f=u.call(o,a);return o.set(a,i),l?Is(i,f)&&So(o,"set",a,i):So(o,"add",a,i),this},delete(a){const i=Rt(this),{has:o,get:s}=Td(i);let u=o.call(i,a);u||(a=Rt(a),u=o.call(i,a)),s&&s.call(i,a);const l=i.delete(a);return u&&So(i,"delete",a,void 0),l},clear(){const a=Rt(this),i=a.size!==0,o=a.clear();return i&&So(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=qH(a,t,e)}),r}function mC(t,e){const r=ZH(t,e);return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(At(r,a)&&a in n?r:n,a,i)}const JH={get:mC(!1,!1)},QH={get:mC(!1,!0)},ej={get:mC(!0,!1)};const m4=new WeakMap,_4=new WeakMap,x4=new WeakMap,tj=new WeakMap;function rj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nj(t){return t.__v_skip||!Object.isExtensible(t)?0:rj(EH(t))}function Xo(t){return bl(t)?t:xC(t,!1,KH,JH,m4)}function _C(t){return xC(t,!1,YH,QH,_4)}function Vv(t){return xC(t,!0,XH,ej,x4)}function xC(t,e,r,n,a){if(!Lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=a.get(t);if(i)return i;const o=nj(t);if(o===0)return t;const s=new Proxy(t,o===2?n:r);return a.set(t,s),s}function Kc(t){return bl(t)?Kc(t.__v_raw):!!(t&&t.__v_isReactive)}function bl(t){return!!(t&&t.__v_isReadonly)}function ba(t){return!!(t&&t.__v_isShallow)}function wC(t){return t?!!t.__v_raw:!1}function Rt(t){const e=t&&t.__v_raw;return e?Rt(e):t}function GS(t){return!At(t,"__v_skip")&&Object.isExtensible(t)&&t4(t,"__v_skip",!0),t}const cn=t=>Lt(t)?Xo(t):t,WS=t=>Lt(t)?Vv(t):t;function Nr(t){return t?t.__v_isRef===!0:!1}function be(t){return w4(t,!1)}function Ao(t){return w4(t,!0)}function w4(t,e){return Nr(t)?t:new aj(t,e)}class aj{constructor(e,r){this.dep=new yC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Rt(e),this._value=r?e:cn(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||ba(e)||bl(e);e=n?e:Rt(e),Is(e,r)&&(this._rawValue=e,this._value=n?e:cn(e),this.dep.trigger())}}function te(t){return Nr(t)?t.value:t}const ij={get:(t,e,r)=>e==="__v_raw"?t:te(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return Nr(a)&&!Nr(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function S4(t){return Kc(t)?t:new Proxy(t,ij)}function sy(t){const e=We(t)?new Array(t.length):{};for(const r in t)e[r]=b4(t,r);return e}class oj{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return zH(Rt(this._object),this._key)}}class sj{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Eo(t,e,r){return Nr(t)?t:Ge(t)?new sj(t):Lt(t)&&arguments.length>1?b4(t,e,r):be(t)}function b4(t,e,r){const n=t[e];return Nr(n)?n:new oj(t,e,r)}class uj{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new yC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pp-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Zt!==this)return l4(this,!0),!0}get value(){const e=this.dep.track();return h4(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function lj(t,e,r=!1){let n,a;return Ge(t)?n=t:(n=t.get,a=t.set),new uj(n,a,r)}const Ed={},uy=new WeakMap;let Hu;function cj(t,e=!1,r=Hu){if(r){let n=uy.get(r);n||uy.set(r,n=[]),n.push(t)}}function fj(t,e,r=Xt){const{immediate:n,deep:a,once:i,scheduler:o,augmentJob:s,call:u}=r,l=x=>a?x:ba(x)||a===!1||a===0?bo(x,1):bo(x);let f,c,h,p,v=!1,g=!1;if(Nr(t)?(c=()=>t.value,v=ba(t)):Kc(t)?(c=()=>l(t),v=!0):We(t)?(g=!0,v=t.some(x=>Kc(x)||ba(x)),c=()=>t.map(x=>{if(Nr(x))return x.value;if(Kc(x))return l(x);if(Ge(x))return u?u(x,2):x()})):Ge(t)?e?c=u?()=>u(t,2):t:c=()=>{if(h){nu();try{h()}finally{au()}}const x=Hu;Hu=f;try{return u?u(t,3,[p]):t(p)}finally{Hu=x}}:c=pn,e&&a){const x=c,w=a===!0?1/0:a;c=()=>bo(x(),w)}const y=o4(),m=()=>{f.stop(),y&&y.active&&hC(y.effects,f)};if(i&&e){const x=e;e=(...w)=>{x(...w),m()}}let d=g?new Array(t.length).fill(Ed):Ed;const _=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(e){const w=f.run();if(a||v||(g?w.some((S,b)=>Is(S,d[b])):Is(w,d))){h&&h();const S=Hu;Hu=f;try{const b=[w,d===Ed?void 0:g&&d[0]===Ed?[]:d,p];u?u(e,3,b):e(...b),d=w}finally{Hu=S}}}else f.run()};return s&&s(_),f=new s4(c),f.scheduler=o?()=>o(_,!1):_,p=x=>cj(x,!1,f),h=f.onStop=()=>{const x=uy.get(f);if(x){if(u)u(x,4);else for(const w of x)w();uy.delete(f)}},e?n?_(!0):d=f.run():o?o(_.bind(null,!0),!0):f.run(),m.pause=f.pause.bind(f),m.resume=f.resume.bind(f),m.stop=m,m}function bo(t,e=1/0,r){if(e<=0||!Lt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Nr(t))bo(t.value,e,r);else if(We(t))for(let n=0;n<t.length;n++)bo(t[n],e,r);else if(ZB(t)||$c(t))t.forEach(n=>{bo(n,e,r)});else if(e4(t)){for(const n in t)bo(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&bo(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pv(t,e,r,n){try{return n?t(...n):t()}catch(a){Mm(a,e,r)}}function oi(t,e,r,n){if(Ge(t)){const a=Pv(t,e,r,n);return a&&JB(a)&&a.catch(i=>{Mm(i,e,r)}),a}if(We(t)){const a=[];for(let i=0;i<t.length;i++)a.push(oi(t[i],e,r,n));return a}}function Mm(t,e,r,n=!0){const a=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Xt;if(e){let s=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](t,u,l)===!1)return}s=s.parent}if(i){nu(),Pv(i,null,10,[t,u,l]),au();return}}hj(t,r,a,n,o)}function hj(t,e,r,n=!0,a=!1){if(a)throw t;console.error(t)}const wn=[];let ki=-1;const Xc=[];let ws=null,Cc=0;const T4=Promise.resolve();let ly=null;function Pr(t){const e=ly||T4;return t?e.then(this?t.bind(this):t):e}function pj(t){let e=ki+1,r=wn.length;for(;e<r;){const n=e+r>>>1,a=wn[n],i=zp(a);i<t||i===t&&a.flags&2?e=n+1:r=n}return e}function SC(t){if(!(t.flags&1)){const e=zp(t),r=wn[wn.length-1];!r||!(t.flags&2)&&e>=zp(r)?wn.push(t):wn.splice(pj(e),0,t),t.flags|=1,C4()}}function C4(){ly||(ly=T4.then(D4))}function vj(t){We(t)?Xc.push(...t):ws&&t.id===-1?ws.splice(Cc+1,0,t):t.flags&1||(Xc.push(t),t.flags|=1),C4()}function LD(t,e,r=ki+1){for(;r<wn.length;r++){const n=wn[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;wn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function E4(t){if(Xc.length){const e=[...new Set(Xc)].sort((r,n)=>zp(r)-zp(n));if(Xc.length=0,ws){ws.push(...e);return}for(ws=e,Cc=0;Cc<ws.length;Cc++){const r=ws[Cc];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ws=null,Cc=0}}const zp=t=>t.id==null?t.flags&2?-1:1/0:t.id;function D4(t){try{for(ki=0;ki<wn.length;ki++){const e=wn[ki];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pv(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ki<wn.length;ki++){const e=wn[ki];e&&(e.flags&=-2)}ki=-1,wn.length=0,E4(),ly=null,(wn.length||Xc.length)&&D4()}}let $r=null,O4=null;function cy(t){const e=$r;return $r=t,O4=t&&t.type.__scopeId||null,e}function Ye(t,e=$r,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&HD(-1);const i=cy(e);let o;try{o=t(...a)}finally{cy(i),n._d&&HD(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Hs(t,e){if($r===null)return t;const r=Am($r),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,o,s,u=Xt]=e[a];i&&(Ge(i)&&(i={mounted:i,updated:i}),i.deep&&bo(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:s,modifiers:u}))}return t}function fu(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let u=s.dir[n];u&&(nu(),oi(u,r,8,[t.el,s,t,e]),au())}}const M4=Symbol("_vte"),L4=t=>t.__isTeleport,fp=t=>t&&(t.disabled||t.disabled===""),kD=t=>t&&(t.defer||t.defer===""),RD=t=>typeof SVGElement<"u"&&t instanceof SVGElement,AD=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,HS=(t,e)=>{const r=t&&t.to;return vt(r)?e?e(r):null:r},k4={name:"Teleport",__isTeleport:!0,process(t,e,r,n,a,i,o,s,u,l){const{mc:f,pc:c,pbc:h,o:{insert:p,querySelector:v,createText:g,createComment:y}}=l,m=fp(e.props);let{shapeFlag:d,children:_,dynamicChildren:x}=e;if(t==null){const w=e.el=g(""),S=e.anchor=g("");p(w,r,n),p(S,r,n);const b=(C,M)=>{d&16&&(a&&a.isCE&&(a.ce._teleportTarget=C),f(_,C,M,a,i,o,s,u))},T=()=>{const C=e.target=HS(e.props,v),M=R4(C,e,g,p);C&&(o!=="svg"&&RD(C)?o="svg":o!=="mathml"&&AD(C)&&(o="mathml"),m||(b(C,M),f0(e,!1)))};m&&(b(r,S),f0(e,!0)),kD(e.props)?mn(()=>{T(),e.el.__isMounted=!0},i):T()}else{if(kD(e.props)&&!t.el.__isMounted){mn(()=>{k4.process(t,e,r,n,a,i,o,s,u,l),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const w=e.anchor=t.anchor,S=e.target=t.target,b=e.targetAnchor=t.targetAnchor,T=fp(t.props),C=T?r:S,M=T?w:b;if(o==="svg"||RD(S)?o="svg":(o==="mathml"||AD(S))&&(o="mathml"),x?(h(t.dynamicChildren,x,C,a,i,o,s),EC(t,e,!0)):u||c(t,e,C,M,a,i,o,s,!1),m)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Dd(e,r,w,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=HS(e.props,v);D&&Dd(e,D,null,l,0)}else T&&Dd(e,S,b,l,1);f0(e,m)}},remove(t,e,r,{um:n,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:u,targetStart:l,targetAnchor:f,target:c,props:h}=t;if(c&&(a(l),a(f)),i&&a(u),o&16){const p=i||!fp(h);for(let v=0;v<s.length;v++){const g=s[v];n(g,e,r,p,!!g.dynamicChildren)}}},move:Dd,hydrate:dj};function Dd(t,e,r,{o:{insert:n},m:a},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:s,shapeFlag:u,children:l,props:f}=t,c=i===2;if(c&&n(o,e,r),(!c||fp(f))&&u&16)for(let h=0;h<l.length;h++)a(l[h],e,r,2);c&&n(s,e,r)}function dj(t,e,r,n,a,i,{o:{nextSibling:o,parentNode:s,querySelector:u,insert:l,createText:f}},c){const h=e.target=HS(e.props,u);if(h){const p=fp(e.props),v=h._lpa||h.firstChild;if(e.shapeFlag&16)if(p)e.anchor=c(o(t),e,s(t),r,n,a,i),e.targetStart=v,e.targetAnchor=v&&o(v);else{e.anchor=o(t);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||R4(h,e,f,l),c(v&&o(v),e,h,r,n,a,i)}f0(e,p)}return e.anchor&&o(e.anchor)}const gj=k4;function f0(t,e){const r=t.ctx;if(r&&r.ut){let n,a;for(e?(n=t.el,a=t.anchor):(n=t.targetStart,a=t.targetAnchor);n&&n!==a;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function R4(t,e,r,n){const a=e.targetStart=r(""),i=e.targetAnchor=r("");return a[M4]=i,t&&(n(a,t),n(i,t)),i}const Ss=Symbol("_leaveCb"),Od=Symbol("_enterCb");function yj(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mr(()=>{t.isMounted=!0}),$n(()=>{t.isUnmounting=!0}),t}const sa=[Function,Array],A4={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sa,onEnter:sa,onAfterEnter:sa,onEnterCancelled:sa,onBeforeLeave:sa,onLeave:sa,onAfterLeave:sa,onLeaveCancelled:sa,onBeforeAppear:sa,onAppear:sa,onAfterAppear:sa,onAppearCancelled:sa},N4=t=>{const e=t.subTree;return e.component?N4(e.component):e},mj={name:"BaseTransition",props:A4,setup(t,{slots:e}){const r=na(),n=yj();return()=>{const a=e.default&&I4(e.default(),!0);if(!a||!a.length)return;const i=F4(a),o=Rt(t),{mode:s}=o;if(n.isLeaving)return D_(i);const u=ND(i);if(!u)return D_(i);let l=jS(u,o,n,r,c=>l=c);u.type!==fn&&Gp(u,l);let f=r.subTree&&ND(r.subTree);if(f&&f.type!==fn&&!qu(u,f)&&N4(r).type!==fn){let c=jS(f,o,n,r);if(Gp(f,c),s==="out-in"&&u.type!==fn)return n.isLeaving=!0,c.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete c.afterLeave,f=void 0},D_(i);s==="in-out"&&u.type!==fn?c.delayLeave=(h,p,v)=>{const g=B4(n,f);g[String(f.key)]=f,h[Ss]=()=>{p(),h[Ss]=void 0,delete l.delayedLeave,f=void 0},l.delayedLeave=()=>{v(),delete l.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function F4(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==fn){e=r;break}}return e}const _j=mj;function B4(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function jS(t,e,r,n,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:y,onAppear:m,onAfterAppear:d,onAppearCancelled:_}=e,x=String(t.key),w=B4(r,t),S=(C,M)=>{C&&oi(C,n,9,M)},b=(C,M)=>{const D=M[1];S(C,M),We(C)?C.every(E=>E.length<=1)&&D():C.length<=1&&D()},T={mode:o,persisted:s,beforeEnter(C){let M=u;if(!r.isMounted)if(i)M=y||u;else return;C[Ss]&&C[Ss](!0);const D=w[x];D&&qu(t,D)&&D.el[Ss]&&D.el[Ss](),S(M,[C])},enter(C){let M=l,D=f,E=c;if(!r.isMounted)if(i)M=m||l,D=d||f,E=_||c;else return;let k=!1;const O=C[Od]=A=>{k||(k=!0,A?S(E,[C]):S(D,[C]),T.delayedLeave&&T.delayedLeave(),C[Od]=void 0)};M?b(M,[C,O]):O()},leave(C,M){const D=String(t.key);if(C[Od]&&C[Od](!0),r.isUnmounting)return M();S(h,[C]);let E=!1;const k=C[Ss]=O=>{E||(E=!0,M(),O?S(g,[C]):S(v,[C]),C[Ss]=void 0,w[D]===t&&delete w[D])};w[D]=t,p?b(p,[C,k]):k()},clone(C){const M=jS(C,e,r,n,a);return a&&a(M),M}};return T}function D_(t){if(Lm(t))return t=zo(t),t.children=null,t}function ND(t){if(!Lm(t))return L4(t.type)&&t.children?F4(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Ge(r.default))return r.default()}}function Gp(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Gp(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function I4(t,e=!1,r){let n=[],a=0;for(let i=0;i<t.length;i++){let o=t[i];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Gt?(o.patchFlag&128&&a++,n=n.concat(I4(o.children,e,s))):(e||o.type!==fn)&&n.push(s!=null?zo(o,{key:s}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ae(t,e){return Ge(t)?Xr({name:t.name},e,{setup:t}):t}function V4(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function fy(t,e,r,n,a=!1){if(We(t)){t.forEach((v,g)=>fy(v,e&&(We(e)?e[g]:e),r,n,a));return}if(Yc(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&fy(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Am(n.component):n.el,o=a?null:i,{i:s,r:u}=t,l=e&&e.r,f=s.refs===Xt?s.refs={}:s.refs,c=s.setupState,h=Rt(c),p=c===Xt?()=>!1:v=>At(h,v);if(l!=null&&l!==u&&(vt(l)?(f[l]=null,p(l)&&(c[l]=null)):Nr(l)&&(l.value=null)),Ge(u))Pv(u,s,12,[o,f]);else{const v=vt(u),g=Nr(u);if(v||g){const y=()=>{if(t.f){const m=v?p(u)?c[u]:f[u]:u.value;a?We(m)&&hC(m,i):We(m)?m.includes(i)||m.push(i):v?(f[u]=[i],p(u)&&(c[u]=f[u])):(u.value=[i],t.k&&(f[t.k]=u.value))}else v?(f[u]=o,p(u)&&(c[u]=o)):g&&(u.value=o,t.k&&(f[t.k]=o))};o?(y.id=-1,mn(y,r)):y()}}}Dm().requestIdleCallback;Dm().cancelIdleCallback;const Yc=t=>!!t.type.__asyncLoader,Lm=t=>t.type.__isKeepAlive;function xj(t,e){U4(t,"a",e)}function P4(t,e){U4(t,"da",e)}function U4(t,e,r=Qr){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(km(e,n,r),r){let a=r.parent;for(;a&&a.parent;)Lm(a.parent.vnode)&&wj(n,e,r,a),a=a.parent}}function wj(t,e,r,n){const a=km(e,t,n,!0);bC(()=>{hC(n[e],a)},r)}function km(t,e,r=Qr,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{nu();const s=Uv(r),u=oi(e,r,t,o);return s(),au(),u});return n?a.unshift(i):a.push(i),i}}const Yo=t=>(e,r=Qr)=>{(!Hp||t==="sp")&&km(t,(...n)=>e(...n),r)},z4=Yo("bm"),mr=Yo("m"),Sj=Yo("bu"),G4=Yo("u"),$n=Yo("bum"),bC=Yo("um"),bj=Yo("sp"),Tj=Yo("rtg"),Cj=Yo("rtc");function Ej(t,e=Qr){km("ec",t,e)}const Dj="components",W4=Symbol.for("v-ndc");function Do(t){return vt(t)?Oj(Dj,t,!1)||t:t||W4}function Oj(t,e,r=!0,n=!1){const a=$r||Qr;if(a){const i=a.type;{const s=p7(i,!1);if(s&&(s===e||s===ra(e)||s===Em(ra(e))))return i}const o=FD(a[t]||i[t],e)||FD(a.appContext[t],e);return!o&&n?i:o}}function FD(t,e){return t&&(t[e]||t[ra(e)]||t[Em(ra(e))])}function hp(t,e,r,n){let a;const i=r,o=We(t);if(o||vt(t)){const s=o&&Kc(t);let u=!1;s&&(u=!ba(t),t=Om(t)),a=new Array(t.length);for(let l=0,f=t.length;l<f;l++)a[l]=e(u?cn(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,i)}else if(Lt(t))if(t[Symbol.iterator])a=Array.from(t,(s,u)=>e(s,u,void 0,i));else{const s=Object.keys(t);a=new Array(s.length);for(let u=0,l=s.length;u<l;u++){const f=s[u];a[u]=e(t[f],f,u,i)}}else a=[];return a}function Mj(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(We(n))for(let a=0;a<n.length;a++)t[n[a].name]=n[a].fn;else n&&(t[n.name]=n.key?(...a)=>{const i=n.fn(...a);return i&&(i.key=n.key),i}:n.fn)}return t}function ht(t,e,r={},n,a){if($r.ce||$r.parent&&Yc($r.parent)&&$r.parent.ce)return e!=="default"&&(r.name=e),xe(),lt(Gt,null,[Pe("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),xe();const o=i&&H4(i(r)),s=r.key||o&&o.key,u=lt(Gt,{key:(s&&!$o(s)?s:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function H4(t){return t.some(e=>Tl(e)?!(e.type===fn||e.type===Gt&&!H4(e.children)):!0)?t:null}const $S=t=>t?fI(t)?Am(t):$S(t.parent):null,pp=Xr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$S(t.parent),$root:t=>$S(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>X4(t),$forceUpdate:t=>t.f||(t.f=()=>{SC(t.update)}),$nextTick:t=>t.n||(t.n=Pr.bind(t.proxy)),$watch:t=>Zj.bind(t)}),O_=(t,e)=>t!==Xt&&!t.__isScriptSetup&&At(t,e),Lj={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:o,type:s,appContext:u}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(O_(n,e))return o[e]=1,n[e];if(a!==Xt&&At(a,e))return o[e]=2,a[e];if((l=t.propsOptions[0])&&At(l,e))return o[e]=3,i[e];if(r!==Xt&&At(r,e))return o[e]=4,r[e];KS&&(o[e]=0)}}const f=pp[e];let c,h;if(f)return e==="$attrs"&&ln(t.attrs,"get",""),f(t);if((c=s.__cssModules)&&(c=c[e]))return c;if(r!==Xt&&At(r,e))return o[e]=4,r[e];if(h=u.config.globalProperties,At(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return O_(a,e)?(a[e]=r,!0):n!==Xt&&At(n,e)?(n[e]=r,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let s;return!!r[o]||t!==Xt&&At(t,o)||O_(e,o)||(s=i[0])&&At(s,o)||At(n,o)||At(pp,o)||At(a.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:At(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function TC(){return $4().slots}function j4(){return $4().attrs}function $4(){const t=na();return t.setupContext||(t.setupContext=pI(t))}function BD(t){return We(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let KS=!0;function kj(t){const e=X4(t),r=t.proxy,n=t.ctx;KS=!1,e.beforeCreate&&ID(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:o,watch:s,provide:u,inject:l,created:f,beforeMount:c,mounted:h,beforeUpdate:p,updated:v,activated:g,deactivated:y,beforeDestroy:m,beforeUnmount:d,destroyed:_,unmounted:x,render:w,renderTracked:S,renderTriggered:b,errorCaptured:T,serverPrefetch:C,expose:M,inheritAttrs:D,components:E,directives:k,filters:O}=e;if(l&&Rj(l,n,null),o)for(const U in o){const P=o[U];Ge(P)&&(n[U]=P.bind(r))}if(a){const U=a.call(r,r);Lt(U)&&(t.data=Xo(U))}if(KS=!0,i)for(const U in i){const P=i[U],B=Ge(P)?P.bind(r,r):Ge(P.get)?P.get.bind(r,r):pn,W=!Ge(P)&&Ge(P.set)?P.set.bind(r):pn,H=ve({get:B,set:W});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>H.value,set:$=>H.value=$})}if(s)for(const U in s)K4(s[U],n,r,U);if(u){const U=Ge(u)?u.call(r):u;Reflect.ownKeys(U).forEach(P=>{Qn(P,U[P])})}f&&ID(f,t,"c");function I(U,P){We(P)?P.forEach(B=>U(B.bind(r))):P&&U(P.bind(r))}if(I(z4,c),I(mr,h),I(Sj,p),I(G4,v),I(xj,g),I(P4,y),I(Ej,T),I(Cj,S),I(Tj,b),I($n,d),I(bC,x),I(bj,C),We(M))if(M.length){const U=t.exposed||(t.exposed={});M.forEach(P=>{Object.defineProperty(U,P,{get:()=>r[P],set:B=>r[P]=B})})}else t.exposed||(t.exposed={});w&&t.render===pn&&(t.render=w),D!=null&&(t.inheritAttrs=D),E&&(t.components=E),k&&(t.directives=k),C&&V4(t)}function Rj(t,e,r=pn){We(t)&&(t=XS(t));for(const n in t){const a=t[n];let i;Lt(a)?"default"in a?i=It(a.from||n,a.default,!0):i=It(a.from||n):i=It(a),Nr(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function ID(t,e,r){oi(We(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function K4(t,e,r,n){let a=n.includes(".")?oI(r,n):()=>r[n];if(vt(t)){const i=e[t];Ge(i)&&ft(a,i)}else if(Ge(t))ft(a,t.bind(r));else if(Lt(t))if(We(t))t.forEach(i=>K4(i,e,r,n));else{const i=Ge(t.handler)?t.handler.bind(r):e[t.handler];Ge(i)&&ft(a,i,t)}}function X4(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,s=i.get(e);let u;return s?u=s:!a.length&&!r&&!n?u=e:(u={},a.length&&a.forEach(l=>hy(u,l,o,!0)),hy(u,e,o)),Lt(e)&&i.set(e,u),u}function hy(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&hy(t,i,r,!0),a&&a.forEach(o=>hy(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const s=Aj[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Aj={data:VD,props:PD,emits:PD,methods:zh,computed:zh,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:zh,directives:zh,watch:Fj,provide:VD,inject:Nj};function VD(t,e){return e?t?function(){return Xr(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function Nj(t,e){return zh(XS(t),XS(e))}function XS(t){if(We(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function yn(t,e){return t?[...new Set([].concat(t,e))]:e}function zh(t,e){return t?Xr(Object.create(null),t,e):e}function PD(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Xr(Object.create(null),BD(t),BD(e??{})):e}function Fj(t,e){if(!t)return e;if(!e)return t;const r=Xr(Object.create(null),t);for(const n in e)r[n]=yn(t[n],e[n]);return r}function Y4(){return{app:null,config:{isNativeTag:TH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bj=0;function Ij(t,e){return function(n,a=null){Ge(n)||(n=Xr({},n)),a!=null&&!Lt(a)&&(a=null);const i=Y4(),o=new WeakSet,s=[];let u=!1;const l=i.app={_uid:Bj++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:d7,get config(){return i.config},set config(f){},use(f,...c){return o.has(f)||(f&&Ge(f.install)?(o.add(f),f.install(l,...c)):Ge(f)&&(o.add(f),f(l,...c))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,c){return c?(i.components[f]=c,l):i.components[f]},directive(f,c){return c?(i.directives[f]=c,l):i.directives[f]},mount(f,c,h){if(!u){const p=l._ceVNode||Pe(n,a);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,f,h),u=!0,l._container=f,f.__vue_app__=l,Am(p.component)}},onUnmount(f){s.push(f)},unmount(){u&&(oi(s,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(f,c){return i.provides[f]=c,l},runWithContext(f){const c=qc;qc=l;try{return f()}finally{qc=c}}};return l}}let qc=null;function Qn(t,e){if(Qr){let r=Qr.provides;const n=Qr.parent&&Qr.parent.provides;n===r&&(r=Qr.provides=Object.create(n)),r[t]=e}}function It(t,e,r=!1){const n=Qr||$r;if(n||qc){const a=qc?qc._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Ge(e)?e.call(n&&n.proxy):e}}const q4={},Z4=()=>Object.create(q4),J4=t=>Object.getPrototypeOf(t)===q4;function Vj(t,e,r,n=!1){const a={},i=Z4();t.propsDefaults=Object.create(null),Q4(t,e,a,i);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);r?t.props=n?a:_C(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function Pj(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=t,s=Rt(a),[u]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(Rm(t.emitsOptions,h))continue;const p=e[h];if(u)if(At(i,h))p!==i[h]&&(i[h]=p,l=!0);else{const v=ra(h);a[v]=YS(u,s,v,p,t,!1)}else p!==i[h]&&(i[h]=p,l=!0)}}}else{Q4(t,e,a,i)&&(l=!0);let f;for(const c in s)(!e||!At(e,c)&&((f=Ko(c))===c||!At(e,f)))&&(u?r&&(r[c]!==void 0||r[f]!==void 0)&&(a[c]=YS(u,s,c,void 0,t,!0)):delete a[c]);if(i!==s)for(const c in i)(!e||!At(e,c))&&(delete i[c],l=!0)}l&&So(t.attrs,"set","")}function Q4(t,e,r,n){const[a,i]=t.propsOptions;let o=!1,s;if(e)for(let u in e){if(up(u))continue;const l=e[u];let f;a&&At(a,f=ra(u))?!i||!i.includes(f)?r[f]=l:(s||(s={}))[f]=l:Rm(t.emitsOptions,u)||(!(u in n)||l!==n[u])&&(n[u]=l,o=!0)}if(i){const u=Rt(r),l=s||Xt;for(let f=0;f<i.length;f++){const c=i[f];r[c]=YS(a,u,c,l[c],t,!At(l,c))}}return o}function YS(t,e,r,n,a,i){const o=t[r];if(o!=null){const s=At(o,"default");if(s&&n===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Ge(u)){const{propsDefaults:l}=a;if(r in l)n=l[r];else{const f=Uv(a);n=l[r]=u.call(null,e),f()}}else n=u;a.ce&&a.ce._setProp(r,n)}o[0]&&(i&&!s?n=!1:o[1]&&(n===""||n===Ko(r))&&(n=!0))}return n}const Uj=new WeakMap;function eI(t,e,r=!1){const n=r?Uj:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,o={},s=[];let u=!1;if(!Ge(t)){const f=c=>{u=!0;const[h,p]=eI(c,e,!0);Xr(o,h),p&&s.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!u)return Lt(t)&&n.set(t,jc),jc;if(We(i))for(let f=0;f<i.length;f++){const c=ra(i[f]);UD(c)&&(o[c]=Xt)}else if(i)for(const f in i){const c=ra(f);if(UD(c)){const h=i[f],p=o[c]=We(h)||Ge(h)?{type:h}:Xr({},h),v=p.type;let g=!1,y=!0;if(We(v))for(let m=0;m<v.length;++m){const d=v[m],_=Ge(d)&&d.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(y=!1)}else g=Ge(v)&&v.name==="Boolean";p[0]=g,p[1]=y,(g||At(p,"default"))&&s.push(c)}}const l=[o,s];return Lt(t)&&n.set(t,l),l}function UD(t){return t[0]!=="$"&&!up(t)}const tI=t=>t[0]==="_"||t==="$stable",CC=t=>We(t)?t.map(Ni):[Ni(t)],zj=(t,e,r)=>{if(e._n)return e;const n=Ye((...a)=>CC(e(...a)),r);return n._c=!1,n},rI=(t,e,r)=>{const n=t._ctx;for(const a in t){if(tI(a))continue;const i=t[a];if(Ge(i))e[a]=zj(a,i,n);else if(i!=null){const o=CC(i);e[a]=()=>o}}},nI=(t,e)=>{const r=CC(e);t.slots.default=()=>r},aI=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},Gj=(t,e,r)=>{const n=t.slots=Z4();if(t.vnode.shapeFlag&32){const a=e._;a?(aI(n,e,r),r&&t4(n,"_",a,!0)):rI(e,n)}else e&&nI(t,e)},Wj=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,o=Xt;if(n.shapeFlag&32){const s=e._;s?r&&s===1?i=!1:aI(a,e,r):(i=!e.$stable,rI(e,a)),o=e}else e&&(nI(t,e),o={default:1});if(i)for(const s in a)!tI(s)&&o[s]==null&&delete a[s]},mn=a7;function Hj(t){return jj(t)}function jj(t,e){const r=Dm();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:s,createComment:u,setText:l,setElementText:f,parentNode:c,nextSibling:h,setScopeId:p=pn,insertStaticContent:v}=t,g=(F,N,L,G=null,z=null,j=null,K=void 0,Z=null,ne=!!N.dynamicChildren)=>{if(F===N)return;F&&!qu(F,N)&&(G=J(F),$(F,z,j,!0),F=null),N.patchFlag===-2&&(ne=!1,N.dynamicChildren=null);const{type:ue,ref:se,shapeFlag:he}=N;switch(ue){case Bf:y(F,N,L,G);break;case fn:m(F,N,L,G);break;case L_:F==null&&d(N,L,G,K);break;case Gt:E(F,N,L,G,z,j,K,Z,ne);break;default:he&1?w(F,N,L,G,z,j,K,Z,ne):he&6?k(F,N,L,G,z,j,K,Z,ne):(he&64||he&128)&&ue.process(F,N,L,G,z,j,K,Z,ne,V)}se!=null&&z&&fy(se,F&&F.ref,j,N||F,!N)},y=(F,N,L,G)=>{if(F==null)n(N.el=s(N.children),L,G);else{const z=N.el=F.el;N.children!==F.children&&l(z,N.children)}},m=(F,N,L,G)=>{F==null?n(N.el=u(N.children||""),L,G):N.el=F.el},d=(F,N,L,G)=>{[F.el,F.anchor]=v(F.children,N,L,G,F.el,F.anchor)},_=({el:F,anchor:N},L,G)=>{let z;for(;F&&F!==N;)z=h(F),n(F,L,G),F=z;n(N,L,G)},x=({el:F,anchor:N})=>{let L;for(;F&&F!==N;)L=h(F),a(F),F=L;a(N)},w=(F,N,L,G,z,j,K,Z,ne)=>{N.type==="svg"?K="svg":N.type==="math"&&(K="mathml"),F==null?S(N,L,G,z,j,K,Z,ne):C(F,N,z,j,K,Z,ne)},S=(F,N,L,G,z,j,K,Z)=>{let ne,ue;const{props:se,shapeFlag:he,transition:le,dirs:ce}=F;if(ne=F.el=o(F.type,j,se&&se.is,se),he&8?f(ne,F.children):he&16&&T(F.children,ne,null,G,z,M_(F,j),K,Z),ce&&fu(F,null,G,"created"),b(ne,F,F.scopeId,K,G),se){for(const ee in se)ee!=="value"&&!up(ee)&&i(ne,ee,null,se[ee],j,G);"value"in se&&i(ne,"value",null,se.value,j),(ue=se.onVnodeBeforeMount)&&yi(ue,G,F)}ce&&fu(F,null,G,"beforeMount");const me=$j(z,le);me&&le.beforeEnter(ne),n(ne,N,L),((ue=se&&se.onVnodeMounted)||me||ce)&&mn(()=>{ue&&yi(ue,G,F),me&&le.enter(ne),ce&&fu(F,null,G,"mounted")},z)},b=(F,N,L,G,z)=>{if(L&&p(F,L),G)for(let j=0;j<G.length;j++)p(F,G[j]);if(z){let j=z.subTree;if(N===j||uI(j.type)&&(j.ssContent===N||j.ssFallback===N)){const K=z.vnode;b(F,K,K.scopeId,K.slotScopeIds,z.parent)}}},T=(F,N,L,G,z,j,K,Z,ne=0)=>{for(let ue=ne;ue<F.length;ue++){const se=F[ue]=Z?bs(F[ue]):Ni(F[ue]);g(null,se,N,L,G,z,j,K,Z)}},C=(F,N,L,G,z,j,K)=>{const Z=N.el=F.el;let{patchFlag:ne,dynamicChildren:ue,dirs:se}=N;ne|=F.patchFlag&16;const he=F.props||Xt,le=N.props||Xt;let ce;if(L&&hu(L,!1),(ce=le.onVnodeBeforeUpdate)&&yi(ce,L,N,F),se&&fu(N,F,L,"beforeUpdate"),L&&hu(L,!0),(he.innerHTML&&le.innerHTML==null||he.textContent&&le.textContent==null)&&f(Z,""),ue?M(F.dynamicChildren,ue,Z,L,G,M_(N,z),j):K||P(F,N,Z,null,L,G,M_(N,z),j,!1),ne>0){if(ne&16)D(Z,he,le,L,z);else if(ne&2&&he.class!==le.class&&i(Z,"class",null,le.class,z),ne&4&&i(Z,"style",he.style,le.style,z),ne&8){const me=N.dynamicProps;for(let ee=0;ee<me.length;ee++){const _e=me[ee],Oe=he[_e],Ee=le[_e];(Ee!==Oe||_e==="value")&&i(Z,_e,Oe,Ee,z,L)}}ne&1&&F.children!==N.children&&f(Z,N.children)}else!K&&ue==null&&D(Z,he,le,L,z);((ce=le.onVnodeUpdated)||se)&&mn(()=>{ce&&yi(ce,L,N,F),se&&fu(N,F,L,"updated")},G)},M=(F,N,L,G,z,j,K)=>{for(let Z=0;Z<N.length;Z++){const ne=F[Z],ue=N[Z],se=ne.el&&(ne.type===Gt||!qu(ne,ue)||ne.shapeFlag&70)?c(ne.el):L;g(ne,ue,se,null,G,z,j,K,!0)}},D=(F,N,L,G,z)=>{if(N!==L){if(N!==Xt)for(const j in N)!up(j)&&!(j in L)&&i(F,j,N[j],null,z,G);for(const j in L){if(up(j))continue;const K=L[j],Z=N[j];K!==Z&&j!=="value"&&i(F,j,Z,K,z,G)}"value"in L&&i(F,"value",N.value,L.value,z)}},E=(F,N,L,G,z,j,K,Z,ne)=>{const ue=N.el=F?F.el:s(""),se=N.anchor=F?F.anchor:s("");let{patchFlag:he,dynamicChildren:le,slotScopeIds:ce}=N;ce&&(Z=Z?Z.concat(ce):ce),F==null?(n(ue,L,G),n(se,L,G),T(N.children||[],L,se,z,j,K,Z,ne)):he>0&&he&64&&le&&F.dynamicChildren?(M(F.dynamicChildren,le,L,z,j,K,Z),(N.key!=null||z&&N===z.subTree)&&EC(F,N,!0)):P(F,N,L,se,z,j,K,Z,ne)},k=(F,N,L,G,z,j,K,Z,ne)=>{N.slotScopeIds=Z,F==null?N.shapeFlag&512?z.ctx.activate(N,L,G,K,ne):O(N,L,G,z,j,K,ne):A(F,N,ne)},O=(F,N,L,G,z,j,K)=>{const Z=F.component=l7(F,G,z);if(Lm(F)&&(Z.ctx.renderer=V),c7(Z,!1,K),Z.asyncDep){if(z&&z.registerDep(Z,I,K),!F.el){const ne=Z.subTree=Pe(fn);m(null,ne,N,L)}}else I(Z,F,N,L,z,j,K)},A=(F,N,L)=>{const G=N.component=F.component;if(r7(F,N,L))if(G.asyncDep&&!G.asyncResolved){U(G,N,L);return}else G.next=N,G.update();else N.el=F.el,G.vnode=N},I=(F,N,L,G,z,j,K)=>{const Z=()=>{if(F.isMounted){let{next:he,bu:le,u:ce,parent:me,vnode:ee}=F;{const de=iI(F);if(de){he&&(he.el=ee.el,U(F,he,K)),de.asyncDep.then(()=>{F.isUnmounted||Z()});return}}let _e=he,Oe;hu(F,!1),he?(he.el=ee.el,U(F,he,K)):he=ee,le&&S_(le),(Oe=he.props&&he.props.onVnodeBeforeUpdate)&&yi(Oe,me,he,ee),hu(F,!0);const Ee=GD(F),fe=F.subTree;F.subTree=Ee,g(fe,Ee,c(fe.el),J(fe),F,z,j),he.el=Ee.el,_e===null&&n7(F,Ee.el),ce&&mn(ce,z),(Oe=he.props&&he.props.onVnodeUpdated)&&mn(()=>yi(Oe,me,he,ee),z)}else{let he;const{el:le,props:ce}=N,{bm:me,m:ee,parent:_e,root:Oe,type:Ee}=F,fe=Yc(N);hu(F,!1),me&&S_(me),!fe&&(he=ce&&ce.onVnodeBeforeMount)&&yi(he,_e,N),hu(F,!0);{Oe.ce&&Oe.ce._injectChildStyle(Ee);const de=F.subTree=GD(F);g(null,de,L,G,F,z,j),N.el=de.el}if(ee&&mn(ee,z),!fe&&(he=ce&&ce.onVnodeMounted)){const de=N;mn(()=>yi(he,_e,de),z)}(N.shapeFlag&256||_e&&Yc(_e.vnode)&&_e.vnode.shapeFlag&256)&&F.a&&mn(F.a,z),F.isMounted=!0,N=L=G=null}};F.scope.on();const ne=F.effect=new s4(Z);F.scope.off();const ue=F.update=ne.run.bind(ne),se=F.job=ne.runIfDirty.bind(ne);se.i=F,se.id=F.uid,ne.scheduler=()=>SC(se),hu(F,!0),ue()},U=(F,N,L)=>{N.component=F;const G=F.vnode.props;F.vnode=N,F.next=null,Pj(F,N.props,G,L),Wj(F,N.children,L),nu(),LD(F),au()},P=(F,N,L,G,z,j,K,Z,ne=!1)=>{const ue=F&&F.children,se=F?F.shapeFlag:0,he=N.children,{patchFlag:le,shapeFlag:ce}=N;if(le>0){if(le&128){W(ue,he,L,G,z,j,K,Z,ne);return}else if(le&256){B(ue,he,L,G,z,j,K,Z,ne);return}}ce&8?(se&16&&ie(ue,z,j),he!==ue&&f(L,he)):se&16?ce&16?W(ue,he,L,G,z,j,K,Z,ne):ie(ue,z,j,!0):(se&8&&f(L,""),ce&16&&T(he,L,G,z,j,K,Z,ne))},B=(F,N,L,G,z,j,K,Z,ne)=>{F=F||jc,N=N||jc;const ue=F.length,se=N.length,he=Math.min(ue,se);let le;for(le=0;le<he;le++){const ce=N[le]=ne?bs(N[le]):Ni(N[le]);g(F[le],ce,L,null,z,j,K,Z,ne)}ue>se?ie(F,z,j,!0,!1,he):T(N,L,G,z,j,K,Z,ne,he)},W=(F,N,L,G,z,j,K,Z,ne)=>{let ue=0;const se=N.length;let he=F.length-1,le=se-1;for(;ue<=he&&ue<=le;){const ce=F[ue],me=N[ue]=ne?bs(N[ue]):Ni(N[ue]);if(qu(ce,me))g(ce,me,L,null,z,j,K,Z,ne);else break;ue++}for(;ue<=he&&ue<=le;){const ce=F[he],me=N[le]=ne?bs(N[le]):Ni(N[le]);if(qu(ce,me))g(ce,me,L,null,z,j,K,Z,ne);else break;he--,le--}if(ue>he){if(ue<=le){const ce=le+1,me=ce<se?N[ce].el:G;for(;ue<=le;)g(null,N[ue]=ne?bs(N[ue]):Ni(N[ue]),L,me,z,j,K,Z,ne),ue++}}else if(ue>le)for(;ue<=he;)$(F[ue],z,j,!0),ue++;else{const ce=ue,me=ue,ee=new Map;for(ue=me;ue<=le;ue++){const ke=N[ue]=ne?bs(N[ue]):Ni(N[ue]);ke.key!=null&&ee.set(ke.key,ue)}let _e,Oe=0;const Ee=le-me+1;let fe=!1,de=0;const we=new Array(Ee);for(ue=0;ue<Ee;ue++)we[ue]=0;for(ue=ce;ue<=he;ue++){const ke=F[ue];if(Oe>=Ee){$(ke,z,j,!0);continue}let Ve;if(ke.key!=null)Ve=ee.get(ke.key);else for(_e=me;_e<=le;_e++)if(we[_e-me]===0&&qu(ke,N[_e])){Ve=_e;break}Ve===void 0?$(ke,z,j,!0):(we[Ve-me]=ue+1,Ve>=de?de=Ve:fe=!0,g(ke,N[Ve],L,null,z,j,K,Z,ne),Oe++)}const Se=fe?Kj(we):jc;for(_e=Se.length-1,ue=Ee-1;ue>=0;ue--){const ke=me+ue,Ve=N[ke],Fe=ke+1<se?N[ke+1].el:G;we[ue]===0?g(null,Ve,L,Fe,z,j,K,Z,ne):fe&&(_e<0||ue!==Se[_e]?H(Ve,L,Fe,2):_e--)}}},H=(F,N,L,G,z=null)=>{const{el:j,type:K,transition:Z,children:ne,shapeFlag:ue}=F;if(ue&6){H(F.component.subTree,N,L,G);return}if(ue&128){F.suspense.move(N,L,G);return}if(ue&64){K.move(F,N,L,V);return}if(K===Gt){n(j,N,L);for(let he=0;he<ne.length;he++)H(ne[he],N,L,G);n(F.anchor,N,L);return}if(K===L_){_(F,N,L);return}if(G!==2&&ue&1&&Z)if(G===0)Z.beforeEnter(j),n(j,N,L),mn(()=>Z.enter(j),z);else{const{leave:he,delayLeave:le,afterLeave:ce}=Z,me=()=>n(j,N,L),ee=()=>{he(j,()=>{me(),ce&&ce()})};le?le(j,me,ee):ee()}else n(j,N,L)},$=(F,N,L,G=!1,z=!1)=>{const{type:j,props:K,ref:Z,children:ne,dynamicChildren:ue,shapeFlag:se,patchFlag:he,dirs:le,cacheIndex:ce}=F;if(he===-2&&(z=!1),Z!=null&&fy(Z,null,L,F,!0),ce!=null&&(N.renderCache[ce]=void 0),se&256){N.ctx.deactivate(F);return}const me=se&1&&le,ee=!Yc(F);let _e;if(ee&&(_e=K&&K.onVnodeBeforeUnmount)&&yi(_e,N,F),se&6)Y(F.component,L,G);else{if(se&128){F.suspense.unmount(L,G);return}me&&fu(F,null,N,"beforeUnmount"),se&64?F.type.remove(F,N,L,V,G):ue&&!ue.hasOnce&&(j!==Gt||he>0&&he&64)?ie(ue,N,L,!1,!0):(j===Gt&&he&384||!z&&se&16)&&ie(ne,N,L),G&&q(F)}(ee&&(_e=K&&K.onVnodeUnmounted)||me)&&mn(()=>{_e&&yi(_e,N,F),me&&fu(F,null,N,"unmounted")},L)},q=F=>{const{type:N,el:L,anchor:G,transition:z}=F;if(N===Gt){Q(L,G);return}if(N===L_){x(F);return}const j=()=>{a(L),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(F.shapeFlag&1&&z&&!z.persisted){const{leave:K,delayLeave:Z}=z,ne=()=>K(L,j);Z?Z(F.el,j,ne):ne()}else j()},Q=(F,N)=>{let L;for(;F!==N;)L=h(F),a(F),F=L;a(N)},Y=(F,N,L)=>{const{bum:G,scope:z,job:j,subTree:K,um:Z,m:ne,a:ue}=F;zD(ne),zD(ue),G&&S_(G),z.stop(),j&&(j.flags|=8,$(K,F,N,L)),Z&&mn(Z,N),mn(()=>{F.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ie=(F,N,L,G=!1,z=!1,j=0)=>{for(let K=j;K<F.length;K++)$(F[K],N,L,G,z)},J=F=>{if(F.shapeFlag&6)return J(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const N=h(F.anchor||F.el),L=N&&N[M4];return L?h(L):N};let ae=!1;const re=(F,N,L)=>{F==null?N._vnode&&$(N._vnode,null,null,!0):g(N._vnode||null,F,N,null,null,null,L),N._vnode=F,ae||(ae=!0,LD(),E4(),ae=!1)},V={p:g,um:$,m:H,r:q,mt:O,mc:T,pc:P,pbc:M,n:J,o:t};return{render:re,hydrate:void 0,createApp:Ij(re)}}function M_({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function hu({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $j(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function EC(t,e,r=!1){const n=t.children,a=e.children;if(We(n)&&We(a))for(let i=0;i<n.length;i++){const o=n[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=bs(a[i]),s.el=o.el),!r&&s.patchFlag!==-2&&EC(o,s)),s.type===Bf&&(s.el=o.el)}}function Kj(t){const e=t.slice(),r=[0];let n,a,i,o,s;const u=t.length;for(n=0;n<u;n++){const l=t[n];if(l!==0){if(a=r[r.length-1],t[a]<l){e[n]=a,r.push(n);continue}for(i=0,o=r.length-1;i<o;)s=i+o>>1,t[r[s]]<l?i=s+1:o=s;l<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function iI(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:iI(e)}function zD(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Xj=Symbol.for("v-scx"),Yj=()=>It(Xj);function qj(t,e){return DC(t,null,e)}function ft(t,e,r){return DC(t,e,r)}function DC(t,e,r=Xt){const{immediate:n,deep:a,flush:i,once:o}=r,s=Xr({},r),u=e&&n||!e&&i!=="post";let l;if(Hp){if(i==="sync"){const p=Yj();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=pn,p.resume=pn,p.pause=pn,p}}const f=Qr;s.call=(p,v,g)=>oi(p,f,v,g);let c=!1;i==="post"?s.scheduler=p=>{mn(p,f&&f.suspense)}:i!=="sync"&&(c=!0,s.scheduler=(p,v)=>{v?p():SC(p)}),s.augmentJob=p=>{e&&(p.flags|=4),c&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const h=fj(t,e,s);return Hp&&(l?l.push(h):u&&h()),h}function Zj(t,e,r){const n=this.proxy,a=vt(t)?t.includes(".")?oI(n,t):()=>n[t]:t.bind(n,n);let i;Ge(e)?i=e:(i=e.handler,r=e);const o=Uv(this),s=DC(a,i.bind(n),r);return o(),s}function oI(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const Jj=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ra(e)}Modifiers`]||t[`${Ko(e)}Modifiers`];function Qj(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Xt;let a=r;const i=e.startsWith("update:"),o=i&&Jj(n,e.slice(7));o&&(o.trim&&(a=r.map(f=>vt(f)?f.trim():f)),o.number&&(a=r.map(MH)));let s,u=n[s=w_(e)]||n[s=w_(ra(e))];!u&&i&&(u=n[s=w_(Ko(e))]),u&&oi(u,t,6,a);const l=n[s+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,oi(l,t,6,a)}}function sI(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let o={},s=!1;if(!Ge(t)){const u=l=>{const f=sI(l,e,!0);f&&(s=!0,Xr(o,f))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!s?(Lt(t)&&n.set(t,null),null):(We(i)?i.forEach(u=>o[u]=null):Xr(o,i),Lt(t)&&n.set(t,o),o)}function Rm(t,e){return!t||!bm(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,Ko(e))||At(t,e))}function GD(t){const{type:e,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:u,render:l,renderCache:f,props:c,data:h,setupState:p,ctx:v,inheritAttrs:g}=t,y=cy(t);let m,d;try{if(r.shapeFlag&4){const x=a||n,w=x;m=Ni(l.call(w,x,f,c,p,h,v)),d=s}else{const x=e;m=Ni(x.length>1?x(c,{attrs:s,slots:o,emit:u}):x(c,null)),d=e.props?s:e7(s)}}catch(x){vp.length=0,Mm(x,t,1),m=Pe(fn)}let _=m;if(d&&g!==!1){const x=Object.keys(d),{shapeFlag:w}=_;x.length&&w&7&&(i&&x.some(fC)&&(d=t7(d,i)),_=zo(_,d,!1,!0))}return r.dirs&&(_=zo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&Gp(_,r.transition),m=_,cy(y),m}const e7=t=>{let e;for(const r in t)(r==="class"||r==="style"||bm(r))&&((e||(e={}))[r]=t[r]);return e},t7=(t,e)=>{const r={};for(const n in t)(!fC(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function r7(t,e,r){const{props:n,children:a,component:i}=t,{props:o,children:s,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?WD(n,o,l):!!o;if(u&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(o[h]!==n[h]&&!Rm(l,h))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?WD(n,o,l):!0:!!o;return!1}function WD(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!Rm(r,i))return!0}return!1}function n7({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const uI=t=>t.__isSuspense;function a7(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):vj(t)}const Gt=Symbol.for("v-fgt"),Bf=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),L_=Symbol.for("v-stc"),vp=[];let Jn=null;function xe(t=!1){vp.push(Jn=t?null:[])}function i7(){vp.pop(),Jn=vp[vp.length-1]||null}let Wp=1;function HD(t,e=!1){Wp+=t,t<0&&Jn&&e&&(Jn.hasOnce=!0)}function lI(t){return t.dynamicChildren=Wp>0?Jn||jc:null,i7(),Wp>0&&Jn&&Jn.push(t),t}function Re(t,e,r,n,a,i){return lI(De(t,e,r,n,a,i,!0))}function lt(t,e,r,n,a){return lI(Pe(t,e,r,n,a,!0))}function Tl(t){return t?t.__v_isVNode===!0:!1}function qu(t,e){return t.type===e.type&&t.key===e.key}const cI=({key:t})=>t??null,h0=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?vt(t)||Nr(t)||Ge(t)?{i:$r,r:t,k:e,f:!!r}:t:null);function De(t,e=null,r=null,n=0,a=null,i=t===Gt?0:1,o=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cI(e),ref:e&&h0(e),scopeId:O4,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:$r};return s?(OC(u,r),i&128&&t.normalize(u)):r&&(u.shapeFlag|=vt(r)?8:16),Wp>0&&!o&&Jn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Jn.push(u),u}const Pe=o7;function o7(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===W4)&&(t=fn),Tl(t)){const s=zo(t,e,!0);return r&&OC(s,r),Wp>0&&!i&&Jn&&(s.shapeFlag&6?Jn[Jn.indexOf(t)]=s:Jn.push(s)),s.patchFlag=-2,s}if(v7(t)&&(t=t.__vccOpts),e){e=qS(e);let{class:s,style:u}=e;s&&!vt(s)&&(e.class=Be(s)),Lt(u)&&(wC(u)&&!We(u)&&(u=Xr({},u)),e.style=kr(u))}const o=vt(t)?1:uI(t)?128:L4(t)?64:Lt(t)?4:Ge(t)?2:0;return De(t,e,r,n,a,o,i,!0)}function qS(t){return t?wC(t)||J4(t)?Xr({},t):t:null}function zo(t,e,r=!1,n=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:u}=t,l=e?$i(a||{},e):a,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&cI(l),ref:e&&e.ref?r&&i?We(i)?i.concat(h0(e)):[i,h0(e)]:h0(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zo(t.ssContent),ssFallback:t.ssFallback&&zo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&Gp(f,u.clone(f)),f}function hf(t=" ",e=0){return Pe(Bf,null,t,e)}function at(t="",e=!1){return e?(xe(),lt(fn,null,t)):Pe(fn,null,t)}function Ni(t){return t==null||typeof t=="boolean"?Pe(fn):We(t)?Pe(Gt,null,t.slice()):Tl(t)?bs(t):Pe(Bf,null,String(t))}function bs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zo(t)}function OC(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(We(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),OC(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!J4(e)?e._ctx=$r:a===3&&$r&&($r.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:$r},r=32):(e=String(e),n&64?(r=16,e=[hf(e)]):r=8);t.children=e,t.shapeFlag|=r}function $i(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Be([e.class,n.class]));else if(a==="style")e.style=kr([e.style,n.style]);else if(bm(a)){const i=e[a],o=n[a];o&&i!==o&&!(We(i)&&i.includes(o))&&(e[a]=i?[].concat(i,o):o)}else a!==""&&(e[a]=n[a])}return e}function yi(t,e,r,n=null){oi(t,e,7,[r,n])}const s7=Y4();let u7=0;function l7(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||s7,i={uid:u7++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new i4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eI(n,a),emitsOptions:sI(n,a),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:n.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qj.bind(null,i),t.ce&&t.ce(i),i}let Qr=null;const na=()=>Qr||$r;let py,ZS;{const t=Dm(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};py=e("__VUE_INSTANCE_SETTERS__",r=>Qr=r),ZS=e("__VUE_SSR_SETTERS__",r=>Hp=r)}const Uv=t=>{const e=Qr;return py(t),t.scope.on(),()=>{t.scope.off(),py(e)}},jD=()=>{Qr&&Qr.scope.off(),py(null)};function fI(t){return t.vnode.shapeFlag&4}let Hp=!1;function c7(t,e=!1,r=!1){e&&ZS(e);const{props:n,children:a}=t.vnode,i=fI(t);Vj(t,n,i,e),Gj(t,a,r);const o=i?f7(t,e):void 0;return e&&ZS(!1),o}function f7(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Lj);const{setup:n}=r;if(n){nu();const a=t.setupContext=n.length>1?pI(t):null,i=Uv(t),o=Pv(n,t,0,[t.props,a]),s=JB(o);if(au(),i(),(s||t.sp)&&!Yc(t)&&V4(t),s){if(o.then(jD,jD),e)return o.then(u=>{$D(t,u)}).catch(u=>{Mm(u,t,0)});t.asyncDep=o}else $D(t,o)}else hI(t)}function $D(t,e,r){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Lt(e)&&(t.setupState=S4(e)),hI(t)}function hI(t,e,r){const n=t.type;t.render||(t.render=n.render||pn);{const a=Uv(t);nu();try{kj(t)}finally{au(),a()}}}const h7={get(t,e){return ln(t,"get",""),t[e]}};function pI(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,h7),slots:t.slots,emit:t.emit,expose:e}}function Am(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(S4(GS(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in pp)return pp[r](t)},has(e,r){return r in e||r in pp}})):t.proxy}function p7(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function v7(t){return Ge(t)&&"__vccOpts"in t}const ve=(t,e)=>lj(t,e,Hp);function To(t,e,r){const n=arguments.length;return n===2?Lt(e)&&!We(e)?Tl(e)?Pe(t,null,[e]):Pe(t,e):Pe(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Tl(r)&&(r=[r]),Pe(t,e,r))}const d7="3.5.13",g7=pn;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let JS;const KD=typeof window<"u"&&window.trustedTypes;if(KD)try{JS=KD.createPolicy("vue",{createHTML:t=>t})}catch{}const vI=JS?t=>JS.createHTML(t):t=>t,y7="http://www.w3.org/2000/svg",m7="http://www.w3.org/1998/Math/MathML",co=typeof document<"u"?document:null,XD=co&&co.createElement("template"),_7={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?co.createElementNS(y7,t):e==="mathml"?co.createElementNS(m7,t):r?co.createElement(t,{is:r}):co.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>co.createTextNode(t),createComment:t=>co.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>co.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const o=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{XD.innerHTML=vI(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const s=XD.content;if(n==="svg"||n==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}e.insertBefore(s,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Qo="transition",rh="animation",jp=Symbol("_vtc"),dI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},x7=Xr({},A4,dI),w7=t=>(t.displayName="Transition",t.props=x7,t),zv=w7((t,{slots:e})=>To(_j,S7(t),e)),pu=(t,e=[])=>{We(t)?t.forEach(r=>r(...e)):t&&t(...e)},YD=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function S7(t){const e={};for(const E in t)E in dI||(e[E]=t[E]);if(t.css===!1)return e;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:u=i,appearActiveClass:l=o,appearToClass:f=s,leaveFromClass:c=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,v=b7(a),g=v&&v[0],y=v&&v[1],{onBeforeEnter:m,onEnter:d,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:S=m,onAppear:b=d,onAppearCancelled:T=_}=e,C=(E,k,O,A)=>{E._enterCancelled=A,vu(E,k?f:s),vu(E,k?l:o),O&&O()},M=(E,k)=>{E._isLeaving=!1,vu(E,c),vu(E,p),vu(E,h),k&&k()},D=E=>(k,O)=>{const A=E?b:d,I=()=>C(k,E,O);pu(A,[k,I]),qD(()=>{vu(k,E?u:i),eo(k,E?f:s),YD(A)||ZD(k,n,g,I)})};return Xr(e,{onBeforeEnter(E){pu(m,[E]),eo(E,i),eo(E,o)},onBeforeAppear(E){pu(S,[E]),eo(E,u),eo(E,l)},onEnter:D(!1),onAppear:D(!0),onLeave(E,k){E._isLeaving=!0;const O=()=>M(E,k);eo(E,c),E._enterCancelled?(eo(E,h),eO()):(eO(),eo(E,h)),qD(()=>{E._isLeaving&&(vu(E,c),eo(E,p),YD(x)||ZD(E,n,y,O))}),pu(x,[E,O])},onEnterCancelled(E){C(E,!1,void 0,!0),pu(_,[E])},onAppearCancelled(E){C(E,!0,void 0,!0),pu(T,[E])},onLeaveCancelled(E){M(E),pu(w,[E])}})}function b7(t){if(t==null)return null;if(Lt(t))return[k_(t.enter),k_(t.leave)];{const e=k_(t);return[e,e]}}function k_(t){return LH(t)}function eo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[jp]||(t[jp]=new Set)).add(e)}function vu(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[jp];r&&(r.delete(e),r.size||(t[jp]=void 0))}function qD(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let T7=0;function ZD(t,e,r,n){const a=t._endId=++T7,i=()=>{a===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:s,propCount:u}=C7(t,e);if(!o)return n();const l=o+"end";let f=0;const c=()=>{t.removeEventListener(l,h),i()},h=p=>{p.target===t&&++f>=u&&c()};setTimeout(()=>{f<u&&c()},s+1),t.addEventListener(l,h)}function C7(t,e){const r=window.getComputedStyle(t),n=v=>(r[v]||"").split(", "),a=n(`${Qo}Delay`),i=n(`${Qo}Duration`),o=JD(a,i),s=n(`${rh}Delay`),u=n(`${rh}Duration`),l=JD(s,u);let f=null,c=0,h=0;e===Qo?o>0&&(f=Qo,c=o,h=i.length):e===rh?l>0&&(f=rh,c=l,h=u.length):(c=Math.max(o,l),f=c>0?o>l?Qo:rh:null,h=f?f===Qo?i.length:u.length:0);const p=f===Qo&&/\b(transform|all)(,|$)/.test(n(`${Qo}Property`).toString());return{type:f,timeout:c,propCount:h,hasTransform:p}}function JD(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>QD(r)+QD(t[n])))}function QD(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function eO(){return document.body.offsetHeight}function E7(t,e,r){const n=t[jp];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vy=Symbol("_vod"),gI=Symbol("_vsh"),Gv={beforeMount(t,{value:e},{transition:r}){t[vy]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):nh(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),nh(t,!0),n.enter(t)):n.leave(t,()=>{nh(t,!1)}):nh(t,e))},beforeUnmount(t,{value:e}){nh(t,e)}};function nh(t,e){t.style.display=e?t[vy]:"none",t[gI]=!e}const D7=Symbol(""),O7=/(^|;)\s*display\s*:/;function M7(t,e,r){const n=t.style,a=vt(r);let i=!1;if(r&&!a){if(e)if(vt(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&p0(n,s,"")}else for(const o in e)r[o]==null&&p0(n,o,"");for(const o in r)o==="display"&&(i=!0),p0(n,o,r[o])}else if(a){if(e!==r){const o=n[D7];o&&(r+=";"+o),n.cssText=r,i=O7.test(r)}}else e&&t.removeAttribute("style");vy in t&&(t[vy]=i?n.display:"",t[gI]&&(n.display="none"))}const tO=/\s*!important$/;function p0(t,e,r){if(We(r))r.forEach(n=>p0(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=L7(t,e);tO.test(r)?t.setProperty(Ko(n),r.replace(tO,""),"important"):t[n]=r}}const rO=["Webkit","Moz","ms"],R_={};function L7(t,e){const r=R_[e];if(r)return r;let n=ra(e);if(n!=="filter"&&n in t)return R_[e]=n;n=Em(n);for(let a=0;a<rO.length;a++){const i=rO[a]+n;if(i in t)return R_[e]=i}return e}const nO="http://www.w3.org/1999/xlink";function aO(t,e,r,n,a,i=BH(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(nO,e.slice(6,e.length)):t.setAttributeNS(nO,e,r):r==null||i&&!r4(r)?t.removeAttribute(e):t.setAttribute(e,i?"":$o(r)?String(r):r)}function iO(t,e,r,n,a){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?vI(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?t.getAttribute("value")||"":t.value,u=r==null?t.type==="checkbox"?"on":"":String(r);(s!==u||!("_value"in t))&&(t.value=u),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const s=typeof t[e];s==="boolean"?r=r4(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(a||e)}function k7(t,e,r,n){t.addEventListener(e,r,n)}function R7(t,e,r,n){t.removeEventListener(e,r,n)}const oO=Symbol("_vei");function A7(t,e,r,n,a=null){const i=t[oO]||(t[oO]={}),o=i[e];if(n&&o)o.value=n;else{const[s,u]=N7(e);if(n){const l=i[e]=I7(n,a);k7(t,s,l,u)}else o&&(R7(t,s,o,u),i[e]=void 0)}}const sO=/(?:Once|Passive|Capture)$/;function N7(t){let e;if(sO.test(t)){e={};let n;for(;n=t.match(sO);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ko(t.slice(2)),e]}let A_=0;const F7=Promise.resolve(),B7=()=>A_||(F7.then(()=>A_=0),A_=Date.now());function I7(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;oi(V7(n,r.value),e,5,[n])};return r.value=t,r.attached=B7(),r}function V7(t,e){if(We(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const uO=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,P7=(t,e,r,n,a,i)=>{const o=a==="svg";e==="class"?E7(t,n,o):e==="style"?M7(t,r,n):bm(e)?fC(e)||A7(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U7(t,e,n,o))?(iO(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&aO(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!vt(n))?iO(t,ra(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),aO(t,e,n,o))};function U7(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&uO(e)&&Ge(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return uO(e)&&vt(r)?!1:e in t}const z7=["ctrl","shift","alt","meta"],G7={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>z7.some(r=>t[`${r}Key`]&&!e.includes(r))},hl=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let o=0;o<e.length;o++){const s=G7[e[o]];if(s&&s(a,e))return}return t(a,...i)})},W7={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Md=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const i=Ko(a.key);if(e.some(o=>o===i||W7[o]===i))return t(a)})},H7=Xr({patchProp:P7},_7);let lO;function yI(){return lO||(lO=Hj(H7))}const cO=(...t)=>{yI().render(...t)},mI=(...t)=>{const e=yI().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=$7(n);if(!a)return;const i=e._component;!Ge(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=r(a,!1,j7(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function j7(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $7(t){return vt(t)?document.querySelector(t):t}const _I=Symbol(),v0="el",K7="is-",du=(t,e,r,n,a)=>{let i=`${t}-${e}`;return r&&(i+=`-${r}`),n&&(i+=`__${n}`),a&&(i+=`--${a}`),i},xI=Symbol("namespaceContextKey"),MC=t=>{const e=t||(na()?It(xI,be(v0)):be(v0));return ve(()=>te(e)||v0)},fr=(t,e)=>{const r=MC(e);return{namespace:r,b:(g="")=>du(r.value,t,g,"",""),e:g=>g?du(r.value,t,"",g,""):"",m:g=>g?du(r.value,t,"","",g):"",be:(g,y)=>g&&y?du(r.value,t,g,y,""):"",em:(g,y)=>g&&y?du(r.value,t,"",g,y):"",bm:(g,y)=>g&&y?du(r.value,t,g,"",y):"",bem:(g,y,m)=>g&&y&&m?du(r.value,t,g,y,m):"",is:(g,...y)=>{const m=y.length>=1?y[0]:!0;return g&&m?`${K7}${g}`:""},cssVar:g=>{const y={};for(const m in g)g[m]&&(y[`--${r.value}-${m}`]=g[m]);return y},cssVarName:g=>`--${r.value}-${g}`,cssVarBlock:g=>{const y={};for(const m in g)g[m]&&(y[`--${r.value}-${t}-${m}`]=g[m]);return y},cssVarBlockName:g=>`--${r.value}-${t}-${g}`}};var X7=typeof global=="object"&&global&&global.Object===Object&&global,Y7=typeof self=="object"&&self&&self.Object===Object&&self,Nm=X7||Y7||Function("return this")(),js=Nm.Symbol,wI=Object.prototype,q7=wI.hasOwnProperty,Z7=wI.toString,ah=js?js.toStringTag:void 0;function J7(t){var e=q7.call(t,ah),r=t[ah];try{t[ah]=void 0;var n=!0}catch{}var a=Z7.call(t);return n&&(e?t[ah]=r:delete t[ah]),a}var Q7=Object.prototype,e$=Q7.toString;function t$(t){return e$.call(t)}var r$="[object Null]",n$="[object Undefined]",fO=js?js.toStringTag:void 0;function LC(t){return t==null?t===void 0?n$:r$:fO&&fO in Object(t)?J7(t):t$(t)}function kC(t){return t!=null&&typeof t=="object"}var a$="[object Symbol]";function Fm(t){return typeof t=="symbol"||kC(t)&&LC(t)==a$}function i$(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Wv=Array.isArray,hO=js?js.prototype:void 0,pO=hO?hO.toString:void 0;function SI(t){if(typeof t=="string")return t;if(Wv(t))return i$(t,SI)+"";if(Fm(t))return pO?pO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var o$=/\s/;function s$(t){for(var e=t.length;e--&&o$.test(t.charAt(e)););return e}var u$=/^\s+/;function l$(t){return t&&t.slice(0,s$(t)+1).replace(u$,"")}function $s(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vO=NaN,c$=/^[-+]0x[0-9a-f]+$/i,f$=/^0b[01]+$/i,h$=/^0o[0-7]+$/i,p$=parseInt;function dO(t){if(typeof t=="number")return t;if(Fm(t))return vO;if($s(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$s(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=l$(t);var r=f$.test(t);return r||h$.test(t)?p$(t.slice(2),r?2:8):c$.test(t)?vO:+t}function v$(t){return t}var d$="[object AsyncFunction]",g$="[object Function]",y$="[object GeneratorFunction]",m$="[object Proxy]";function _$(t){if(!$s(t))return!1;var e=LC(t);return e==g$||e==y$||e==d$||e==m$}var N_=Nm["__core-js_shared__"],gO=function(){var t=/[^.]+$/.exec(N_&&N_.keys&&N_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function x$(t){return!!gO&&gO in t}var w$=Function.prototype,S$=w$.toString;function b$(t){if(t!=null){try{return S$.call(t)}catch{}try{return t+""}catch{}}return""}var T$=/[\\^$.*+?()[\]{}|]/g,C$=/^\[object .+?Constructor\]$/,E$=Function.prototype,D$=Object.prototype,O$=E$.toString,M$=D$.hasOwnProperty,L$=RegExp("^"+O$.call(M$).replace(T$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k$(t){if(!$s(t)||x$(t))return!1;var e=_$(t)?L$:C$;return e.test(b$(t))}function R$(t,e){return t==null?void 0:t[e]}function RC(t,e){var r=R$(t,e);return k$(r)?r:void 0}function A$(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var N$=800,F$=16,B$=Date.now;function I$(t){var e=0,r=0;return function(){var n=B$(),a=F$-(n-r);if(r=n,a>0){if(++e>=N$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function V$(t){return function(){return t}}var dy=function(){try{var t=RC(Object,"defineProperty");return t({},"",{}),t}catch{}}(),P$=dy?function(t,e){return dy(t,"toString",{configurable:!0,enumerable:!1,value:V$(e),writable:!0})}:v$,U$=I$(P$),z$=9007199254740991,G$=/^(?:0|[1-9]\d*)$/;function bI(t,e){var r=typeof t;return e=e??z$,!!e&&(r=="number"||r!="symbol"&&G$.test(t))&&t>-1&&t%1==0&&t<e}function W$(t,e,r){e=="__proto__"&&dy?dy(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function TI(t,e){return t===e||t!==t&&e!==e}var H$=Object.prototype,j$=H$.hasOwnProperty;function $$(t,e,r){var n=t[e];(!(j$.call(t,e)&&TI(n,r))||r===void 0&&!(e in t))&&W$(t,e,r)}var yO=Math.max;function K$(t,e,r){return e=yO(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=yO(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=n[a];return s[e]=r(o),A$(t,this,s)}}var X$=9007199254740991;function Y$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=X$}var q$="[object Arguments]";function mO(t){return kC(t)&&LC(t)==q$}var CI=Object.prototype,Z$=CI.hasOwnProperty,J$=CI.propertyIsEnumerable,EI=mO(function(){return arguments}())?mO:function(t){return kC(t)&&Z$.call(t,"callee")&&!J$.call(t,"callee")},Q$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eK=/^\w*$/;function tK(t,e){if(Wv(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Fm(t)?!0:eK.test(t)||!Q$.test(t)||e!=null&&t in Object(e)}var $p=RC(Object,"create");function rK(){this.__data__=$p?$p(null):{},this.size=0}function nK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aK="__lodash_hash_undefined__",iK=Object.prototype,oK=iK.hasOwnProperty;function sK(t){var e=this.__data__;if($p){var r=e[t];return r===aK?void 0:r}return oK.call(e,t)?e[t]:void 0}var uK=Object.prototype,lK=uK.hasOwnProperty;function cK(t){var e=this.__data__;return $p?e[t]!==void 0:lK.call(e,t)}var fK="__lodash_hash_undefined__";function hK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$p&&e===void 0?fK:e,this}function Cl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cl.prototype.clear=rK;Cl.prototype.delete=nK;Cl.prototype.get=sK;Cl.prototype.has=cK;Cl.prototype.set=hK;function pK(){this.__data__=[],this.size=0}function Bm(t,e){for(var r=t.length;r--;)if(TI(t[r][0],e))return r;return-1}var vK=Array.prototype,dK=vK.splice;function gK(t){var e=this.__data__,r=Bm(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():dK.call(e,r,1),--this.size,!0}function yK(t){var e=this.__data__,r=Bm(e,t);return r<0?void 0:e[r][1]}function mK(t){return Bm(this.__data__,t)>-1}function _K(t,e){var r=this.__data__,n=Bm(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function If(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}If.prototype.clear=pK;If.prototype.delete=gK;If.prototype.get=yK;If.prototype.has=mK;If.prototype.set=_K;var xK=RC(Nm,"Map");function wK(){this.size=0,this.__data__={hash:new Cl,map:new(xK||If),string:new Cl}}function SK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Im(t,e){var r=t.__data__;return SK(e)?r[typeof e=="string"?"string":"hash"]:r.map}function bK(t){var e=Im(this,t).delete(t);return this.size-=e?1:0,e}function TK(t){return Im(this,t).get(t)}function CK(t){return Im(this,t).has(t)}function EK(t,e){var r=Im(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function $l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$l.prototype.clear=wK;$l.prototype.delete=bK;$l.prototype.get=TK;$l.prototype.has=CK;$l.prototype.set=EK;var DK="Expected a function";function AC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DK);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(AC.Cache||$l),r}AC.Cache=$l;var OK=500;function MK(t){var e=AC(t,function(n){return r.size===OK&&r.clear(),n}),r=e.cache;return e}var LK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kK=/\\(\\)?/g,RK=MK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(LK,function(r,n,a,i){e.push(a?i.replace(kK,"$1"):n||r)}),e});function AK(t){return t==null?"":SI(t)}function Vm(t,e){return Wv(t)?t:tK(t,e)?[t]:RK(AK(t))}function NC(t){if(typeof t=="string"||Fm(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function DI(t,e){e=Vm(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[NC(e[r++])];return r&&r==n?t:void 0}function NK(t,e,r){var n=t==null?void 0:DI(t,e);return n===void 0?r:n}function FK(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var _O=js?js.isConcatSpreadable:void 0;function BK(t){return Wv(t)||EI(t)||!!(_O&&t&&t[_O])}function IK(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=BK),a||(a=[]);++i<o;){var s=t[i];r(s)?FK(a,s):a[a.length]=s}return a}function VK(t){var e=t==null?0:t.length;return e?IK(t):[]}function PK(t){return U$(K$(t,void 0,VK),t+"")}function UK(t,e){return t!=null&&e in Object(t)}function zK(t,e,r){e=Vm(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=NC(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&Y$(a)&&bI(o,a)&&(Wv(t)||EI(t)))}function GK(t,e){return t!=null&&zK(t,e,UK)}var F_=function(){return Nm.Date.now()},WK="Expected a function",HK=Math.max,jK=Math.min;function QS(t,e,r){var n,a,i,o,s,u,l=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(WK);e=dO(e)||0,$s(r)&&(f=!!r.leading,c="maxWait"in r,i=c?HK(dO(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function p(S){var b=n,T=a;return n=a=void 0,l=S,o=t.apply(T,b),o}function v(S){return l=S,s=setTimeout(m,e),f?p(S):o}function g(S){var b=S-u,T=S-l,C=e-b;return c?jK(C,i-T):C}function y(S){var b=S-u,T=S-l;return u===void 0||b>=e||b<0||c&&T>=i}function m(){var S=F_();if(y(S))return d(S);s=setTimeout(m,g(S))}function d(S){return s=void 0,h&&n?p(S):(n=a=void 0,o)}function _(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function x(){return s===void 0?o:d(F_())}function w(){var S=F_(),b=y(S);if(n=arguments,a=this,u=S,b){if(s===void 0)return v(u);if(c)return clearTimeout(s),s=setTimeout(m,e),p(u)}return s===void 0&&(s=setTimeout(m,e)),o}return w.cancel=_,w.flush=x,w}function Kp(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n}function No(t){return t==null}function $K(t){return t===void 0}function KK(t,e,r,n){if(!$s(t))return t;e=Vm(e,t);for(var a=-1,i=e.length,o=i-1,s=t;s!=null&&++a<i;){var u=NC(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=o){var f=s[u];l=void 0,l===void 0&&(l=$s(f)?f:bI(e[a+1])?[]:{})}$$(s,u,l),s=s[u]}return t}function XK(t,e,r){for(var n=-1,a=e.length,i={};++n<a;){var o=e[n],s=DI(t,o);r(s,o)&&KK(i,Vm(o,t),s)}return i}function YK(t,e){return XK(t,e,function(r,n){return GK(t,n)})}var qK=PK(function(t,e){return t==null?{}:YK(t,e)}),ZK="Expected a function";function B_(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(ZK);return $s(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),QS(t,e,{leading:n,maxWait:e,trailing:a})}const Gh=t=>t===void 0,gy=t=>typeof t=="boolean",Wt=t=>typeof t=="number",Fo=t=>typeof Element>"u"?!1:t instanceof Element,JK=t=>vt(t)?!Number.isNaN(Number(t)):!1;var QK=Object.defineProperty,eX=Object.defineProperties,tX=Object.getOwnPropertyDescriptors,xO=Object.getOwnPropertySymbols,rX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,wO=(t,e,r)=>e in t?QK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aX=(t,e)=>{for(var r in e||(e={}))rX.call(e,r)&&wO(t,r,e[r]);if(xO)for(var r of xO(e))nX.call(e,r)&&wO(t,r,e[r]);return t},iX=(t,e)=>eX(t,tX(e));function oX(t,e){var r;const n=Ao();return qj(()=>{n.value=t()},iX(aX({},e),{flush:(r=void 0)!=null?r:"sync"})),Vv(n)}var SO;const er=typeof window<"u",sX=t=>typeof t=="string",yy=()=>{},uX=er&&((SO=window==null?void 0:window.navigator)==null?void 0:SO.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Pm(t){return typeof t=="function"?t():te(t)}function lX(t,e){function r(...n){return new Promise((a,i)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(a).catch(i)})}return r}function cX(t,e=!0,r=!0,n=!1){let a=0,i,o=!0,s=yy,u;const l=()=>{i&&(clearTimeout(i),i=void 0,s(),s=yy)};return c=>{const h=Pm(t),p=Date.now()-a,v=()=>u=c();return l(),h<=0?(a=Date.now(),v()):(p>h&&(r||!o)?(a=Date.now(),v()):e&&(u=new Promise((g,y)=>{s=n?y:g,i=setTimeout(()=>{a=Date.now(),o=!0,g(v()),l()},Math.max(0,h-p))})),!r&&!i&&(i=setTimeout(()=>o=!0,h)),o=!1,u)}}function fX(t){return t}function Um(t){return o4()?(VH(t),!0):!1}function hX(t,e=200,r=!1,n=!0,a=!1){return lX(cX(e,r,n,a),t)}function pX(t,e=!0){na()?mr(t):e?t():Pr(t)}function vX(t,e,r={}){const{immediate:n=!0}=r,a=be(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function s(){a.value=!1,o()}function u(...l){o(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,t(...l)},Pm(e))}return n&&(a.value=!0,er&&u()),Um(s),{isPending:Vv(a),start:u,stop:s}}function Ms(t){var e;const r=Pm(t);return(e=r==null?void 0:r.$el)!=null?e:r}const FC=er?window:void 0;function en(...t){let e,r,n,a;if(sX(t[0])||Array.isArray(t[0])?([r,n,a]=t,e=FC):[e,r,n,a]=t,!e)return yy;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(f=>f()),i.length=0},s=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),u=ft(()=>[Ms(e),Pm(a)],([f,c])=>{o(),f&&i.push(...r.flatMap(h=>n.map(p=>s(f,h,p,c))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return Um(l),l}let bO=!1;function dX(t,e,r={}){const{window:n=FC,ignore:a=[],capture:i=!0,detectIframe:o=!1}=r;if(!n)return;uX&&!bO&&(bO=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",yy)));let s=!0;const u=h=>a.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(v=>v===h.target||h.composedPath().includes(v));{const v=Ms(p);return v&&(h.target===v||h.composedPath().includes(v))}}),f=[en(n,"click",h=>{const p=Ms(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(s=!u(h)),!s){s=!0;return}e(h)}},{passive:!0,capture:i}),en(n,"pointerdown",h=>{const p=Ms(t);p&&(s=!h.composedPath().includes(p)&&!u(h))},{passive:!0}),o&&en(n,"blur",h=>{var p;const v=Ms(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(v!=null&&v.contains(n.document.activeElement))&&e(h)})].filter(Boolean);return()=>f.forEach(h=>h())}function gX(t,e=!1){const r=be(),n=()=>r.value=!!t();return n(),pX(n,e),r}const TO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CO="__vueuse_ssr_handlers__";TO[CO]=TO[CO]||{};var EO=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,_X=(t,e)=>{var r={};for(var n in t)yX.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&EO)for(var n of EO(t))e.indexOf(n)<0&&mX.call(t,n)&&(r[n]=t[n]);return r};function OI(t,e,r={}){const n=r,{window:a=FC}=n,i=_X(n,["window"]);let o;const s=gX(()=>a&&"ResizeObserver"in a),u=()=>{o&&(o.disconnect(),o=void 0)},l=ft(()=>Ms(t),c=>{u(),s.value&&a&&c&&(o=new ResizeObserver(e),o.observe(c,i))},{immediate:!0,flush:"post"}),f=()=>{u(),l()};return Um(f),{isSupported:s,stop:f}}var DO;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(DO||(DO={}));var xX=Object.defineProperty,OO=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,SX=Object.prototype.propertyIsEnumerable,MO=(t,e,r)=>e in t?xX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bX=(t,e)=>{for(var r in e||(e={}))wX.call(e,r)&&MO(t,r,e[r]);if(OO)for(var r of OO(e))SX.call(e,r)&&MO(t,r,e[r]);return t};const TX={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};bX({linear:fX},TX);class CX extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function MI(t,e){throw new CX(`[${t}] ${e}`)}const LO={current:0},kO=be(0),LI=2e3,RO=Symbol("elZIndexContextKey"),kI=Symbol("zIndexContextKey"),BC=t=>{const e=na()?It(RO,LO):LO,r=t||(na()?It(kI,void 0):void 0),n=ve(()=>{const o=te(r);return Wt(o)?o:LI}),a=ve(()=>n.value+kO.value),i=()=>(e.current++,kO.value=e.current,a.value);return!er&&It(RO),{initialZIndex:n,currentZIndex:a,nextZIndex:i}};var EX={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const DX=t=>(e,r)=>OX(e,r,te(t)),OX=(t,e,r)=>NK(r,t,t).replace(/\{(\w+)\}/g,(n,a)=>{var i;return`${(i=e==null?void 0:e[a])!=null?i:`{${a}}`}`}),MX=t=>{const e=ve(()=>te(t).name),r=Nr(t)?t:be(t);return{lang:e,locale:r,t:DX(t)}},RI=Symbol("localeContextKey"),Hv=t=>{const e=t||It(RI,be());return MX(ve(()=>e.value||EX))},AI="__epPropKey",it=t=>t,LX=t=>Lt(t)&&!!t[AI],zm=(t,e)=>{if(!Lt(t)||LX(t))return t;const{values:r,required:n,default:a,type:i,validator:o}=t,u={type:i,required:!!n,validator:r||o?l=>{let f=!1,c=[];if(r&&(c=Array.from(r),At(t,"default")&&c.push(a),f||(f=c.includes(l))),o&&(f||(f=o(l))),!f&&c.length>0){const h=[...new Set(c)].map(p=>JSON.stringify(p)).join(", ");g7(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(l)}.`)}return f}:void 0,[AI]:!0};return At(t,"default")&&(u.default=a),u},pr=t=>Kp(Object.entries(t).map(([e,r])=>[e,zm(r,e)])),kX=["","default","small","large"],Xp=zm({type:String,values:kX,required:!1}),NI=Symbol("size"),RX=()=>{const t=It(NI,{});return ve(()=>te(t.size)||"")},AX=Symbol("emptyValuesContextKey"),oNe=pr({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Ge(t)?!t():!t}}),eb=t=>Object.keys(t),my=be();function IC(t,e=void 0){const r=na()?It(_I,my):my;return t?ve(()=>{var n,a;return(a=(n=r.value)==null?void 0:n[t])!=null?a:e}):r}function FI(t,e){const r=IC(),n=fr(t,ve(()=>{var s;return((s=r.value)==null?void 0:s.namespace)||v0})),a=Hv(ve(()=>{var s;return(s=r.value)==null?void 0:s.locale})),i=BC(ve(()=>{var s;return((s=r.value)==null?void 0:s.zIndex)||LI})),o=ve(()=>{var s;return te(e)||((s=r.value)==null?void 0:s.size)||""});return NX(ve(()=>te(r)||{})),{ns:n,locale:a,zIndex:i,size:o}}const NX=(t,e,r=!1)=>{var n;const a=!!na(),i=a?IC():void 0,o=(n=void 0)!=null?n:a?Qn:void 0;if(!o)return;const s=ve(()=>{const u=te(t);return i!=null&&i.value?FX(i.value,u):u});return o(_I,s),o(RI,ve(()=>s.value.locale)),o(xI,ve(()=>s.value.namespace)),o(kI,ve(()=>s.value.zIndex)),o(NI,{size:ve(()=>s.value.size||"")}),o(AX,ve(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(r||!my.value)&&(my.value=s.value),s},FX=(t,e)=>{const r=[...new Set([...eb(t),...eb(e)])],n={};for(const a of r)n[a]=e[a]!==void 0?e[a]:t[a];return n},An="update:modelValue",Gm="change",pl="input";var ar=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r};const BI=(t="")=>t.split(" ").filter(e=>!!e.trim()),AO=(t,e)=>{!t||!e.trim()||t.classList.add(...BI(e))},_y=(t,e)=>{!t||!e.trim()||t.classList.remove(...BI(e))},Ec=(t,e)=>{var r;if(!er||!t||!e)return"";let n=ra(e);n==="float"&&(n="cssFloat");try{const a=t.style[n];if(a)return a;const i=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return i?i[n]:""}catch{return t.style[n]}};function tb(t,e="px"){if(!t)return"";if(Wt(t)||JK(t))return`${t}${e}`;if(vt(t))return t}const BX=(t,e)=>{if(!er)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],n=Ec(t,r);return["scroll","auto","overlay"].some(a=>n.includes(a))},IX=(t,e)=>{if(!er)return;let r=t;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(BX(r,e))return r;r=r.parentNode}return r},Na=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},VX=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),jv=t=>(t.install=pn,t),PX=pr({size:{type:it([Number,String])},color:{type:String}}),UX=Ae({name:"ElIcon",inheritAttrs:!1}),zX=Ae({...UX,props:PX,setup(t){const e=t,r=fr("icon"),n=ve(()=>{const{size:a,color:i}=e;return!a&&!i?{}:{fontSize:Gh(a)?void 0:tb(a),"--color":i}});return(a,i)=>(xe(),Re("i",$i({class:te(r).b(),style:te(n)},a.$attrs),[ht(a.$slots,"default")],16))}});var GX=ar(zX,[["__file","icon.vue"]]);const Vr=Na(GX);/*! Element Plus Icons Vue v2.3.1 */var WX=Ae({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),HX=WX,jX=Ae({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),$X=jX,KX=Ae({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),XX=KX,YX=Ae({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),qX=YX,ZX=Ae({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),De("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),JX=ZX,QX=Ae({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),eY=QX,tY=Ae({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),De("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),II=tY,rY=Ae({name:"Close",__name:"close",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),VI=rY,nY=Ae({name:"FullScreen",__name:"full-screen",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),aY=nY,iY=Ae({name:"Hide",__name:"hide",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),De("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),oY=iY,sY=Ae({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),uY=sY,lY=Ae({name:"Loading",__name:"loading",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),PI=lY,cY=Ae({name:"Minus",__name:"minus",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),fY=cY,hY=Ae({name:"Plus",__name:"plus",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),pY=hY,vY=Ae({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),dY=vY,gY=Ae({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),yY=gY,mY=Ae({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),_Y=mY,xY=Ae({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),wY=xY,SY=Ae({name:"View",__name:"view",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),bY=SY,TY=Ae({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),CY=TY,EY=Ae({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),DY=EY,OY=Ae({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,r)=>(xe(),Re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[De("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),MY=OY;const Yp=it([String,Object,Function]),LY={Close:VI},NO={success:wY,warning:CY,error:eY,info:uY},kY={validating:PI,success:JX,error:II},UI=()=>er&&/firefox/i.test(window.navigator.userAgent);let Cn;const RY={height:"0",visibility:"hidden",overflow:UI()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},AY=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function NY(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),a=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:AY.map(o=>[o,e.getPropertyValue(o)]),paddingSize:n,borderSize:a,boxSizing:r}}function FO(t,e=1,r){var n;Cn||(Cn=document.createElement("textarea"),document.body.appendChild(Cn));const{paddingSize:a,borderSize:i,boxSizing:o,contextStyle:s}=NY(t);s.forEach(([c,h])=>Cn==null?void 0:Cn.style.setProperty(c,h)),Object.entries(RY).forEach(([c,h])=>Cn==null?void 0:Cn.style.setProperty(c,h,"important")),Cn.value=t.value||t.placeholder||"";let u=Cn.scrollHeight;const l={};o==="border-box"?u=u+i:o==="content-box"&&(u=u-a),Cn.value="";const f=Cn.scrollHeight-a;if(Wt(e)){let c=f*e;o==="border-box"&&(c=c+a+i),u=Math.max(c,u),l.minHeight=`${c}px`}if(Wt(r)){let c=f*r;o==="border-box"&&(c=c+a+i),u=Math.min(c,u)}return l.height=`${u}px`,(n=Cn.parentNode)==null||n.removeChild(Cn),Cn=void 0,l}const Wm=t=>t,FY=pr({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),$v=t=>qK(FY,t),BY=pr({id:{type:String,default:void 0},size:Xp,disabled:Boolean,modelValue:{type:it([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:it([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Yp},prefixIcon:{type:Yp},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:it([Object,Array,String]),default:()=>Wm({})},autofocus:Boolean,rows:{type:Number,default:2},...$v(["ariaLabel"])}),IY={[An]:t=>vt(t),input:t=>vt(t),change:t=>vt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},VY=["class","style"],PY=/^on[A-Z]/,zI=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=ve(()=>((r==null?void 0:r.value)||[]).concat(VY)),a=na();return ve(a?()=>{var i;return Kp(Object.entries((i=a.proxy)==null?void 0:i.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&PY.test(o))))}:()=>({}))},VC=Symbol("formContextKey"),xy=Symbol("formItemContextKey"),BO={prefix:Math.floor(Math.random()*1e4),current:0},UY=Symbol("elIdInjection"),GI=()=>na()?It(UY,BO):BO,WI=t=>{const e=GI(),r=MC();return oX(()=>te(t)||`${r.value}-id-${e.prefix}-${e.current++}`)},Hm=()=>{const t=It(VC,void 0),e=It(xy,void 0);return{form:t,formItem:e}},HI=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=be(!1)),n||(n=be(!1));const a=be();let i;const o=ve(()=>{var s;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((s=e.inputIds)==null?void 0:s.length)<=1)});return mr(()=>{i=ft([Eo(t,"id"),r],([s,u])=>{const l=s??(u?void 0:WI().value);l!==a.value&&(e!=null&&e.removeInputId&&(a.value&&e.removeInputId(a.value),!(n!=null&&n.value)&&!u&&l&&e.addInputId(l)),a.value=l)},{immediate:!0})}),bC(()=>{i&&i(),e!=null&&e.removeInputId&&a.value&&e.removeInputId(a.value)}),{isLabeledByFormItem:o,inputId:a}},jI=t=>{const e=na();return ve(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})},jm=(t,e={})=>{const r=be(void 0),n=e.prop?r:jI("size"),a=e.global?r:RX(),i=e.form?{size:void 0}:It(VC,void 0),o=e.formItem?{size:void 0}:It(xy,void 0);return ve(()=>n.value||te(t)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||a.value||"")},$m=t=>{const e=jI("disabled"),r=It(VC,void 0);return ve(()=>e.value||te(t)||(r==null?void 0:r.disabled)||!1)};function zY(t,{beforeFocus:e,afterFocus:r,beforeBlur:n,afterBlur:a}={}){const i=na(),{emit:o}=i,s=Ao(),u=be(!1),l=h=>{Ge(e)&&e(h)||u.value||(u.value=!0,o("focus",h),r==null||r())},f=h=>{var p;Ge(n)&&n(h)||h.relatedTarget&&((p=s.value)!=null&&p.contains(h.relatedTarget))||(u.value=!1,o("blur",h),a==null||a())},c=()=>{var h,p;(h=s.value)!=null&&h.contains(document.activeElement)&&s.value!==document.activeElement||(p=t.value)==null||p.focus()};return ft(s,h=>{h&&h.setAttribute("tabindex","-1")}),en(s,"focus",l,!0),en(s,"blur",f,!0),en(s,"click",c,!0),{isFocused:u,wrapperRef:s,handleFocus:l,handleBlur:f}}const GY=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function WY({afterComposition:t,emit:e}){const r=be(!1),n=s=>{e==null||e("compositionstart",s),r.value=!0},a=s=>{var u;e==null||e("compositionupdate",s);const l=(u=s.target)==null?void 0:u.value,f=l[l.length-1]||"";r.value=!GY(f)},i=s=>{e==null||e("compositionend",s),r.value&&(r.value=!1,Pr(()=>t(s)))};return{isComposing:r,handleComposition:s=>{s.type==="compositionend"?i(s):a(s)},handleCompositionStart:n,handleCompositionUpdate:a,handleCompositionEnd:i}}function HY(t){let e;function r(){if(t.value==null)return;const{selectionStart:a,selectionEnd:i,value:o}=t.value;if(a==null||i==null)return;const s=o.slice(0,Math.max(0,a)),u=o.slice(Math.max(0,i));e={selectionStart:a,selectionEnd:i,value:o,beforeTxt:s,afterTxt:u}}function n(){if(t.value==null||e==null)return;const{value:a}=t.value,{beforeTxt:i,afterTxt:o,selectionStart:s}=e;if(i==null||o==null||s==null)return;let u=a.length;if(a.endsWith(o))u=a.length-o.length;else if(a.startsWith(i))u=i.length;else{const l=i[s-1],f=a.indexOf(l,s-1);f!==-1&&(u=f+1)}t.value.setSelectionRange(u,u)}return[r,n]}const jY=Ae({name:"ElInput",inheritAttrs:!1}),$Y=Ae({...jY,props:BY,emits:IY,setup(t,{expose:e,emit:r}){const n=t,a=j4(),i=zI(),o=TC(),s=ve(()=>[n.type==="textarea"?g.b():v.b(),v.m(h.value),v.is("disabled",p.value),v.is("exceed",$.value),{[v.b("group")]:o.prepend||o.append,[v.m("prefix")]:o.prefix||n.prefixIcon,[v.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[v.bm("suffix","password-clear")]:P.value&&B.value,[v.b("hidden")]:n.type==="hidden"},a.class]),u=ve(()=>[v.e("wrapper"),v.is("focus",T.value)]),{form:l,formItem:f}=Hm(),{inputId:c}=HI(n,{formItemContext:f}),h=jm(),p=$m(),v=fr("input"),g=fr("textarea"),y=Ao(),m=Ao(),d=be(!1),_=be(!1),x=be(),w=Ao(n.inputStyle),S=ve(()=>y.value||m.value),{wrapperRef:b,isFocused:T,handleFocus:C,handleBlur:M}=zY(S,{beforeFocus(){return p.value},afterBlur(){var le;n.validateEvent&&((le=f==null?void 0:f.validate)==null||le.call(f,"blur").catch(ce=>void 0))}}),D=ve(()=>{var le;return(le=l==null?void 0:l.statusIcon)!=null?le:!1}),E=ve(()=>(f==null?void 0:f.validateState)||""),k=ve(()=>E.value&&kY[E.value]),O=ve(()=>_.value?bY:oY),A=ve(()=>[a.style]),I=ve(()=>[n.inputStyle,w.value,{resize:n.resize}]),U=ve(()=>No(n.modelValue)?"":String(n.modelValue)),P=ve(()=>n.clearable&&!p.value&&!n.readonly&&!!U.value&&(T.value||d.value)),B=ve(()=>n.showPassword&&!p.value&&!!U.value&&(!!U.value||T.value)),W=ve(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!p.value&&!n.readonly&&!n.showPassword),H=ve(()=>U.value.length),$=ve(()=>!!W.value&&H.value>Number(n.maxlength)),q=ve(()=>!!o.suffix||!!n.suffixIcon||P.value||n.showPassword||W.value||!!E.value&&D.value),[Q,Y]=HY(y);OI(m,le=>{if(ae(),!W.value||n.resize!=="both")return;const ce=le[0],{width:me}=ce.contentRect;x.value={right:`calc(100% - ${me+15+6}px)`}});const ie=()=>{const{type:le,autosize:ce}=n;if(!(!er||le!=="textarea"||!m.value))if(ce){const me=Lt(ce)?ce.minRows:void 0,ee=Lt(ce)?ce.maxRows:void 0,_e=FO(m.value,me,ee);w.value={overflowY:"hidden",..._e},Pr(()=>{m.value.offsetHeight,w.value=_e})}else w.value={minHeight:FO(m.value).minHeight}},ae=(le=>{let ce=!1;return()=>{var me;if(ce||!n.autosize)return;((me=m.value)==null?void 0:me.offsetParent)===null||(le(),ce=!0)}})(ie),re=()=>{const le=S.value,ce=n.formatter?n.formatter(U.value):U.value;!le||le.value===ce||(le.value=ce)},V=async le=>{Q();let{value:ce}=le.target;if(n.formatter&&n.parser&&(ce=n.parser(ce)),!F.value){if(ce===U.value){re();return}r(An,ce),r("input",ce),await Pr(),re(),Y()}},R=le=>{let{value:ce}=le.target;n.formatter&&n.parser&&(ce=n.parser(ce)),r("change",ce)},{isComposing:F,handleCompositionStart:N,handleCompositionUpdate:L,handleCompositionEnd:G}=WY({emit:r,afterComposition:V}),z=()=>{Q(),_.value=!_.value,setTimeout(Y)},j=()=>{var le;return(le=S.value)==null?void 0:le.focus()},K=()=>{var le;return(le=S.value)==null?void 0:le.blur()},Z=le=>{d.value=!1,r("mouseleave",le)},ne=le=>{d.value=!0,r("mouseenter",le)},ue=le=>{r("keydown",le)},se=()=>{var le;(le=S.value)==null||le.select()},he=()=>{r(An,""),r("change",""),r("clear"),r("input","")};return ft(()=>n.modelValue,()=>{var le;Pr(()=>ie()),n.validateEvent&&((le=f==null?void 0:f.validate)==null||le.call(f,"change").catch(ce=>void 0))}),ft(U,()=>re()),ft(()=>n.type,async()=>{await Pr(),re(),ie()}),mr(()=>{!n.formatter&&n.parser,re(),Pr(ie)}),e({input:y,textarea:m,ref:S,textareaStyle:I,autosize:Eo(n,"autosize"),isComposing:F,focus:j,blur:K,select:se,clear:he,resizeTextarea:ie}),(le,ce)=>(xe(),Re("div",{class:Be([te(s),{[te(v).bm("group","append")]:le.$slots.append,[te(v).bm("group","prepend")]:le.$slots.prepend}]),style:kr(te(A)),onMouseenter:ne,onMouseleave:Z},[at(" input "),le.type!=="textarea"?(xe(),Re(Gt,{key:0},[at(" prepend slot "),le.$slots.prepend?(xe(),Re("div",{key:0,class:Be(te(v).be("group","prepend"))},[ht(le.$slots,"prepend")],2)):at("v-if",!0),De("div",{ref_key:"wrapperRef",ref:b,class:Be(te(u))},[at(" prefix slot "),le.$slots.prefix||le.prefixIcon?(xe(),Re("span",{key:0,class:Be(te(v).e("prefix"))},[De("span",{class:Be(te(v).e("prefix-inner"))},[ht(le.$slots,"prefix"),le.prefixIcon?(xe(),lt(te(Vr),{key:0,class:Be(te(v).e("icon"))},{default:Ye(()=>[(xe(),lt(Do(le.prefixIcon)))]),_:1},8,["class"])):at("v-if",!0)],2)],2)):at("v-if",!0),De("input",$i({id:te(c),ref_key:"input",ref:y,class:te(v).e("inner")},te(i),{minlength:le.minlength,maxlength:le.maxlength,type:le.showPassword?_.value?"text":"password":le.type,disabled:te(p),readonly:le.readonly,autocomplete:le.autocomplete,tabindex:le.tabindex,"aria-label":le.ariaLabel,placeholder:le.placeholder,style:le.inputStyle,form:le.form,autofocus:le.autofocus,role:le.containerRole,onCompositionstart:te(N),onCompositionupdate:te(L),onCompositionend:te(G),onInput:V,onChange:R,onKeydown:ue}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),at(" suffix slot "),te(q)?(xe(),Re("span",{key:1,class:Be(te(v).e("suffix"))},[De("span",{class:Be(te(v).e("suffix-inner"))},[!te(P)||!te(B)||!te(W)?(xe(),Re(Gt,{key:0},[ht(le.$slots,"suffix"),le.suffixIcon?(xe(),lt(te(Vr),{key:0,class:Be(te(v).e("icon"))},{default:Ye(()=>[(xe(),lt(Do(le.suffixIcon)))]),_:1},8,["class"])):at("v-if",!0)],64)):at("v-if",!0),te(P)?(xe(),lt(te(Vr),{key:1,class:Be([te(v).e("icon"),te(v).e("clear")]),onMousedown:hl(te(pn),["prevent"]),onClick:he},{default:Ye(()=>[Pe(te(II))]),_:1},8,["class","onMousedown"])):at("v-if",!0),te(B)?(xe(),lt(te(Vr),{key:2,class:Be([te(v).e("icon"),te(v).e("password")]),onClick:z},{default:Ye(()=>[(xe(),lt(Do(te(O))))]),_:1},8,["class"])):at("v-if",!0),te(W)?(xe(),Re("span",{key:3,class:Be(te(v).e("count"))},[De("span",{class:Be(te(v).e("count-inner"))},Zn(te(H))+" / "+Zn(le.maxlength),3)],2)):at("v-if",!0),te(E)&&te(k)&&te(D)?(xe(),lt(te(Vr),{key:4,class:Be([te(v).e("icon"),te(v).e("validateIcon"),te(v).is("loading",te(E)==="validating")])},{default:Ye(()=>[(xe(),lt(Do(te(k))))]),_:1},8,["class"])):at("v-if",!0)],2)],2)):at("v-if",!0)],2),at(" append slot "),le.$slots.append?(xe(),Re("div",{key:1,class:Be(te(v).be("group","append"))},[ht(le.$slots,"append")],2)):at("v-if",!0)],64)):(xe(),Re(Gt,{key:1},[at(" textarea "),De("textarea",$i({id:te(c),ref_key:"textarea",ref:m,class:[te(g).e("inner"),te(v).is("focus",te(T))]},te(i),{minlength:le.minlength,maxlength:le.maxlength,tabindex:le.tabindex,disabled:te(p),readonly:le.readonly,autocomplete:le.autocomplete,style:te(I),"aria-label":le.ariaLabel,placeholder:le.placeholder,form:le.form,autofocus:le.autofocus,rows:le.rows,role:le.containerRole,onCompositionstart:te(N),onCompositionupdate:te(L),onCompositionend:te(G),onInput:V,onFocus:te(C),onBlur:te(M),onChange:R,onKeydown:ue}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),te(W)?(xe(),Re("span",{key:0,style:kr(x.value),class:Be(te(v).e("count"))},Zn(te(H))+" / "+Zn(le.maxlength),7)):at("v-if",!0)],64))],38))}});var KY=ar($Y,[["__file","input.vue"]]);const XY=Na(KY),PC=Symbol("popper"),$I=Symbol("popperContent"),YY=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],KI=pr({role:{type:String,values:YY,default:"tooltip"}}),qY=Ae({name:"ElPopper",inheritAttrs:!1}),ZY=Ae({...qY,props:KI,setup(t,{expose:e}){const r=t,n=be(),a=be(),i=be(),o=be(),s=ve(()=>r.role),u={triggerRef:n,popperInstanceRef:a,contentRef:i,referenceRef:o,role:s};return e(u),Qn(PC,u),(l,f)=>ht(l.$slots,"default")}});var JY=ar(ZY,[["__file","popper.vue"]]);const XI=pr({arrowOffset:{type:Number,default:5}}),QY=Ae({name:"ElPopperArrow",inheritAttrs:!1}),eq=Ae({...QY,props:XI,setup(t,{expose:e}){const r=t,n=fr("popper"),{arrowOffset:a,arrowRef:i,arrowStyle:o}=It($I,void 0);return ft(()=>r.arrowOffset,s=>{a.value=s}),$n(()=>{i.value=void 0}),e({arrowRef:i}),(s,u)=>(xe(),Re("span",{ref_key:"arrowRef",ref:i,class:Be(te(n).e("arrow")),style:kr(te(o)),"data-popper-arrow":""},null,6))}});var tq=ar(eq,[["__file","arrow.vue"]]);const YI=pr({virtualRef:{type:it(Object)},virtualTriggering:Boolean,onMouseenter:{type:it(Function)},onMouseleave:{type:it(Function)},onClick:{type:it(Function)},onKeydown:{type:it(Function)},onFocus:{type:it(Function)},onBlur:{type:it(Function)},onContextmenu:{type:it(Function)},id:String,open:Boolean}),qI=Symbol("elForwardRef"),rq=t=>{Qn(qI,{setForwardRef:r=>{t.value=r}})},nq=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),rb=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},aq="ElOnlyChild",iq=Ae({name:aq,setup(t,{slots:e,attrs:r}){var n;const a=It(qI),i=nq((n=a==null?void 0:a.setForwardRef)!=null?n:pn);return()=>{var o;const s=(o=e.default)==null?void 0:o.call(e,r);if(!s||s.length>1)return null;const u=ZI(s);return u?Hs(zo(u,r),[[i]]):null}}});function ZI(t){if(!t)return null;const e=t;for(const r of e){if(Lt(r))switch(r.type){case fn:continue;case Bf:case"svg":return IO(r);case Gt:return ZI(r.children);default:return r}return IO(r)}return null}function IO(t){const e=fr("only-child");return Pe("span",{class:e.e("content")},[t])}const oq=Ae({name:"ElPopperTrigger",inheritAttrs:!1}),sq=Ae({...oq,props:YI,setup(t,{expose:e}){const r=t,{role:n,triggerRef:a}=It(PC,void 0);rq(a);const i=ve(()=>s.value?r.id:void 0),o=ve(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=ve(()=>{if(n&&n.value!=="tooltip")return n.value}),u=ve(()=>s.value?`${r.open}`:void 0);let l;const f=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return mr(()=>{ft(()=>r.virtualRef,c=>{c&&(a.value=Ms(c))},{immediate:!0}),ft(a,(c,h)=>{l==null||l(),l=void 0,Fo(c)&&(f.forEach(p=>{var v;const g=r[p];g&&(c.addEventListener(p.slice(2).toLowerCase(),g),(v=h==null?void 0:h.removeEventListener)==null||v.call(h,p.slice(2).toLowerCase(),g))}),rb(c)&&(l=ft([i,o,s,u],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,g)=>{No(p[g])?c.removeAttribute(v):c.setAttribute(v,p[g])})},{immediate:!0}))),Fo(h)&&rb(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),$n(()=>{if(l==null||l(),l=void 0,a.value&&Fo(a.value)){const c=a.value;f.forEach(h=>{const p=r[h];p&&c.removeEventListener(h.slice(2).toLowerCase(),p)}),a.value=void 0}}),e({triggerRef:a}),(c,h)=>c.virtualTriggering?at("v-if",!0):(xe(),lt(te(iq),$i({key:0},c.$attrs,{"aria-controls":te(i),"aria-describedby":te(o),"aria-expanded":te(u),"aria-haspopup":te(s)}),{default:Ye(()=>[ht(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var uq=ar(sq,[["__file","trigger.vue"]]);const I_="focus-trap.focus-after-trapped",V_="focus-trap.focus-after-released",lq="focus-trap.focusout-prevented",VO={cancelable:!0,bubbles:!1},cq={cancelable:!0,bubbles:!1},PO="focusAfterTrapped",UO="focusAfterReleased",fq=Symbol("elFocusTrap"),UC=be(),Km=be(0),zC=be(0);let Ld=0;const JI=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},zO=(t,e)=>{for(const r of t)if(!hq(r,e))return r},hq=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},pq=t=>{const e=JI(t),r=zO(e,t),n=zO(e.reverse(),t);return[r,n]},vq=t=>t instanceof HTMLInputElement&&"select"in t,fo=(t,e)=>{if(t&&t.focus){const r=document.activeElement;let n=!1;Fo(t)&&!rb(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus({preventScroll:!0}),zC.value=window.performance.now(),t!==r&&vq(t)&&e&&t.select(),Fo(t)&&n&&t.removeAttribute("tabindex")}};function GO(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const dq=()=>{let t=[];return{push:n=>{const a=t[0];a&&n!==a&&a.pause(),t=GO(t,n),t.unshift(n)},remove:n=>{var a,i;t=GO(t,n),(i=(a=t[0])==null?void 0:a.resume)==null||i.call(a)}}},gq=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(fo(n,e),document.activeElement!==r)return},WO=dq(),yq=()=>Km.value>zC.value,kd=()=>{UC.value="pointer",Km.value=window.performance.now()},HO=()=>{UC.value="keyboard",Km.value=window.performance.now()},mq=()=>(mr(()=>{Ld===0&&(document.addEventListener("mousedown",kd),document.addEventListener("touchstart",kd),document.addEventListener("keydown",HO)),Ld++}),$n(()=>{Ld--,Ld<=0&&(document.removeEventListener("mousedown",kd),document.removeEventListener("touchstart",kd),document.removeEventListener("keydown",HO))}),{focusReason:UC,lastUserFocusTimestamp:Km,lastAutomatedFocusTimestamp:zC}),Rd=t=>new CustomEvent(lq,{...cq,detail:t}),Or={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Dc=[];const jO=t=>{t.code===Or.esc&&Dc.forEach(e=>e(t))},_q=t=>{mr(()=>{Dc.length===0&&document.addEventListener("keydown",jO),er&&Dc.push(t)}),$n(()=>{Dc=Dc.filter(e=>e!==t),Dc.length===0&&er&&document.removeEventListener("keydown",jO)})},xq=Ae({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[PO,UO,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=be();let n,a;const{focusReason:i}=mq();_q(v=>{t.trapped&&!o.paused&&e("release-requested",v)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=v=>{if(!t.loop&&!t.trapped||o.paused)return;const{code:g,altKey:y,ctrlKey:m,metaKey:d,currentTarget:_,shiftKey:x}=v,{loop:w}=t,S=g===Or.tab&&!y&&!m&&!d,b=document.activeElement;if(S&&b){const T=_,[C,M]=pq(T);if(C&&M){if(!x&&b===M){const E=Rd({focusReason:i.value});e("focusout-prevented",E),E.defaultPrevented||(v.preventDefault(),w&&fo(C,!0))}else if(x&&[C,T].includes(b)){const E=Rd({focusReason:i.value});e("focusout-prevented",E),E.defaultPrevented||(v.preventDefault(),w&&fo(M,!0))}}else if(b===T){const E=Rd({focusReason:i.value});e("focusout-prevented",E),E.defaultPrevented||v.preventDefault()}}};Qn(fq,{focusTrapRef:r,onKeydown:s}),ft(()=>t.focusTrapEl,v=>{v&&(r.value=v)},{immediate:!0}),ft([r],([v],[g])=>{v&&(v.addEventListener("keydown",s),v.addEventListener("focusin",f),v.addEventListener("focusout",c)),g&&(g.removeEventListener("keydown",s),g.removeEventListener("focusin",f),g.removeEventListener("focusout",c))});const u=v=>{e(PO,v)},l=v=>e(UO,v),f=v=>{const g=te(r);if(!g)return;const y=v.target,m=v.relatedTarget,d=y&&g.contains(y);t.trapped||m&&g.contains(m)||(n=m),d&&e("focusin",v),!o.paused&&t.trapped&&(d?a=y:fo(a,!0))},c=v=>{const g=te(r);if(!(o.paused||!g))if(t.trapped){const y=v.relatedTarget;!No(y)&&!g.contains(y)&&setTimeout(()=>{if(!o.paused&&t.trapped){const m=Rd({focusReason:i.value});e("focusout-prevented",m),m.defaultPrevented||fo(a,!0)}},0)}else{const y=v.target;y&&g.contains(y)||e("focusout",v)}};async function h(){await Pr();const v=te(r);if(v){WO.push(o);const g=v.contains(document.activeElement)?n:document.activeElement;if(n=g,!v.contains(g)){const m=new Event(I_,VO);v.addEventListener(I_,u),v.dispatchEvent(m),m.defaultPrevented||Pr(()=>{let d=t.focusStartEl;vt(d)||(fo(d),document.activeElement!==d&&(d="first")),d==="first"&&gq(JI(v),!0),(document.activeElement===g||d==="container")&&fo(v)})}}}function p(){const v=te(r);if(v){v.removeEventListener(I_,u);const g=new CustomEvent(V_,{...VO,detail:{focusReason:i.value}});v.addEventListener(V_,l),v.dispatchEvent(g),!g.defaultPrevented&&(i.value=="keyboard"||!yq()||v.contains(document.activeElement))&&fo(n??document.body),v.removeEventListener(V_,l),WO.remove(o)}}return mr(()=>{t.trapped&&h(),ft(()=>t.trapped,v=>{v?h():p()})}),$n(()=>{t.trapped&&p(),r.value&&(r.value.removeEventListener("keydown",s),r.value.removeEventListener("focusin",f),r.value.removeEventListener("focusout",c),r.value=void 0)}),{onKeydown:s}}});function wq(t,e,r,n,a,i){return ht(t.$slots,"default",{handleKeydown:t.onKeydown})}var QI=ar(xq,[["render",wq],["__file","focus-trap.vue"]]),Vn="top",ka="bottom",Ra="right",Pn="left",GC="auto",Kv=[Vn,ka,Ra,Pn],pf="start",qp="end",Sq="clippingParents",e5="viewport",ih="popper",bq="reference",$O=Kv.reduce(function(t,e){return t.concat([e+"-"+pf,e+"-"+qp])},[]),Xv=[].concat(Kv,[GC]).reduce(function(t,e){return t.concat([e,e+"-"+pf,e+"-"+qp])},[]),Tq="beforeRead",Cq="read",Eq="afterRead",Dq="beforeMain",Oq="main",Mq="afterMain",Lq="beforeWrite",kq="write",Rq="afterWrite",Aq=[Tq,Cq,Eq,Dq,Oq,Mq,Lq,kq,Rq];function Ki(t){return t?(t.nodeName||"").toLowerCase():null}function pi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vf(t){var e=pi(t).Element;return t instanceof e||t instanceof Element}function Ta(t){var e=pi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function WC(t){if(typeof ShadowRoot>"u")return!1;var e=pi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Nq(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},a=e.attributes[r]||{},i=e.elements[r];!Ta(i)||!Ki(i)||(Object.assign(i.style,n),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function Fq(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var a=e.elements[n],i=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(u,l){return u[l]="",u},{});!Ta(a)||!Ki(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(u){a.removeAttribute(u)}))})}}var t5={name:"applyStyles",enabled:!0,phase:"write",fn:Nq,effect:Fq,requires:["computeStyles"]};function Gi(t){return t.split("-")[0]}var vl=Math.max,wy=Math.min,df=Math.round;function gf(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,a=1;if(Ta(t)&&e){var i=t.offsetHeight,o=t.offsetWidth;o>0&&(n=df(r.width)/o||1),i>0&&(a=df(r.height)/i||1)}return{width:r.width/n,height:r.height/a,top:r.top/a,right:r.right/n,bottom:r.bottom/a,left:r.left/n,x:r.left/n,y:r.top/a}}function HC(t){var e=gf(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function r5(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&WC(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Go(t){return pi(t).getComputedStyle(t)}function Bq(t){return["table","td","th"].indexOf(Ki(t))>=0}function iu(t){return((vf(t)?t.ownerDocument:t.document)||window.document).documentElement}function Xm(t){return Ki(t)==="html"?t:t.assignedSlot||t.parentNode||(WC(t)?t.host:null)||iu(t)}function KO(t){return!Ta(t)||Go(t).position==="fixed"?null:t.offsetParent}function Iq(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Ta(t)){var n=Go(t);if(n.position==="fixed")return null}var a=Xm(t);for(WC(a)&&(a=a.host);Ta(a)&&["html","body"].indexOf(Ki(a))<0;){var i=Go(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Yv(t){for(var e=pi(t),r=KO(t);r&&Bq(r)&&Go(r).position==="static";)r=KO(r);return r&&(Ki(r)==="html"||Ki(r)==="body"&&Go(r).position==="static")?e:r||Iq(t)||e}function jC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function dp(t,e,r){return vl(t,wy(e,r))}function Vq(t,e,r){var n=dp(t,e,r);return n>r?r:n}function n5(){return{top:0,right:0,bottom:0,left:0}}function a5(t){return Object.assign({},n5(),t)}function i5(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Pq=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,a5(typeof t!="number"?t:i5(t,Kv))};function Uq(t){var e,r=t.state,n=t.name,a=t.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Gi(r.placement),u=jC(s),l=[Pn,Ra].indexOf(s)>=0,f=l?"height":"width";if(!(!i||!o)){var c=Pq(a.padding,r),h=HC(i),p=u==="y"?Vn:Pn,v=u==="y"?ka:Ra,g=r.rects.reference[f]+r.rects.reference[u]-o[u]-r.rects.popper[f],y=o[u]-r.rects.reference[u],m=Yv(i),d=m?u==="y"?m.clientHeight||0:m.clientWidth||0:0,_=g/2-y/2,x=c[p],w=d-h[f]-c[v],S=d/2-h[f]/2+_,b=dp(x,S,w),T=u;r.modifiersData[n]=(e={},e[T]=b,e.centerOffset=b-S,e)}}function zq(t){var e=t.state,r=t.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||!r5(e.elements.popper,a)||(e.elements.arrow=a))}var Gq={name:"arrow",enabled:!0,phase:"main",fn:Uq,effect:zq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yf(t){return t.split("-")[1]}var Wq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hq(t){var e=t.x,r=t.y,n=window,a=n.devicePixelRatio||1;return{x:df(e*a)/a||0,y:df(r*a)/a||0}}function XO(t){var e,r=t.popper,n=t.popperRect,a=t.placement,i=t.variation,o=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,f=t.roundOffsets,c=t.isFixed,h=o.x,p=h===void 0?0:h,v=o.y,g=v===void 0?0:v,y=typeof f=="function"?f({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var m=o.hasOwnProperty("x"),d=o.hasOwnProperty("y"),_=Pn,x=Vn,w=window;if(l){var S=Yv(r),b="clientHeight",T="clientWidth";if(S===pi(r)&&(S=iu(r),Go(S).position!=="static"&&s==="absolute"&&(b="scrollHeight",T="scrollWidth")),S=S,a===Vn||(a===Pn||a===Ra)&&i===qp){x=ka;var C=c&&S===w&&w.visualViewport?w.visualViewport.height:S[b];g-=C-n.height,g*=u?1:-1}if(a===Pn||(a===Vn||a===ka)&&i===qp){_=Ra;var M=c&&S===w&&w.visualViewport?w.visualViewport.width:S[T];p-=M-n.width,p*=u?1:-1}}var D=Object.assign({position:s},l&&Wq),E=f===!0?Hq({x:p,y:g}):{x:p,y:g};if(p=E.x,g=E.y,u){var k;return Object.assign({},D,(k={},k[x]=d?"0":"",k[_]=m?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k))}return Object.assign({},D,(e={},e[x]=d?g+"px":"",e[_]=m?p+"px":"",e.transform="",e))}function jq(t){var e=t.state,r=t.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,u=s===void 0?!0:s,l={placement:Gi(e.placement),variation:yf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,XO(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,XO(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var o5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jq,data:{}},Ad={passive:!0};function $q(t){var e=t.state,r=t.instance,n=t.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,u=pi(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(f){f.addEventListener("scroll",r.update,Ad)}),s&&u.addEventListener("resize",r.update,Ad),function(){i&&l.forEach(function(f){f.removeEventListener("scroll",r.update,Ad)}),s&&u.removeEventListener("resize",r.update,Ad)}}var s5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$q,data:{}},Kq={left:"right",right:"left",bottom:"top",top:"bottom"};function d0(t){return t.replace(/left|right|bottom|top/g,function(e){return Kq[e]})}var Xq={start:"end",end:"start"};function YO(t){return t.replace(/start|end/g,function(e){return Xq[e]})}function $C(t){var e=pi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function KC(t){return gf(iu(t)).left+$C(t).scrollLeft}function Yq(t){var e=pi(t),r=iu(t),n=e.visualViewport,a=r.clientWidth,i=r.clientHeight,o=0,s=0;return n&&(a=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:a,height:i,x:o+KC(t),y:s}}function qq(t){var e,r=iu(t),n=$C(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=vl(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=vl(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+KC(t),u=-n.scrollTop;return Go(a||r).direction==="rtl"&&(s+=vl(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:u}}function XC(t){var e=Go(t),r=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function u5(t){return["html","body","#document"].indexOf(Ki(t))>=0?t.ownerDocument.body:Ta(t)&&XC(t)?t:u5(Xm(t))}function gp(t,e){var r;e===void 0&&(e=[]);var n=u5(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),i=pi(n),o=a?[i].concat(i.visualViewport||[],XC(n)?n:[]):n,s=e.concat(o);return a?s:s.concat(gp(Xm(o)))}function nb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Zq(t){var e=gf(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function qO(t,e){return e===e5?nb(Yq(t)):vf(e)?Zq(e):nb(qq(iu(t)))}function Jq(t){var e=gp(Xm(t)),r=["absolute","fixed"].indexOf(Go(t).position)>=0,n=r&&Ta(t)?Yv(t):t;return vf(n)?e.filter(function(a){return vf(a)&&r5(a,n)&&Ki(a)!=="body"}):[]}function Qq(t,e,r){var n=e==="clippingParents"?Jq(t):[].concat(e),a=[].concat(n,[r]),i=a[0],o=a.reduce(function(s,u){var l=qO(t,u);return s.top=vl(l.top,s.top),s.right=wy(l.right,s.right),s.bottom=wy(l.bottom,s.bottom),s.left=vl(l.left,s.left),s},qO(t,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function l5(t){var e=t.reference,r=t.element,n=t.placement,a=n?Gi(n):null,i=n?yf(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,u;switch(a){case Vn:u={x:o,y:e.y-r.height};break;case ka:u={x:o,y:e.y+e.height};break;case Ra:u={x:e.x+e.width,y:s};break;case Pn:u={x:e.x-r.width,y:s};break;default:u={x:e.x,y:e.y}}var l=a?jC(a):null;if(l!=null){var f=l==="y"?"height":"width";switch(i){case pf:u[l]=u[l]-(e[f]/2-r[f]/2);break;case qp:u[l]=u[l]+(e[f]/2-r[f]/2);break}}return u}function Zp(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=n===void 0?t.placement:n,i=r.boundary,o=i===void 0?Sq:i,s=r.rootBoundary,u=s===void 0?e5:s,l=r.elementContext,f=l===void 0?ih:l,c=r.altBoundary,h=c===void 0?!1:c,p=r.padding,v=p===void 0?0:p,g=a5(typeof v!="number"?v:i5(v,Kv)),y=f===ih?bq:ih,m=t.rects.popper,d=t.elements[h?y:f],_=Qq(vf(d)?d:d.contextElement||iu(t.elements.popper),o,u),x=gf(t.elements.reference),w=l5({reference:x,element:m,placement:a}),S=nb(Object.assign({},m,w)),b=f===ih?S:x,T={top:_.top-b.top+g.top,bottom:b.bottom-_.bottom+g.bottom,left:_.left-b.left+g.left,right:b.right-_.right+g.right},C=t.modifiersData.offset;if(f===ih&&C){var M=C[a];Object.keys(T).forEach(function(D){var E=[Ra,ka].indexOf(D)>=0?1:-1,k=[Vn,ka].indexOf(D)>=0?"y":"x";T[D]+=M[k]*E})}return T}function eZ(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?Xv:u,f=yf(n),c=f?s?$O:$O.filter(function(v){return yf(v)===f}):Kv,h=c.filter(function(v){return l.indexOf(v)>=0});h.length===0&&(h=c);var p=h.reduce(function(v,g){return v[g]=Zp(t,{placement:g,boundary:a,rootBoundary:i,padding:o})[Gi(g)],v},{});return Object.keys(p).sort(function(v,g){return p[v]-p[g]})}function tZ(t){if(Gi(t)===GC)return[];var e=d0(t);return[YO(t),e,YO(e)]}function rZ(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,f=r.boundary,c=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,g=r.allowedAutoPlacements,y=e.options.placement,m=Gi(y),d=m===y,_=u||(d||!v?[d0(y)]:tZ(y)),x=[y].concat(_).reduce(function(Q,Y){return Q.concat(Gi(Y)===GC?eZ(e,{placement:Y,boundary:f,rootBoundary:c,padding:l,flipVariations:v,allowedAutoPlacements:g}):Y)},[]),w=e.rects.reference,S=e.rects.popper,b=new Map,T=!0,C=x[0],M=0;M<x.length;M++){var D=x[M],E=Gi(D),k=yf(D)===pf,O=[Vn,ka].indexOf(E)>=0,A=O?"width":"height",I=Zp(e,{placement:D,boundary:f,rootBoundary:c,altBoundary:h,padding:l}),U=O?k?Ra:Pn:k?ka:Vn;w[A]>S[A]&&(U=d0(U));var P=d0(U),B=[];if(i&&B.push(I[E]<=0),s&&B.push(I[U]<=0,I[P]<=0),B.every(function(Q){return Q})){C=D,T=!1;break}b.set(D,B)}if(T)for(var W=v?3:1,H=function(Q){var Y=x.find(function(ie){var J=b.get(ie);if(J)return J.slice(0,Q).every(function(ae){return ae})});if(Y)return C=Y,"break"},$=W;$>0;$--){var q=H($);if(q==="break")break}e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}}var nZ={name:"flip",enabled:!0,phase:"main",fn:rZ,requiresIfExists:["offset"],data:{_skip:!1}};function ZO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function JO(t){return[Vn,Ra,ka,Pn].some(function(e){return t[e]>=0})}function aZ(t){var e=t.state,r=t.name,n=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,o=Zp(e,{elementContext:"reference"}),s=Zp(e,{altBoundary:!0}),u=ZO(o,n),l=ZO(s,a,i),f=JO(u),c=JO(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}var iZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:aZ};function oZ(t,e,r){var n=Gi(t),a=[Pn,Vn].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Pn,Ra].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function sZ(t){var e=t.state,r=t.options,n=t.name,a=r.offset,i=a===void 0?[0,0]:a,o=Xv.reduce(function(f,c){return f[c]=oZ(c,e.rects,i),f},{}),s=o[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}var uZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sZ};function lZ(t){var e=t.state,r=t.name;e.modifiersData[r]=l5({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var c5={name:"popperOffsets",enabled:!0,phase:"read",fn:lZ,data:{}};function cZ(t){return t==="x"?"y":"x"}function fZ(t){var e=t.state,r=t.options,n=t.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,f=r.altBoundary,c=r.padding,h=r.tether,p=h===void 0?!0:h,v=r.tetherOffset,g=v===void 0?0:v,y=Zp(e,{boundary:u,rootBoundary:l,padding:c,altBoundary:f}),m=Gi(e.placement),d=yf(e.placement),_=!d,x=jC(m),w=cZ(x),S=e.modifiersData.popperOffsets,b=e.rects.reference,T=e.rects.popper,C=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,M=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,E={x:0,y:0};if(S){if(i){var k,O=x==="y"?Vn:Pn,A=x==="y"?ka:Ra,I=x==="y"?"height":"width",U=S[x],P=U+y[O],B=U-y[A],W=p?-T[I]/2:0,H=d===pf?b[I]:T[I],$=d===pf?-T[I]:-b[I],q=e.elements.arrow,Q=p&&q?HC(q):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:n5(),ie=Y[O],J=Y[A],ae=dp(0,b[I],Q[I]),re=_?b[I]/2-W-ae-ie-M.mainAxis:H-ae-ie-M.mainAxis,V=_?-b[I]/2+W+ae+J+M.mainAxis:$+ae+J+M.mainAxis,R=e.elements.arrow&&Yv(e.elements.arrow),F=R?x==="y"?R.clientTop||0:R.clientLeft||0:0,N=(k=D==null?void 0:D[x])!=null?k:0,L=U+re-N-F,G=U+V-N,z=dp(p?wy(P,L):P,U,p?vl(B,G):B);S[x]=z,E[x]=z-U}if(s){var j,K=x==="x"?Vn:Pn,Z=x==="x"?ka:Ra,ne=S[w],ue=w==="y"?"height":"width",se=ne+y[K],he=ne-y[Z],le=[Vn,Pn].indexOf(m)!==-1,ce=(j=D==null?void 0:D[w])!=null?j:0,me=le?se:ne-b[ue]-T[ue]-ce+M.altAxis,ee=le?ne+b[ue]+T[ue]-ce-M.altAxis:he,_e=p&&le?Vq(me,ne,ee):dp(p?me:se,ne,p?ee:he);S[w]=_e,E[w]=_e-ne}e.modifiersData[n]=E}}var hZ={name:"preventOverflow",enabled:!0,phase:"main",fn:fZ,requiresIfExists:["offset"]};function pZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vZ(t){return t===pi(t)||!Ta(t)?$C(t):pZ(t)}function dZ(t){var e=t.getBoundingClientRect(),r=df(e.width)/t.offsetWidth||1,n=df(e.height)/t.offsetHeight||1;return r!==1||n!==1}function gZ(t,e,r){r===void 0&&(r=!1);var n=Ta(e),a=Ta(e)&&dZ(e),i=iu(e),o=gf(t,a),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Ki(e)!=="body"||XC(i))&&(s=vZ(e)),Ta(e)?(u=gf(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=KC(i))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function yZ(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=e.get(s);u&&a(u)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||a(i)}),n}function mZ(t){var e=yZ(t);return Aq.reduce(function(r,n){return r.concat(e.filter(function(a){return a.phase===n}))},[])}function _Z(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function xZ(t){var e=t.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var QO={placement:"bottom",modifiers:[],strategy:"absolute"};function eM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function YC(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,a=e.defaultOptions,i=a===void 0?QO:a;return function(o,s,u){u===void 0&&(u=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},QO,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},f=[],c=!1,h={state:l,setOptions:function(g){var y=typeof g=="function"?g(l.options):g;v(),l.options=Object.assign({},i,l.options,y),l.scrollParents={reference:vf(o)?gp(o):o.contextElement?gp(o.contextElement):[],popper:gp(s)};var m=mZ(xZ([].concat(n,l.options.modifiers)));return l.orderedModifiers=m.filter(function(d){return d.enabled}),p(),h.update()},forceUpdate:function(){if(!c){var g=l.elements,y=g.reference,m=g.popper;if(eM(y,m)){l.rects={reference:gZ(y,Yv(m),l.options.strategy==="fixed"),popper:HC(m)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(T){return l.modifiersData[T.name]=Object.assign({},T.data)});for(var d=0;d<l.orderedModifiers.length;d++){if(l.reset===!0){l.reset=!1,d=-1;continue}var _=l.orderedModifiers[d],x=_.fn,w=_.options,S=w===void 0?{}:w,b=_.name;typeof x=="function"&&(l=x({state:l,options:S,name:b,instance:h})||l)}}}},update:_Z(function(){return new Promise(function(g){h.forceUpdate(),g(l)})}),destroy:function(){v(),c=!0}};if(!eM(o,s))return h;h.setOptions(u).then(function(g){!c&&u.onFirstUpdate&&u.onFirstUpdate(g)});function p(){l.orderedModifiers.forEach(function(g){var y=g.name,m=g.options,d=m===void 0?{}:m,_=g.effect;if(typeof _=="function"){var x=_({state:l,name:y,instance:h,options:d}),w=function(){};f.push(x||w)}})}function v(){f.forEach(function(g){return g()}),f=[]}return h}}YC();var wZ=[s5,c5,o5,t5];YC({defaultModifiers:wZ});var SZ=[s5,c5,o5,t5,uZ,nZ,hZ,Gq,iZ],bZ=YC({defaultModifiers:SZ});const TZ=["fixed","absolute"],CZ=pr({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:it(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Xv,default:"bottom"},popperOptions:{type:it(Object),default:()=>({})},strategy:{type:String,values:TZ,default:"absolute"}}),f5=pr({...CZ,id:String,style:{type:it([String,Array,Object])},className:{type:it([String,Array,Object])},effect:{type:it(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:it([String,Array,Object])},popperStyle:{type:it([String,Array,Object])},referenceEl:{type:it(Object)},triggerTargetEl:{type:it(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...$v(["ariaLabel"])}),EZ={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},DZ=(t,e)=>{const r=be(!1),n=be();return{focusStartRef:n,trapped:r,onFocusAfterReleased:l=>{var f;((f=l.detail)==null?void 0:f.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:l=>{t.visible&&!r.value&&(l.target&&(n.value=l.target),r.value=!0)},onFocusoutPrevented:l=>{t.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},OZ=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:a}=t,i={placement:r,strategy:n,...a,modifiers:[...LZ(t),...e]};return kZ(i,a==null?void 0:a.modifiers),i},MZ=t=>{if(er)return Ms(t)};function LZ(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function kZ(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const RZ=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const l=AZ(u);Object.assign(o.value,l)},requires:["computeStyles"]},a=ve(()=>{const{onFirstUpdate:u,placement:l,strategy:f,modifiers:c}=te(r);return{onFirstUpdate:u,placement:l||"bottom",strategy:f||"absolute",modifiers:[...c||[],n,{name:"applyStyles",enabled:!1}]}}),i=Ao(),o=be({styles:{popper:{position:te(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return ft(a,u=>{const l=te(i);l&&l.setOptions(u)},{deep:!0}),ft([t,e],([u,l])=>{s(),!(!u||!l)&&(i.value=bZ(u,l,te(a)))}),$n(()=>{s()}),{state:ve(()=>{var u;return{...((u=te(i))==null?void 0:u.state)||{}}}),styles:ve(()=>te(o).styles),attributes:ve(()=>te(o).attributes),update:()=>{var u;return(u=te(i))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=te(i))==null?void 0:u.forceUpdate()},instanceRef:ve(()=>te(i))}};function AZ(t){const e=Object.keys(t.elements),r=Kp(e.map(a=>[a,t.styles[a]||{}])),n=Kp(e.map(a=>[a,t.attributes[a]]));return{styles:r,attributes:n}}const NZ=0,FZ=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:a}=It(PC,void 0),i=be(),o=be(),s=ve(()=>({name:"eventListeners",enabled:!!t.visible})),u=ve(()=>{var m;const d=te(i),_=(m=te(o))!=null?m:NZ;return{name:"arrow",enabled:!$K(d),options:{element:d,padding:_}}}),l=ve(()=>({onFirstUpdate:()=>{v()},...OZ(t,[te(u),te(s)])})),f=ve(()=>MZ(t.referenceEl)||te(n)),{attributes:c,state:h,styles:p,update:v,forceUpdate:g,instanceRef:y}=RZ(f,r,l);return ft(y,m=>e.value=m),mr(()=>{ft(()=>{var m;return(m=te(f))==null?void 0:m.getBoundingClientRect()},()=>{v()})}),{attributes:c,arrowRef:i,contentRef:r,instanceRef:y,state:h,styles:p,role:a,forceUpdate:g,update:v}},BZ=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:a}=BC(),i=fr("popper"),o=ve(()=>te(e).popper),s=be(Wt(t.zIndex)?t.zIndex:a()),u=ve(()=>[i.b(),i.is("pure",t.pure),i.is(t.effect),t.popperClass]),l=ve(()=>[{zIndex:te(s)},te(r).popper,t.popperStyle||{}]),f=ve(()=>n.value==="dialog"?"false":void 0),c=ve(()=>te(r).arrow||{});return{ariaModal:f,arrowStyle:c,contentAttrs:o,contentClass:u,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=Wt(t.zIndex)?t.zIndex:a()}}},IZ=Ae({name:"ElPopperContent"}),VZ=Ae({...IZ,props:f5,emits:EZ,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:u,onFocusoutPrevented:l,onReleaseRequested:f}=DZ(n,r),{attributes:c,arrowRef:h,contentRef:p,styles:v,instanceRef:g,role:y,update:m}=FZ(n),{ariaModal:d,arrowStyle:_,contentAttrs:x,contentClass:w,contentStyle:S,updateZIndex:b}=BZ(n,{styles:v,attributes:c,role:y}),T=It(xy,void 0),C=be();Qn($I,{arrowStyle:_,arrowRef:h,arrowOffset:C}),T&&Qn(xy,{...T,addInputId:pn,removeInputId:pn});let M;const D=(k=!0)=>{m(),k&&b()},E=()=>{D(!1),n.visible&&n.focusOnShow?i.value=!0:n.visible===!1&&(i.value=!1)};return mr(()=>{ft(()=>n.triggerTargetEl,(k,O)=>{M==null||M(),M=void 0;const A=te(k||p.value),I=te(O||p.value);Fo(A)&&(M=ft([y,()=>n.ariaLabel,d,()=>n.id],U=>{["role","aria-label","aria-modal","id"].forEach((P,B)=>{No(U[B])?A.removeAttribute(P):A.setAttribute(P,U[B])})},{immediate:!0})),I!==A&&Fo(I)&&["role","aria-label","aria-modal","id"].forEach(U=>{I.removeAttribute(U)})},{immediate:!0}),ft(()=>n.visible,E,{immediate:!0})}),$n(()=>{M==null||M(),M=void 0}),e({popperContentRef:p,popperInstanceRef:g,updatePopper:D,contentStyle:S}),(k,O)=>(xe(),Re("div",$i({ref_key:"contentRef",ref:p},te(x),{style:te(S),class:te(w),tabindex:"-1",onMouseenter:A=>k.$emit("mouseenter",A),onMouseleave:A=>k.$emit("mouseleave",A)}),[Pe(te(QI),{trapped:te(i),"trap-on-focus-in":!0,"focus-trap-el":te(p),"focus-start-el":te(a),onFocusAfterTrapped:te(s),onFocusAfterReleased:te(o),onFocusin:te(u),onFocusoutPrevented:te(l),onReleaseRequested:te(f)},{default:Ye(()=>[ht(k.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var PZ=ar(VZ,[["__file","content.vue"]]);const UZ=Na(JY),qC=Symbol("elTooltip");function tM(){let t;const e=(n,a)=>{r(),t=window.setTimeout(n,a)},r=()=>window.clearTimeout(t);return Um(()=>r()),{registerTimeout:e,cancelTimeout:r}}const zZ=pr({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),GZ=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:a})=>{const{registerTimeout:i}=tM(),{registerTimeout:o,cancelTimeout:s}=tM();return{onOpen:f=>{i(()=>{n(f);const c=te(r);Wt(c)&&c>0&&o(()=>{a(f)},c)},te(t))},onClose:f=>{s(),i(()=>{a(f)},te(e))}}},h5=pr({...zZ,...f5,appendTo:{type:it([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:it(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...$v(["ariaLabel"])}),p5=pr({...YI,disabled:Boolean,trigger:{type:it([String,Array]),default:"hover"},triggerKeys:{type:it(Array),default:()=>[Or.enter,Or.numpadEnter,Or.space]}}),WZ=zm({type:it(Boolean),default:null}),HZ=zm({type:it(Function)}),jZ=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],a={[t]:WZ,[r]:HZ};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:u,shouldProceed:l,onShow:f,onHide:c})=>{const h=na(),{emit:p}=h,v=h.props,g=ve(()=>Ge(v[r])),y=ve(()=>v[t]===null),m=b=>{o.value!==!0&&(o.value=!0,s&&(s.value=b),Ge(f)&&f(b))},d=b=>{o.value!==!1&&(o.value=!1,s&&(s.value=b),Ge(c)&&c(b))},_=b=>{if(v.disabled===!0||Ge(l)&&!l())return;const T=g.value&&er;T&&p(e,!0),(y.value||!T)&&m(b)},x=b=>{if(v.disabled===!0||!er)return;const T=g.value&&er;T&&p(e,!1),(y.value||!T)&&d(b)},w=b=>{gy(b)&&(v.disabled&&b?g.value&&p(e,!1):o.value!==b&&(b?m():d()))},S=()=>{o.value?x():_()};return ft(()=>v[t],w),u&&h.appContext.config.globalProperties.$route!==void 0&&ft(()=>({...h.proxy.$route}),()=>{u.value&&o.value&&x()}),mr(()=>{w(v[t])}),{hide:x,show:_,toggle:S,hasUpdateHandler:g}},useModelToggleProps:a,useModelToggleEmits:n}},{useModelToggleProps:$Z,useModelToggleEmits:KZ,useModelToggle:XZ}=jZ("visible"),YZ=pr({...KI,...$Z,...h5,...p5,...XI,showArrow:{type:Boolean,default:!0}}),qZ=[...KZ,"before-show","before-hide","show","hide","open","close"],ZZ=(t,e)=>We(t)?t.includes(e):t===e,ql=(t,e,r)=>n=>{ZZ(te(t),e)&&r(n)},ho=(t,e,{checkForDefaultPrevented:r=!0}={})=>a=>{const i=t==null?void 0:t(a);if(r===!1||!i)return e==null?void 0:e(a)},JZ=Ae({name:"ElTooltipTrigger"}),QZ=Ae({...JZ,props:p5,setup(t,{expose:e}){const r=t,n=fr("tooltip"),{controlled:a,id:i,open:o,onOpen:s,onClose:u,onToggle:l}=It(qC,void 0),f=be(null),c=()=>{if(te(a)||r.disabled)return!0},h=Eo(r,"trigger"),p=ho(c,ql(h,"hover",s)),v=ho(c,ql(h,"hover",u)),g=ho(c,ql(h,"click",x=>{x.button===0&&l(x)})),y=ho(c,ql(h,"focus",s)),m=ho(c,ql(h,"focus",u)),d=ho(c,ql(h,"contextmenu",x=>{x.preventDefault(),l(x)})),_=ho(c,x=>{const{code:w}=x;r.triggerKeys.includes(w)&&(x.preventDefault(),l(x))});return e({triggerRef:f}),(x,w)=>(xe(),lt(te(uq),{id:te(i),"virtual-ref":x.virtualRef,open:te(o),"virtual-triggering":x.virtualTriggering,class:Be(te(n).e("trigger")),onBlur:te(m),onClick:te(g),onContextmenu:te(d),onFocus:te(y),onMouseenter:te(p),onMouseleave:te(v),onKeydown:te(_)},{default:Ye(()=>[ht(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var eJ=ar(QZ,[["__file","trigger.vue"]]);const tJ=pr({to:{type:it([String,Object]),required:!0},disabled:Boolean}),rJ=Ae({__name:"teleport",props:tJ,setup(t){return(e,r)=>e.disabled?ht(e.$slots,"default",{key:0}):(xe(),lt(gj,{key:1,to:e.to},[ht(e.$slots,"default")],8,["to"]))}});var nJ=ar(rJ,[["__file","teleport.vue"]]);const v5=Na(nJ),d5=()=>{const t=MC(),e=GI(),r=ve(()=>`${t.value}-popper-container-${e.prefix}`),n=ve(()=>`#${r.value}`);return{id:r,selector:n}},aJ=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},iJ=()=>{const{id:t,selector:e}=d5();return z4(()=>{er&&(document.body.querySelector(e.value)||aJ(t.value))}),{id:t,selector:e}},oJ=Ae({name:"ElTooltipContent",inheritAttrs:!1}),sJ=Ae({...oJ,props:h5,setup(t,{expose:e}){const r=t,{selector:n}=d5(),a=fr("tooltip"),i=be();let o;const{controlled:s,id:u,open:l,trigger:f,onClose:c,onOpen:h,onShow:p,onHide:v,onBeforeShow:g,onBeforeHide:y}=It(qC,void 0),m=ve(()=>r.transition||`${a.namespace.value}-fade-in-linear`),d=ve(()=>r.persistent);$n(()=>{o==null||o()});const _=ve(()=>te(d)?!0:te(l)),x=ve(()=>r.disabled?!1:te(l)),w=ve(()=>r.appendTo||n.value),S=ve(()=>{var U;return(U=r.style)!=null?U:{}}),b=be(!0),T=()=>{v(),I()&&fo(document.body),b.value=!0},C=()=>{if(te(s))return!0},M=ho(C,()=>{r.enterable&&te(f)==="hover"&&h()}),D=ho(C,()=>{te(f)==="hover"&&c()}),E=()=>{var U,P;(P=(U=i.value)==null?void 0:U.updatePopper)==null||P.call(U),g==null||g()},k=()=>{y==null||y()},O=()=>{p(),o=dX(ve(()=>{var U;return(U=i.value)==null?void 0:U.popperContentRef}),()=>{if(te(s))return;te(f)!=="hover"&&c()})},A=()=>{r.virtualTriggering||c()},I=U=>{var P;const B=(P=i.value)==null?void 0:P.popperContentRef,W=(U==null?void 0:U.relatedTarget)||document.activeElement;return B==null?void 0:B.contains(W)};return ft(()=>te(l),U=>{U?b.value=!1:o==null||o()},{flush:"post"}),ft(()=>r.content,()=>{var U,P;(P=(U=i.value)==null?void 0:U.updatePopper)==null||P.call(U)}),e({contentRef:i,isFocusInsideContent:I}),(U,P)=>(xe(),lt(te(v5),{disabled:!U.teleported,to:te(w)},{default:Ye(()=>[Pe(zv,{name:te(m),onAfterLeave:T,onBeforeEnter:E,onAfterEnter:O,onBeforeLeave:k},{default:Ye(()=>[te(_)?Hs((xe(),lt(te(PZ),$i({key:0,id:te(u),ref_key:"contentRef",ref:i},U.$attrs,{"aria-label":U.ariaLabel,"aria-hidden":b.value,"boundaries-padding":U.boundariesPadding,"fallback-placements":U.fallbackPlacements,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,placement:U.placement,"popper-options":U.popperOptions,strategy:U.strategy,effect:U.effect,enterable:U.enterable,pure:U.pure,"popper-class":U.popperClass,"popper-style":[U.popperStyle,te(S)],"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,visible:te(x),"z-index":U.zIndex,onMouseenter:te(M),onMouseleave:te(D),onBlur:A,onClose:te(c)}),{default:Ye(()=>[ht(U.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Gv,te(x)]]):at("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var uJ=ar(sJ,[["__file","content.vue"]]);const lJ=Ae({name:"ElTooltip"}),cJ=Ae({...lJ,props:YZ,emits:qZ,setup(t,{expose:e,emit:r}){const n=t;iJ();const a=WI(),i=be(),o=be(),s=()=>{var m;const d=te(i);d&&((m=d.popperInstanceRef)==null||m.update())},u=be(!1),l=be(),{show:f,hide:c,hasUpdateHandler:h}=XZ({indicator:u,toggleReason:l}),{onOpen:p,onClose:v}=GZ({showAfter:Eo(n,"showAfter"),hideAfter:Eo(n,"hideAfter"),autoClose:Eo(n,"autoClose"),open:f,close:c}),g=ve(()=>gy(n.visible)&&!h.value);Qn(qC,{controlled:g,id:a,open:Vv(u),trigger:Eo(n,"trigger"),onOpen:m=>{p(m)},onClose:m=>{v(m)},onToggle:m=>{te(u)?v(m):p(m)},onShow:()=>{r("show",l.value)},onHide:()=>{r("hide",l.value)},onBeforeShow:()=>{r("before-show",l.value)},onBeforeHide:()=>{r("before-hide",l.value)},updatePopper:s}),ft(()=>n.disabled,m=>{m&&u.value&&(u.value=!1)});const y=m=>{var d;return(d=o.value)==null?void 0:d.isFocusInsideContent(m)};return P4(()=>u.value&&c()),e({popperRef:i,contentRef:o,isFocusInsideContent:y,updatePopper:s,onOpen:p,onClose:v,hide:c}),(m,d)=>(xe(),lt(te(UZ),{ref_key:"popperRef",ref:i,role:m.role},{default:Ye(()=>[Pe(eJ,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:Ye(()=>[m.$slots.default?ht(m.$slots,"default",{key:0}):at("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Pe(uJ,{ref_key:"contentRef",ref:o,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:Ye(()=>[ht(m.$slots,"content",{},()=>[m.rawContent?(xe(),Re("span",{key:0,innerHTML:m.content},null,8,["innerHTML"])):(xe(),Re("span",{key:1},Zn(m.content),1))]),m.showArrow?(xe(),lt(te(tq),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):at("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var fJ=ar(cJ,[["__file","tooltip.vue"]]);const hJ=Na(fJ),pJ=pr({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:it([String,Object,Array])},offset:{type:it(Array),default:[0,0]},badgeClass:{type:String}}),vJ=Ae({name:"ElBadge"}),dJ=Ae({...vJ,props:pJ,setup(t,{expose:e}){const r=t,n=fr("badge"),a=ve(()=>r.isDot?"":Wt(r.value)&&Wt(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`),i=ve(()=>{var o,s,u,l,f;return[{backgroundColor:r.color,marginRight:tb(-((s=(o=r.offset)==null?void 0:o[0])!=null?s:0)),marginTop:tb((l=(u=r.offset)==null?void 0:u[1])!=null?l:0)},(f=r.badgeStyle)!=null?f:{}]});return e({content:a}),(o,s)=>(xe(),Re("div",{class:Be(te(n).b())},[ht(o.$slots,"default"),Pe(zv,{name:`${te(n).namespace.value}-zoom-in-center`,persisted:""},{default:Ye(()=>[Hs(De("sup",{class:Be([te(n).e("content"),te(n).em("content",o.type),te(n).is("fixed",!!o.$slots.default),te(n).is("dot",o.isDot),te(n).is("hide-zero",!o.showZero&&r.value===0),o.badgeClass]),style:kr(te(i))},[ht(o.$slots,"content",{value:te(a)},()=>[hf(Zn(te(a)),1)])],6),[[Gv,!o.hidden&&(te(a)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var gJ=ar(dJ,[["__file","badge.vue"]]);const yJ=Na(gJ),g5=Symbol("buttonGroupContextKey"),mJ=({from:t,replacement:e,scope:r,version:n,ref:a,type:i="API"},o)=>{ft(()=>te(o),s=>{},{immediate:!0})},_J=(t,e)=>{mJ({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ve(()=>t.type==="text"));const r=It(g5,void 0),n=IC("button"),{form:a}=Hm(),i=jm(ve(()=>r==null?void 0:r.size)),o=$m(),s=be(),u=TC(),l=ve(()=>t.type||(r==null?void 0:r.type)||""),f=ve(()=>{var v,g,y;return(y=(g=t.autoInsertSpace)!=null?g:(v=n.value)==null?void 0:v.autoInsertSpace)!=null?y:!1}),c=ve(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=ve(()=>{var v;const g=(v=u.default)==null?void 0:v.call(u);if(f.value&&(g==null?void 0:g.length)===1){const y=g[0];if((y==null?void 0:y.type)===Bf){const m=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:i,_type:l,_ref:s,_props:c,shouldAddSpace:h,handleClick:v=>{if(o.value||t.loading){v.stopPropagation();return}t.nativeType==="reset"&&(a==null||a.resetFields()),e("click",v)}}},xJ=["default","primary","success","warning","info","danger","text",""],wJ=["button","submit","reset"],ab=pr({size:Xp,disabled:Boolean,type:{type:String,values:xJ,default:""},icon:{type:Yp},nativeType:{type:String,values:wJ,default:"button"},loading:Boolean,loadingIcon:{type:Yp,default:()=>PI},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:it([String,Object]),default:"button"}}),SJ={click:t=>t instanceof MouseEvent};function rn(t,e){bJ(t)&&(t="100%");var r=TJ(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Nd(t){return Math.min(1,Math.max(0,t))}function bJ(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function TJ(t){return typeof t=="string"&&t.indexOf("%")!==-1}function y5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Fd(t){return t<=1?"".concat(Number(t)*100,"%"):t}function rl(t){return t.length===1?"0"+t:String(t)}function CJ(t,e,r){return{r:rn(t,255)*255,g:rn(e,255)*255,b:rn(r,255)*255}}function rM(t,e,r){t=rn(t,255),e=rn(e,255),r=rn(r,255);var n=Math.max(t,e,r),a=Math.min(t,e,r),i=0,o=0,s=(n+a)/2;if(n===a)o=0,i=0;else{var u=n-a;switch(o=s>.5?u/(2-n-a):u/(n+a),n){case t:i=(e-r)/u+(e<r?6:0);break;case e:i=(r-t)/u+2;break;case r:i=(t-e)/u+4;break}i/=6}return{h:i,s:o,l:s}}function P_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function EJ(t,e,r){var n,a,i;if(t=rn(t,360),e=rn(e,100),r=rn(r,100),e===0)a=r,i=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=P_(s,o,t+1/3),a=P_(s,o,t),i=P_(s,o,t-1/3)}return{r:n*255,g:a*255,b:i*255}}function nM(t,e,r){t=rn(t,255),e=rn(e,255),r=rn(r,255);var n=Math.max(t,e,r),a=Math.min(t,e,r),i=0,o=n,s=n-a,u=n===0?0:s/n;if(n===a)i=0;else{switch(n){case t:i=(e-r)/s+(e<r?6:0);break;case e:i=(r-t)/s+2;break;case r:i=(t-e)/s+4;break}i/=6}return{h:i,s:u,v:o}}function DJ(t,e,r){t=rn(t,360)*6,e=rn(e,100),r=rn(r,100);var n=Math.floor(t),a=t-n,i=r*(1-e),o=r*(1-a*e),s=r*(1-(1-a)*e),u=n%6,l=[r,o,i,i,s,r][u],f=[s,r,r,o,i,i][u],c=[i,i,s,r,r,o][u];return{r:l*255,g:f*255,b:c*255}}function aM(t,e,r,n){var a=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(r).toString(16))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function OJ(t,e,r,n,a){var i=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(r).toString(16)),rl(MJ(n))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function MJ(t){return Math.round(parseFloat(t)*255).toString(16)}function iM(t){return Kn(t)/255}function Kn(t){return parseInt(t,16)}function LJ(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var ib={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function kJ(t){var e={r:0,g:0,b:0},r=1,n=null,a=null,i=null,o=!1,s=!1;return typeof t=="string"&&(t=NJ(t)),typeof t=="object"&&(to(t.r)&&to(t.g)&&to(t.b)?(e=CJ(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):to(t.h)&&to(t.s)&&to(t.v)?(n=Fd(t.s),a=Fd(t.v),e=DJ(t.h,n,a),o=!0,s="hsv"):to(t.h)&&to(t.s)&&to(t.l)&&(n=Fd(t.s),i=Fd(t.l),e=EJ(t.h,n,i),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=y5(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var RJ="[-\\+]?\\d+%?",AJ="[-\\+]?\\d*\\.\\d+%?",Ls="(?:".concat(AJ,")|(?:").concat(RJ,")"),U_="[\\s|\\(]+(".concat(Ls,")[,|\\s]+(").concat(Ls,")[,|\\s]+(").concat(Ls,")\\s*\\)?"),z_="[\\s|\\(]+(".concat(Ls,")[,|\\s]+(").concat(Ls,")[,|\\s]+(").concat(Ls,")[,|\\s]+(").concat(Ls,")\\s*\\)?"),Ha={CSS_UNIT:new RegExp(Ls),rgb:new RegExp("rgb"+U_),rgba:new RegExp("rgba"+z_),hsl:new RegExp("hsl"+U_),hsla:new RegExp("hsla"+z_),hsv:new RegExp("hsv"+U_),hsva:new RegExp("hsva"+z_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function NJ(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(ib[t])t=ib[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Ha.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=Ha.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ha.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=Ha.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ha.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=Ha.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ha.hex8.exec(t),r?{r:Kn(r[1]),g:Kn(r[2]),b:Kn(r[3]),a:iM(r[4]),format:e?"name":"hex8"}:(r=Ha.hex6.exec(t),r?{r:Kn(r[1]),g:Kn(r[2]),b:Kn(r[3]),format:e?"name":"hex"}:(r=Ha.hex4.exec(t),r?{r:Kn(r[1]+r[1]),g:Kn(r[2]+r[2]),b:Kn(r[3]+r[3]),a:iM(r[4]+r[4]),format:e?"name":"hex8"}:(r=Ha.hex3.exec(t),r?{r:Kn(r[1]+r[1]),g:Kn(r[2]+r[2]),b:Kn(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function to(t){return!!Ha.CSS_UNIT.exec(String(t))}var FJ=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=LJ(e)),this.originalInput=e;var a=kJ(e);this.originalInput=e,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:a.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,a,i=e.r/255,o=e.g/255,s=e.b/255;return i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*a},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=y5(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=nM(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=nM(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),a=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=rM(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=rM(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),a=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),aM(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),OJ(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(rn(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(rn(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+aM(this.r,this.g,this.b,!1),r=0,n=Object.entries(ib);r<n.length;r++){var a=n[r],i=a[0],o=a[1];if(e===o)return i}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,a=this.a<1&&this.a>=0,i=!r&&a&&(e.startsWith("hex")||e==="name");return i?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Nd(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Nd(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Nd(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Nd(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),a=new t(e).toRgb(),i=r/100,o={r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),a=360/r,i=[this];for(n.h=(n.h-(a*e>>1)+720)%360;--e;)n.h=(n.h+a)%360,i.push(new t(n));return i},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,a=r.s,i=r.v,o=[],s=1/e;e--;)o.push(new t({h:n,s:a,v:i})),i=(i+s)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),a=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/a,g:(r.g*r.a+n.g*n.a*(1-r.a))/a,b:(r.b*r.a+n.b*n.a*(1-r.a))/a,a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,a=[this],i=360/e,o=1;o<e;o++)a.push(new t({h:(n+o*i)%360,s:r.s,l:r.l}));return a},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function es(t,e=20){return t.mix("#141414",e).toString()}function BJ(t){const e=$m(),r=fr("button");return ve(()=>{let n={},a=t.color;if(a){const i=a.match(/var\((.*?)\)/);i&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const o=new FJ(a),s=t.dark?o.tint(20).toString():es(o,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?es(o,90):o.tint(90).toString(),"text-color":a,"border-color":t.dark?es(o,50):o.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":s,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":s}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?es(o,90):o.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?es(o,50):o.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?es(o,80):o.tint(80).toString());else{const u=t.dark?es(o,30):o.tint(30).toString(),l=o.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":a,"text-color":l,"border-color":a,"hover-bg-color":u,"hover-text-color":l,"hover-border-color":u,"active-bg-color":s,"active-border-color":s}),e.value){const f=t.dark?es(o,50):o.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=f,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=f}}}return n})}const IJ=Ae({name:"ElButton"}),VJ=Ae({...IJ,props:ab,emits:SJ,setup(t,{expose:e,emit:r}){const n=t,a=BJ(n),i=fr("button"),{_ref:o,_size:s,_type:u,_disabled:l,_props:f,shouldAddSpace:c,handleClick:h}=_J(n,r),p=ve(()=>[i.b(),i.m(u.value),i.m(s.value),i.is("disabled",l.value),i.is("loading",n.loading),i.is("plain",n.plain),i.is("round",n.round),i.is("circle",n.circle),i.is("text",n.text),i.is("link",n.link),i.is("has-bg",n.bg)]);return e({ref:o,size:s,type:u,disabled:l,shouldAddSpace:c}),(v,g)=>(xe(),lt(Do(v.tag),$i({ref_key:"_ref",ref:o},te(f),{class:te(p),style:te(a),onClick:te(h)}),{default:Ye(()=>[v.loading?(xe(),Re(Gt,{key:0},[v.$slots.loading?ht(v.$slots,"loading",{key:0}):(xe(),lt(te(Vr),{key:1,class:Be(te(i).is("loading"))},{default:Ye(()=>[(xe(),lt(Do(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(xe(),lt(te(Vr),{key:1},{default:Ye(()=>[v.icon?(xe(),lt(Do(v.icon),{key:0})):ht(v.$slots,"icon",{key:1})]),_:3})):at("v-if",!0),v.$slots.default?(xe(),Re("span",{key:2,class:Be({[te(i).em("text","expand")]:te(c)})},[ht(v.$slots,"default")],2)):at("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var PJ=ar(VJ,[["__file","button.vue"]]);const UJ={size:ab.size,type:ab.type},zJ=Ae({name:"ElButtonGroup"}),GJ=Ae({...zJ,props:UJ,setup(t){const e=t;Qn(g5,Xo({size:Eo(e,"size"),type:Eo(e,"type")}));const r=fr("button");return(n,a)=>(xe(),Re("div",{class:Be(te(r).b("group"))},[ht(n.$slots,"default")],2))}});var m5=ar(GJ,[["__file","button-group.vue"]]);const WJ=Na(PJ,{ButtonGroup:m5});jv(m5);var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}const jJ=(t,e)=>{if(!er||!t||!e)return!1;const r=t.getBoundingClientRect();let n;return e instanceof Element?n=e.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right},Ri={},$J=Ae({name:"ElContainer"}),KJ=Ae({...$J,props:{direction:{type:String}},setup(t){const e=t,r=TC(),n=fr("container"),a=ve(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(i,o)=>(xe(),Re("section",{class:Be([te(n).b(),te(n).is("vertical",te(a))])},[ht(i.$slots,"default")],2))}});var XJ=ar(KJ,[["__file","container.vue"]]);const YJ=Ae({name:"ElAside"}),qJ=Ae({...YJ,props:{width:{type:String,default:null}},setup(t){const e=t,r=fr("aside"),n=ve(()=>e.width?r.cssVarBlock({width:e.width}):{});return(a,i)=>(xe(),Re("aside",{class:Be(te(r).b()),style:kr(te(n))},[ht(a.$slots,"default")],6))}});var _5=ar(qJ,[["__file","aside.vue"]]);const ZJ=Ae({name:"ElFooter"}),JJ=Ae({...ZJ,props:{height:{type:String,default:null}},setup(t){const e=t,r=fr("footer"),n=ve(()=>e.height?r.cssVarBlock({height:e.height}):{});return(a,i)=>(xe(),Re("footer",{class:Be(te(r).b()),style:kr(te(n))},[ht(a.$slots,"default")],6))}});var x5=ar(JJ,[["__file","footer.vue"]]);const QJ=Ae({name:"ElHeader"}),eQ=Ae({...QJ,props:{height:{type:String,default:null}},setup(t){const e=t,r=fr("header"),n=ve(()=>e.height?r.cssVarBlock({height:e.height}):{});return(a,i)=>(xe(),Re("header",{class:Be(te(r).b()),style:kr(te(n))},[ht(a.$slots,"default")],6))}});var w5=ar(eQ,[["__file","header.vue"]]);const tQ=Ae({name:"ElMain"}),rQ=Ae({...tQ,setup(t){const e=fr("main");return(r,n)=>(xe(),Re("main",{class:Be(te(e).b())},[ht(r.$slots,"default")],2))}});var S5=ar(rQ,[["__file","main.vue"]]);const nQ=Na(XJ,{Aside:_5,Footer:x5,Header:w5,Main:S5}),aQ=jv(_5),iQ=jv(x5),oQ=jv(w5),sQ=jv(S5),uQ=100,lQ=600,oM={beforeMount(t,e){const r=e.value,{interval:n=uQ,delay:a=lQ}=Ge(r)?{}:r;let i,o;const s=()=>Ge(r)?r():r.handler(),u=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearInterval(i),i=void 0)};t.addEventListener("mousedown",l=>{l.button===0&&(u(),s(),document.addEventListener("mouseup",()=>u(),{once:!0}),o=setTimeout(()=>{i=setInterval(()=>{s()},n)},a))})}},cQ=pr({urlList:{type:it(Array),default:()=>Wm([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:it(String)}}),fQ={close:()=>!0,switch:t=>Wt(t),rotate:t=>Wt(t)},hQ=Ae({name:"ElImageViewer"}),pQ=Ae({...hQ,props:cQ,emits:fQ,setup(t,{expose:e,emit:r}){var n;const a=t,i={CONTAIN:{name:"contain",icon:GS(aY)},ORIGINAL:{name:"original",icon:GS(_Y)}};let o,s="";const{t:u}=Hv(),l=fr("image-viewer"),{nextZIndex:f}=BC(),c=be(),h=be([]),p=IH(),v=be(!0),g=be(a.initialIndex),y=Ao(i.CONTAIN),m=be({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),d=be((n=a.zIndex)!=null?n:f()),_=ve(()=>{const{urlList:ie}=a;return ie.length<=1}),x=ve(()=>g.value===0),w=ve(()=>g.value===a.urlList.length-1),S=ve(()=>a.urlList[g.value]),b=ve(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!a.infinite&&x.value)]),T=ve(()=>[l.e("btn"),l.e("next"),l.is("disabled",!a.infinite&&w.value)]),C=ve(()=>{const{scale:ie,deg:J,offsetX:ae,offsetY:re,enableTransition:V}=m.value;let R=ae/ie,F=re/ie;const N=J*Math.PI/180,L=Math.cos(N),G=Math.sin(N);R=R*L+F*G,F=F*L-ae/ie*G;const z={transform:`scale(${ie}) rotate(${J}deg) translate(${R}px, ${F}px)`,transition:V?"transform .3s":""};return y.value.name===i.CONTAIN.name&&(z.maxWidth=z.maxHeight="100%"),z}),M=ve(()=>`${g.value+1} / ${a.urlList.length}`);function D(){k(),o==null||o(),document.body.style.overflow=s,r("close")}function E(){const ie=B_(ae=>{switch(ae.code){case Or.esc:a.closeOnPressEscape&&D();break;case Or.space:P();break;case Or.left:W();break;case Or.up:$("zoomIn");break;case Or.right:H();break;case Or.down:$("zoomOut");break}}),J=B_(ae=>{const re=ae.deltaY||ae.deltaX;$(re<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});p.run(()=>{en(document,"keydown",ie),en(document,"wheel",J)})}function k(){p.stop()}function O(){v.value=!1}function A(ie){v.value=!1,ie.target.alt=u("el.image.error")}function I(ie){if(v.value||ie.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:J,offsetY:ae}=m.value,re=ie.pageX,V=ie.pageY,R=B_(N=>{m.value={...m.value,offsetX:J+N.pageX-re,offsetY:ae+N.pageY-V}}),F=en(document,"mousemove",R);en(document,"mouseup",()=>{F()}),ie.preventDefault()}function U(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function P(){if(v.value)return;const ie=eb(i),J=Object.values(i),ae=y.value.name,V=(J.findIndex(R=>R.name===ae)+1)%ie.length;y.value=i[ie[V]],U()}function B(ie){const J=a.urlList.length;g.value=(ie+J)%J}function W(){x.value&&!a.infinite||B(g.value-1)}function H(){w.value&&!a.infinite||B(g.value+1)}function $(ie,J={}){if(v.value)return;const{minScale:ae,maxScale:re}=a,{zoomRate:V,rotateDeg:R,enableTransition:F}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...J};switch(ie){case"zoomOut":m.value.scale>ae&&(m.value.scale=Number.parseFloat((m.value.scale/V).toFixed(3)));break;case"zoomIn":m.value.scale<re&&(m.value.scale=Number.parseFloat((m.value.scale*V).toFixed(3)));break;case"clockwise":m.value.deg+=R,r("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=R,r("rotate",m.value.deg);break}m.value.enableTransition=F}function q(ie){var J;((J=ie.detail)==null?void 0:J.focusReason)==="pointer"&&ie.preventDefault()}function Q(){a.closeOnPressEscape&&D()}function Y(ie){if(ie.ctrlKey){if(ie.deltaY<0)return ie.preventDefault(),!1;if(ie.deltaY>0)return ie.preventDefault(),!1}}return ft(S,()=>{Pr(()=>{const ie=h.value[0];ie!=null&&ie.complete||(v.value=!0)})}),ft(g,ie=>{U(),r("switch",ie)}),mr(()=>{E(),o=en("wheel",Y,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden"}),e({setActiveItem:B}),(ie,J)=>(xe(),lt(te(v5),{to:"body",disabled:!ie.teleported},{default:Ye(()=>[Pe(zv,{name:"viewer-fade",appear:""},{default:Ye(()=>[De("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:Be(te(l).e("wrapper")),style:kr({zIndex:d.value})},[Pe(te(QI),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:q,onReleaseRequested:Q},{default:Ye(()=>[De("div",{class:Be(te(l).e("mask")),onClick:hl(ae=>ie.hideOnClickModal&&D(),["self"])},null,10,["onClick"]),at(" CLOSE "),De("span",{class:Be([te(l).e("btn"),te(l).e("close")]),onClick:D},[Pe(te(Vr),null,{default:Ye(()=>[Pe(te(VI))]),_:1})],2),at(" ARROW "),te(_)?at("v-if",!0):(xe(),Re(Gt,{key:0},[De("span",{class:Be(te(b)),onClick:W},[Pe(te(Vr),null,{default:Ye(()=>[Pe(te($X))]),_:1})],2),De("span",{class:Be(te(T)),onClick:H},[Pe(te(Vr),null,{default:Ye(()=>[Pe(te(XX))]),_:1})],2)],64)),ie.showProgress?(xe(),Re("div",{key:1,class:Be([te(l).e("btn"),te(l).e("progress")])},[ht(ie.$slots,"progress",{activeIndex:g.value,total:ie.urlList.length},()=>[hf(Zn(te(M)),1)])],2)):at("v-if",!0),at(" ACTIONS "),De("div",{class:Be([te(l).e("btn"),te(l).e("actions")])},[De("div",{class:Be(te(l).e("actions__inner"))},[ht(ie.$slots,"toolbar",{actions:$,prev:W,next:H,reset:P,activeIndex:g.value},()=>[Pe(te(Vr),{onClick:ae=>$("zoomOut")},{default:Ye(()=>[Pe(te(MY))]),_:1},8,["onClick"]),Pe(te(Vr),{onClick:ae=>$("zoomIn")},{default:Ye(()=>[Pe(te(DY))]),_:1},8,["onClick"]),De("i",{class:Be(te(l).e("actions__divider"))},null,2),Pe(te(Vr),{onClick:P},{default:Ye(()=>[(xe(),lt(Do(te(y).icon)))]),_:1}),De("i",{class:Be(te(l).e("actions__divider"))},null,2),Pe(te(Vr),{onClick:ae=>$("anticlockwise")},{default:Ye(()=>[Pe(te(dY))]),_:1},8,["onClick"]),Pe(te(Vr),{onClick:ae=>$("clockwise")},{default:Ye(()=>[Pe(te(yY))]),_:1},8,["onClick"])])],2)],2),at(" CANVAS "),De("div",{class:Be(te(l).e("canvas"))},[(xe(!0),Re(Gt,null,hp(ie.urlList,(ae,re)=>Hs((xe(),Re("img",{ref_for:!0,ref:V=>h.value[re]=V,key:ae,src:ae,style:kr(te(C)),class:Be(te(l).e("img")),crossorigin:ie.crossorigin,onLoad:O,onError:A,onMousedown:I},null,46,["src","crossorigin"])),[[Gv,re===g.value]])),128))],2),ht(ie.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var vQ=ar(pQ,[["__file","image-viewer.vue"]]);const dQ=Na(vQ),gQ=pr({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:it([String,Object])},previewSrcList:{type:it(Array),default:()=>Wm([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:it(String)}}),yQ={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Wt(t),close:()=>!0,show:()=>!0},mQ=Ae({name:"ElImage",inheritAttrs:!1}),_Q=Ae({...mQ,props:gQ,emits:yQ,setup(t,{expose:e,emit:r}){const n=t,{t:a}=Hv(),i=fr("image"),o=j4(),s=ve(()=>Kp(Object.entries(o).filter(([I])=>/^(data-|on[A-Z])/i.test(I)||["id","style"].includes(I)))),u=zI({excludeListeners:!0,excludeKeys:ve(()=>Object.keys(s.value))}),l=be(),f=be(!1),c=be(!0),h=be(!1),p=be(),v=be(),g=er&&"loading"in HTMLImageElement.prototype;let y;const m=ve(()=>[i.e("inner"),_.value&&i.e("preview"),c.value&&i.is("loading")]),d=ve(()=>{const{fit:I}=n;return er&&I?{objectFit:I}:{}}),_=ve(()=>{const{previewSrcList:I}=n;return We(I)&&I.length>0}),x=ve(()=>{const{previewSrcList:I,initialIndex:U}=n;let P=U;return U>I.length-1&&(P=0),P}),w=ve(()=>n.loading==="eager"?!1:!g&&n.loading==="lazy"||n.lazy),S=()=>{er&&(c.value=!0,f.value=!1,l.value=n.src)};function b(I){c.value=!1,f.value=!1,r("load",I)}function T(I){c.value=!1,f.value=!0,r("error",I)}function C(){jJ(p.value,v.value)&&(S(),E())}const M=hX(C,200,!0);async function D(){var I;if(!er)return;await Pr();const{scrollContainer:U}=n;Fo(U)?v.value=U:vt(U)&&U!==""?v.value=(I=document.querySelector(U))!=null?I:void 0:p.value&&(v.value=IX(p.value)),v.value&&(y=en(v,"scroll",M),setTimeout(()=>C(),100))}function E(){!er||!v.value||!M||(y==null||y(),v.value=void 0)}function k(){_.value&&(h.value=!0,r("show"))}function O(){h.value=!1,r("close")}function A(I){r("switch",I)}return ft(()=>n.src,()=>{w.value?(c.value=!0,f.value=!1,E(),D()):S()}),mr(()=>{w.value?D():S()}),e({showPreview:k}),(I,U)=>(xe(),Re("div",$i({ref_key:"container",ref:p},te(s),{class:[te(i).b(),I.$attrs.class]}),[f.value?ht(I.$slots,"error",{key:0},()=>[De("div",{class:Be(te(i).e("error"))},Zn(te(a)("el.image.error")),3)]):(xe(),Re(Gt,{key:1},[l.value!==void 0?(xe(),Re("img",$i({key:0},te(u),{src:l.value,loading:I.loading,style:te(d),class:te(m),crossorigin:I.crossorigin,onClick:k,onLoad:b,onError:T}),null,16,["src","loading","crossorigin"])):at("v-if",!0),c.value?(xe(),Re("div",{key:1,class:Be(te(i).e("wrapper"))},[ht(I.$slots,"placeholder",{},()=>[De("div",{class:Be(te(i).e("placeholder"))},null,2)])],2)):at("v-if",!0)],64)),te(_)?(xe(),Re(Gt,{key:2},[h.value?(xe(),lt(te(dQ),{key:0,"z-index":I.zIndex,"initial-index":te(x),infinite:I.infinite,"zoom-rate":I.zoomRate,"min-scale":I.minScale,"max-scale":I.maxScale,"show-progress":I.showProgress,"url-list":I.previewSrcList,crossorigin:I.crossorigin,"hide-on-click-modal":I.hideOnClickModal,teleported:I.previewTeleported,"close-on-press-escape":I.closeOnPressEscape,onClose:O,onSwitch:A},{progress:Ye(P=>[ht(I.$slots,"progress",DD(qS(P)))]),toolbar:Ye(P=>[ht(I.$slots,"toolbar",DD(qS(P)))]),default:Ye(()=>[I.$slots.viewer?(xe(),Re("div",{key:0},[ht(I.$slots,"viewer")])):at("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):at("v-if",!0)],64)):at("v-if",!0)],16))}});var xQ=ar(_Q,[["__file","image.vue"]]);const wQ=Na(xQ),SQ=pr({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Xp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Wt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...$v(["ariaLabel"])}),bQ={[Gm]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[pl]:t=>Wt(t)||No(t),[An]:t=>Wt(t)||No(t)},TQ=Ae({name:"ElInputNumber"}),CQ=Ae({...TQ,props:SQ,emits:bQ,setup(t,{expose:e,emit:r}){const n=t,{t:a}=Hv(),i=fr("input-number"),o=be(),s=Xo({currentValue:n.modelValue,userInput:null}),{formItem:u}=Hm(),l=ve(()=>Wt(n.modelValue)&&n.modelValue<=n.min),f=ve(()=>Wt(n.modelValue)&&n.modelValue>=n.max),c=ve(()=>{const A=m(n.step);return Gh(n.precision)?Math.max(m(n.modelValue),A):(A>n.precision,n.precision)}),h=ve(()=>n.controls&&n.controlsPosition==="right"),p=jm(),v=$m(),g=ve(()=>{if(s.userInput!==null)return s.userInput;let A=s.currentValue;if(No(A))return"";if(Wt(A)){if(Number.isNaN(A))return"";Gh(n.precision)||(A=A.toFixed(n.precision))}return A}),y=(A,I)=>{if(Gh(I)&&(I=c.value),I===0)return Math.round(A);let U=String(A);const P=U.indexOf(".");if(P===-1||!U.replace(".","").split("")[P+I])return A;const H=U.length;return U.charAt(H-1)==="5"&&(U=`${U.slice(0,Math.max(0,H-1))}6`),Number.parseFloat(Number(U).toFixed(I))},m=A=>{if(No(A))return 0;const I=A.toString(),U=I.indexOf(".");let P=0;return U!==-1&&(P=I.length-U-1),P},d=(A,I=1)=>Wt(A)?y(A+n.step*I):s.currentValue,_=()=>{if(n.readonly||v.value||f.value)return;const A=Number(g.value)||0,I=d(A);S(I),r(pl,s.currentValue),k()},x=()=>{if(n.readonly||v.value||l.value)return;const A=Number(g.value)||0,I=d(A,-1);S(I),r(pl,s.currentValue),k()},w=(A,I)=>{const{max:U,min:P,step:B,precision:W,stepStrictly:H,valueOnClear:$}=n;U<P&&MI("InputNumber","min should not be greater than max.");let q=Number(A);if(No(A)||Number.isNaN(q))return null;if(A===""){if($===null)return null;q=vt($)?{min:P,max:U}[$]:$}return H&&(q=y(Math.round(q/B)*B,W),q!==A&&I&&r(An,q)),Gh(W)||(q=y(q,W)),(q>U||q<P)&&(q=q>U?U:P,I&&r(An,q)),q},S=(A,I=!0)=>{var U;const P=s.currentValue,B=w(A);if(!I){r(An,B);return}P===B&&A||(s.userInput=null,r(An,B),P!==B&&r(Gm,B,P),n.validateEvent&&((U=u==null?void 0:u.validate)==null||U.call(u,"change").catch(W=>void 0)),s.currentValue=B)},b=A=>{s.userInput=A;const I=A===""?null:Number(A);r(pl,I),S(I,!1)},T=A=>{const I=A!==""?Number(A):"";(Wt(I)&&!Number.isNaN(I)||A==="")&&S(I),k(),s.userInput=null},C=()=>{var A,I;(I=(A=o.value)==null?void 0:A.focus)==null||I.call(A)},M=()=>{var A,I;(I=(A=o.value)==null?void 0:A.blur)==null||I.call(A)},D=A=>{r("focus",A)},E=A=>{var I,U;s.userInput=null,UI()&&s.currentValue===null&&((I=o.value)!=null&&I.input)&&(o.value.input.value=""),r("blur",A),n.validateEvent&&((U=u==null?void 0:u.validate)==null||U.call(u,"blur").catch(P=>void 0))},k=()=>{s.currentValue!==n.modelValue&&(s.currentValue=n.modelValue)},O=A=>{document.activeElement===A.target&&A.preventDefault()};return ft(()=>n.modelValue,(A,I)=>{const U=w(A,!0);s.userInput===null&&U!==I&&(s.currentValue=U)},{immediate:!0}),mr(()=>{var A;const{min:I,max:U,modelValue:P}=n,B=(A=o.value)==null?void 0:A.input;if(B.setAttribute("role","spinbutton"),Number.isFinite(U)?B.setAttribute("aria-valuemax",String(U)):B.removeAttribute("aria-valuemax"),Number.isFinite(I)?B.setAttribute("aria-valuemin",String(I)):B.removeAttribute("aria-valuemin"),B.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),B.setAttribute("aria-disabled",String(v.value)),!Wt(P)&&P!=null){let W=Number(P);Number.isNaN(W)&&(W=null),r(An,W)}B.addEventListener("wheel",O,{passive:!1})}),G4(()=>{var A,I;const U=(A=o.value)==null?void 0:A.input;U==null||U.setAttribute("aria-valuenow",`${(I=s.currentValue)!=null?I:""}`)}),e({focus:C,blur:M}),(A,I)=>(xe(),Re("div",{class:Be([te(i).b(),te(i).m(te(p)),te(i).is("disabled",te(v)),te(i).is("without-controls",!A.controls),te(i).is("controls-right",te(h))]),onDragstart:hl(()=>{},["prevent"])},[A.controls?Hs((xe(),Re("span",{key:0,role:"button","aria-label":te(a)("el.inputNumber.decrease"),class:Be([te(i).e("decrease"),te(i).is("disabled",te(l))]),onKeydown:Md(x,["enter"])},[ht(A.$slots,"decrease-icon",{},()=>[Pe(te(Vr),null,{default:Ye(()=>[te(h)?(xe(),lt(te(HX),{key:0})):(xe(),lt(te(fY),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[te(oM),x]]):at("v-if",!0),A.controls?Hs((xe(),Re("span",{key:1,role:"button","aria-label":te(a)("el.inputNumber.increase"),class:Be([te(i).e("increase"),te(i).is("disabled",te(f))]),onKeydown:Md(_,["enter"])},[ht(A.$slots,"increase-icon",{},()=>[Pe(te(Vr),null,{default:Ye(()=>[te(h)?(xe(),lt(te(qX),{key:0})):(xe(),lt(te(pY),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[te(oM),_]]):at("v-if",!0),Pe(te(XY),{id:A.id,ref_key:"input",ref:o,type:"number",step:A.step,"model-value":te(g),placeholder:A.placeholder,readonly:A.readonly,disabled:te(v),size:te(p),max:A.max,min:A.min,name:A.name,"aria-label":A.ariaLabel,"validate-event":!1,onKeydown:[Md(hl(_,["prevent"]),["up"]),Md(hl(x,["prevent"]),["down"])],onBlur:E,onFocus:D,onInput:b,onChange:T},Mj({_:2},[A.$slots.prefix?{name:"prefix",fn:Ye(()=>[ht(A.$slots,"prefix")])}:void 0,A.$slots.suffix?{name:"suffix",fn:Ye(()=>[ht(A.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var EQ=ar(CQ,[["__file","input-number.vue"]]);const DQ=Na(EQ),b5=Symbol("sliderContextKey"),OQ=pr({modelValue:{type:it([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Xp,inputSize:Xp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:it(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:it(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Xv,default:"top"},marks:{type:it(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...$v(["ariaLabel"])}),G_=t=>Wt(t)||We(t)&&t.every(Wt),MQ={[An]:G_,[pl]:G_,[Gm]:G_},LQ=pr({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Xv,default:"top"}}),kQ={[An]:t=>Wt(t)},RQ=(t,e,r)=>{const n=be(),a=be(!1),i=ve(()=>e.value instanceof Function),o=ve(()=>i.value&&e.value(t.modelValue)||t.modelValue),s=QS(()=>{r.value&&(a.value=!0)},50),u=QS(()=>{r.value&&(a.value=!1)},50);return{tooltip:n,tooltipVisible:a,formatValue:o,displayTooltip:s,hideTooltip:u}},AQ=(t,e,r)=>{const{disabled:n,min:a,max:i,step:o,showTooltip:s,persistent:u,precision:l,sliderSize:f,formatTooltip:c,emitChange:h,resetSize:p,updateDragging:v}=It(b5),{tooltip:g,tooltipVisible:y,formatValue:m,displayTooltip:d,hideTooltip:_}=RQ(t,c,s),x=be(),w=ve(()=>`${(t.modelValue-a.value)/(i.value-a.value)*100}%`),S=ve(()=>t.vertical?{bottom:w.value}:{left:w.value}),b=()=>{e.hovering=!0,d()},T=()=>{e.hovering=!1,e.dragging||_()},C=q=>{n.value||(q.preventDefault(),B(q),window.addEventListener("mousemove",W),window.addEventListener("touchmove",W),window.addEventListener("mouseup",H),window.addEventListener("touchend",H),window.addEventListener("contextmenu",H),x.value.focus())},M=q=>{n.value||(e.newPosition=Number.parseFloat(w.value)+q/(i.value-a.value)*100,$(e.newPosition),h())},D=()=>{M(-o.value)},E=()=>{M(o.value)},k=()=>{M(-o.value*4)},O=()=>{M(o.value*4)},A=()=>{n.value||($(0),h())},I=()=>{n.value||($(100),h())},U=q=>{let Q=!0;switch(q.code){case Or.left:case Or.down:D();break;case Or.right:case Or.up:E();break;case Or.home:A();break;case Or.end:I();break;case Or.pageDown:k();break;case Or.pageUp:O();break;default:Q=!1;break}Q&&q.preventDefault()},P=q=>{let Q,Y;return q.type.startsWith("touch")?(Y=q.touches[0].clientY,Q=q.touches[0].clientX):(Y=q.clientY,Q=q.clientX),{clientX:Q,clientY:Y}},B=q=>{e.dragging=!0,e.isClick=!0;const{clientX:Q,clientY:Y}=P(q);t.vertical?e.startY=Y:e.startX=Q,e.startPosition=Number.parseFloat(w.value),e.newPosition=e.startPosition},W=q=>{if(e.dragging){e.isClick=!1,d(),p();let Q;const{clientX:Y,clientY:ie}=P(q);t.vertical?(e.currentY=ie,Q=(e.startY-e.currentY)/f.value*100):(e.currentX=Y,Q=(e.currentX-e.startX)/f.value*100),e.newPosition=e.startPosition+Q,$(e.newPosition)}},H=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||_(),e.isClick||$(e.newPosition),h()},0),window.removeEventListener("mousemove",W),window.removeEventListener("touchmove",W),window.removeEventListener("mouseup",H),window.removeEventListener("touchend",H),window.removeEventListener("contextmenu",H))},$=async q=>{if(q===null||Number.isNaN(+q))return;q<0?q=0:q>100&&(q=100);const Q=100/((i.value-a.value)/o.value);let ie=Math.round(q/Q)*Q*(i.value-a.value)*.01+a.value;ie=Number.parseFloat(ie.toFixed(l.value)),ie!==t.modelValue&&r(An,ie),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await Pr(),e.dragging&&d(),g.value.updatePopper()};return ft(()=>e.dragging,q=>{v(q)}),en(x,"touchstart",C,{passive:!1}),{disabled:n,button:x,tooltip:g,tooltipVisible:y,showTooltip:s,persistent:u,wrapperStyle:S,formatValue:m,handleMouseEnter:b,handleMouseLeave:T,onButtonDown:C,onKeyDown:U,setPosition:$}},NQ=Ae({name:"ElSliderButton"}),FQ=Ae({...NQ,props:LQ,emits:kQ,setup(t,{expose:e,emit:r}){const n=t,a=fr("slider"),i=Xo({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),o=ve(()=>f.value?c.value:!1),{disabled:s,button:u,tooltip:l,showTooltip:f,persistent:c,tooltipVisible:h,wrapperStyle:p,formatValue:v,handleMouseEnter:g,handleMouseLeave:y,onButtonDown:m,onKeyDown:d,setPosition:_}=AQ(n,i,r),{hovering:x,dragging:w}=sy(i);return e({onButtonDown:m,onKeyDown:d,setPosition:_,hovering:x,dragging:w}),(S,b)=>(xe(),Re("div",{ref_key:"button",ref:u,class:Be([te(a).e("button-wrapper"),{hover:te(x),dragging:te(w)}]),style:kr(te(p)),tabindex:te(s)?-1:0,onMouseenter:te(g),onMouseleave:te(y),onMousedown:te(m),onFocus:te(g),onBlur:te(y),onKeydown:te(d)},[Pe(te(hJ),{ref_key:"tooltip",ref:l,visible:te(h),placement:S.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":S.tooltipClass,disabled:!te(f),persistent:te(o)},{content:Ye(()=>[De("span",null,Zn(te(v)),1)]),default:Ye(()=>[De("div",{class:Be([te(a).e("button"),{hover:te(x),dragging:te(w)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var sM=ar(FQ,[["__file","button.vue"]]);const BQ=pr({mark:{type:it([String,Object]),default:void 0}});var IQ=Ae({name:"ElSliderMarker",props:BQ,setup(t){const e=fr("slider"),r=ve(()=>vt(t.mark)?t.mark:t.mark.label),n=ve(()=>vt(t.mark)?void 0:t.mark.style);return()=>To("div",{class:e.e("marks-text"),style:n.value},r.value)}});const VQ=(t,e,r)=>{const{form:n,formItem:a}=Hm(),i=Ao(),o=be(),s=be(),u={firstButton:o,secondButton:s},l=ve(()=>t.disabled||(n==null?void 0:n.disabled)||!1),f=ve(()=>Math.min(e.firstValue,e.secondValue)),c=ve(()=>Math.max(e.firstValue,e.secondValue)),h=ve(()=>t.range?`${100*(c.value-f.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=ve(()=>t.range?`${100*(f.value-t.min)/(t.max-t.min)}%`:"0%"),v=ve(()=>t.vertical?{height:t.height}:{}),g=ve(()=>t.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value}),y=()=>{i.value&&(e.sliderSize=i.value[`client${t.vertical?"Height":"Width"}`])},m=E=>{const k=t.min+E*(t.max-t.min)/100;if(!t.range)return o;let O;return Math.abs(f.value-k)<Math.abs(c.value-k)?O=e.firstValue<e.secondValue?"firstButton":"secondButton":O=e.firstValue>e.secondValue?"firstButton":"secondButton",u[O]},d=E=>{const k=m(E);return k.value.setPosition(E),k},_=E=>{e.firstValue=E??t.min,w(t.range?[f.value,c.value]:E??t.min)},x=E=>{e.secondValue=E,t.range&&w([f.value,c.value])},w=E=>{r(An,E),r(pl,E)},S=async()=>{await Pr(),r(Gm,t.range?[f.value,c.value]:t.modelValue)},b=E=>{var k,O,A,I,U,P;if(l.value||e.dragging)return;y();let B=0;if(t.vertical){const W=(A=(O=(k=E.touches)==null?void 0:k.item(0))==null?void 0:O.clientY)!=null?A:E.clientY;B=(i.value.getBoundingClientRect().bottom-W)/e.sliderSize*100}else{const W=(P=(U=(I=E.touches)==null?void 0:I.item(0))==null?void 0:U.clientX)!=null?P:E.clientX,H=i.value.getBoundingClientRect().left;B=(W-H)/e.sliderSize*100}if(!(B<0||B>100))return d(B)};return{elFormItem:a,slider:i,firstButton:o,secondButton:s,sliderDisabled:l,minValue:f,maxValue:c,runwayStyle:v,barStyle:g,resetSize:y,setPosition:d,emitChange:S,onSliderWrapperPrevent:E=>{var k,O;((k=u.firstButton.value)!=null&&k.dragging||(O=u.secondButton.value)!=null&&O.dragging)&&E.preventDefault()},onSliderClick:E=>{b(E)&&S()},onSliderDown:async E=>{const k=b(E);k&&(await Pr(),k.value.onButtonDown(E))},onSliderMarkerDown:E=>{l.value||e.dragging||d(E)},setFirstValue:_,setSecondValue:x}},PQ=(t,e,r,n)=>({stops:ve(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const o=(t.max-t.min)/t.step,s=100*t.step/(t.max-t.min),u=Array.from({length:o-1}).map((l,f)=>(f+1)*s);return t.range?u.filter(l=>l<100*(r.value-t.min)/(t.max-t.min)||l>100*(n.value-t.min)/(t.max-t.min)):u.filter(l=>l>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:o=>t.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),UQ=t=>ve(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((r,n)=>r-n).filter(r=>r<=t.max&&r>=t.min).map(r=>({point:r,position:(r-t.min)*100/(t.max-t.min),mark:t.marks[r]})):[]),zQ=(t,e,r,n,a,i)=>{const o=l=>{a(An,l),a(pl,l)},s=()=>t.range?![r.value,n.value].every((l,f)=>l===e.oldValue[f]):t.modelValue!==e.oldValue,u=()=>{var l,f;t.min>t.max&&MI("Slider","min should not be greater than max.");const c=t.modelValue;t.range&&We(c)?c[1]<t.min?o([t.min,t.min]):c[0]>t.max?o([t.max,t.max]):c[0]<t.min?o([t.min,c[1]]):c[1]>t.max?o([c[0],t.max]):(e.firstValue=c[0],e.secondValue=c[1],s()&&(t.validateEvent&&((l=i==null?void 0:i.validate)==null||l.call(i,"change").catch(h=>void 0)),e.oldValue=c.slice())):!t.range&&Wt(c)&&!Number.isNaN(c)&&(c<t.min?o(t.min):c>t.max?o(t.max):(e.firstValue=c,s()&&(t.validateEvent&&((f=i==null?void 0:i.validate)==null||f.call(i,"change").catch(h=>void 0)),e.oldValue=c)))};u(),ft(()=>e.dragging,l=>{l||u()}),ft(()=>t.modelValue,(l,f)=>{e.dragging||We(l)&&We(f)&&l.every((c,h)=>c===f[h])&&e.firstValue===l[0]&&e.secondValue===l[1]||u()},{deep:!0}),ft(()=>[t.min,t.max],()=>{u()})},GQ=(t,e,r)=>{const n=be();return mr(async()=>{t.range?(We(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!Wt(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),en(window,"resize",r),await Pr(),r()}),{sliderWrapper:n}},WQ=Ae({name:"ElSlider"}),HQ=Ae({...WQ,props:OQ,emits:MQ,setup(t,{expose:e,emit:r}){const n=t,a=fr("slider"),{t:i}=Hv(),o=Xo({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:u,firstButton:l,secondButton:f,sliderDisabled:c,minValue:h,maxValue:p,runwayStyle:v,barStyle:g,resetSize:y,emitChange:m,onSliderWrapperPrevent:d,onSliderClick:_,onSliderDown:x,onSliderMarkerDown:w,setFirstValue:S,setSecondValue:b}=VQ(n,o,r),{stops:T,getStopStyle:C}=PQ(n,o,h,p),{inputId:M,isLabeledByFormItem:D}=HI(n,{formItemContext:s}),E=jm(),k=ve(()=>n.inputSize||E.value),O=ve(()=>n.ariaLabel||i("el.slider.defaultLabel",{min:n.min,max:n.max})),A=ve(()=>n.range?n.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):O.value),I=ve(()=>n.formatValueText?n.formatValueText(q.value):`${q.value}`),U=ve(()=>n.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),P=ve(()=>n.formatValueText?n.formatValueText(Q.value):`${Q.value}`),B=ve(()=>[a.b(),a.m(E.value),a.is("vertical",n.vertical),{[a.m("with-input")]:n.showInput}]),W=UQ(n);zQ(n,o,h,p,r,s);const H=ve(()=>{const J=[n.min,n.max,n.step].map(ae=>{const re=`${ae}`.split(".")[1];return re?re.length:0});return Math.max.apply(null,J)}),{sliderWrapper:$}=GQ(n,o,y),{firstValue:q,secondValue:Q,sliderSize:Y}=sy(o),ie=J=>{o.dragging=J};return en($,"touchstart",d,{passive:!1}),en($,"touchmove",d,{passive:!1}),Qn(b5,{...sy(n),sliderSize:Y,disabled:c,precision:H,emitChange:m,resetSize:y,updateDragging:ie}),e({onSliderClick:_}),(J,ae)=>{var re,V;return xe(),Re("div",{id:J.range?te(M):void 0,ref_key:"sliderWrapper",ref:$,class:Be(te(B)),role:J.range?"group":void 0,"aria-label":J.range&&!te(D)?te(O):void 0,"aria-labelledby":J.range&&te(D)?(re=te(s))==null?void 0:re.labelId:void 0},[De("div",{ref_key:"slider",ref:u,class:Be([te(a).e("runway"),{"show-input":J.showInput&&!J.range},te(a).is("disabled",te(c))]),style:kr(te(v)),onMousedown:te(x),onTouchstartPassive:te(x)},[De("div",{class:Be(te(a).e("bar")),style:kr(te(g))},null,6),Pe(sM,{id:J.range?void 0:te(M),ref_key:"firstButton",ref:l,"model-value":te(q),vertical:J.vertical,"tooltip-class":J.tooltipClass,placement:J.placement,role:"slider","aria-label":J.range||!te(D)?te(A):void 0,"aria-labelledby":!J.range&&te(D)?(V=te(s))==null?void 0:V.labelId:void 0,"aria-valuemin":J.min,"aria-valuemax":J.range?te(Q):J.max,"aria-valuenow":te(q),"aria-valuetext":te(I),"aria-orientation":J.vertical?"vertical":"horizontal","aria-disabled":te(c),"onUpdate:modelValue":te(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),J.range?(xe(),lt(sM,{key:0,ref_key:"secondButton",ref:f,"model-value":te(Q),vertical:J.vertical,"tooltip-class":J.tooltipClass,placement:J.placement,role:"slider","aria-label":te(U),"aria-valuemin":te(q),"aria-valuemax":J.max,"aria-valuenow":te(Q),"aria-valuetext":te(P),"aria-orientation":J.vertical?"vertical":"horizontal","aria-disabled":te(c),"onUpdate:modelValue":te(b)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):at("v-if",!0),J.showStops?(xe(),Re("div",{key:1},[(xe(!0),Re(Gt,null,hp(te(T),(R,F)=>(xe(),Re("div",{key:F,class:Be(te(a).e("stop")),style:kr(te(C)(R))},null,6))),128))])):at("v-if",!0),te(W).length>0?(xe(),Re(Gt,{key:2},[De("div",null,[(xe(!0),Re(Gt,null,hp(te(W),(R,F)=>(xe(),Re("div",{key:F,style:kr(te(C)(R.position)),class:Be([te(a).e("stop"),te(a).e("marks-stop")])},null,6))),128))]),De("div",{class:Be(te(a).e("marks"))},[(xe(!0),Re(Gt,null,hp(te(W),(R,F)=>(xe(),lt(te(IQ),{key:F,mark:R.mark,style:kr(te(C)(R.position)),onMousedown:hl(N=>te(w)(R.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):at("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),J.showInput&&!J.range?(xe(),lt(te(DQ),{key:0,ref:"input","model-value":te(q),class:Be(te(a).e("input")),step:J.step,disabled:te(c),controls:J.showInputControls,min:J.min,max:J.max,precision:te(H),debounce:J.debounce,size:te(k),"onUpdate:modelValue":te(S),onChange:te(m)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):at("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var jQ=ar(HQ,[["__file","slider.vue"]]);const $Q=Na(jQ);function KQ(t){let e;const r=be(!1),n=Xo({...t,originalPosition:"",originalOverflow:"",visible:!1});function a(h){n.text=h}function i(){const h=n.parent,p=c.ns;if(!h.vLoadingAddClassList){let v=h.getAttribute("loading-number");v=Number.parseInt(v)-1,v?h.setAttribute("loading-number",v.toString()):(_y(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),_y(h,p.bm("parent","hidden"))}o(),f.unmount()}function o(){var h,p;(p=(h=c.$el)==null?void 0:h.parentNode)==null||p.removeChild(c.$el)}function s(){var h;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=setTimeout(u,400),n.visible=!1,(h=t.closed)==null||h.call(t))}function u(){if(!r.value)return;const h=n.parent;r.value=!1,h.vLoadingAddClassList=void 0,i()}const f=mI(Ae({name:"ElLoading",setup(h,{expose:p}){const{ns:v,zIndex:g}=FI("loading");return p({ns:v,zIndex:g}),()=>{const y=n.spinner||n.svg,m=To("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[To("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),d=n.text?To("p",{class:v.b("text")},[n.text]):void 0;return To(zv,{name:v.b("fade"),onAfterLeave:u},{default:Ye(()=>[Hs(Pe("div",{style:{backgroundColor:n.background||""},class:[v.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[To("div",{class:v.b("spinner")},[m,d])]),[[Gv,n.visible]])])})}}})),c=f.mount(document.createElement("div"));return{...sy(n),setText:a,removeElLoadingChild:o,close:s,handleAfterLeave:u,vm:c,get $el(){return c.$el}}}let Bd;const ob=function(t={}){if(!er)return;const e=XQ(t);if(e.fullscreen&&Bd)return Bd;const r=KQ({...e,closed:()=>{var a;(a=e.closed)==null||a.call(e),e.fullscreen&&(Bd=void 0)}});YQ(e,e.parent,r),uM(e,e.parent,r),e.parent.vLoadingAddClassList=()=>uM(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),Pr(()=>r.visible.value=e.visible),e.fullscreen&&(Bd=r),r},XQ=t=>{var e,r,n,a;let i;return vt(t.target)?i=(e=document.querySelector(t.target))!=null?e:document.body:i=t.target||document.body,{parent:i===document.body||t.body?document.body:i,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:i===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(a=t.visible)!=null?a:!0,beforeClose:t.beforeClose,closed:t.closed,target:i}},YQ=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,a={};if(t.fullscreen)r.originalPosition.value=Ec(document.body,"position"),r.originalOverflow.value=Ec(document.body,"overflow"),a.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=Ec(document.body,"position"),await Pr();for(const i of["top","left"]){const o=i==="top"?"scrollTop":"scrollLeft";a[i]=`${t.target.getBoundingClientRect()[i]+document.body[o]+document.documentElement[o]-Number.parseInt(Ec(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])a[i]=`${t.target.getBoundingClientRect()[i]}px`}else r.originalPosition.value=Ec(e,"position");for(const[i,o]of Object.entries(a))r.$el.style[i]=o},uM=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?_y(e,n.bm("parent","relative")):AO(e,n.bm("parent","relative")),t.fullscreen&&t.lock?AO(e,n.bm("parent","hidden")):_y(e,n.bm("parent","hidden"))},g0=Symbol("ElLoading"),lM=(t,e)=>{var r,n,a,i;const o=e.instance,s=h=>Lt(e.value)?e.value[h]:void 0,u=h=>{const p=vt(h)&&(o==null?void 0:o[h])||h;return p&&be(p)},l=h=>u(s(h)||t.getAttribute(`element-loading-${Ko(h)}`)),f=(r=s("fullscreen"))!=null?r:e.modifiers.fullscreen,c={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:f,target:(n=s("target"))!=null?n:f?void 0:t,body:(a=s("body"))!=null?a:e.modifiers.body,lock:(i=s("lock"))!=null?i:e.modifiers.lock};t[g0]={options:c,instance:ob(c)}},qQ=(t,e)=>{for(const r of Object.keys(e))Nr(e[r])&&(e[r].value=t[r])},cM={mounted(t,e){e.value&&lM(t,e)},updated(t,e){const r=t[g0];e.oldValue!==e.value&&(e.value&&!e.oldValue?lM(t,e):e.value&&e.oldValue?Lt(e.value)&&qQ(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[g0])==null||e.instance.close(),t[g0]=null}},Ym={install(t){t.directive("loading",cM),t.config.globalProperties.$loading=ob},directive:cM,service:ob},T5=["success","info","warning","error"],on=Wm({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:er?document.body:void 0}),ZQ=pr({customClass:{type:String,default:on.customClass},center:{type:Boolean,default:on.center},dangerouslyUseHTMLString:{type:Boolean,default:on.dangerouslyUseHTMLString},duration:{type:Number,default:on.duration},icon:{type:Yp,default:on.icon},id:{type:String,default:on.id},message:{type:it([String,Object,Function]),default:on.message},onClose:{type:it(Function),default:on.onClose},showClose:{type:Boolean,default:on.showClose},type:{type:String,values:T5,default:on.type},plain:{type:Boolean,default:on.plain},offset:{type:Number,default:on.offset},zIndex:{type:Number,default:on.zIndex},grouping:{type:Boolean,default:on.grouping},repeatNum:{type:Number,default:on.repeatNum}}),JQ={destroy:()=>!0},ti=_C([]),QQ=t=>{const e=ti.findIndex(a=>a.id===t),r=ti[e];let n;return e>0&&(n=ti[e-1]),{current:r,prev:n}},eee=t=>{const{prev:e}=QQ(t);return e?e.vm.exposed.bottom.value:0},tee=(t,e)=>ti.findIndex(n=>n.id===t)>0?16:e,ree=Ae({name:"ElMessage"}),nee=Ae({...ree,props:ZQ,emits:JQ,setup(t,{expose:e}){const r=t,{Close:n}=LY,{ns:a,zIndex:i}=FI("message"),{currentZIndex:o,nextZIndex:s}=i,u=be(),l=be(!1),f=be(0);let c;const h=ve(()=>r.type?r.type==="error"?"danger":r.type:"info"),p=ve(()=>{const b=r.type;return{[a.bm("icon",b)]:b&&NO[b]}}),v=ve(()=>r.icon||NO[r.type]||""),g=ve(()=>eee(r.id)),y=ve(()=>tee(r.id,r.offset)+g.value),m=ve(()=>f.value+y.value),d=ve(()=>({top:`${y.value}px`,zIndex:o.value}));function _(){r.duration!==0&&({stop:c}=vX(()=>{w()},r.duration))}function x(){c==null||c()}function w(){l.value=!1}function S({code:b}){b===Or.esc&&w()}return mr(()=>{_(),s(),l.value=!0}),ft(()=>r.repeatNum,()=>{x(),_()}),en(document,"keydown",S),OI(u,()=>{f.value=u.value.getBoundingClientRect().height}),e({visible:l,bottom:m,close:w}),(b,T)=>(xe(),lt(zv,{name:te(a).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:C=>b.$emit("destroy"),persisted:""},{default:Ye(()=>[Hs(De("div",{id:b.id,ref_key:"messageRef",ref:u,class:Be([te(a).b(),{[te(a).m(b.type)]:b.type},te(a).is("center",b.center),te(a).is("closable",b.showClose),te(a).is("plain",b.plain),b.customClass]),style:kr(te(d)),role:"alert",onMouseenter:x,onMouseleave:_},[b.repeatNum>1?(xe(),lt(te(yJ),{key:0,value:b.repeatNum,type:te(h),class:Be(te(a).e("badge"))},null,8,["value","type","class"])):at("v-if",!0),te(v)?(xe(),lt(te(Vr),{key:1,class:Be([te(a).e("icon"),te(p)])},{default:Ye(()=>[(xe(),lt(Do(te(v))))]),_:1},8,["class"])):at("v-if",!0),ht(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(xe(),Re(Gt,{key:1},[at(" Caution here, message could've been compromised, never use user's input as message "),De("p",{class:Be(te(a).e("content")),innerHTML:b.message},null,10,["innerHTML"])],2112)):(xe(),Re("p",{key:0,class:Be(te(a).e("content"))},Zn(b.message),3))]),b.showClose?(xe(),lt(te(Vr),{key:2,class:Be(te(a).e("closeBtn")),onClick:hl(w,["stop"])},{default:Ye(()=>[Pe(te(n))]),_:1},8,["class","onClick"])):at("v-if",!0)],46,["id"]),[[Gv,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var aee=ar(nee,[["__file","message.vue"]]);let iee=1;const C5=t=>{const e=!t||vt(t)||Tl(t)||Ge(t)?{message:t}:t,r={...on,...e};if(!r.appendTo)r.appendTo=document.body;else if(vt(r.appendTo)){let n=document.querySelector(r.appendTo);Fo(n)||(n=document.body),r.appendTo=n}return gy(Ri.grouping)&&!r.grouping&&(r.grouping=Ri.grouping),Wt(Ri.duration)&&r.duration===3e3&&(r.duration=Ri.duration),Wt(Ri.offset)&&r.offset===16&&(r.offset=Ri.offset),gy(Ri.showClose)&&!r.showClose&&(r.showClose=Ri.showClose),r},oee=t=>{const e=ti.indexOf(t);if(e===-1)return;ti.splice(e,1);const{handler:r}=t;r.close()},see=({appendTo:t,...e},r)=>{const n=`message_${iee++}`,a=e.onClose,i=document.createElement("div"),o={...e,id:n,onClose:()=>{a==null||a(),oee(f)},onDestroy:()=>{cO(null,i)}},s=Pe(aee,o,Ge(o.message)||Tl(o.message)?{default:Ge(o.message)?o.message:()=>o.message}:null);s.appContext=r||mf._context,cO(s,i),t.appendChild(i.firstElementChild);const u=s.component,f={id:n,vnode:s,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:s.component.props};return f},mf=(t={},e)=>{if(!er)return{close:()=>{}};const r=C5(t);if(r.grouping&&ti.length){const a=ti.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===r.message});if(a)return a.props.repeatNum+=1,a.props.type=r.type,a.handler}if(Wt(Ri.max)&&ti.length>=Ri.max)return{close:()=>{}};const n=see(r,e);return ti.push(n),n.handler};T5.forEach(t=>{mf[t]=(e={},r)=>{const n=C5(e);return mf({...n,type:t},r)}});function uee(t){for(const e of ti)(!t||t===e.props.type)&&e.handler.close()}mf.closeAll=uee;mf._context=null;const lee=VX(mf,"$message");var bt=1e-6,zr=typeof Float32Array<"u"?Float32Array:Array,fM=Math.random,cee=Math.PI/180;function fee(t){return t*cee}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function E5(){var t=new zr(9);return zr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function qm(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function hee(t){var e=new zr(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function pee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vee(t,e,r,n,a,i,o,s,u){var l=new zr(9);return l[0]=t,l[1]=e,l[2]=r,l[3]=n,l[4]=a,l[5]=i,l[6]=o,l[7]=s,l[8]=u,l}function dee(t,e,r,n,a,i,o,s,u,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t}function si(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function D5(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Zm(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=f*o-s*l,h=-f*i+s*u,p=l*i-o*u,v=r*c+n*h+a*p;return v?(v=1/v,t[0]=c*v,t[1]=(-f*n+a*l)*v,t[2]=(s*n-a*o)*v,t[3]=h*v,t[4]=(f*r-a*u)*v,t[5]=(-s*r+a*i)*v,t[6]=p*v,t[7]=(-l*r+n*u)*v,t[8]=(o*r-n*i)*v,t):null}function gee(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8];return t[0]=o*f-s*l,t[1]=a*l-n*f,t[2]=n*s-a*o,t[3]=s*u-i*f,t[4]=r*f-a*u,t[5]=a*i-r*s,t[6]=i*l-o*u,t[7]=n*u-r*l,t[8]=r*o-n*i,t}function yee(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*i-o*u)+r*(-l*a+o*s)+n*(u*a-i*s)}function _f(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],h=r[0],p=r[1],v=r[2],g=r[3],y=r[4],m=r[5],d=r[6],_=r[7],x=r[8];return t[0]=h*n+p*o+v*l,t[1]=h*a+p*s+v*f,t[2]=h*i+p*u+v*c,t[3]=g*n+y*o+m*l,t[4]=g*a+y*s+m*f,t[5]=g*i+y*u+m*c,t[6]=d*n+_*o+x*l,t[7]=d*a+_*s+x*f,t[8]=d*i+_*u+x*c,t}function mee(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],h=r[0],p=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=h*n+p*o+l,t[7]=h*a+p*s+f,t[8]=h*i+p*u+c,t}function _ee(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],h=Math.sin(r),p=Math.cos(r);return t[0]=p*n+h*o,t[1]=p*a+h*s,t[2]=p*i+h*u,t[3]=p*o-h*n,t[4]=p*s-h*a,t[5]=p*u-h*i,t[6]=l,t[7]=f,t[8]=c,t}function xee(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wee(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function See(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bee(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Tee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Cee(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,l=r*o,f=n*o,c=n*s,h=a*o,p=a*s,v=a*u,g=i*o,y=i*s,m=i*u;return t[0]=1-c-v,t[3]=f-m,t[6]=h+y,t[1]=f+m,t[4]=1-l-v,t[7]=p-g,t[2]=h-y,t[5]=p+g,t[8]=1-l-c,t}function Eee(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],h=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],d=r*s-n*o,_=r*u-a*o,x=r*l-i*o,w=n*u-a*s,S=n*l-i*s,b=a*l-i*u,T=f*g-c*v,C=f*y-h*v,M=f*m-p*v,D=c*y-h*g,E=c*m-p*g,k=h*m-p*y,O=d*k-_*E+x*D+w*M-S*C+b*T;return O?(O=1/O,t[0]=(s*k-u*E+l*D)*O,t[1]=(u*M-o*k-l*C)*O,t[2]=(o*E-s*M+l*T)*O,t[3]=(a*E-n*k-i*D)*O,t[4]=(r*k-a*M+i*C)*O,t[5]=(n*M-r*E-i*T)*O,t[6]=(g*b-y*S+m*w)*O,t[7]=(y*x-v*b-m*_)*O,t[8]=(v*S-g*x+m*d)*O,t):null}function Dee(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Oee(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Mee(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Lee(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function O5(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function kee(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Ree(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Aee(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Nee(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=e[0],h=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],d=e[7],_=e[8];return Math.abs(r-c)<=bt*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=bt*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-p)<=bt*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-v)<=bt*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-g)<=bt*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-y)<=bt*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-m)<=bt*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-d)<=bt*Math.max(1,Math.abs(l),Math.abs(d))&&Math.abs(f-_)<=bt*Math.max(1,Math.abs(f),Math.abs(_))}var Fee=_f,Bee=O5;const Iee=Object.freeze(Object.defineProperty({__proto__:null,add:Lee,adjoint:gee,clone:hee,copy:pee,create:E5,determinant:yee,equals:Nee,exactEquals:Aee,frob:Mee,fromMat2d:Tee,fromMat4:qm,fromQuat:Cee,fromRotation:See,fromScaling:bee,fromTranslation:wee,fromValues:vee,identity:si,invert:Zm,mul:Fee,multiply:_f,multiplyScalar:kee,multiplyScalarAndAdd:Ree,normalFromMat4:Eee,projection:Dee,rotate:_ee,scale:xee,set:dee,str:Oee,sub:Bee,subtract:O5,translate:mee,transpose:D5},Symbol.toStringTag,{value:"Module"}));function ZC(){var t=new zr(16);return zr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Vee(t){var e=new zr(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function gr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Pee(t,e,r,n,a,i,o,s,u,l,f,c,h,p,v,g){var y=new zr(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=n,y[4]=a,y[5]=i,y[6]=o,y[7]=s,y[8]=u,y[9]=l,y[10]=f,y[11]=c,y[12]=h,y[13]=p,y[14]=v,y[15]=g,y}function Uee(t,e,r,n,a,i,o,s,u,l,f,c,h,p,v,g,y){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t[9]=f,t[10]=c,t[11]=h,t[12]=p,t[13]=v,t[14]=g,t[15]=y,t}function ze(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dt(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function br(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],h=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],d=r*s-n*o,_=r*u-a*o,x=r*l-i*o,w=n*u-a*s,S=n*l-i*s,b=a*l-i*u,T=f*g-c*v,C=f*y-h*v,M=f*m-p*v,D=c*y-h*g,E=c*m-p*g,k=h*m-p*y,O=d*k-_*E+x*D+w*M-S*C+b*T;return O?(O=1/O,t[0]=(s*k-u*E+l*D)*O,t[1]=(a*E-n*k-i*D)*O,t[2]=(g*b-y*S+m*w)*O,t[3]=(h*S-c*b-p*w)*O,t[4]=(u*M-o*k-l*C)*O,t[5]=(r*k-a*M+i*C)*O,t[6]=(y*x-v*b-m*_)*O,t[7]=(f*b-h*x+p*_)*O,t[8]=(o*E-s*M+l*T)*O,t[9]=(n*M-r*E-i*T)*O,t[10]=(v*S-g*x+m*d)*O,t[11]=(c*x-f*S-p*d)*O,t[12]=(s*C-o*D-u*T)*O,t[13]=(r*D-n*C+a*T)*O,t[14]=(g*_-v*w-y*d)*O,t[15]=(f*w-c*_+h*d)*O,t):null}function zee(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],h=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15];return t[0]=s*(h*m-p*y)-c*(u*m-l*y)+g*(u*p-l*h),t[1]=-(n*(h*m-p*y)-c*(a*m-i*y)+g*(a*p-i*h)),t[2]=n*(u*m-l*y)-s*(a*m-i*y)+g*(a*l-i*u),t[3]=-(n*(u*p-l*h)-s*(a*p-i*h)+c*(a*l-i*u)),t[4]=-(o*(h*m-p*y)-f*(u*m-l*y)+v*(u*p-l*h)),t[5]=r*(h*m-p*y)-f*(a*m-i*y)+v*(a*p-i*h),t[6]=-(r*(u*m-l*y)-o*(a*m-i*y)+v*(a*l-i*u)),t[7]=r*(u*p-l*h)-o*(a*p-i*h)+f*(a*l-i*u),t[8]=o*(c*m-p*g)-f*(s*m-l*g)+v*(s*p-l*c),t[9]=-(r*(c*m-p*g)-f*(n*m-i*g)+v*(n*p-i*c)),t[10]=r*(s*m-l*g)-o*(n*m-i*g)+v*(n*l-i*s),t[11]=-(r*(s*p-l*c)-o*(n*p-i*c)+f*(n*l-i*s)),t[12]=-(o*(c*y-h*g)-f*(s*y-u*g)+v*(s*h-u*c)),t[13]=r*(c*y-h*g)-f*(n*y-a*g)+v*(n*h-a*c),t[14]=-(r*(s*y-u*g)-o*(n*y-a*g)+v*(n*u-a*s)),t[15]=r*(s*h-u*c)-o*(n*h-a*c)+f*(n*u-a*s),t}function Gee(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],l=t[8],f=t[9],c=t[10],h=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=e*o-r*i,d=e*s-n*i,_=e*u-a*i,x=r*s-n*o,w=r*u-a*o,S=n*u-a*s,b=l*v-f*p,T=l*g-c*p,C=l*y-h*p,M=f*g-c*v,D=f*y-h*v,E=c*y-h*g;return m*E-d*D+_*M+x*C-w*T+S*b}function Ht(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],h=e[9],p=e[10],v=e[11],g=e[12],y=e[13],m=e[14],d=e[15],_=r[0],x=r[1],w=r[2],S=r[3];return t[0]=_*n+x*s+w*c+S*g,t[1]=_*a+x*u+w*h+S*y,t[2]=_*i+x*l+w*p+S*m,t[3]=_*o+x*f+w*v+S*d,_=r[4],x=r[5],w=r[6],S=r[7],t[4]=_*n+x*s+w*c+S*g,t[5]=_*a+x*u+w*h+S*y,t[6]=_*i+x*l+w*p+S*m,t[7]=_*o+x*f+w*v+S*d,_=r[8],x=r[9],w=r[10],S=r[11],t[8]=_*n+x*s+w*c+S*g,t[9]=_*a+x*u+w*h+S*y,t[10]=_*i+x*l+w*p+S*m,t[11]=_*o+x*f+w*v+S*d,_=r[12],x=r[13],w=r[14],S=r[15],t[12]=_*n+x*s+w*c+S*g,t[13]=_*a+x*u+w*h+S*y,t[14]=_*i+x*l+w*p+S*m,t[15]=_*o+x*f+w*v+S*d,t}function lr(t,e,r){var n=r[0],a=r[1],i=r[2],o,s,u,l,f,c,h,p,v,g,y,m;return e===t?(t[12]=e[0]*n+e[4]*a+e[8]*i+e[12],t[13]=e[1]*n+e[5]*a+e[9]*i+e[13],t[14]=e[2]*n+e[6]*a+e[10]*i+e[14],t[15]=e[3]*n+e[7]*a+e[11]*i+e[15]):(o=e[0],s=e[1],u=e[2],l=e[3],f=e[4],c=e[5],h=e[6],p=e[7],v=e[8],g=e[9],y=e[10],m=e[11],t[0]=o,t[1]=s,t[2]=u,t[3]=l,t[4]=f,t[5]=c,t[6]=h,t[7]=p,t[8]=v,t[9]=g,t[10]=y,t[11]=m,t[12]=o*n+f*a+v*i+e[12],t[13]=s*n+c*a+g*i+e[13],t[14]=u*n+h*a+y*i+e[14],t[15]=l*n+p*a+m*i+e[15]),t}function El(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function va(t,e,r,n){var a=n[0],i=n[1],o=n[2],s=Math.hypot(a,i,o),u,l,f,c,h,p,v,g,y,m,d,_,x,w,S,b,T,C,M,D,E,k,O,A;return s<bt?null:(s=1/s,a*=s,i*=s,o*=s,u=Math.sin(r),l=Math.cos(r),f=1-l,c=e[0],h=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],d=e[7],_=e[8],x=e[9],w=e[10],S=e[11],b=a*a*f+l,T=i*a*f+o*u,C=o*a*f-i*u,M=a*i*f-o*u,D=i*i*f+l,E=o*i*f+a*u,k=a*o*f+i*u,O=i*o*f-a*u,A=o*o*f+l,t[0]=c*b+g*T+_*C,t[1]=h*b+y*T+x*C,t[2]=p*b+m*T+w*C,t[3]=v*b+d*T+S*C,t[4]=c*M+g*D+_*E,t[5]=h*M+y*D+x*E,t[6]=p*M+m*D+w*E,t[7]=v*M+d*D+S*E,t[8]=c*k+g*O+_*A,t[9]=h*k+y*O+x*A,t[10]=p*k+m*O+w*A,t[11]=v*k+d*O+S*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function JC(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],s=e[6],u=e[7],l=e[8],f=e[9],c=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+l*n,t[5]=o*a+f*n,t[6]=s*a+c*n,t[7]=u*a+h*n,t[8]=l*a-i*n,t[9]=f*a-o*n,t[10]=c*a-s*n,t[11]=h*a-u*n,t}function QC(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],l=e[8],f=e[9],c=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-l*n,t[1]=o*a-f*n,t[2]=s*a-c*n,t[3]=u*a-h*n,t[8]=i*n+l*a,t[9]=o*n+f*a,t[10]=s*n+c*a,t[11]=u*n+h*a,t}function e2(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],l=e[4],f=e[5],c=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+l*n,t[1]=o*a+f*n,t[2]=s*a+c*n,t[3]=u*a+h*n,t[4]=l*a-i*n,t[5]=f*a-o*n,t[6]=c*a-s*n,t[7]=h*a-u*n,t}function M5(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function L5(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k5(t,e,r){var n=r[0],a=r[1],i=r[2],o=Math.hypot(n,a,i),s,u,l;return o<bt?null:(o=1/o,n*=o,a*=o,i*=o,s=Math.sin(e),u=Math.cos(e),l=1-u,t[0]=n*n*l+u,t[1]=a*n*l+i*s,t[2]=i*n*l-a*s,t[3]=0,t[4]=n*a*l-i*s,t[5]=a*a*l+u,t[6]=i*a*l+n*s,t[7]=0,t[8]=n*i*l+a*s,t[9]=a*i*l-n*s,t[10]=i*i*l+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Wee(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Hee(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jee(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R5(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=n+n,u=a+a,l=i+i,f=n*s,c=n*u,h=n*l,p=a*u,v=a*l,g=i*l,y=o*s,m=o*u,d=o*l;return t[0]=1-(p+g),t[1]=c+d,t[2]=h-m,t[3]=0,t[4]=c-d,t[5]=1-(f+g),t[6]=v+y,t[7]=0,t[8]=h+m,t[9]=v-y,t[10]=1-(f+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function $ee(t,e){var r=new zr(3),n=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=n*n+a*a+i*i+o*o;return c>0?(r[0]=(s*o+f*n+u*i-l*a)*2/c,r[1]=(u*o+f*a+l*n-s*i)*2/c,r[2]=(l*o+f*i+s*a-u*n)*2/c):(r[0]=(s*o+f*n+u*i-l*a)*2,r[1]=(u*o+f*a+l*n-s*i)*2,r[2]=(l*o+f*i+s*a-u*n)*2),R5(t,e,r),t}function Kee(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function A5(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],s=e[6],u=e[8],l=e[9],f=e[10];return t[0]=Math.hypot(r,n,a),t[1]=Math.hypot(i,o,s),t[2]=Math.hypot(u,l,f),t}function N5(t,e){var r=new zr(3);A5(r,e);var n=1/r[0],a=1/r[1],i=1/r[2],o=e[0]*n,s=e[1]*a,u=e[2]*i,l=e[4]*n,f=e[5]*a,c=e[6]*i,h=e[8]*n,p=e[9]*a,v=e[10]*i,g=o+f+v,y=0;return g>0?(y=Math.sqrt(g+1)*2,t[3]=.25*y,t[0]=(c-p)/y,t[1]=(h-u)/y,t[2]=(s-l)/y):o>f&&o>v?(y=Math.sqrt(1+o-f-v)*2,t[3]=(c-p)/y,t[0]=.25*y,t[1]=(s+l)/y,t[2]=(h+u)/y):f>v?(y=Math.sqrt(1+f-o-v)*2,t[3]=(h-u)/y,t[0]=(s+l)/y,t[1]=.25*y,t[2]=(c+p)/y):(y=Math.sqrt(1+v-o-f)*2,t[3]=(s-l)/y,t[0]=(h+u)/y,t[1]=(c+p)/y,t[2]=.25*y),t}function F5(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=e[3],u=a+a,l=i+i,f=o+o,c=a*u,h=a*l,p=a*f,v=i*l,g=i*f,y=o*f,m=s*u,d=s*l,_=s*f,x=n[0],w=n[1],S=n[2];return t[0]=(1-(v+y))*x,t[1]=(h+_)*x,t[2]=(p-d)*x,t[3]=0,t[4]=(h-_)*w,t[5]=(1-(c+y))*w,t[6]=(g+m)*w,t[7]=0,t[8]=(p+d)*S,t[9]=(g-m)*S,t[10]=(1-(c+v))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Xee(t,e,r,n,a){var i=e[0],o=e[1],s=e[2],u=e[3],l=i+i,f=o+o,c=s+s,h=i*l,p=i*f,v=i*c,g=o*f,y=o*c,m=s*c,d=u*l,_=u*f,x=u*c,w=n[0],S=n[1],b=n[2],T=a[0],C=a[1],M=a[2],D=(1-(g+m))*w,E=(p+x)*w,k=(v-_)*w,O=(p-x)*S,A=(1-(h+m))*S,I=(y+d)*S,U=(v+_)*b,P=(y-d)*b,B=(1-(h+g))*b;return t[0]=D,t[1]=E,t[2]=k,t[3]=0,t[4]=O,t[5]=A,t[6]=I,t[7]=0,t[8]=U,t[9]=P,t[10]=B,t[11]=0,t[12]=r[0]+T-(D*T+O*C+U*M),t[13]=r[1]+C-(E*T+A*C+P*M),t[14]=r[2]+M-(k*T+I*C+B*M),t[15]=1,t}function t2(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,l=r*o,f=n*o,c=n*s,h=a*o,p=a*s,v=a*u,g=i*o,y=i*s,m=i*u;return t[0]=1-c-v,t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-l-v,t[6]=p+g,t[7]=0,t[8]=h+y,t[9]=p-g,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yee(t,e,r,n,a,i,o){var s=1/(r-e),u=1/(a-n),l=1/(i-o);return t[0]=i*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(a+n)*u,t[10]=(o+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*l,t[15]=0,t}function B5(t,e,r,n,a){var i=1/Math.tan(e/2),o;return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(o=1/(n-a),t[10]=(a+n)*o,t[14]=2*a*n*o):(t[10]=-1,t[14]=-2*n),t}var qee=B5;function Zee(t,e,r,n,a){var i=1/Math.tan(e/2),o;return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(o=1/(n-a),t[10]=a*o,t[14]=a*n*o):(t[10]=-1,t[14]=-n),t}function Jee(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((o-s)*u*.5),t[9]=(a-i)*l*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function I5(t,e,r,n,a,i,o){var s=1/(e-r),u=1/(n-a),l=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(a+n)*u,t[14]=(o+i)*l,t[15]=1,t}var V5=I5;function Qee(t,e,r,n,a,i,o){var s=1/(e-r),u=1/(n-a),l=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+r)*s,t[13]=(a+n)*u,t[14]=i*l,t[15]=1,t}function P5(t,e,r,n){var a,i,o,s,u,l,f,c,h,p,v=e[0],g=e[1],y=e[2],m=n[0],d=n[1],_=n[2],x=r[0],w=r[1],S=r[2];return Math.abs(v-x)<bt&&Math.abs(g-w)<bt&&Math.abs(y-S)<bt?ze(t):(f=v-x,c=g-w,h=y-S,p=1/Math.hypot(f,c,h),f*=p,c*=p,h*=p,a=d*h-_*c,i=_*f-m*h,o=m*c-d*f,p=Math.hypot(a,i,o),p?(p=1/p,a*=p,i*=p,o*=p):(a=0,i=0,o=0),s=c*o-h*i,u=h*a-f*o,l=f*i-c*a,p=Math.hypot(s,u,l),p?(p=1/p,s*=p,u*=p,l*=p):(s=0,u=0,l=0),t[0]=a,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=u,t[6]=c,t[7]=0,t[8]=o,t[9]=l,t[10]=h,t[11]=0,t[12]=-(a*v+i*g+o*y),t[13]=-(s*v+u*g+l*y),t[14]=-(f*v+c*g+h*y),t[15]=1,t)}function ete(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=n[0],u=n[1],l=n[2],f=a-r[0],c=i-r[1],h=o-r[2],p=f*f+c*c+h*h;p>0&&(p=1/Math.sqrt(p),f*=p,c*=p,h*=p);var v=u*h-l*c,g=l*f-s*h,y=s*c-u*f;return p=v*v+g*g+y*y,p>0&&(p=1/Math.sqrt(p),v*=p,g*=p,y*=p),t[0]=v,t[1]=g,t[2]=y,t[3]=0,t[4]=c*y-h*g,t[5]=h*v-f*y,t[6]=f*g-c*v,t[7]=0,t[8]=f,t[9]=c,t[10]=h,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function tte(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function rte(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function nte(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function U5(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function ate(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function ite(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function z5(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ote(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=t[9],h=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],d=e[0],_=e[1],x=e[2],w=e[3],S=e[4],b=e[5],T=e[6],C=e[7],M=e[8],D=e[9],E=e[10],k=e[11],O=e[12],A=e[13],I=e[14],U=e[15];return Math.abs(r-d)<=bt*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-_)<=bt*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-x)<=bt*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-w)<=bt*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-S)<=bt*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-b)<=bt*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-T)<=bt*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(l-C)<=bt*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(f-M)<=bt*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(c-D)<=bt*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(h-E)<=bt*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(p-k)<=bt*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(v-O)<=bt*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(g-A)<=bt*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(y-I)<=bt*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(m-U)<=bt*Math.max(1,Math.abs(m),Math.abs(U))}var ste=Ht,ute=U5;const sb=Object.freeze(Object.defineProperty({__proto__:null,add:nte,adjoint:zee,clone:Vee,copy:gr,create:ZC,determinant:Gee,equals:ote,exactEquals:z5,frob:rte,fromQuat:t2,fromQuat2:$ee,fromRotation:k5,fromRotationTranslation:R5,fromRotationTranslationScale:F5,fromRotationTranslationScaleOrigin:Xee,fromScaling:L5,fromTranslation:M5,fromValues:Pee,fromXRotation:Wee,fromYRotation:Hee,fromZRotation:jee,frustum:Yee,getRotation:N5,getScaling:A5,getTranslation:Kee,identity:ze,invert:br,lookAt:P5,mul:ste,multiply:Ht,multiplyScalar:ate,multiplyScalarAndAdd:ite,ortho:V5,orthoNO:I5,orthoZO:Qee,perspective:qee,perspectiveFromFieldOfView:Jee,perspectiveNO:B5,perspectiveZO:Zee,rotate:va,rotateX:JC,rotateY:QC,rotateZ:e2,scale:El,set:Uee,str:tte,sub:ute,subtract:U5,targetTo:ete,translate:lr,transpose:dt},Symbol.toStringTag,{value:"Module"}));function r2(){var t=new zr(3);return zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function lte(t){var e=new zr(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function dl(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function ub(t,e,r){var n=new zr(3);return n[0]=t,n[1]=e,n[2]=r,n}function cte(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Bt(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Vi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Sa(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function G5(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function n2(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function fte(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function hte(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function pte(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function vte(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function dte(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Ir(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function gte(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function W5(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.hypot(r,n,a)}function H5(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function j5(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function $5(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function K5(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Ca(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Dl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function gl(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2];return t[0]=a*u-i*s,t[1]=i*o-n*u,t[2]=n*s-a*o,t}function yte(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t}function mte(t,e,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,l=o*(i-1),f=o*(3-2*i);return t[0]=e[0]*s+r[0]*u+n[0]*l+a[0]*f,t[1]=e[1]*s+r[1]*u+n[1]*l+a[1]*f,t[2]=e[2]*s+r[2]*u+n[2]*l+a[2]*f,t}function _te(t,e,r,n,a,i){var o=1-i,s=o*o,u=i*i,l=s*o,f=3*i*s,c=3*u*o,h=u*i;return t[0]=e[0]*l+r[0]*f+n[0]*c+a[0]*h,t[1]=e[1]*l+r[1]*f+n[1]*c+a[1]*h,t[2]=e[2]*l+r[2]*f+n[2]*c+a[2]*h,t}function xte(t,e){e=e||1;var r=fM()*2*Math.PI,n=fM()*2-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t}function He(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t}function y0(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t}function wte(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=e[0],u=e[1],l=e[2],f=a*l-i*u,c=i*s-n*l,h=n*u-a*s,p=a*h-i*c,v=i*f-n*h,g=n*c-a*f,y=o*2;return f*=y,c*=y,h*=y,p*=2,v*=2,g*=2,t[0]=s+f+p,t[1]=u+c+v,t[2]=l+h+g,t}function Ste(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function bte(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function Tte(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function Cte(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+a*a),l=Math.sqrt(i*i+o*o+s*s),f=u*l,c=f&&Dl(t,e)/f;return Math.acos(Math.min(Math.max(c,-1),1))}function Ete(t){return t[0]=0,t[1]=0,t[2]=0,t}function Dte(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Zc(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function lb(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],s=e[2];return Math.abs(r-i)<=bt*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=bt*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=bt*Math.max(1,Math.abs(a),Math.abs(s))}var X5=Sa,Ote=G5,Mte=n2,Lte=W5,kte=H5,a2=dl,Rte=j5,Ate=function(){var t=r2();return function(e,r,n,a,i,o){var s,u;for(r||(r=3),n||(n=0),a?u=Math.min(a*r+n,e.length):u=e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();const Nte=Object.freeze(Object.defineProperty({__proto__:null,add:Vi,angle:Cte,bezier:_te,ceil:fte,clone:lte,copy:cte,create:r2,cross:gl,dist:Lte,distance:W5,div:Mte,divide:n2,dot:Dl,equals:lb,exactEquals:Zc,floor:hte,forEach:Ate,fromValues:ub,hermite:mte,inverse:K5,len:a2,length:dl,lerp:yte,max:vte,min:pte,mul:Ote,multiply:G5,negate:$5,normalize:Ca,random:xte,rotateX:Ste,rotateY:bte,rotateZ:Tte,round:dte,scale:Ir,scaleAndAdd:gte,set:Bt,sqrDist:kte,sqrLen:Rte,squaredDistance:H5,squaredLength:j5,str:Dte,sub:X5,subtract:Sa,transformMat3:y0,transformMat4:He,transformQuat:wte,zero:Ete},Symbol.toStringTag,{value:"Module"}));function Fte(){var t=new zr(4);return zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Bte(t,e,r,n){var a=new zr(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function hM(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Ite(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o,t}function Oo(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t}(function(){var t=Fte();return function(e,r,n,a,i,o){var s,u;for(r||(r=4),n||(n=0),a?u=Math.min(a*r+n,e.length):u=e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function Ol(){var t=new zr(4);return zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function i2(t,e,r){r=r*.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Vte(t,e){var r=Math.acos(e[3])*2,n=Math.sin(r/2);return n>bt?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function pM(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[0],u=r[1],l=r[2],f=r[3];return t[0]=n*f+o*s+a*l-i*u,t[1]=a*f+o*u+i*s-n*l,t[2]=i*f+o*l+n*u-a*s,t[3]=o*f-n*s-a*u-i*l,t}function W_(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=e[3],u=r[0],l=r[1],f=r[2],c=r[3],h,p,v,g,y;return p=a*u+i*l+o*f+s*c,p<0&&(p=-p,u=-u,l=-l,f=-f,c=-c),1-p>bt?(h=Math.acos(p),v=Math.sin(h),g=Math.sin((1-n)*h)/v,y=Math.sin(n*h)/v):(g=1-n,y=n),t[0]=g*a+y*u,t[1]=g*i+y*l,t[2]=g*o+y*f,t[3]=g*s+y*c,t}function Pte(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Ute(t,e){var r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(e[a*3+a]-e[i*3+i]-e[o*3+o]+1),t[a]=.5*n,n=.5/n,t[3]=(e[i*3+o]-e[o*3+i])*n,t[i]=(e[i*3+a]+e[a*3+i])*n,t[o]=(e[o*3+a]+e[a*3+o])*n}return t}var vM=Bte,Y5=Ite;(function(){var t=r2(),e=ub(1,0,0),r=ub(0,1,0);return function(n,a,i){var o=Dl(a,i);return o<-.999999?(gl(t,e,a),a2(t)<1e-6&&gl(t,r,a),Ca(t,t),i2(n,t,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(gl(t,a,i),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+o,Y5(n,n))}})();(function(){var t=Ol(),e=Ol();return function(r,n,a,i,o,s){return W_(t,n,o,s),W_(e,a,i,s),W_(r,t,e,2*s*(1-s)),r}})();(function(){var t=E5();return function(e,r,n,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],Y5(e,Ute(e,t))}})();function zte(t){if(Array.isArray(t))return t}function Gte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q5(t,e){if(t){if(typeof t=="string")return cb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(t,e)}}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fr(t,e){return zte(t)||Gte(t,e)||q5(t,e)||Wte()}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function qe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hte(t){if(Array.isArray(t))return cb(t)}function jte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(t){return Hte(t)||jte(t)||q5(t)||$te()}function Jp(t,e){return Jp=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Jp(t,e)}function Kte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(t,e,r){return Kte()?yp=Reflect.construct:yp=function(a,i,o){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(a,s),l=new u;return o&&Jp(l,o.prototype),l},yp.apply(null,arguments)}var H_,dM;function Z5(){if(dM)return H_;dM=1;var t=Object.prototype.toString;return H_=function(r){var n=t.call(r),a=n==="[object Arguments]";return a||(a=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&t.call(r.callee)==="[object Function]"),a},H_}var j_,gM;function Xte(){if(gM)return j_;gM=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Z5(),a=Object.prototype.propertyIsEnumerable,i=!a.call({toString:null},"toString"),o=a.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(h){var p=h.constructor;return p&&p.prototype===h},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!l["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{u(window[h])}catch{return!0}}catch{return!0}return!1}(),c=function(h){if(typeof window>"u"||!f)return u(h);try{return u(h)}catch{return!1}};t=function(p){var v=p!==null&&typeof p=="object",g=r.call(p)==="[object Function]",y=n(p),m=v&&r.call(p)==="[object String]",d=[];if(!v&&!g&&!y)throw new TypeError("Object.keys called on a non-object");var _=o&&g;if(m&&p.length>0&&!e.call(p,0))for(var x=0;x<p.length;++x)d.push(String(x));if(y&&p.length>0)for(var w=0;w<p.length;++w)d.push(String(w));else for(var S in p)!(_&&S==="prototype")&&e.call(p,S)&&d.push(String(S));if(i)for(var b=c(p),T=0;T<s.length;++T)!(b&&s[T]==="constructor")&&e.call(p,s[T])&&d.push(s[T]);return d}}return j_=t,j_}var $_,yM;function Yte(){if(yM)return $_;yM=1;var t=Array.prototype.slice,e=Z5(),r=Object.keys,n=r?function(o){return r(o)}:Xte(),a=Object.keys;return n.shim=function(){if(Object.keys){var o=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);o||(Object.keys=function(u){return e(u)?a(t.call(u)):a(u)})}else Object.keys=n;return Object.keys||n},$_=n,$_}var K_,mM;function J5(){if(mM)return K_;mM=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return K_=t,K_}var X_,_M;function qte(){return _M||(_M=1,X_=SyntaxError),X_}var Y_,xM;function Zte(){return xM||(xM=1,Y_=TypeError),Y_}var q_,wM;function Jte(){return wM||(wM=1,q_=Object.getOwnPropertyDescriptor),q_}var Z_,SM;function Qte(){if(SM)return Z_;SM=1;var t=Jte();if(t)try{t([],"length")}catch{t=null}return Z_=t,Z_}var J_,bM;function ere(){if(bM)return J_;bM=1;var t=J5(),e=qte(),r=Zte(),n=Qte();return J_=function(i,o,s){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(i,o);if(t)t(i,o,{configurable:f===null&&h?h.configurable:!f,enumerable:u===null&&h?h.enumerable:!u,value:s,writable:l===null&&h?h.writable:!l});else if(c||!u&&!l&&!f)i[o]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},J_}var Q_,TM;function tre(){if(TM)return Q_;TM=1;var t=J5(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Q_=e,Q_}var ex,CM;function Q5(){if(CM)return ex;CM=1;var t=Yte(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,a=ere(),i=function(l){return typeof l=="function"&&r.call(l)==="[object Function]"},o=tre()(),s=function(l,f,c,h){if(f in l){if(h===!0){if(l[f]===c)return}else if(!i(h)||!h())return}o?a(l,f,c,!0):a(l,f,c)},u=function(l,f){var c=arguments.length>2?arguments[2]:{},h=t(f);e&&(h=n.call(h,Object.getOwnPropertySymbols(f)));for(var p=0;p<h.length;p+=1)s(l,h[p],f[h[p]],c[h[p]])};return u.supportsDescriptors=!!o,ex=u,ex}var oh={exports:{}},EM;function eV(){return EM||(EM=1,typeof self<"u"?oh.exports=self:typeof window<"u"?oh.exports=window:oh.exports=Function("return this")()),oh.exports}var tx,DM;function tV(){if(DM)return tx;DM=1;var t=eV();return tx=function(){return typeof Zu!="object"||!Zu||Zu.Math!==Math||Zu.Array!==Array?t:Zu},tx}var rx,OM;function rre(){if(OM)return rx;OM=1;var t=Q5(),e=tV();return rx=function(){var n=e();if(t.supportsDescriptors){var a=Object.getOwnPropertyDescriptor(n,"globalThis");(!a||a.configurable&&(a.enumerable||!a.writable||globalThis!==n))&&Object.defineProperty(n,"globalThis",{configurable:!0,enumerable:!1,value:n,writable:!0})}else(typeof globalThis!="object"||globalThis!==n)&&(n.globalThis=n);return n},rx}var nx,MM;function nre(){if(MM)return nx;MM=1;var t=Q5(),e=eV(),r=tV(),n=rre(),a=r(),i=function(){return a};return t(i,{getPolyfill:r,implementation:e,shim:n}),nx=i,nx}var are=nre();const ire=qv(are);function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ore(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ja=ire(),rV={vtkObject:function(){return null}};function ri(t){if(t==null||t.isA)return t;if(!t.vtkClass)return Ja.console&&Ja.console.error&&Ja.console.error("Invalid VTK object"),null;var e=rV[t.vtkClass];if(!e)return Ja.console&&Ja.console.error&&Ja.console.error("No vtk class found for Object of type ".concat(t.vtkClass)),null;var r=ore({},t);Object.keys(r).forEach(function(a){r[a]&&Ml(r[a])==="object"&&r[a].vtkClass&&(r[a]=ri(r[a]))});var n=e(r);return n&&n.modified&&n.modified(),n}function sre(t,e){rV[t]=e}ri.register=sre;function Jm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ure(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qm(t,e,r){return e&&ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ll(t){return Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ll(t)}function lre(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ll(t),t!==null););return t}function m0(){return typeof Reflect<"u"&&Reflect.get?m0=Reflect.get:m0=function(e,r,n){var a=lre(e,r);if(a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?e:n):i.value}},m0.apply(this,arguments)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}function fre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hre(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(t)}function pre(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function fb(t){var e=typeof Map=="function"?new Map:void 0;return fb=function(n){if(n===null||!pre(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return yp(n,arguments,Ll(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Jp(a,n)},fb(t)}function vre(t){var e=dre();return function(){var n=Ll(t),a;if(e){var i=Ll(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return hre(this,a)}}function dre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ax=function(t){cre(r,t);var e=vre(r);function r(){return Jm(this,r),e.apply(this,arguments)}return Qm(r,[{key:"push",value:function(){for(var a=this,i,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var l=s.filter(function(f){return!a.includes(f)});return(i=m0(Ll(r.prototype),"push",this)).call.apply(i,[this].concat(je(l)))}}]),r}(fb(Array));function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pb=0,gre=Symbol("void");function yre(){return pb}var nV={};function Ju(){}var mre=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];mre.forEach(function(t){nV[t]=Ju});Ja.console=console.hasOwnProperty("log")?console:nV;var aa={debug:Ju,error:Ja.console.error||Ju,info:Ja.console.info||Ju,log:Ja.console.log||Ju,warn:Ja.console.warn||Ju};function _re(t,e){aa[t]&&(aa[t]=e||Ju)}function xre(){aa.log.apply(aa,arguments)}function wre(){aa.info.apply(aa,arguments)}function Ks(){aa.debug.apply(aa,arguments)}function $e(){aa.error.apply(aa,arguments)}function Zv(){aa.warn.apply(aa,arguments)}var RM={};function Sre(t){RM[t]||(aa.error(t),RM[t]=!0)}var Fa=Object.create(null);Fa.Float32Array=Float32Array;Fa.Float64Array=Float64Array;Fa.Uint8Array=Uint8Array;Fa.Int8Array=Int8Array;Fa.Uint16Array=Uint16Array;Fa.Int16Array=Int16Array;Fa.Uint32Array=Uint32Array;Fa.Int32Array=Int32Array;Fa.Uint8ClampedArray=Uint8ClampedArray;function e1(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return yp(Fa[t]||Float64Array,r)}function aV(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return(e=Fa[t]||Float64Array).from.apply(e,n)}function o2(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vn(t){return o2(t[0]==="_"?t.slice(1):t)}function bre(t){return t.charAt(0).toLowerCase()+t.slice(1)}function Tre(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,n=["TB","GB","MB","KB"],a=Number(t),i="B";a>r;)a/=r,i=n.pop();return"".concat(a.toFixed(e)," ").concat(i)}function Cre(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",r=[],n=t;n>1e3;)r.push("000".concat(n%1e3).slice(-3)),n=Math.floor(n/1e3);return n>0&&r.push(n),r.reverse(),r.join(e)}function iV(t){Object.keys(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function Ere(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}function Dre(t,e){return Object.keys(t).find(function(r){return t[r]===e})}function oV(t){return t&&t.isA?t.getState():t}function sV(t){setTimeout(t,0)}function Ore(t,e){var r=performance.now();t.finally(function(){var n=performance.now()-r;e(n)})}function nr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};iV(e);var r=[];Number.isInteger(e.mtime)||(e.mtime=++pb),"classHierarchy"in e?e.classHierarchy instanceof ax||(e.classHierarchy=ax.from(e.classHierarchy)):e.classHierarchy=new ax("vtkObject");function n(i){r[i]=null}function a(i){function o(){n(i)}return Object.freeze({unsubscribe:o})}return t.isDeleted=function(){return!!e.deleted},t.modified=function(i){if(e.deleted){$e("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++pb,r.forEach(function(o){return o&&o(t)}))},t.onModified=function(i){if(e.deleted)return $e("instance deleted - cannot call any method"),null;var o=r.length;return r.push(i),a(o)},t.getMTime=function(){return e.mtime},t.isA=function(i){for(var o=e.classHierarchy.length;o--;)if(e.classHierarchy[o]===i)return!0;return!1},t.getClassName=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=!1;return Object.keys(i).forEach(function(l){var f=s?null:t["set".concat(o2(l))];f&&Array.isArray(i[l])&&f.length>1?u=f.apply(void 0,je(i[l]))||u:f?u=f(i[l])||u:(["mtime"].indexOf(l)===-1&&!o&&Zv("Warning: Set value to model directly ".concat(l,", ").concat(i[l])),u=e[l]!==i[l]||u,e[l]=i[l])}),u},t.get=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length)return e;var u={};return o.forEach(function(l){u[l]=e[l]}),u},t.getReferenceByName=function(i){return e[i]},t.delete=function(){Object.keys(e).forEach(function(i){return delete e[i]}),r.forEach(function(i,o){return n(o)}),e.deleted=!0},t.getState=function(){if(e.deleted)return null;var i=hb(hb({},e),{},{vtkClass:t.getClassName()});Object.keys(i).forEach(function(s){i[s]===null||i[s]===void 0||s[0]==="_"?delete i[s]:i[s].isA?i[s]=i[s].getState():Array.isArray(i[s])&&(i[s]=i[s].map(oV))});var o={};return Object.keys(i).sort().forEach(function(s){o[s]=i[s]}),o.mtime&&delete o.mtime,o},t.shallowCopy=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error("Cannot ShallowCopy ".concat(i.getClassName()," into ").concat(t.getClassName()));var s=i.get(),u=Object.keys(e).sort(),l=Object.keys(s).sort();l.forEach(function(f){var c=u.indexOf(f);c===-1?o&&Ks("add ".concat(f," in shallowCopy")):u.splice(c,1),e[f]=s[f]}),u.length&&o&&Ks("Untouched keys: ".concat(u.join(", "))),t.modified()},t.toJSON=function(){return t.getState()},t}function ia(t,e,r){r.forEach(function(n){Ml(n)==="object"?t["get".concat(vn(n.name))]=function(){return e[n.name]}:t["get".concat(vn(n))]=function(){return e[n]}})}var Mre={enum:function(e,r,n){return function(a){if(typeof a=="string"){if(n.enum[a]!==void 0)return r[n.name]!==n.enum[a]?(r[n.name]=n.enum[a],e.modified(),!0):!1;throw $e("Set Enum with invalid argument ".concat(n,", ").concat(a)),new RangeError("Set Enum with invalid string argument")}if(typeof a=="number"){if(r[n.name]!==a){if(Object.keys(n.enum).map(function(i){return n.enum[i]}).indexOf(a)!==-1)return r[n.name]=a,e.modified(),!0;throw $e("Set Enum outside numeric range ".concat(n,", ").concat(a)),new RangeError("Set Enum outside numeric range")}return!1}throw $e("Set Enum with invalid argument (String/Number) ".concat(n,", ").concat(a)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function AM(t){if(Ml(t)==="object"){var e=Mre[t.type];if(e)return function(r,n){return e(r,n,t)};throw $e("No setter for field ".concat(t)),new TypeError("No setter for field")}return function(n,a){return function(o){return a.deleted?($e("instance deleted - cannot call any method"),!1):a[t]!==o?(a[t]=o,n.modified(),!0):!1}}}function t1(t,e,r){r.forEach(function(n){Ml(n)==="object"?t["set".concat(vn(n.name))]=AM(n)(t,e):t["set".concat(vn(n))]=AM(n)(t,e)})}function Cr(t,e,r){ia(t,e,r),t1(t,e,r)}function Jv(t,e,r){r.forEach(function(n){t["get".concat(vn(n))]=function(){return e[n]?[].concat(e[n]):e[n]},t["get".concat(vn(n),"ByReference")]=function(){return e[n]}})}function uV(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;r.forEach(function(i){if(e[i]&&n&&e[i].length!==n)throw new RangeError("Invalid initial number of values for array (".concat(i,")"));t["set".concat(vn(i))]=function(){if(e.deleted)return $e("instance deleted - cannot call any method"),!1;for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var l=s,f,c=!1;if(l.length===1&&(l[0]==null||l[0].length>=0)&&(l=l[0],c=!0),l==null)f=e[i]!==l;else{if(n&&l.length!==n)if(l.length<n&&a!==void 0)for(l=Array.from(l),c=!1;l.length<n;)l.push(a);else throw new RangeError("Invalid number of values for array setter (".concat(i,")"));f=e[i]==null||e[i].some(function(h,p){return h!==l[p]})||e[i].length!==l.length,f&&c&&(l=Array.from(l))}return f&&(e[i]=l,t.modified()),f},t["set".concat(vn(i),"From")]=function(o){var s=e[i];o.forEach(function(u,l){s[l]=u})}})}function lV(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;Jv(t,e,r),uV(t,e,r,n,a)}function s2(t,e,r){for(var n=0;n<r.length;n++){var a=r[n];e[a]!==void 0&&(e["_".concat(a)]=e[a],delete e[a])}}function Lre(t,e,r,n){e.inputData?e.inputData=e.inputData.map(ri):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(ri):e.inputConnection=[],e.output?e.output=e.output.map(ri):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(ri):e.inputArrayToProcess=[],e.numberOfInputs=r;function a(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){$e("instance deleted - cannot call any method");return}if(g>=e.numberOfInputs){$e("algorithm ".concat(t.getClassName()," only has ").concat(e.numberOfInputs," input ports. To add more input ports, use addInputData()"));return}(e.inputData[g]!==v||e.inputConnection[g])&&(e.inputData[g]=v,e.inputConnection[g]=null,t.modified&&t.modified())}function i(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[v]&&(e.inputData[v]=e.inputConnection[v]()),e.inputData[v]}function o(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){$e("instance deleted - cannot call any method");return}if(g>=e.numberOfInputs){var y="algorithm ".concat(t.getClassName()," only has ");y+="".concat(e.numberOfInputs),y+=" input ports. To add more input ports, use addInputConnection()",$e(y);return}e.inputData[g]=null,e.inputConnection[g]=v}function s(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[v]}function u(){for(var v=e.numberOfInputs;v&&!e.inputData[v-1]&&!e.inputConnection[v-1];)v--;return v===e.numberOfInputs&&e.numberOfInputs++,v}function l(v){if(e.deleted){$e("instance deleted - cannot call any method");return}o(v,u())}function f(v){if(e.deleted){$e("instance deleted - cannot call any method");return}a(v,u())}function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?($e("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[v])}t.shouldUpdate=function(){for(var v=t.getMTime(),g=1/0,y=n;y--;){if(!e.output[y]||e.output[y].isDeleted())return!0;var m=e.output[y].getMTime();if(m<v)return!0;m<g&&(g=m)}for(y=e.numberOfInputs;y--;){var d,_;if((d=e.inputConnection[y])!==null&&d!==void 0&&d.filter.shouldUpdate()||((_=t.getInputData(y))===null||_===void 0?void 0:_.getMTime())>g)return!0}return!1};function h(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=function(){return c(v)};return g.filter=t,g}if(e.numberOfInputs){for(var p=e.numberOfInputs;p--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=a,t.setInputConnection=o,t.addInputData=f,t.addInputConnection=l,t.getInputData=i,t.getInputConnection=s}n&&(t.getOutputData=c,t.getOutputPort=h),t.update=function(){var v=[];if(e.numberOfInputs)for(var g=0;g<e.numberOfInputs;)v[g]=t.getInputData(g),g++;t.shouldUpdate()&&t.requestData&&t.requestData(v,e.output)},t.getNumberOfInputPorts=function(){return e.numberOfInputs},t.getNumberOfOutputPorts=function(){return n||e.output.length},t.getInputArrayToProcess=function(v){var g=e.inputArrayToProcess[v],y=e.inputData[v];return g&&y?y["get".concat(g.fieldAssociation)]().getArray(g.arrayName):null},t.setInputArrayToProcess=function(v,g,y){for(var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";e.inputArrayToProcess.length<v;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[v]={arrayName:g,fieldAssociation:y,attributeType:m}}}var cV=Symbol("Event abort");function kre(t,e,r){var n=[],a=t.delete,i=1;function o(l){for(var f=0;f<n.length;++f){var c=Fr(n[f],1),h=c[0];if(h===l){n.splice(f,1);return}}}function s(l){function f(){o(l)}return Object.freeze({unsubscribe:f})}function u(){var l=arguments;if(e.deleted){$e("instance deleted - cannot call any method");return}for(var f=n.slice(),c=function(g){var y=Fr(f[g],3),m=y[1],d=y[2];if(!m)return"continue";if(d<0)setTimeout(function(){return m.apply(t,l)},1-d);else{var _=m.apply(t,l);if(_===cV)return"break"}},h=0;h<f.length;++h){var p=c(h);if(p!=="continue"&&p==="break")break}}t["invoke".concat(vn(r))]=u,t["on".concat(vn(r))]=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!l.apply)return console.error("Invalid callback for event ".concat(r)),null;if(e.deleted)return $e("instance deleted - cannot call any method"),null;var c=i++;return n.push([c,l,f]),n.sort(function(h,p){return p[2]-h[2]}),s(c)},t.delete=function(){a(),n.forEach(function(l){var f=Fr(l,1),c=f[0];return o(c)})}}function mt(t,e){var r=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={},o={};return t(o,i,a),Object.freeze(o)};return e&&ri.register(e,r),r}function fV(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.filter(function(o){return!!o}).map(function(o){return o.apply(void 0,a)})}}function hV(t){return t&&t.isA&&t.isA("vtkObject")}function vb(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(hV(t)){if(n.indexOf(t)>=0)return r;n.push(t);var a=e(t);a!==void 0&&r.push(a);var i=t.get();Object.keys(i).forEach(function(o){var s=i[o];Array.isArray(s)?s.forEach(function(u){vb(u,e,r,n)}):vb(s,e,r,n)})}return r}function Rre(t,e,r){var n=this,a,i=function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var f=n,c=function(){a=null,r||t.apply(f,u)},h=r&&!a;clearTimeout(a),a=setTimeout(c,e),h&&t.apply(f,u)};return i.cancel=function(){return clearTimeout(a)},i}function Are(t,e){var r=!1,n=null;function a(){r=!1,n!==null&&(i.apply(void 0,je(n)),n=null)}function i(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(r){n=s;return}r=!0,t.apply(void 0,s),setTimeout(a,e)}return i}function pV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},r),t.setKey=function(n,a){e.keystore[n]=a},t.getKey=function(n){return e.keystore[n]},t.getAllKeys=function(){return Object.keys(e.keystore)},t.deleteKey=function(n){return delete e.keystore[n]},t.clearKeystore=function(){return t.getAllKeys().forEach(function(n){return delete e.keystore[n]})}}var Nre=1,Id="__root__";function Fre(t,e){pV(t,e);var r=t.delete;e.proxyId="".concat(Nre++),e.ui=JSON.parse(JSON.stringify(e.ui||[])),ia(t,e,["proxyId","proxyGroup","proxyName"]),Cr(t,e,["proxyManager"]);var n={},a={};function i(l,f){a[f]||(a[f]=[]);for(var c=a[f],h=0;h<l.length;h++)c.push(l[h].name),n[l[h].name]=l[h],l[h].children&&l[h].children.length&&i(l[h].children,l[h].name)}i(e.ui,Id),t.updateUI=function(l){e.ui=JSON.parse(JSON.stringify(l||[])),Object.keys(n).forEach(function(f){return delete n[f]}),Object.keys(a).forEach(function(f){return delete a[f]}),i(e.ui,Id),t.modified()};function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Id;return a[l]}t.updateProxyProperty=function(l,f){var c=n[l];c?Object.assign(c,f):n[l]=hb({},f)},t.activate=function(){if(e.proxyManager){var l="setActive".concat(vn(t.getProxyGroup().slice(0,-1)));e.proxyManager[l]&&e.proxyManager[l](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=function(l,f){f in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[f]=[]),e.propertyLinkSubscribers[f].push(l)},t.gcPropertyLinks=function(l){for(var f=e.propertyLinkSubscribers[l]||[];f.length;)f.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[l])return e.propertyLinkMap[l];var c=null,h=[],p=0,v=!1;function g(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(v)return null;var S=[],b=null;for(p=h.length;p--;){var T=h[p];T.instance===x?b=T:S.push(T)}if(!b)return null;var C=b.instance["get".concat(vn(b.propertyName))]();if(!Ere(C,c)||w){for(c=C,v=!0;S.length;){var M=S.pop();M.instance.set(qe({},M.propertyName,c))}v=!1}return e.propertyLinkMap[l].persistent&&(e.propertyLinkMap[l].value=C),C}function y(x,w){var S=[];for(p=h.length;p--;){var b=h[p];b.instance===x&&(b.propertyName===w||w===void 0)&&(b.subscription.unsubscribe(),S.push(p))}for(;S.length;)h.splice(S.pop(),1)}function m(x,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=x.onModified(g),T=h[0];return h.push({instance:x,propertyName:w,subscription:b}),S&&(e.propertyLinkMap[l].persistent&&e.propertyLinkMap[l].value!==void 0?x.set(qe({},w,e.propertyLinkMap[l].value)):T&&g(T.instance,!0)),{unsubscribe:function(){return y(x,w)}}}function d(){for(;h.length;)h.pop().subscription.unsubscribe()}var _={bind:m,unbind:y,unsubscribe:d,persistent:f};return e.propertyLinkMap[l]=_,_};function s(){for(var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Id,f=[],c=e.proxyId,h=o(l)||[],p=0;p<h.length;p++){var v=h[p],g=t["get".concat(vn(v))],y=g?g():void 0,m={id:c,name:v,value:y},d=s(v);d.length&&(m.children=d),f.push(m)}return f}t.listPropertyNames=function(){return s().map(function(l){return l.name})},t.getPropertyByName=function(l){return s().find(function(f){return f.name===l})},t.getPropertyDomainByName=function(l){return(n[l]||{}).domain},t.getProxySection=function(){return{id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:s()}},t.delete=function(){for(var l=Object.keys(e.propertyLinkMap),f=l.length;f--;)e.propertyLinkMap[l[f]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),r()},t.getState=function(){return null};function u(){if(e.links)for(var l=0;l<e.links.length;l++){var f=e.links[l],c=f.link,h=f.property,p=f.persistent,v=f.updateOnBind,g=f.type;if(g==="application"){var y=e.proxyManager.getPropertyLink(c,p);t.registerPropertyLinkForGC(y,"application"),y.bind(t,h,v)}}}sV(u)}function Bre(t,e,r){for(var n=t.delete,a=[],i=Object.keys(r),o=i.length;o--;){var s=i[o],u=r[s],l=u.modelKey,f=u.property,c=u.modified,h=c===void 0?!0:c,p=vn(f),v=vn(s);t["get".concat(v)]=e[l]["get".concat(p)],t["set".concat(v)]=e[l]["set".concat(p)],h&&a.push(e[l].onModified(t.modified))}t.delete=function(){for(;a.length;)a.pop().unsubscribe();n()}}function Ire(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function a(u){for(var l=Object.keys(u),f=l.length;f--;){var c=l[f];e[c].set(u[c])}}for(var i=Object.keys(n),o=i.length,s=function(){var l=i[o];e[l]=n[l];var f=r[l];t["set".concat(vn(l))]=function(c){if(c!==e[l]){e[l]=c;var h=f[c];a(h),t.modified()}}};o--;)s();i.length&&ia(t,e,i)}var NM=10,FM=40,BM=800;function Vre(t){var e=0,r=0,n=0,a=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=r,r=0),n=e*NM,a=r*NM,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||a)&&t.deltaMode&&(t.deltaMode===1?(n*=FM,a*=FM):(n*=BM,a*=BM)),n&&!e&&(e=n<1?-1:1),a&&!r&&(r=a<1?-1:1),{spinX:e,spinY:r,pixelX:n,pixelY:a}}var X={algo:Lre,capitalize:o2,chain:fV,debounce:Rre,enumToString:Dre,event:kre,EVENT_ABORT:cV,formatBytesToProperUnit:Tre,formatNumbersWithThousandSeparator:Cre,get:ia,getArray:Jv,getCurrentGlobalMTime:yre,getStateArrayMapFunc:oV,isVtkObject:hV,keystore:pV,measurePromiseExecution:Ore,moveToProtected:s2,newInstance:mt,newTypedArray:e1,newTypedArrayFrom:aV,normalizeWheel:Vre,obj:nr,proxy:Fre,proxyPropertyMapping:Bre,proxyPropertyState:Ire,safeArrays:iV,set:t1,setArray:uV,setGet:Cr,setGetArray:lV,setImmediate:sV,setLoggerFunction:_re,throttle:Are,traverseInstanceTree:vb,TYPED_ARRAYS:Fa,uncapitalize:bre,VOID:gre,vtkDebugMacro:Ks,vtkErrorMacro:$e,vtkInfoMacro:wre,vtkLogMacro:xre,vtkOnceErrorMacro:Sre,vtkWarningMacro:Zv},Pre=X.vtkErrorMacro,Ure=["Build","Render"];function zre(t,e){e.classHierarchy.push("vtkViewNode"),t.build=function(r){},t.render=function(r){},t.traverse=function(r){var n=r.getTraverseOperation(),a=t[n];if(a){a(r);return}t.apply(r,!0);for(var i=0;i<e.children.length;i++)e.children[i].traverse(r);t.apply(r,!1)},t.apply=function(r,n){var a=t[r.getOperation()];a&&a(n,r)},t.getViewNodeFor=function(r){if(e.renderable===r)return t;for(var n=0;n<e.children.length;++n){var a=e.children[n],i=a.getViewNodeFor(r);if(i)return i}},t.getFirstAncestorOfType=function(r){return e._parent?e._parent.isA(r)?e._parent:e._parent.getFirstAncestorOfType(r):null},t.addMissingNode=function(r){if(r){var n=e._renderableChildMap.get(r);if(n!==void 0)n.setVisited(!0);else{var a=t.createViewNode(r);a&&(a.setParent(t),a.setVisited(!0),e._renderableChildMap.set(r,a),e.children.push(a))}}},t.addMissingNodes=function(r){if(!(!r||!r.length))for(var n=0;n<r.length;++n){var a=r[n],i=e._renderableChildMap.get(a);if(i!==void 0)i.setVisited(!0);else{var o=t.createViewNode(a);o&&(o.setParent(t),o.setVisited(!0),e._renderableChildMap.set(a,o),e.children.push(o))}}},t.addMissingChildren=function(r){if(!(!r||!r.length))for(var n=0;n<r.length;++n){var a=r[n],i=e.children.indexOf(a);i===-1&&(a.setParent(t),e.children.push(a)),a.setVisited(!0)}},t.prepareNodes=function(){for(var r=0;r<e.children.length;++r)e.children[r].setVisited(!1)},t.setVisited=function(r){e.visited=r},t.removeUnusedNodes=function(){for(var r=null,n=0;n<e.children.length;++n){var a=e.children[n],i=a.getVisited();if(i)a.setVisited(!1);else{var o=a.getRenderable();o&&e._renderableChildMap.delete(o),r||(r=[]),r.push(a)}}r&&(e.children=e.children.filter(function(s){return!r.includes(s)}))},t.createViewNode=function(r){if(!e.myFactory)return Pre("Cannot create view nodes without my own factory"),null;var n=e.myFactory.createNode(r);return n&&n.setRenderable(r),n}}var Gre={renderable:null,myFactory:null,children:[],visited:!1};function vV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gre,r),X.obj(t,e),X.event(t,e,"event"),e._renderableChildMap=new Map,X.get(t,e,["visited"]),X.setGet(t,e,["_parent","renderable","myFactory"]),X.getArray(t,e,["children"]),X.moveToProtected(t,e,["parent"]),zre(t,e)}var Wre=X.newInstance(vV,"vtkViewNode"),Qt={newInstance:Wre,extend:vV,PASS_TYPES:Ure};function Hre(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=function(r){if(r.isDeleted())return null;for(var n=0,a=r.getClassName(n++),i=!1,o=Object.keys(e.overrides);a&&!i;)o.indexOf(a)!==-1?i=!0:a=r.getClassName(n++);if(!i)return null;var s=e.overrides[a]();return s.setMyFactory(t),s},t.registerOverride=function(r,n){e.overrides[r]=n}}var jre={};function dV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jre,r),X.obj(t,e),Hre(t,e)}var $re=X.newInstance(dV,"vtkViewNodeFactory"),gV={newInstance:$re,extend:dV},yV=Object.create(null);function Wr(t,e){yV[t]=e}function Kre(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}var Xre={};function mV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Xre,r),e.overrides=yV,gV.extend(t,e,r),Kre(t,e)}var Yre=X.newInstance(mV,"vtkOpenGLViewNodeFactory"),qre={newInstance:Yre,extend:mV};function Zre(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=function(r){r&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=function(r){if(r){var n=e.openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize),e.context.scissor(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)}},t.translucentPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=function(r){if(r!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||r.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){gr(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),qm(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),Zm(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),dt(e.keyMatrices.wcvc,e.keyMatrices.wcvc);var n=e.openGLRenderer.getAspectRatio();gr(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(n,-1,1)),dt(e.keyMatrices.vcpc,e.keyMatrices.vcpc),Ht(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=r}return e.keyMatrices}}var Jre={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function Qre(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jre,r),Qt.extend(t,e,r),e.keyMatrixTime={},nr(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Cr(t,e,["context","keyMatrixTime"]),Zre(t,e)}var ene=mt(Qre);Wr("vtkCamera",ene);var tne=Ks;function rne(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=function(r){if(r){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=function(){for(var r=0,n=e.renderable.getLightsByReference(),a=0;a<n.length;++a)n[a].getSwitch()>0&&r++;return r||(tne("No lights are on, creating one."),e.renderable.createLight()),r},t.opaqueZBufferPass=function(r){if(r){var n=0,a=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),n|=a.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),n|=a.DEPTH_BUFFER_BIT,e.context.depthMask(!0));var i=t.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.colorMask(!0,!0,!0,!0),n&&a.clear(n),a.enable(a.DEPTH_TEST)}},t.cameraPass=function(r){r&&t.clear()},t.getAspectRatio=function(){var r=e._parent.getSizeByReference(),n=e.renderable.getViewportByReference();return r[0]*(n[2]-n[0])/((n[3]-n[1])*r[1])},t.getTiledSizeAndOrigin=function(){var r=e.renderable.getViewportByReference(),n=[0,0,1,1],a=r[0]-n[0],i=r[1]-n[1],o=e._parent.normalizedDisplayToDisplay(a,i),s=Math.round(o[0]),u=Math.round(o[1]),l=r[2]-n[0],f=r[3]-n[1],c=e._parent.normalizedDisplayToDisplay(l,f),h=Math.round(c[0])-s,p=Math.round(c[1])-u;return h<0&&(h=0),p<0&&(p=0),{usize:h,vsize:p,lowerLeftU:s,lowerLeftV:u}},t.clear=function(){var r=0,n=e.context;if(!e.renderable.getTransparent()){var a=e.renderable.getBackgroundByReference();e.context.clearColor(a[0],a[1],a[2],a[3]),r|=n.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(n.clearDepth(1),r|=n.DEPTH_BUFFER_BIT,e.context.depthMask(!0)),n.colorMask(!0,!0,!0,!0);var i=t.getTiledSizeAndOrigin();n.enable(n.SCISSOR_TEST),n.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r&&n.clear(r),n.enable(n.DEPTH_TEST)},t.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()},t.setOpenGLRenderWindow=function(r){e._openGLRenderWindow!==r&&(t.releaseGraphicsResources(),e._openGLRenderWindow=r,e.context=null,r&&(e.context=e._openGLRenderWindow.getContext()))}}var nne={context:null,selector:null};function ane(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nne,r),Qt.extend(t,e,r),ia(t,e,["shaderCache"]),Cr(t,e,["selector"]),s2(t,e,["openGLRenderWindow"]),rne(t,e)}var ine=mt(ane,"vtkOpenGLRenderer");Wr("vtkRenderer",ine);var one={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5},r1={SlicingMode:one},Qv={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Rr={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},sne=Rr.FLOAT,_V={DefaultDataType:sne,DataTypeByteSize:Qv,VtkDataTypes:Rr},_0={exports:{}},une=_0.exports,IM;function lne(){return IM||(IM=1,function(t){(function(e,r,n){function a(u){var l=this,f=s();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=f(" "),l.s1=f(" "),l.s2=f(" "),l.s0-=f(u),l.s0<0&&(l.s0+=1),l.s1-=f(u),l.s1<0&&(l.s1+=1),l.s2-=f(u),l.s2<0&&(l.s2+=1),f=null}function i(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function o(u,l){var f=new a(u),c=l&&l.state,h=f.next;return h.int32=function(){return f.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,c&&(typeof c=="object"&&i(c,f),h.state=function(){return i(f,{})}),h}function s(){var u=4022871197,l=function(f){f=String(f);for(var c=0;c<f.length;c++){u+=f.charCodeAt(c);var h=.02519603282416938*u;u=h>>>0,h-=u,h*=u,u=h>>>0,h-=u,u+=h*4294967296}return(u>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=o:this.alea=o})(une,t)}(_0)),_0.exports}var x0={exports:{}},cne=x0.exports,VM;function fne(){return VM||(VM=1,function(t){(function(e,r,n){function a(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},s===(s|0)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=l.charCodeAt(f)|0,u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var l=new a(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var h=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}r&&r.exports?r.exports=o:this.xor128=o})(cne,t)}(x0)),x0.exports}var w0={exports:{}},hne=w0.exports,PM;function pne(){return PM||(PM=1,function(t){(function(e,r,n){function a(s){var u=this,l="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=l.charCodeAt(f)|0,f==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var l=new a(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var h=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}r&&r.exports?r.exports=o:this.xorwow=o})(hne,t)}(w0)),w0.exports}var S0={exports:{}},vne=S0.exports,UM;function dne(){return UM||(UM=1,function(t){(function(e,r,n){function a(s){var u=this;u.next=function(){var f=u.x,c=u.i,h,p;return h=f[c],h^=h>>>7,p=h^h<<24,h=f[c+1&7],p^=h^h>>>10,h=f[c+3&7],p^=h^h>>>3,h=f[c+4&7],p^=h^h<<7,h=f[c+7&7],h=h^h<<13,p^=h^h<<9,f[c]=p,u.i=c+1&7,p};function l(f,c){var h,p=[];if(c===(c|0))p[0]=c;else for(c=""+c,h=0;h<c.length;++h)p[h&7]=p[h&7]<<15^c.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8?p[7]=-1:p[h],f.x=p,f.i=0,h=256;h>0;--h)f.next()}l(u,s)}function i(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var h=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},c.int32=l.next,c.quick=c,f&&(f.x&&i(f,l),c.state=function(){return i(l,{})}),c}r&&r.exports?r.exports=o:this.xorshift7=o})(vne,t)}(S0)),S0.exports}var b0={exports:{}},gne=b0.exports,zM;function yne(){return zM||(zM=1,function(t){(function(e,r,n){function a(s){var u=this;u.next=function(){var f=u.w,c=u.X,h=u.i,p,v;return u.w=f=f+1640531527|0,v=c[h+34&127],p=c[h=h+1&127],v^=v<<13,p^=p<<17,v^=v>>>15,p^=p>>>12,v=c[h]=v^p,u.i=h,v+(f^f>>>16)|0};function l(f,c){var h,p,v,g,y,m=[],d=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,d=Math.max(d,c.length)),v=0,g=-32;g<d;++g)c&&(p^=c.charCodeAt((g+32)%c.length)),g===0&&(y=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,g>=0&&(y=y+1640531527|0,h=m[g&127]^=p+y,v=h==0?v+1:0);for(v>=128&&(m[(c&&c.length||0)&127]=-1),v=127,g=4*128;g>0;--g)p=m[v+34&127],h=m[v=v+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,m[v]=p^h;f.w=y,f.X=m,f.i=v}l(u,s)}function i(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var h=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},c.int32=l.next,c.quick=c,f&&(f.X&&i(f,l),c.state=function(){return i(l,{})}),c}r&&r.exports?r.exports=o:this.xor4096=o})(gne,t)}(b0)),b0.exports}var T0={exports:{}},mne=T0.exports,GM;function _ne(){return GM||(GM=1,function(t){(function(e,r,n){function a(s){var u=this,l="";u.next=function(){var c=u.b,h=u.c,p=u.d,v=u.a;return c=c<<25^c>>>7^h,h=h-p|0,p=p<<24^p>>>8^v,v=v-c|0,u.b=c=c<<20^c>>>12^h,u.c=h=h-p|0,u.d=p<<16^h>>>16^v,u.a=v-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):l+=s;for(var f=0;f<l.length+20;f++)u.b^=l.charCodeAt(f)|0,u.next()}function i(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var l=new a(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var h=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}r&&r.exports?r.exports=o:this.tychei=o})(mne,t)}(T0)),T0.exports}var C0={exports:{}};const xne={},wne=Object.freeze(Object.defineProperty({__proto__:null,default:xne},Symbol.toStringTag,{value:"Module"})),Sne=HJ(wne);var bne=C0.exports,WM;function Tne(){return WM||(WM=1,function(t){(function(e,r,n){var a=256,i=6,o=52,s="random",u=n.pow(a,i),l=n.pow(2,o),f=l*2,c=a-1,h;function p(x,w,S){var b=[];w=w==!0?{entropy:!0}:w||{};var T=m(y(w.entropy?[x,_(r)]:x??d(),3),b),C=new v(b),M=function(){for(var D=C.g(i),E=u,k=0;D<l;)D=(D+k)*a,E*=a,k=C.g(1);for(;D>=f;)D/=2,E/=2,k>>>=1;return(D+k)/E};return M.int32=function(){return C.g(4)|0},M.quick=function(){return C.g(4)/4294967296},M.double=M,m(_(C.S),r),(w.pass||S||function(D,E,k,O){return O&&(O.S&&g(O,C),D.state=function(){return g(C,{})}),k?(n[s]=D,E):D})(M,T,"global"in w?w.global:this==n,w.state)}function v(x){var w,S=x.length,b=this,T=0,C=b.i=b.j=0,M=b.S=[];for(S||(x=[S++]);T<a;)M[T]=T++;for(T=0;T<a;T++)M[T]=M[C=c&C+x[T%S]+(w=M[T])],M[C]=w;(b.g=function(D){for(var E,k=0,O=b.i,A=b.j,I=b.S;D--;)E=I[O=c&O+1],k=k*a+I[c&(I[O]=I[A=c&A+E])+(I[A]=E)];return b.i=O,b.j=A,k})(a)}function g(x,w){return w.i=x.i,w.j=x.j,w.S=x.S.slice(),w}function y(x,w){var S=[],b=typeof x,T;if(w&&b=="object")for(T in x)try{S.push(y(x[T],w-1))}catch{}return S.length?S:b=="string"?x:x+"\0"}function m(x,w){for(var S=x+"",b,T=0;T<S.length;)w[c&T]=c&(b^=w[c&T]*19)+S.charCodeAt(T++);return _(w)}function d(){try{var x;return h&&(x=h.randomBytes)?x=x(a):(x=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(x)),_(x)}catch{var w=e.navigator,S=w&&w.plugins;return[+new Date,e,S,e.screen,_(r)]}}function _(x){return String.fromCharCode.apply(0,x)}if(m(n.random(),r),t.exports){t.exports=p;try{h=Sne}catch{}}else n["seed"+s]=p})(typeof self<"u"?self:bne,[],Math)}(C0)),C0.exports}var ix,HM;function Cne(){if(HM)return ix;HM=1;var t=lne(),e=fne(),r=pne(),n=dne(),a=yne(),i=_ne(),o=Tne();return o.alea=t,o.xor128=e,o.xorwow=r,o.xorshift7=n,o.xor4096=a,o.tychei=i,ix=o,ix}var Ene=Cne();const Dne=qv(Ene);var jM=X.vtkWarningMacro,One=1e-12;function db(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3;return Array(t).fill(0)}function dr(t){return t/180*Math.PI}function Qp(t){return t*180/Math.PI}var Vd=Math.round,Mne=Math.floor;function Qa(t){for(var e=1;e<t;)e*=2;return e}function Pd(t){return t===Qa(t)}function gb(t,e,r){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function Zr(t,e,r){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function $M(t,e,r,n){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n[2]=t[2]+e[2]*r,n}function wt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kl(t,e,r){var n=t[1]*e[2]-t[2]*e[1],a=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return r[0]=n,r[1]=a,r[2]=i,r}function xV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{for(var r=0,n=0;n<e;n++)r+=t[n]*t[n];return Math.sqrt(r)}}}function Rl(t){var e=xV(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function po(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function Lne(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function kne(t){var e=Lne(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function E0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function Ud(t,e,r){var n=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2],a=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2],i=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2];r[0]=n,r[1]=a,r[2]=i}function Rne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-6;if(t.length!==e.length)return!1;function n(a,i){return Math.abs(a-e[i])<=r}return t.every(n)}var Ane=Rne;function ox(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!"".concat(t).includes("e"))return+"".concat(Math.round("".concat(t,"e+").concat(e)),"e-").concat(e);var r="".concat(t).split("e"),n="";return+r[1]+e>0&&(n="+"),+"".concat(Math.round("".concat(+r[0],"e").concat(n).concat(+r[1]+e)),"e-").concat(e)}function KM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=ox(t[0],r),e[1]=ox(t[1],r),e[2]=ox(t[2],r),e}function Nne(t,e,r){var n,a,i,o,s=0,u,l,f,c=db(r);for(n=0;n<r;n++){for(o=0,a=0;a<r;a++)(f=Math.abs(t[n][a]))>o&&(o=f);if(o===0)return jM("Unable to factor linear system"),0;c[n]=1/o}for(a=0;a<r;a++){for(n=0;n<a;n++){for(u=t[n][a],i=0;i<n;i++)u-=t[n][i]*t[i][a];t[n][a]=u}for(o=0,n=a;n<r;n++){for(u=t[n][a],i=0;i<a;i++)u-=t[n][i]*t[i][a];t[n][a]=u,(l=c[n]*Math.abs(u))>=o&&(o=l,s=n)}if(a!==s){for(i=0;i<r;i++)l=t[s][i],t[s][i]=t[a][i],t[a][i]=l;c[s]=c[a]}if(e[a]=s,Math.abs(t[a][a])<=One)return jM("Unable to factor linear system"),0;if(a!==r-1)for(l=1/t[a][a],n=a+1;n<r;n++)t[n][a]*=l}return 1}function Fne(t,e,r,n){var a,i,o,s,u;for(o=-1,a=0;a<n;a++){if(s=e[a],u=r[s],r[s]=r[a],o>=0)for(i=o;i<=a-1;i++)u-=t[a][i]*r[i];else u!==0&&(o=a);r[a]=u}for(a=n-1;a>=0;a--){for(u=r[a],i=a+1;i<n;i++)u-=t[a][i]*r[i];r[a]=u/t[a][a]}}function Bne(t,e,r){if(r===2){var n=db(2),a=E0(t[0][0],t[0][1],t[1][0],t[1][1]);return a===0?0:(n[0]=(t[1][1]*e[0]-t[0][1]*e[1])/a,n[1]=(-(t[1][0]*e[0])+t[0][0]*e[1])/a,e[0]=n[0],e[1]=n[1],1)}if(r===1)return t[0][0]===0?0:(e[0]/=t[0][0],1);var i=db(r);return Nne(t,i,r)===0?0:(Fne(t,i,e,r),1)}function zd(t,e){var r,n,a=Fr(t,3),i=a[0],o=a[1],s=a[2],u=1/3,l=1/6,f=2/3,c=i,h=i;o>c?c=o:o<h&&(h=o),s>c?c=s:s<h&&(h=s);var p=c;p>0?n=(c-h)/c:n=0,n>0?(i===c?r=l*(o-s)/(c-h):o===c?r=u+l*(s-i)/(c-h):r=f+l*(i-o)/(c-h),r<0&&(r+=1)):r=0,e[0]=r,e[1]=n,e[2]=p}function Oc(t,e){var r=Fr(t,3),n=r[0],a=r[1],i=r[2],o=1/3,s=1/6,u=2/3,l=5/6,f,c,h;n>s&&n<=o?(c=1,f=(o-n)/s,h=0):n>o&&n<=.5?(c=1,h=(n-o)/s,f=0):n>.5&&n<=u?(h=1,c=(u-n)/s,f=0):n>u&&n<=l?(h=1,f=(n-u)/s,c=0):n>l&&n<=1?(f=1,h=(1-n)/s,c=0):(f=1,c=n/s,h=0),f=a*f+(1-a),c=a*c+(1-a),h=a*h+(1-a),f*=i,c*=i,h*=i,e[0]=f,e[1]=c,e[2]=h}function Ine(t,e){var r=Fr(t,3),n=r[0],a=r[1],i=r[2],o=(n+16)/116,s=a/500+o,u=o-i/200;Math.pow(o,3)>.008856?o=Math.pow(o,3):o=(o-16/116)/7.787,Math.pow(s,3)>.008856?s=Math.pow(s,3):s=(s-16/116)/7.787,Math.pow(u,3)>.008856?u=Math.pow(u,3):u=(u-16/116)/7.787;var l=.9505,f=1,c=1.089;e[0]=l*s,e[1]=f*o,e[2]=c*u}function Vne(t,e){var r=Fr(t,3),n=r[0],a=r[1],i=r[2],o=.9505,s=1,u=1.089,l=n/o,f=a/s,c=i/u;l>.008856?l=Math.pow(l,1/3):l=7.787*l+16/116,f>.008856?f=Math.pow(f,1/3):f=7.787*f+16/116,c>.008856?c=Math.pow(c,1/3):c=7.787*c+16/116,e[0]=116*f-16,e[1]=500*(l-f),e[2]=200*(f-c)}function Pne(t,e){var r=Fr(t,3),n=r[0],a=r[1],i=r[2],o=n*3.2406+a*-1.5372+i*-.4986,s=n*-.9689+a*1.8758+i*.0415,u=n*.0557+a*-.204+i*1.057;o>.0031308?o=1.055*Math.pow(o,1/2.4)-.055:o*=12.92,s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,u>.0031308?u=1.055*Math.pow(u,1/2.4)-.055:u*=12.92;var l=o;l<s&&(l=s),l<u&&(l=u),l>1&&(o/=l,s/=l,u/=l),o<0&&(o=0),s<0&&(s=0),u<0&&(u=0),e[0]=o,e[1]=s,e[2]=u}function Une(t,e){var r=Fr(t,3),n=r[0],a=r[1],i=r[2];n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e[0]=n*.4124+a*.3576+i*.1805,e[1]=n*.2126+a*.7152+i*.0722,e[2]=n*.0193+a*.1192+i*.9505}function Fc(t,e){var r=[0,0,0];Une(t,r),Vne(r,e)}function yb(t,e){var r=[0,0,0];Ine(t,r),Pne(r,e)}function Vf(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function sx(t){return!(t[1]-t[0]<0)}function XM(t,e,r){return r[0]=Math.min(t[0],e[0]),r[1]=Math.max(t[0],e[0]),r[2]=Math.min(t[1],e[1]),r[3]=Math.max(t[1],e[1]),r[4]=Math.min(t[2],e[2]),r[5]=Math.max(t[2],e[2]),r}function Bo(t,e,r){return t<e?e:t>r?r:t}function YM(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return n[0]=Bo(t[0],e[0],r[0]),n[1]=Bo(t[1],e[1],r[1]),n[2]=Bo(t[2],e[2],r[2]),n}var zne=function(e){return!Number.isFinite(e)},Gne=Number.isNaN,Sy=Gne;function ev(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function qM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function by(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wne=_V.DefaultDataType,Hne=[];function mb(t,e,r){var n=t.length,a,i,o,s;if(n===0)return{min:Number.MAX_VALUE,max:-Number.MAX_VALUE};for(a=t[e],i=a,s=e;s<n;s+=r)o=t[s],o<a?a=o:o>i&&(i=o);return{min:a,max:i}}function jne(){var t=Number.MAX_VALUE,e=-Number.MAX_VALUE,r=0,n=0;return{add:function(i){t>i&&(t=i),e<i&&(e=i),r++,n+=i},get:function(){return{min:t,max:e,count:r,sum:n,mean:n/r}},getRange:function(){return{min:t,max:e}}}}function wV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&r>1){for(var n=t.length,a=n/r,i=new Float64Array(a),o=0,s=0;o<a;++o){for(var u,l=s+r;s<l;++s)i[o]+=t[s]*t[s];u=o,i[u]=Math.pow(i[u],.5)}return mb(i,0,1)}return mb(t,e<0?0:e,r)}function ZM(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=t||[];r.length<=e;)r.push(null);return r}function u2(t){return Object.prototype.toString.call(t).slice(8,-1)}function $ne(t){for(var e=t.getNumberOfComponents(),r=0,n=0;n<t.getNumberOfTuples();++n){var a=xV(t.getTuple(n),e);a>r&&(r=a)}return r}var Kne={computeRange:wV,createRangeHelper:jne,fastComputeRange:mb,getDataType:u2,getMaxNorm:$ne};function Xne(t,e){e.classHierarchy.push("vtkDataArray");function r(){e.ranges=null,t.modified()}t.getElementComponentSize=function(){return e.values.BYTES_PER_ELEMENT},t.getComponent=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[n*e.numberOfComponents+a]},t.setComponent=function(n,a,i){i!==e.values[n*e.numberOfComponents+a]&&(e.values[n*e.numberOfComponents+a]=i,r())},t.getData=function(){return e.values},t.getRange=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,a=n<0?e.numberOfComponents:n,i=null;return e.ranges||(e.ranges=ZM(e.ranges,e.numberOfComponents)),i=e.ranges[a],i?(e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple):(i=wV(e.values,n,e.numberOfComponents),e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple)},t.setRange=function(n,a){e.ranges||(e.ranges=ZM(e.ranges,e.numberOfComponents));var i={min:n.min,max:n.max};return e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple},t.setTuple=function(n,a){for(var i=n*e.numberOfComponents,o=0;o<e.numberOfComponents;o++)e.values[i+o]=a[o]},t.getTuple=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hne,i=e.numberOfComponents||1;a.length!==i&&(a.length=i);var o=n*i;if(i===1)a[0]=e.values[o];else if(i===2)a[0]=e.values[o],a[1]=e.values[o+1];else if(i===3)a[0]=e.values[o],a[1]=e.values[o+1],a[2]=e.values[o+2];else if(i===4)a[0]=e.values[o],a[1]=e.values[o+1],a[2]=e.values[o+2],a[3]=e.values[o+3];else for(var s=0;s<i;s++)a[s]=e.values[o+s];return a},t.getTupleLocation=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return n*e.numberOfComponents},t.getNumberOfComponents=function(){return e.numberOfComponents},t.getNumberOfValues=function(){return e.values.length},t.getNumberOfTuples=function(){return e.values.length/e.numberOfComponents},t.getDataType=function(){return e.dataType},t.newClone=function(){return bV({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents})},t.getName=function(){return e.name||(t.modified(),e.name="vtkDataArray".concat(t.getMTime())),e.name},t.setData=function(n,a){e.values=n,e.size=n.length,e.dataType=u2(n),a&&(e.numberOfComponents=a),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),r()},t.getState=function(){if(e.deleted)return null;var n=by(by({},e),{},{vtkClass:t.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(function(i){n[i]||delete n[i]});var a={};return Object.keys(n).sort().forEach(function(i){a[i]=n[i]}),a.mtime&&delete a.mtime,a}}var Yne={name:"",numberOfComponents:1,size:0,dataType:Wne,rangeTuple:[0,0]};function SV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,Yne,r),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");e.values?Array.isArray(e.values)&&(e.values=aV(e.dataType,e.values)):e.values=e1(e.dataType,e.size),e.values&&(e.size=e.values.length,e.dataType=u2(e.values)),nr(t,e),t1(t,e,["name","numberOfComponents"]),Xne(t,e)}var bV=mt(SV,"vtkDataArray"),gt=by(by({newInstance:bV,extend:SV},Kne),_V),Io={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},TV={ObjectType:Io};function JM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var D0=TV.ObjectType,qne={};function Zne(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function r(s){switch(s){case D0.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case D0.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case D0.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}var n=null,a=null,i=!0,o="";t.getType=function(){return n},t.setType=function(s){n=s},t.getHandle=function(){return a},t.isReady=function(){return i===!1},t.generateBuffer=function(s){var u=r(s);return a===null&&(a=e.context.createBuffer(),n=s),r(n)===u},t.upload=function(s,u){var l=t.generateBuffer(u);return l?(e.context.bindBuffer(r(n),a),e.context.bufferData(r(n),s,e.context.STATIC_DRAW),i=!1,!0):(o="Trying to upload array buffer to incompatible buffer.",!1)},t.bind=function(){return a?(e.context.bindBuffer(r(n),a),!0):!1},t.release=function(){return a?(e.context.bindBuffer(r(n),null),!0):!1},t.releaseGraphicsResources=function(){a!==null&&(e.context.bindBuffer(r(n),null),e.context.deleteBuffer(a),a=null)},t.setOpenGLRenderWindow=function(s){e._openGLRenderWindow!==s&&(t.releaseGraphicsResources(),e._openGLRenderWindow=s,e.context=null,s&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=function(){return o}}var Jne={objectType:D0.ARRAY_BUFFER,context:null};function CV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jne,r),X.obj(t,e),X.get(t,e,["_openGLRenderWindow"]),X.moveToProtected(t,e,["openGLRenderWindow"]),Zne(t,e)}var Qne=X.newInstance(CV),Mo=QM(QM({newInstance:Qne,extend:CV},qne),TV),EV={FLAT:0,GOURAUD:1,PHONG:2},Vo={POINTS:0,WIREFRAME:1,SURFACE:2},eae=EV,l2={Shading:EV,Representation:Vo,Interpolation:eae},eL=X.vtkErrorMacro;function tae(t,e){var r=new Float64Array(3);K5(r,e);var n=new Float64Array(16);return F5(n,Ol(),t,r),n}function rae(t,e){return t===null||e===null?!1:!(Zc(t,[0,0,0])&&Zc(e,[1,1,1]))}function nae(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(Io.ARRAY_BUFFER),t.createVBO=function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!r.getData()||!r.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];var s=i.points.getData(),u=null,l=null,f=null,c=i.colors?i.colors.getNumberOfComponents():0,h=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,u=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(F){F&&(e.customData.push({data:F.getData(),offset:4*e.blockSize,components:F.getNumberOfComponents(),name:F.getName()}),e.blockSize+=F.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=h,e.blockSize+=h,l=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,f=i.colors.getData(),e.colorBO||(e.colorBO=Mo.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;var p=0,v=0,g=0,y=0,m=0,d=0,_,x={anythingToPoints:function(N,L,G){for(var z=0;z<N;++z)_(L[G+z])},linesToWireframe:function(N,L,G){for(var z=0;z<N-1;++z)_(L[G+z]),_(L[G+z+1])},polysToWireframe:function(N,L,G){if(N>2)for(var z=0;z<N;++z)_(L[G+z]),_(L[G+(z+1)%N])},stripsToWireframe:function(N,L,G){if(N>2){for(var z=0;z<N-1;++z)_(L[G+z]),_(L[G+z+1]);for(var j=0;j<N-2;j++)_(L[G+j]),_(L[G+j+2])}},polysToSurface:function(N,L,G){for(var z=0;z<N-2;z++)_(L[G+0]),_(L[G+z+1]),_(L[G+z+2])},stripsToSurface:function(N,L,G){for(var z=0;z<N-2;z++)_(L[G+z]),_(L[G+z+1+z%2]),_(L[G+z+1+(z+1)%2])}},w={anythingToPoints:function(N,L){return N},linesToWireframe:function(N,L){return N>1?(N-1)*2:0},polysToWireframe:function(N,L){return N>2?N*2:0},stripsToWireframe:function(N,L){return N>2?N*4-6:0},polysToSurface:function(N,L){return N>2?(N-2)*3:0},stripsToSurface:function(N,L,G){return N>2?(N-2)*3:0}},S=null,b=null;a===Vo.POINTS||n==="verts"?(S=x.anythingToPoints,b=w.anythingToPoints):a===Vo.WIREFRAME||n==="lines"?(S=x["".concat(n,"ToWireframe")],b=w["".concat(n,"ToWireframe")]):(S=x["".concat(n,"ToSurface")],b=w["".concat(n,"ToSurface")]);for(var T=r.getData(),C=T.length,M=0,D=0;D<C;)M+=b(T[D],T),D+=T[D]+1;var E=null,k=new Float32Array(M*e.blockSize);f&&(E=new Uint8Array(M*4));for(var O=0,A=0,I=0,U=0,P=0;P<3;++P){var B=i.points.getRange(P),W=B[1]-B[0];I+=W*W;var H=.5*(B[1]+B[0]);U+=H*H}var $=I>0&&(Math.abs(U)/I>1e6||Math.abs(Math.log10(I))>3||I===0&&U>1e6);if($){for(var q=new Float64Array(3),Q=new Float64Array(3),Y=0;Y<3;++Y){var ie=i.points.getRange(Y),J=ie[1]-ie[0];q[Y]=.5*(ie[1]+ie[0]),Q[Y]=J>0?1/J:1}t.setCoordShiftAndScale(q,Q)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);if(o)if(!o.points&&!o.cells)o.points=new Int32Array(M),o.cells=new Int32Array(M);else{var ae=new Int32Array(M+o.points.length);ae.set(o.points),o.points=ae;var re=new Int32Array(M+o.points.length);re.set(o.cells),o.cells=re}var V=i.vertexOffset;_=function(N){if(o&&(o.points[V]=N,o.cells[V]=d),++V,p=N*3,e.coordShiftAndScaleEnabled?(k[O++]=(s[p++]-e.coordShift[0])*e.coordScale[0],k[O++]=(s[p++]-e.coordShift[1])*e.coordScale[1],k[O++]=(s[p++]-e.coordShift[2])*e.coordScale[2]):(k[O++]=s[p++],k[O++]=s[p++],k[O++]=s[p++]),u!==null&&(i.haveCellNormals?v=(d+i.cellOffset)*3:v=N*3,k[O++]=u[v++],k[O++]=u[v++],k[O++]=u[v++]),e.customData.forEach(function(G){m=N*G.components;for(var z=0;z<G.components;++z)k[O++]=G.data[m++]}),l!==null){g=N*h;for(var L=0;L<h;++L)k[O++]=l[g++]}f!==null&&(i.haveCellScalars?y=(d+i.cellOffset)*c:y=N*c,E[A++]=f[y++],E[A++]=f[y++],E[A++]=f[y++],E[A++]=c===4?f[y++]:255)};for(var R=0;R<C;)S(T[R],T,R+1),R+=T[R]+1,d++;return e.elementCount=M,t.upload(k,Io.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(E,Io.ARRAY_BUFFER)),d},t.setCoordShiftAndScale=function(r,n){if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){eL("Wrong type for coordShift, expected vec3 or null");return}if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){eL("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||r===null||!lb(r,e.coordShift))&&(e.coordShift=r),(e.coordScale===null||n===null||!lb(n,e.coordScale))&&(e.coordScale=n),e.coordShiftAndScaleEnabled=rae(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=tae(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}var aae={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function DV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aae,r),Mo.extend(t,e,r),X.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),X.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),nae(t,e)}var iae=X.newInstance(DV),oae={newInstance:iae,extend:DV},sae=X.vtkErrorMacro;function uae(t,e){e.classHierarchy.push("vtkShader"),t.compile=function(){var r=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":r=e.context.FRAGMENT_SHADER;break;case"Vertex":default:r=e.context.VERTEX_SHADER;break}e.handle=e.context.createShader(r),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle);var n=e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS);if(!n){var a=e.context.getShaderInfoLog(e.handle);return sae("Error compiling shader '".concat(e.source,"': ").concat(a)),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}var lae={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function OV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lae,r),X.obj(t,e),X.setGet(t,e,["shaderType","source","error","handle","context"]),uae(t,e)}var cae=X.newInstance(OV,"vtkShader"),ux={newInstance:cae,extend:OV},mi=X.vtkErrorMacro;function fae(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=Array.isArray(r)?r.join(`
`):r,i=!1;t.search(e)!==-1&&(i=!0);var o="";n&&(o="g");var s=new RegExp(e,o),u=t.replace(s,a);return{replace:i,result:u}}function hae(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=function(){return e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(mi(e.error),0):t.link()?(t.setCompiled(!0),1):(mi("Links failed: ".concat(e.error)),0):(mi(e.fragmentShader.getSource().split(`
`).map(function(r,n){return"".concat(n,": ").concat(r)}).join(`
`)),mi(e.fragmentShader.getError()),0):(mi(e.vertexShader.getSource().split(`
`).map(function(r,n){return"".concat(n,": ").concat(r)}).join(`
`)),mi(e.vertexShader.getError()),0)},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0)},t.bind=function(){return!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0)},t.isBound=function(){return!!e.bound},t.release=function(){e.context.useProgram(null),t.setBound(!1)},t.setContext=function(r){e.vertexShader.setContext(r),e.fragmentShader.setContext(r),e.geometryShader.setContext(r)},t.link=function(){if(e.inked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;e.uniformLocs={},e.context.linkProgram(e.handle);var r=e.context.getProgramParameter(e.handle,e.context.LINK_STATUS);if(!r){var n=e.context.getProgramInfoLog(e.handle);return mi("Error linking shader ".concat(n)),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=function(r,n){var a=t.findUniform(r);if(a===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;var i=new Float32Array(n);return e.context.uniformMatrix4fv(a,!1,i),!0},t.setUniformMatrix3x3=function(r,n){var a=t.findUniform(r);if(a===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;var i=new Float32Array(n);return e.context.uniformMatrix3fv(a,!1,i),!0},t.setUniformf=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform1f(a,n),!0)},t.setUniformfv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform1fv(a,n),!0)},t.setUniformi=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform1i(a,n),!0)},t.setUniformiv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform1iv(a,n),!0)},t.setUniform2f=function(r,n,a){var i=t.findUniform(r);if(i===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,n,a),!0},t.setUniform2fv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform2fv(a,n),!0)},t.setUniform2i=function(r,n,a){var i=t.findUniform(r);if(i===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,n,a),!0},t.setUniform2iv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform2iv(a,n),!0)},t.setUniform3f=function(r,n,a,i){var o=t.findUniform(r);if(o===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(o,n,a,i),!0},t.setUniform3fArray=function(r,n){var a=t.findUniform(r);if(a===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;if(!Array.isArray(n)||n.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(a,n[0],n[1],n[2]),!0},t.setUniform3fv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform3fv(a,n),!0)},t.setUniform3i=function(r){var n=t.findUniform(r);if(n===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(n,s[0],s[1],s[2]),!0},t.setUniform3iv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform3iv(a,n),!0)},t.setUniform4f=function(r){var n=t.findUniform(r);if(n===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(n,s[0],s[1],s[2],s[3]),!0},t.setUniform4fv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform4fv(a,n),!0)},t.setUniform4i=function(r){var n=t.findUniform(r);if(n===-1)return e.error="Could not set uniform ".concat(r," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(n,s[0],s[1],s[2],s[3]),!0},t.setUniform4iv=function(r,n){var a=t.findUniform(r);return a===-1?(e.error="Could not set uniform ".concat(r," . No such uniform."),!1):(e.context.uniform4iv(a,n),!0)},t.findUniform=function(r){if(!r||!e.linked)return-1;var n=e.uniformLocs[r];return n!==void 0?n:(n=e.context.getUniformLocation(e.handle,r),n===null?(e.error="Uniform ".concat(r," not found in current shader program."),e.uniformLocs[r]=-1,-1):(e.uniformLocs[r]=n,n))},t.isUniformUsed=function(r){if(!r)return!1;var n=e.uniformLocs[r];return n!==void 0?n!==null:e.linked?(n=e.context.getUniformLocation(e.handle,r),e.uniformLocs[r]=n,n!==null):(mi("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=function(r){if(!r)return!1;var n=Object.keys(e.attributeLocs).indexOf(r);return n!==-1?!0:e.linked?(n=e.context.getAttribLocation(e.handle,r),n===-1?!1:(e.attributeLocs[r]=n,!0)):(mi("attempt to find uniform when the shader program is not linked"),!1)},t.attachShader=function(r){if(r.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(r.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){var n=e.context.createProgram();if(n===0)return e.error="Could not create shader program.",!1;e.handle=n,e.linked=!1}return r.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.comntext.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=r.getHandle()),r.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=r.getHandle()),e.context.attachShader(e.handle,r.getHandle()),t.setLinked(!1),!0},t.detachShader=function(r){if(r.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(r.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),r.getShaderType()){case"Vertex":return e.vertexShaderHandle!==r.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,r.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==r.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,r.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=function(r){e.context=r,e.vertexShader.setContext(r),e.fragmentShader.setContext(r),e.geometryShader.setContext(r)},t.setLastCameraMTime=function(r){e.lastCameraMTime=r}}var pae={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function MV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pae,r),e.attributesLocs={},e.uniformLocs={},e.vertexShader=ux.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=ux.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=ux.newInstance(),e.geometryShader.setShaderType("Geometry"),X.obj(t,e),X.get(t,e,["lastCameraMTime"]),X.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),hae(t,e)}var vae=X.newInstance(MV,"vtkShaderProgram"),pe={newInstance:vae,extend:MV,substitute:fae};function dae(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=function(){},t.initialize=function(){e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=function(){return e.handleVAO!==0||e.supported===!1},t.bind=function(){if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady())for(var r=e.context,n=0;n<e.buffers.length;++n){var a=e.buffers[n];e.context.bindBuffer(r.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var o=a.attributes[i],s=o.isMatrix?o.size:1,u=0;u<s;++u)r.enableVertexAttribArray(o.index+u),r.vertexAttribPointer(o.index+u,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*u/o.size),o.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(o.index+u,1):r.vertexAttribDivisor(o.index+u,1))}},t.release=function(){if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady())for(var r=e.context,n=0;n<e.buffers.length;++n){var a=e.buffers[n];e.context.bindBuffer(r.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var o=a.attributes[i],s=o.isMatrix?o.size:1,u=0;u<s;++u)r.enableVertexAttribArray(o.index+u),r.vertexAttribPointer(o.index+u,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*u/o.size),o.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(o.index+u,0):r.vertexAttribDivisor(o.index+u,0)),r.disableVertexAttribArray(o.index+u)}},t.shaderProgramChanged=function(){t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=function(){t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=function(r,n,a,i,o,s,u,l){return t.addAttributeArrayWithDivisor(r,n,a,i,o,s,u,l,0,!1)},t.addAttributeArrayWithDivisor=function(r,n,a,i,o,s,u,l,f,c){if(!r||!r.isBound()||n.getHandle()===0||n.getType()!==Io.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=r.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==r.getHandle()))return!1;var h=e.context,p={};if(p.name=a,p.index=h.getAttribLocation(e.handleProgram,a),p.offset=i,p.stride=o,p.type=s,p.size=u,p.normalize=l,p.isMatrix=c,p.divisor=f,p.Index===-1)return!1;if(n.bind(),h.enableVertexAttribArray(p.index),h.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p.index,1):h.vertexAttribDivisor(p.index,1)),p.buffer=n.getHandle(),!e.supported){for(var v=!1,g=0;g<e.buffers.length;++g){var y=e.buffers[g];if(y.buffer===p.buffer){v=!0;for(var m=!1,d=0;d<y.attributes.length;++d){var _=y.attributes[d];_.name===a&&(m=!0,y.attributes[d]=p)}m||y.attributes.push(p)}}v||e.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},t.addAttributeMatrixWithDivisor=function(r,n,a,i,o,s,u,l,f){var c=t.addAttributeArrayWithDivisor(r,n,a,i,o,s,u,l,f,!0);if(!c)return c;for(var h=e.context,p=h.getAttribLocation(e.handleProgram,a),v=1;v<u;v++)h.enableVertexAttribArray(p+v),h.vertexAttribPointer(p+v,u,s,l,o,i+o*v/u),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p+v,1):h.vertexAttribDivisor(p+v,1));return!0},t.removeAttributeArray=function(r){if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(var n=0;n<e.buffers.length;++n)for(var a=e.buffers[n],i=0;i<a.attributes.length;++i){var o=a.attributes[i];if(o.name===r)return a.attributes.splice(i,1),a.attributes.length||e.buffers.splice(n,1),!0}return!0},t.setOpenGLRenderWindow=function(r){e._openGLRenderWindow!==r&&(t.releaseGraphicsResources(),e._openGLRenderWindow=r,e.context=null,r&&(e.context=e._openGLRenderWindow.getContext()))}}var gae={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function LV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gae,r),e.buffers=[],X.obj(t,e),X.get(t,e,["supported"]),X.setGet(t,e,["forceEmulation"]),dae(t,e)}var yae=X.newInstance(LV,"vtkOpenGLVertexArrayObject"),ed={newInstance:yae,extend:LV},ds={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function mae(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=function(r){e.context=r.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(r),e.CABO.setOpenGLRenderWindow(r)},t.releaseGraphicsResources=function(r){e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=function(r,n,a,i){if(e.CABO.getElementCount()){var o=t.getOpenGLMode(a),s=t.haveWideLines(r,n),u=e.context,l=u.getParameter(u.DEPTH_WRITEMASK);e.pointPicking&&u.depthMask(!1);var f=o===u.LINES;f&&s?(t.updateShaders(r,n,i),u.drawArraysInstanced(o,0,e.CABO.getElementCount(),2*Math.ceil(n.getProperty().getLineWidth()))):(u.lineWidth(n.getProperty().getLineWidth()),t.updateShaders(r,n,i),u.drawArrays(o,0,e.CABO.getElementCount()),u.lineWidth(1));var c=(o===u.POINTS?1:0)||(o===u.LINES?2:3);return e.pointPicking&&u.depthMask(l),e.CABO.getElementCount()/c}return 0},t.getOpenGLMode=function(r){if(e.pointPicking)return e.context.POINTS;var n=e.primitiveType;return r===Vo.POINTS||n===ds.Points?e.context.POINTS:r===Vo.WIREFRAME||n===ds.Lines||n===ds.TrisEdges||n===ds.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=function(r,n){return n.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=n.getProperty().getLineWidth()):!1},t.getNeedToRebuildShaders=function(r,n,a){return!!(a.getNeedToRebuildShaders(t,r,n)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<a.getMTime()||t.getShaderSourceTime().getMTime()<n.getMTime())},t.updateShaders=function(r,n,a){if(t.getNeedToRebuildShaders(r,n,a)){var i={Vertex:null,Fragment:null,Geometry:null};a.buildShaders(i,r,n);var o=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==t.getProgram()&&(t.setProgram(o),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),a.setMapperShaderParameters(t,r,n),a.setPropertyShaderParameters(t,r,n),a.setCameraShaderParameters(t,r,n),a.setLightingShaderParameters(t,r,n),a.invokeShaderCallbacks(t,r,n)},t.setMapperShaderParameters=function(r,n,a){if(t.haveWideLines(r,n)){t.getProgram().setUniform2f("viewportSize",a.usize,a.vsize);var i=parseFloat(n.getProperty().getLineWidth()),o=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",o)}e.primitiveType===ds.Points||n.getProperty().getRepresentation()===Vo.POINTS?t.getProgram().setUniformf("pointSize",n.getProperty().getPointSize()):e.pointPicking&&t.getProgram().setUniformf("pointSize",t.getPointPickingPrimitiveSize())},t.replaceShaderPositionVC=function(r,n,a){var i=r.Vertex;i=pe.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,i=pe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,t.getOpenGLMode(a.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(n,a)&&(i=pe.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=pe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),r.Vertex=i},t.getPointPickingPrimitiveSize=function(){return e.primitiveType===ds.Points?2:e.primitiveType===ds.Lines?4:6}}var _ae={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function kV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_ae,r),X.obj(t,e),e.shaderSourceTime={},X.obj(e.shaderSourceTime),e.attributeUpdateTime={},X.obj(e.attributeUpdateTime),X.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),e.program=pe.newInstance(),e.VAO=ed.newInstance(),e.CABO=oae.newInstance(),mae(t,e)}var xae=X.newInstance(kV),Yi={newInstance:xae,extend:kV,primTypes:ds},tv={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},Kt={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},c2={Wrap:tv,Filter:Kt},RV=new Float32Array(1),wae=new Int32Array(RV.buffer);function Sae(t){RV[0]=t;var e=wae[0],r=e>>16&32768,n=e>>12&2047,a=e>>23&255;return a<103?r:a>142?(r|=31744,r|=(a===255?0:1)&&e&8388607,r):a<113?(n|=2048,r|=(n>>114-a)+(n>>113-a&1),r):(r|=a-112<<10|n>>1,r+=n&1,r)}function bae(t){var e=(t&32768)>>15,r=(t&31744)>>10,n=t&1023;return r===0?(e?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):r===31?n?NaN:(e?-1:1)*(1/0):(e?-1:1)*Math.pow(2,r-15)*(1+n/Math.pow(2,10))}var ju={fromHalf:bae,toHalf:Sae};function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _o=c2.Wrap,qr=c2.Filter,$t=gt.VtkDataTypes,lx=Ks,Zl=$e,Cae=Zv;function Eae(t,e){var r=this;e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(u?e._openGLRenderWindow=u:(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent()),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(qr.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(qr.LINEAR),t.setMagnificationFilter(qr.LINEAR)):(t.setMinificationFilter(qr.NEAREST),t.setMagnificationFilter(qr.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(_o.REPEAT),t.setWrapS(_o.REPEAT),t.setWrapT(_o.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(qr.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(qr.LINEAR_MIPMAP_LINEAR));var l=e.renderable.getCanvas();t.create2DFromRaw(l.width,l.height,4,$t.UNSIGNED_CHAR,l,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){var f=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(qr.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(f.width,f.height,4,$t.UNSIGNED_CHAR,f.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}var c=e.renderable.getInputData(0);if(c&&c.getPointData().getScalars()){for(var h=c.getExtent(),p=c.getPointData().getScalars(),v=[],g=0;g<e.renderable.getNumberOfInputPorts();++g){var y=e.renderable.getInputData(g),m=y?y.getPointData().getScalars().getData():null;m&&v.push(m)}e.renderable.getInterpolate()&&p.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(qr.LINEAR_MIPMAP_LINEAR)),v.length%6===0?t.createCubeFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),v):t.create2DFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()},t.destroyTexture=function(){t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=function(){e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=function(){return e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1},t.activate=function(){e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=function(){e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=function(u){u&&e.handle&&(u.activateTexture(t),u.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(u),e.shaderProgram=null)},t.bind=function(){e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=function(){var u=!1;if(e.context&&e.handle){var l=0;switch(e.target){case e.context.TEXTURE_2D:l=e.context.TEXTURE_BINDING_2D;break;default:Cae("impossible case");break}var f=e.context.getIntegerv(l);u=f===e.handle}return u},t.sendParameters=function(){e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=function(u,l){return e.internalFormat||(e.internalFormat=t.getDefaultInternalFormat(u,l)),e.internalFormat||lx("Unable to find suitable internal format for T=".concat(u," NC= ").concat(l)),e.internalFormat},t.getDefaultInternalFormat=function(u,l){var f=0;return f=e._openGLRenderWindow.getDefaultTextureInternalFormat(u,l,!1),f||(f=r._openGLRenderWindow.getDefaultTextureInternalFormat(u,l,!0),f||(lx("Unsupported internal texture type!"),lx("Unable to find suitable internal format for T=".concat(u," NC= ").concat(l))),f)},t.setInternalFormat=function(u){u!==e.internalFormat&&(e.internalFormat=u,t.modified())},t.getFormat=function(u,l){return e.format=t.getDefaultFormat(u,l),e.format},t.getDefaultFormat=function(u,l){if(e._openGLRenderWindow.getWebgl2())switch(l){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(l){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=function(){e.format=0,e.internalFormat=0,e.openGLDataType=0},t.getDefaultDataType=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e._openGLRenderWindow.getWebgl2())switch(u){case $t.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(l&&$t.SHORT):return e.context.HALF_FLOAT;case(l&&$t.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case $t.FLOAT:case $t.VOID:default:return e.context.FLOAT}switch(u){case $t.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case $t.FLOAT:case $t.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{var f=e.context.getExtension("OES_texture_half_float");if(f&&e.context.getExtension("OES_texture_half_float_linear"))return f.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e.openGLDataType||(e.openGLDataType=t.getDefaultDataType(u,l)),e.openGLDataType},t.getShiftAndScale=function(){var u=0,l=1;switch(e.openGLDataType){case e.context.BYTE:l=127.5,u=l-128;break;case e.context.UNSIGNED_BYTE:l=255,u=0;break;case e.context.SHORT:l=32767.5,u=l-32768;break;case e.context.UNSIGNED_SHORT:l=65536,u=0;break;case e.context.INT:l=21474836475e-1,u=l-2147483648;break;case e.context.UNSIGNED_INT:l=4294967295,u=0;break;case e.context.FLOAT:}return{shift:u,scale:l}},t.getOpenGLFilterMode=function(u){switch(u){case qr.NEAREST:return e.context.NEAREST;case qr.LINEAR:return e.context.LINEAR;case qr.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case qr.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case qr.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case qr.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=function(u){switch(u){case _o.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case _o.REPEAT:return e.context.REPEAT;case _o.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}};function n(u,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=[],h=e.width*e.height*e.components;if(f&&(h*=e.depth),u!==$t.FLOAT&&e.openGLDataType===e.context.FLOAT)for(var p=0;p<l.length;p++)if(l[p]){var v=l[p].length>h?l[p].subarray(0,h):l[p];c.push(new Float32Array(v))}else c.push(null);if(u!==$t.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(var g=0;g<l.length;g++)if(l[g]){var y=l[g].length>h?l[g].subarray(0,h):l[g];c.push(new Uint8Array(y))}else c.push(null);var m=e.context.getExtension("OES_texture_half_float"),d=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:m&&e.openGLDataType===m.HALF_FLOAT_OES;if(d)for(var _=0;_<l.length;_++)if(l[_]){for(var x=new Uint16Array(h),w=0;w<h;w++)x[w]=ju.toHalf(l[_][w]);c.push(x)}else c.push(null);if(c.length===0)for(var S=0;S<l.length;S++)c.push(l[S]);return c}function a(u){if(e._openGLRenderWindow.getWebgl2())return u;var l=[],f=e.width,c=e.height,h=e.components;if(u&&(!Pd(f)||!Pd(c)))for(var p=e.context.getExtension("OES_texture_half_float"),v=Qa(f),g=Qa(c),y=v*g*e.components,m=0;m<u.length;m++)if(u[m]!==null){var d=null,_=c/g,x=f/v,w=!1;e.openGLDataType===e.context.FLOAT?d=new Float32Array(y):p&&e.openGLDataType===p.HALF_FLOAT_OES?(d=new Uint16Array(y),w=!0):d=new Uint8Array(y);for(var S=0;S<g;S++){var b=S*v*h,T=S*_,C=Math.floor(T),M=Math.ceil(T);M>=c&&(M=c-1);var D=T-C,E=1-D;C=C*f*h,M=M*f*h;for(var k=0;k<v;k++){var O=k*h,A=k*x,I=Math.floor(A),U=Math.ceil(A);U>=f&&(U=f-1);var P=A-I;I*=h,U*=h;for(var B=0;B<h;B++)w?d[b+O+B]=ju.toHalf(ju.fromHalf(u[m][C+I+B])*E*(1-P)+ju.fromHalf(u[m][C+U+B])*E*P+ju.fromHalf(u[m][M+I+B])*D*(1-P)+ju.fromHalf(u[m][M+U+B])*D*P):d[b+O+B]=u[m][C+I+B]*E*(1-P)+u[m][C+U+B]*E*P+u[m][M+I+B]*D*(1-P)+u[m][M+U+B]*D*P}}l.push(d),e.width=v,e.height=g}else l.push(null);if(l.length===0)for(var W=0;W<u.length;W++)l.push(u[W]);return l}t.create2DFromRaw=function(u,l,f,c,h){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(c),t.getInternalFormat(c,f),t.getFormat(c,f),!e.internalFormat||!e.format||!e.openGLDataType)return Zl("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=f,e.width=u,e.height=l,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var v=[h],g=n(c,v),y=a(g);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,p),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,y[0]),e.generateMipmap&&e.context.generateMipmap(e.target),p&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),t.deactivate(),!0},t.createCubeFromRaw=function(u,l,f,c,h){if(t.getOpenGLDataType(c),t.getInternalFormat(c,f),t.getFormat(c,f),!e.internalFormat||!e.format||!e.openGLDataType)return Zl("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=f,e.width=u,e.height=l,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=h.length/6-1,t.createTexture(),t.bind();for(var p=n(c,h),v=a(p),g=[],y=e.width,m=e.height,d=0;d<v.length;d++){d%6===0&&d!==0&&(y/=2,m/=2),g[d]=e1(c,m*y*e.components);for(var _=0;_<m;++_){var x=_*y*e.components,w=(m-_-1)*y*e.components;g[d].set(v[d].slice(w,w+y*e.components),x)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);for(var S=0;S<6;S++)for(var b=0,T=e.width,C=e.height;T>=1&&C>=1;){var M=null;b<=e.maxLevel&&(M=g[6*b+S]),e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+S,b,e.internalFormat,T,C,0,e.format,e.openGLDataType,M),b++,T/=2,C/=2}return t.deactivate(),!0},t.createDepthFromRaw=function(u,l,f,c){return t.getOpenGLDataType(f),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?f===$t.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(Zl("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=u,e.height=l,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,c),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0)},t.create2DFromImage=function(u){if(t.getOpenGLDataType($t.UNSIGNED_CHAR),t.getInternalFormat($t.UNSIGNED_CHAR,4),t.getFormat($t.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return Zl("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.width=u.width,e.height=u.height,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);var l=!Pd(u.width)||!Pd(u.height),f=document.createElement("canvas");f.width=l?Qa(u.width):u.width,f.height=l?Qa(u.height):u.height;var c=f.getContext("2d");c.translate(0,f.height),c.scale(1,-1),c.drawImage(u,0,0,u.width,u.height,0,0,f.width,f.height);var h=f;return e.context.texImage2D(e.target,0,e.internalFormat,e.format,e.openGLDataType,h),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0};function i(u,l,f){for(var c=[],h=[],p=0;p<u;++p)c[p]=f[p],h[p]=f[p];for(var v=0,g=0;g<l;++g)for(var y=0;y<u;++y)f[v]<c[y]&&(c[y]=f[v]),f[v]>h[y]&&(h[y]=f[v]),v++;for(var m=[],d=[],_=0;_<u;++_)c[_]===h[_]&&(h[_]=c[_]+1),m[_]=c[_],d[_]=h[_]-c[_];return{scale:d,offset:m}}function o(u,l){for(var f=0;f<u.length;f++){var c=u[f],h=l[f]+c;if(c<-2048||c>2048||h<-2048||h>2048)return!1}return!0}function s(u,l,f,c){var h=!0;t.getOpenGLDataType(u,h);var p=e.context.getExtension("OES_texture_half_float"),v=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:p&&e.openGLDataType===p.HALF_FLOAT_OES;return!(!v||!o(l,f)&&!c)}t.create3DFromRaw=function(u,l,f,c,h,p){var v=!0;if(t.getOpenGLDataType(h,v),t.getInternalFormat(h,c),t.getFormat(h,c),!e.internalFormat||!e.format||!e.openGLDataType)return Zl("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=c,e.width=u,e.height=l,e.depth=f,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var g=[p],y=!0,m=n(h,g,y),d=a(m);return e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,d[0]),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0},t.create3DFilterableFromRaw=function(u,l,f,c,h,p){for(var v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,g=u*l*f,y=[],m=[],d=0;d<c;++d)y[d]=0,m[d]=1;e.volumeInfo={scale:m,offset:y,width:u,height:l,depth:f};var _=i(c,g,p),x=_.offset,w=_.scale;e.volumeInfo.dataComputedScale=w,e.volumeInfo.dataComputedOffset=x;var S=s(h,x,w,v);if(e._openGLRenderWindow.getWebgl2()){if(h===$t.FLOAT||S&&(h===$t.SHORT||h===$t.UNSIGNED_SHORT))return t.create3DFromRaw(u,l,f,c,h,p);if(h===$t.UNSIGNED_CHAR){for(var b=0;b<c;++b)e.volumeInfo.scale[b]=255;return t.create3DFromRaw(u,l,f,c,h,p)}var T=new Float32Array(g*c);e.volumeInfo.offset=x,e.volumeInfo.scale=w;for(var C=0,M=w.map(function(j){return 1/j}),D=0;D<g;D++)for(var E=0;E<c;E++)T[C]=(p[C]-x[E])*M[E],C++;return t.create3DFromRaw(u,l,f,c,$t.FLOAT,T)}var k=i(c,g,p),O=function(K,Z,ne,ue,se){K[Z]=ne},A=$t.UNSIGNED_CHAR;if(h===$t.UNSIGNED_CHAR)for(var I=0;I<c;++I)k.offset[I]=0,k.scale[I]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(A=$t.FLOAT,O=function(K,Z,ne,ue,se){K[Z]=(ne-ue)/se}):(A=$t.UNSIGNED_CHAR,O=function(K,Z,ne,ue,se){K[Z]=255*(ne-ue)/se});if(t.getOpenGLDataType(A),t.getInternalFormat(A,c),t.getFormat(A,c),!e.internalFormat||!e.format||!e.openGLDataType)return Zl("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=c,e.depth=1,e.numberOfDimensions=2;var U=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);U>4096&&(A===$t.FLOAT||c>=3)&&(U=4096);var P=1,B=1;g>U*U&&(P=Math.ceil(Math.sqrt(g/(U*U))),B=P);var W=Math.sqrt(g)/P;W=Qa(W);var H=Math.floor(W*P/u),$=Math.ceil(f/H),q=Qa(l*$/B);e.width=W,e.height=q,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=H,e.volumeInfo.yreps=$,e.volumeInfo.xstride=P,e.volumeInfo.ystride=B,e.volumeInfo.offset=k.offset,e.volumeInfo.scale=k.scale;var Q,Y=W*q*c;A===$t.FLOAT?Q=new Float32Array(Y):Q=new Uint8Array(Y);for(var ie=0,J=Math.floor(u/P),ae=Math.floor(l/B),re=0;re<$;re++)for(var V=Math.min(H,f-re*H),R=c*(e.width-V*Math.floor(u/P)),F=0;F<ae;F++){for(var N=0;N<V;N++)for(var L=c*((re*H+N)*u*l+B*F*u),G=0;G<J;G++)for(var z=0;z<c;z++)O(Q,ie,p[L+P*G*c+z],k.offset[z],k.scale[z]),ie++;ie+=R}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Q),t.deactivate(),!0},t.setOpenGLRenderWindow=function(u){e._openGLRenderWindow!==u&&(t.releaseGraphicsResources(),e._openGLRenderWindow=u,e.context=null,u&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=function(u){return u&&u.isCurrent()?u.getIntegerv(u.MAX_TEXTURE_SIZE):-1}}var Dae={_openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:_o.CLAMP_TO_EDGE,wrapT:_o.CLAMP_TO_EDGE,wrapR:_o.CLAMP_TO_EDGE,minificationFilter:qr.NEAREST,magnificationFilter:qr.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1};function AV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Dae,r),Qt.extend(t,e,r),e.sendParametersTime={},nr(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},nr(e.textureBuildTime,{mtime:0}),t1(t,e,["format","openGLDataType"]),Cr(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),ia(t,e,["width","height","volumeInfo","components","handle","target"]),Eae(t,e)}var NV=mt(AV,"vtkOpenGLTexture"),Ot=Tae({newInstance:NV,extend:AV},c2);Wr("vtkTexture",NV);var Ty={NEAREST:0,LINEAR:1},Oae={InterpolationType:Ty},FV=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,n1=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function Mae(t,e){t.replaceShaderCoincidentOffset=function(r,n,a){var i=t.getCoincidentParameters(n,a);if(i&&(i.factor!==0||i.offset!==0)){var o=r.Fragment;o=pe.substitute(o,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(o=pe.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=pe.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=pe.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(o=pe.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=pe.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=pe.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),r.Fragment=o}}}var f2={implementReplaceShaderCoincidentOffset:Mae},Jl=$e,Va=r1.SlicingMode;function rL(t,e,r){var n=e.apply(t);if(n){var a=t.getIndependentComponents();return"".concat(t.getMTime(),"-").concat(a,"-").concat(r)}return"0"}function Lae(t,e){e.classHierarchy.push("vtkOpenGLImageMapper"),t.buildPass=function(r){if(r){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var n=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(n.getActiveCamera()),e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(n.getActiveCamera())}},t.translucentPass=function(r,n){r&&(e.currentRenderPass=n,t.render())},t.opaqueZBufferPass=function(r){r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(r){r&&t.render()},t.getCoincidentParameters=function(r,n){return e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null},t.render=function(){var r=e.openGLImageSlice.getRenderable(),n=e.openGLRenderer.getRenderable();t.renderPiece(n,r)},t.buildShaders=function(r,n,a){t.getShaderTemplate(r,n,a),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(r),t.replaceShaderValues(r,n,a)},t.getShaderTemplate=function(r,n,a){r.Vertex=FV,r.Fragment=n1,r.Geometry=""},t.replaceShaderValues=function(r,n,a){var i=r.Vertex,o=r.Fragment;i=pe.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=pe.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=pe.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=pe.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var s=e.openGLTexture.getComponents(),u=a.getProperty().getIndependentComponents(),l=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(u){for(var f=1;f<s;f++)l=l.concat(["uniform float cshift".concat(f,";"),"uniform float cscale".concat(f,";"),"uniform float pwfshift".concat(f,";"),"uniform float pwfscale".concat(f,";")]);switch(s){case 1:l=l.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:l=l.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:l=l.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:l=l.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Jl("Unsupported number of independent coordinates.")}}if(o=pe.substitute(o,"//VTK::TCoord::Dec",l).result,u){for(var c=["r","g","b","a"],h=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],p=0;p<s;p++)h=h.concat(["vec3 tcolor".concat(p," = mix").concat(p," * texture2D(colorTexture1, vec2(tvalue.").concat(c[p]," * cscale").concat(p," + cshift").concat(p,", height").concat(p,")).rgb;"),"float compWeight".concat(p," = mix").concat(p," * texture2D(pwfTexture1, vec2(tvalue.").concat(c[p]," * pwfscale").concat(p," + pwfshift").concat(p,", height").concat(p,")).r;")]);switch(s){case 1:h=h.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:h=h.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Jl("Unsupported number of independent coordinates.")}o=pe.substitute(o,"//VTK::TCoord::Impl",h).result}else switch(s){case 1:o=pe.substitute(o,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:o=pe.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;case 3:o=pe.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]).result;break;default:o=pe.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(o=pe.substitute(o,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,o=pe.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=i,r.Fragment=o,t.replaceShaderClip(r,n,a),t.replaceShaderCoincidentOffset(r,n,a)},t.replaceShaderClip=function(r,n,a){var i=r.Vertex,o=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var s=e.renderable.getNumberOfClippingPlanes();s>6&&($e("OpenGL has a limit of 6 clipping planes"),s=6),i=pe.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=pe.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=pe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,o=pe.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=i,r.Fragment=o},t.getNeedToRebuildShaders=function(r,n,a){var i=e.openGLTexture.getComponents(),o=a.getProperty().getIndependentComponents(),s=!1;return!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(s=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),s=!0),s||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getProgram()===0||e.lastTextureComponents!==i||e.lastIndependentComponents!==o?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=i,e.lastIndependentComponents=o,!0):!1},t.updateShaders=function(r,n,a){if(e.lastBoundBO=r,t.getNeedToRebuildShaders(r,n,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,n,a);var o=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==r.getProgram()&&(r.setProgram(o),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),t.setMapperShaderParameters(r,n,a),t.setCameraShaderParameters(r,n,a),t.setPropertyShaderParameters(r,n,a)},t.setMapperShaderParameters=function(r,n,a){r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Jl("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),e.context.FALSE)||Jl("Error setting tcoordMC in shader VAO.")),r.getAttributeUpdateTime().modified());var i=e.openGLTexture.getTextureUnit();r.getProgram().setUniformi("texture1",i);var o=e.openGLTexture.getComponents(),s=a.getProperty().getIndependentComponents();if(s)for(var u=0;u<o;u++)r.getProgram().setUniformf("mix".concat(u),a.getProperty().getComponentWeight(u));for(var l=e.openGLTexture.getShiftAndScale(),f=0;f<o;f++){var c=a.getProperty().getColorWindow(),h=a.getProperty().getColorLevel(),p=s?f:0,v=a.getProperty().getRGBTransferFunction(p);if(v&&a.getProperty().getUseLookupTableScalarRange()){var g=v.getRange();c=g[1]-g[0],h=.5*(g[1]+g[0])}var y=l.scale/c,m=(l.shift-h)/c+.5;r.getProgram().setUniformf("cshift".concat(f),m),r.getProgram().setUniformf("cscale".concat(f),y)}for(var d=0;d<o;d++){var _=1,x=0,w=s?d:0,S=a.getProperty().getPiecewiseFunction(w);if(S){var b=S.getRange(),T=b[1]-b[0],C=.5*(b[0]+b[1]);_=l.scale/T,x=(l.shift-C)/T+.5}r.getProgram().setUniformf("pwfshift".concat(d),x),r.getProgram().setUniformf("pwfscale".concat(d),_)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){var M=t.getCoincidentParameters(n,a);r.getProgram().setUniformf("coffset",M.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",M.factor)}var D=e.colorTexture.getTextureUnit();r.getProgram().setUniformi("colorTexture1",D);var E=e.pwfTexture.getTextureUnit();if(r.getProgram().setUniformi("pwfTexture1",E),e.renderable.getNumberOfClippingPlanes()){var k=e.renderable.getNumberOfClippingPlanes();k>6&&($e("OpenGL has a limit of 6 clipping planes"),k=6);var O=e.currentInput,A=O.getWorldToIndex(),I=r.getCABO().getCoordShiftAndScaleEnabled(),U=I?r.getCABO().getInverseShiftAndScaleMatrix():null,P=U?gr(e.imagematinv,a.getMatrix()):a.getMatrix();U&&(dt(P,P),Ht(P,P,U),dt(P,P)),Ht(e.imagematinv,P,A);for(var B=[],W=0;W<k;W++){var H=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,W,H);for(var $=0;$<4;$++)B.push(H[$])}r.getProgram().setUniformi("numClipPlanes",k),r.getProgram().setUniform4fv("clipPlanes",B)}},t.setCameraShaderParameters=function(r,n,a){var i=r.getProgram(),o=e.openGLImageSlice.getKeyMatrices(),s=e.currentInput,u=s.getIndexToWorld();Ht(e.imagemat,o.mcwc,u);var l=e.openGLCamera.getKeyMatrices(n);if(Ht(e.imagemat,l.wcpc,e.imagemat),r.getCABO().getCoordShiftAndScaleEnabled()){var f=r.getCABO().getInverseShiftAndScaleMatrix();Ht(e.imagemat,e.imagemat,f)}i.setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=function(r,n,a){var i=r.getProgram(),o=a.getProperty(),s=o.getOpacity();i.setUniformf("opacity",s)},t.renderPieceStart=function(r,n){t.updateBufferObjects(r,n),e.lastBoundBO=null},t.renderPieceDraw=function(r,n){var a=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,r,n),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=function(r,n){},t.renderPiece=function(r,n){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Jl("No input!");return}t.renderPieceStart(r,n),t.renderPieceDraw(r,n),t.renderPieceFinish(r,n)},t.computeBounds=function(r,n){if(!t.getInput()){Vf(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(r,n){t.getNeedToRebuildBufferObjects(r,n)&&t.buildBufferObjects(r,n)},t.getNeedToRebuildBufferObjects=function(r,n){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<n.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<n.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(r,n){var a=e.currentInput;if(a){var i=a.getPointData()&&a.getPointData().getScalars();if(i){var o=n.getProperty(),s=o.getInterpolationType();s===Ty.NEAREST?(e.colorTexture.setMinificationFilter(Kt.NEAREST),e.colorTexture.setMagnificationFilter(Kt.NEAREST),e.pwfTexture.setMinificationFilter(Kt.NEAREST),e.pwfTexture.setMagnificationFilter(Kt.NEAREST)):(e.colorTexture.setMinificationFilter(Kt.LINEAR),e.colorTexture.setMagnificationFilter(Kt.LINEAR),e.pwfTexture.setMinificationFilter(Kt.LINEAR),e.pwfTexture.setMagnificationFilter(Kt.LINEAR));var u=i.getNumberOfComponents(),l=o.getIndependentComponents(),f=l?u:1,c=l?2*f:1,h=rL(o,o.getRGBTransferFunction,f);if(e.colorTextureString!==h){var p=1024,v=p*c*3,g=new Uint8Array(v),y=o.getRGBTransferFunction();if(y){for(var m=new Float32Array(p*3),d=0;d<f;d++){y=o.getRGBTransferFunction(d);var _=y.getRange();if(y.getTable(_[0],_[1],p,m,1),l)for(var x=0;x<p*3;x++)g[d*p*6+x]=255*m[x],g[d*p*6+x+p*3]=255*m[x];else for(var w=0;w<p*3;w++)g[d*p*6+w]=255*m[w]}e.colorTexture.create2DFromRaw(p,c,3,Rr.UNSIGNED_CHAR,g)}else{for(var S=0;S<p*3;++S)g[S]=255*S/((p-1)*3),g[S+1]=255*S/((p-1)*3),g[S+2]=255*S/((p-1)*3);e.colorTexture.create2DFromRaw(p,1,3,Rr.UNSIGNED_CHAR,g)}e.colorTextureString=h}var b=rL(o,o.getPiecewiseFunction,f);if(e.pwfTextureString!==b){var T=1024,C=T*c,M=new Uint8Array(C),D=o.getPiecewiseFunction();if(e.pwfTexture.resetFormatAndType(),D){for(var E=new Float32Array(C),k=new Float32Array(T),O=0;O<f;++O)if(D=o.getPiecewiseFunction(O),D===null)E.fill(1);else{var A=D.getRange();if(D.getTable(A[0],A[1],T,k,1),l)for(var I=0;I<T;I++)E[O*T*2+I]=k[I],E[O*T*2+I+T]=k[I];else for(var U=0;U<T;U++)E[O*T*2+U]=k[U]}e.pwfTexture.create2DFromRaw(T,c,1,Rr.FLOAT,E)}else M.fill(255),e.pwfTexture.create2DFromRaw(T,1,1,Rr.UNSIGNED_CHAR,M);e.pwfTextureString=b}var P=e.renderable.getClosestIJKAxis(),B=P.ijkMode,W=e.renderable.getSlice();B!==e.renderable.getSlicingMode()&&(W=e.renderable.getSliceAtPosition(W));var H=Math.round(W),$=a.getExtent(),q;B===Va.I&&(q=H-$[0]),B===Va.J&&(q=H-$[2]),(B===Va.K||B===Va.NONE)&&(q=H-$[4]);var Q="".concat(W,"A").concat(a.getMTime(),"A").concat(i.getMTime(),"B").concat(t.getMTime(),"C").concat(e.renderable.getSlicingMode(),"D").concat(n.getProperty().getMTime());if(e.VBOBuildString!==Q){var Y=a.getDimensions();s===Ty.NEAREST?(u===4&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Kt.NEAREST),e.openGLTexture.setMagnificationFilter(Kt.NEAREST)):(u===4?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Kt.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(Kt.LINEAR),e.openGLTexture.setMagnificationFilter(Kt.LINEAR)),e.openGLTexture.setWrapS(tv.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(tv.CLAMP_TO_EDGE);for(var ie=Y[0]*Y[1]*u,J=new Float32Array(12),ae=new Float32Array(8),re=0;re<4;re++)ae[re*2]=re%2?1:0,ae[re*2+1]=re>1?1:0;var V=[Va.X,Va.Y,Va.Z].includes(e.renderable.getSlicingMode())?W:H,R=a.getSpatialExtent(),F=i.getData(),N=null;if(B===Va.I){N=new F.constructor(Y[2]*Y[1]*u);for(var L=0,G=0;G<Y[2];G++)for(var z=0;z<Y[1];z++){var j=(q+z*Y[0]+G*Y[0]*Y[1])*u;L=(G*Y[1]+z)*u,N.set(F.subarray(j,j+u),L)}Y[0]=Y[1],Y[1]=Y[2],J[0]=V,J[1]=R[2],J[2]=R[4],J[3]=V,J[4]=R[3],J[5]=R[4],J[6]=V,J[7]=R[2],J[8]=R[5],J[9]=V,J[10]=R[3],J[11]=R[5]}else if(B===Va.J){N=new F.constructor(Y[2]*Y[0]*u);for(var K=0,Z=0;Z<Y[2];Z++)for(var ne=0;ne<Y[0];ne++){var ue=(ne+q*Y[0]+Z*Y[0]*Y[1])*u;K=(Z*Y[0]+ne)*u,N.set(F.subarray(ue,ue+u),K)}Y[1]=Y[2],J[0]=R[0],J[1]=V,J[2]=R[4],J[3]=R[1],J[4]=V,J[5]=R[4],J[6]=R[0],J[7]=V,J[8]=R[5],J[9]=R[1],J[10]=V,J[11]=R[5]}else B===Va.K||B===Va.NONE?(N=F.subarray(q*ie,(q+1)*ie),J[0]=R[0],J[1]=R[2],J[2]=V,J[3]=R[1],J[4]=R[2],J[5]=V,J[6]=R[0],J[7]=R[3],J[8]=V,J[9]=R[1],J[10]=R[3],J[11]=V):Jl("Reformat slicing not yet supported.");e.openGLTexture.create2DFromRaw(Y[0],Y[1],u,i.getDataType(),N),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();var se=gt.newInstance({numberOfComponents:3,values:J});se.setName("points");var he=gt.newInstance({numberOfComponents:2,values:ae});he.setName("tcoords");var le=new Uint16Array(8);le[0]=3,le[1]=0,le[2]=1,le[3]=3,le[4]=3,le[5]=0,le[6]=3,le[7]=2;var ce=gt.newInstance({numberOfComponents:1,values:le});e.tris.getCABO().createVBO(ce,"polys",Vo.SURFACE,{points:se,tcoords:he,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=Q}}}}}var kae={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function Rae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,kae,r),Qt.extend(t,e,r),f2.implementReplaceShaderCoincidentOffset(t,e,r),e.tris=Yi.newInstance(),e.openGLTexture=Ot.newInstance(),e.colorTexture=Ot.newInstance(),e.pwfTexture=Ot.newInstance(),e.imagemat=ze(new Float64Array(16)),e.imagematinv=ze(new Float64Array(16)),Cr(t,e,[]),e.VBOBuildTime={},nr(e.VBOBuildTime),Lae(t,e)}var Aae=mt(Rae,"vtkOpenGLImageMapper");Wr("vtkImageMapper",Aae);function Nae(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=function(r){if(!(!e.renderable||!e.renderable.getVisibility())&&r){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaqueZBufferPass=function(r){t.traverseOpaquePass(r)},t.traverseOpaquePass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children.forEach(function(n){n.traverse(r)}),t.apply(r,!1))},t.traverseTranslucentPass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children.forEach(function(n){n.traverse(r)}),t.apply(r,!1))},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(r,n){return t.opaquePass(r,n)},t.opaquePass=function(r,n){r&&e.context.depthMask(!0)},t.translucentPass=function(r,n){e.context.depthMask(!r)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(gr(e.keyMatrices.mcwc,e.renderable.getMatrix()),dt(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices}}var Fae={context:null,keyMatrixTime:null,keyMatrices:null};function Bae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fae,r),Qt.extend(t,e,r),e.keyMatrixTime={},nr(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:ze(new Float64Array(16))},Cr(t,e,["context"]),Nae(t,e)}var Iae=mt(Bae,"vtkOpenGLImageSlice");Wr("vtkImageSlice",Iae);function Vae(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=function(r){!e.renderable||!e.renderable.getVisibility()||r&&(e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;n.incrementVolumeCount()}},t.traverseVolumePass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children[0].traverse(r),t.apply(r,!1))},t.volumePass=function(r){!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!r)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),gr(e.MCWCMatrix,e.renderable.getMatrix()),dt(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?si(e.normalMatrix):(qm(e.normalMatrix,e.MCWCMatrix),Zm(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix}}}var Pae={};function Uae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Pae,r),Qt.extend(t,e,r),e.keyMatrixTime={},nr(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),Cr(t,e,["context"]),Vae(t,e)}var zae=mt(Uae,"vtkOpenGLVolume");Wr("vtkVolume",zae);function Gae(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=function(){return e.context.FRAMEBUFFER},t.saveCurrentBindingsAndBuffers=function(r){var n=typeof r<"u"?r:t.getBothMode();t.saveCurrentBindings(n),t.saveCurrentBuffers(n)},t.saveCurrentBindings=function(r){if(!e.context){$e("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}var n=e.context;e.previousDrawBinding=n.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=function(r){},t.restorePreviousBindingsAndBuffers=function(r){var n=typeof r<"u"?r:t.getBothMode();t.restorePreviousBindings(n),t.restorePreviousBuffers(n)},t.restorePreviousBindings=function(r){if(!e.context){$e("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}var n=e.context;n.bindFramebuffer(n.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=function(r){},t.bind=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=r;n===null&&(n=e.context.FRAMEBUFFER),e.context.bindFramebuffer(n,e.glFramebuffer);for(var a=0;a<e.colorBuffers.length;a++)e.colorBuffers[a].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=function(r,n){if(!e.context){$e("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=r,e.glFramebuffer.height=n},t.setColorBuffer=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.context;if(!a){$e("you must set the OpenGLRenderWindow before calling setColorBuffer");return}var i=a.COLOR_ATTACHMENT0;if(n>0)if(e._openGLRenderWindow.getWebgl2())i+=n;else{$e("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[n]=r,a.framebufferTexture2D(a.FRAMEBUFFER,i,a.TEXTURE_2D,r.getHandle(),0)},t.removeColorBuffer=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=e.context;if(!n){$e("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}var a=n.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())a+=r;else{$e("Using multiple framebuffer attachments requires WebGL 2");return}n.framebufferTexture2D(n.FRAMEBUFFER,a,n.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(r,1)},t.setDepthBuffer=function(r){if(!e.context){$e("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var n=e.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,r.getHandle(),0)}else $e("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=function(){if(!e.context){$e("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,null,0)}else $e("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=function(){return e.glFramebuffer},t.setOpenGLRenderWindow=function(r){e._openGLRenderWindow!==r&&(t.releaseGraphicsResources(),e._openGLRenderWindow=r,e.context=null,r&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=function(){e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=function(){var r=[0,0];return e.glFramebuffer!==null&&(r[0]=e.glFramebuffer.width,r[1]=e.glFramebuffer.height),r},t.populateFramebuffer=function(){if(!e.context){$e("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();var r=e.context,n=Ot.newInstance();n.setOpenGLRenderWindow(e._openGLRenderWindow),n.setMinificationFilter(Kt.LINEAR),n.setMagnificationFilter(Kt.LINEAR),n.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,Rr.UNSIGNED_CHAR,null),t.setColorBuffer(n),e.depthTexture=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,e.depthTexture),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,e.depthTexture)},t.getColorTexture=function(){return e.colorBuffers[0]}}var Wae={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function BV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Wae,r),nr(t,e),e.colorBuffers&&$e("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],Jv(t,e,["colorBuffers"]),Gae(t,e)}var Hae=mt(BV,"vtkFramebuffer"),Al={newInstance:Hae,extend:BV},_b={NEAREST:0,LINEAR:1,FAST_LINEAR:2},IV={FRACTIONAL:0,PROPORTIONAL:1},h2={InterpolationType:_b,OpacityMode:IV},VV={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4},jae={OFF:0,NORMALIZED:1,RAW:2},PV={BlendMode:VV,FilterMode:jae},$ae=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,Kae=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn
uniform int outlineThickness;
uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

//VTK::VolumeShadowOn
//VTK::SurfaceShadowOn
//VTK::VolumeShadow::Dec

// define vtkComputeNormalFromOpacity
//VTK::vtkComputeNormalFromOpacity

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;

// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics rendering module is complete)
vec3 rayDirVC;
float sampleDistanceISVS;

#define SQRT3    1.7321
#define INV4PI   0.0796
#define EPSILON  0.001

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// transformation between VC and IS space

// convert vector position from idx to vc
#if vtkLightComplexity > 0
vec3 IStoVC(vec3 posIS){
  vec3 posVC = posIS / vVCToIJK;
  return posVC.x * vPlaneNormal0 + 
         posVC.y * vPlaneNormal2 + 
         posVC.z * vPlaneNormal4 + 
         vOriginVC;
}

// convert vector position from vc to idx
vec3 VCtoIS(vec3 posVC){
  posVC = posVC - vOriginVC;
  posVC = vec3(
    dot(posVC, vPlaneNormal0),
    dot(posVC, vPlaneNormal2),
    dot(posVC, vPlaneNormal4));  
  return posVC * vVCToIJK;
}
#endif

//Rotate vector to view coordinate
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
void rotateToViewCoord(inout vec3 dirIS){
  dirIS.xyz =
    dirIS.x * vPlaneNormal0 +
    dirIS.y * vPlaneNormal2 +
    dirIS.z * vPlaneNormal4;
}

//Rotate vector to idx coordinate
vec3 rotateToIDX(vec3 dirVC){
  vec3 dirIS;
  dirIS.xyz = vec3(
    dot(dirVC, vPlaneNormal0),
    dot(dirVC, vPlaneNormal2),
    dot(dirVC, vPlaneNormal4));  
  return dirIS;
}
#endif

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(
  float normalMag, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normalMag * goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward difference
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
  #ifdef vtkComputeNormalFromOpacity
    #ifdef vtkGradientOpacityOn
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out mat3 scalarInterp, out vec3 secondaryGradientMag)
      {
        vec4 result;
        scalarInterp[0][0] = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a;
        scalarInterp[0][1] = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a;
        scalarInterp[0][2] = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a;
        // look up scalar values for computing secondary gradient
        scalarInterp[1][0] = getTextureValue(pos + vec3(2.0*tstep.x, 0.0, 0.0)).a;
        scalarInterp[1][1] = getTextureValue(pos + vec3(0.0, 2.0*tstep.y, 0.0)).a;
        scalarInterp[1][2] = getTextureValue(pos + vec3(0.0, 0.0, 2.0*tstep.z)).a;
        scalarInterp[2][0] = getTextureValue(pos + vec3(tstep.x, tstep.y, 0.0)).a;
        scalarInterp[2][1] = getTextureValue(pos + vec3(tstep.x, 0.0, tstep.z)).a;
        scalarInterp[2][2] = getTextureValue(pos + vec3(0.0, tstep.y, tstep.z)).a;
        result.x = scalarInterp[0][0] - scalar;
        result.y = scalarInterp[0][1] - scalar;
        result.z = scalarInterp[0][2] - scalar;
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz);
        rotateToViewCoord(result.xyz);
        secondaryGradientMag.x = length(vec3(scalarInterp[1][0] - scalarInterp[0][0],
                                             scalarInterp[2][0] - scalarInterp[0][0],
                                             scalarInterp[2][1] - scalarInterp[0][0]) / vSpacing);
        secondaryGradientMag.y = length(vec3(scalarInterp[2][0] - scalarInterp[0][1],
                                             scalarInterp[1][1] - scalarInterp[0][1],
                                             scalarInterp[2][2] - scalarInterp[0][1]) / vSpacing);
        secondaryGradientMag.z = length(vec3(scalarInterp[2][1] - scalarInterp[0][2],
                                             scalarInterp[2][2] - scalarInterp[0][2],
                                             scalarInterp[1][2] - scalarInterp[0][2]) / vSpacing);
        if (length(result.xyz) > 0.0) {
          return vec4(normalize(result.xyz),result.w);
        } else {
          return vec4(0.0);
        }
      }

      vec4 computeDensityNormal(float scalar, float gradientMag, mat3 scalarInterp, vec3 secondaryGradientMag)
      {
        vec4 opacityG;
        vec3 opacityInterp = vec3(0.0);
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r;
        if (gradientMag >= 0.0){
          opacity *= computeGradientOpacityFactor(gradientMag, goscale0, goshift0, gomin0, gomax0);
        }
        opacityInterp.x = texture2D(otexture, vec2(scalarInterp[0][0] * oscale0 + oshift0, 0.5)).r; 
        if (secondaryGradientMag.x >= 0.0){
          opacityInterp.x *= computeGradientOpacityFactor(secondaryGradientMag.x, goscale0, goshift0, gomin0, gomax0);
        }
    
        opacityInterp.y = texture2D(otexture, vec2(scalarInterp[0][1] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.y >= 0.0){
          opacityInterp.y *= computeGradientOpacityFactor(secondaryGradientMag.y, goscale0, goshift0, gomin0, gomax0);
        }

        opacityInterp.z = texture2D(otexture, vec2(scalarInterp[0][2] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.z >= 0.0){
          opacityInterp.z *= computeGradientOpacityFactor(secondaryGradientMag.z, goscale0, goshift0, gomin0, gomax0);
        }

        opacityG.xyz = opacityInterp - vec3(opacity,opacity,opacity);
        // divide by spacing
        opacityG.xyz /= vSpacing;
        opacityG.w = length(opacityG.xyz);
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {  
          return vec4(normalize(opacityG.xyz),opacityG.w);
        } else {
          return vec4(0.0);
        }
      } 

    #else
    //if gradient opacity not on but using density gradient
      vec4 computeDensityNormal(float scalar, vec3 scalarInterp) 
      { 
        vec4 opacityG; 
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r; 
        opacityG.x = texture2D(otexture, vec2(scalarInterp.x * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.y = texture2D(otexture, vec2(scalarInterp.y * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.z = texture2D(otexture, vec2(scalarInterp.z * oscale0 + oshift0, 0.5)).r - opacity; 
        // divide by spacing 
        opacityG.xyz /= vSpacing; 
        opacityG.w = length(opacityG.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {     
          return vec4(normalize(opacityG.xyz),opacityG.w); 
        } else { 
          return vec4(0.0); 
        } 
      } 
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out vec3 scalarInterp) 
      { 
        vec4 result; 
        scalarInterp.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a; 
        scalarInterp.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a; 
        scalarInterp.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a; 
        result.x = scalarInterp.x - scalar; 
        result.y = scalarInterp.y - scalar; 
        result.z = scalarInterp.z - scalar;   
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(result.xyz);      
        if (length(result.xyz) > 0.0) {     
          return vec4(normalize(result.xyz),result.w); 
        } else { 
          return vec4(0.0); 
        } 
      }           
    #endif
  #endif
  // compute scalar density
  vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)  
  {  
    vec4 result;  
    result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;  
    result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;  
    result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;  
    // divide by spacing  
    result.xyz /= vSpacing;  
    result.w = length(result.xyz);  
    // rotate to View Coords  
    rotateToViewCoord(result.xyz);
    return vec4(normalize(result.xyz),result.w);  
  }  
#endif

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  vec3 index = (vWCtoIDX * vertex).xyz;

  // half voxel fix for labelmapOutline 
  return (index + vec3(0.5)) / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// global shadow - secondary ray
#ifdef VolumeShadowOn

// henyey greenstein phase function
float phase_function(float cos_angle)
{
  // divide by 2.0 instead of 4pi to increase intensity
  return ((1.0-anisotropy2)/pow(1.0+anisotropy2-2.0*anisotropy*cos_angle, 1.5))/2.0;
}

float random()
{ 
  float rand = fract(sin(dot(gl_FragCoord.xy,vec2(12.9898,78.233)))*43758.5453123);
  float jitter=texture2D(jtexture,gl_FragCoord.xy/32.).r;
  uint pcg_state = floatBitsToUint(jitter);
  uint state = pcg_state;
  pcg_state = pcg_state * uint(747796405) + uint(2891336453);
  uint word = ((state >> ((state >> uint(28)) + uint(4))) ^ state) * uint(277803737);
  return (float((((word >> uint(22)) ^ word) >> 1 ))/float(2147483647) + rand)/2.0;
}

// Computes the intersection between a ray and a box
struct Hit
{
  float tmin;
  float tmax;
};

struct Ray
{
  vec3 origin;
  vec3 dir;
  vec3 invDir;
};

bool BBoxIntersect(vec3 boundMin, vec3 boundMax, const Ray r, out Hit hit)
{
  vec3 tbot = r.invDir * (boundMin - r.origin);
  vec3 ttop = r.invDir * (boundMax - r.origin);
  vec3 tmin = min(ttop, tbot);
  vec3 tmax = max(ttop, tbot);
  vec2 t = max(tmin.xx, tmin.yz);
  float t0 = max(t.x, t.y);
  t = min(tmax.xx, tmax.yz);
  float t1 = min(t.x, t.y);
  hit.tmin = t0;
  hit.tmax = t1;
  return t1 > max(t0,0.0);
}

// As BBoxIntersect requires the inverse of the ray coords,
// this function is used to avoid numerical issues
void safe_0_vector(inout Ray ray)
{
  if(abs(ray.dir.x) < EPSILON) ray.dir.x = sign(ray.dir.x) * EPSILON;
  if(abs(ray.dir.y) < EPSILON) ray.dir.y = sign(ray.dir.y) * EPSILON;
  if(abs(ray.dir.z) < EPSILON) ray.dir.z = sign(ray.dir.z) * EPSILON;
}

float volume_shadow(vec3 posIS, vec3 lightDirNormIS)
{
  float shadow = 1.0;
  float opacity = 0.0;

  // modify sample distance with a random number between 0.8 and 1.0
  float sampleDistanceISVS_jitter = sampleDistanceISVS * mix(0.8, 1.0, random());
  float opacityPrev = texture2D(otexture, vec2(getTextureValue(posIS).r * oscale0 + oshift0, 0.5)).r;
  
  // in case the first sample near surface has a very tiled light ray, we need to offset start position 
  posIS += sampleDistanceISVS_jitter * lightDirNormIS;  

  // compute the start and end points for the ray
  Ray ray;
  Hit hit;  
  ray.origin = posIS;
  ray.dir = lightDirNormIS;
  safe_0_vector(ray);
  ray.invDir = 1.0/ray.dir;
  
  if(!BBoxIntersect(vec3(0.0),vec3(1.0), ray, hit))
  {
    return 1.0;
  }
  vec4 scalar = vec4(0.0);
  float maxdist = hit.tmax;
  if(maxdist < EPSILON) {
    return 1.0;
  }

  // interpolate shadow ray length between: 1 unit of sample distance in IS to SQRT3, based on globalIlluminationReach
  float maxgi = mix(sampleDistanceISVS_jitter,SQRT3,giReach);
  maxdist = min(maxdist,maxgi);

  // support gradient opacity
  #ifdef vtkGradientOpacityOn
    vec4 normal;
  #endif

  vec3 current_step = sampleDistanceISVS_jitter * lightDirNormIS;
  float maxSteps = ceil(maxdist/sampleDistanceISVS_jitter);
  float opacityDelta = 0.0;

  for (float i = 0.0; i < maxSteps; i++)
  {
    scalar = getTextureValue(posIS);
    opacity = texture2D(otexture, vec2(scalar.r * oscale0 + oshift0, 0.5)).r;
    #ifdef vtkGradientOpacityOn 
      normal = computeNormal(posIS, scalar.a, vec3(1.0/vec3(volumeDimensions))); 
      opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
    #endif    
    shadow *= 1.0 - opacity;

    // optimization: early termination
    if (shadow < EPSILON){
      return 0.0;
    }

    // optimization: increase/decrease sample distance based on changed in opacity value
    opacityDelta = opacityPrev - opacity;
    opacityPrev = opacity;
    if (opacityDelta > 0.0){
      current_step *= 0.9;
    } else if (opacityDelta < 0.0){
      current_step *= 1.1;
    }
    posIS += current_step;
  }

  return shadow;  
}

vec3 applyShadowRay(vec3 tColor, vec3 posIS, vec3 viewDirectionVC)
{
  vec3 vertLight = vec3(0.0);
  vec3 secondary_contrib = vec3(0.0);
  // here we assume only positional light, no effect of cones
  for (int i = 0; i < lightNum; i++)
  {
    #if(vtkLightComplexity==3)
      if (lightPositional[i] == 1){
        vertLight = lightPositionVC[i] - IStoVC(posIS);
      }else{
        vertLight = - lightDirectionVC[i];
      }
    #else
      vertLight = - lightDirectionVC[i];
    #endif
    // here we assume achromatic light, only intensity
    float dDotL = dot(viewDirectionVC, normalize(vertLight));
    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity
    float phase_attenuation = 0.5;
    if (abs(anisotropy) > EPSILON){
      phase_attenuation = phase_function(dDotL);
    }
    float vol_shadow = volume_shadow(posIS, normalize(rotateToIDX(vertLight)));
    secondary_contrib += tColor * vDiffuse * lightColor[i] * vol_shadow * phase_attenuation;     
    secondary_contrib += tColor * vAmbient;
  } 
  return secondary_contrib;
}
#endif

//=======================================================================
// surface light contribution
#if vtkLightComplexity > 0
  void applyLighting(inout vec3 tColor, vec4 normal)
  {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    float df, sf = 0.0;
    for (int i = 0; i < lightNum; i++){
        df = abs(dot(normal.rgb, -lightDirectionVC[i]));
        diffuse += df * lightColor[i];
        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);
        specular += sf * lightColor[i];
    }
    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
  }
  #if vtkLightComplexity < 3 && defined(SurfaceShadowOn)
    vec3 applyLightingDirectional(inout vec3 tColor, vec4 normal)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float ndotL,vdotR;
        vertLightDirection = lightDirectionVC[i];
        ndotL = dot(normal.xyz, vertLightDirection);
        if (ndotL < 0.0 && twoSidedLighting)
        {
          ndotL = -ndotL;
        }
        if (ndotL > 0.0)
        {
          diffuse += ndotL * lightColor[i];
          //specular
          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
          if (vdotR > 0.0)
          {
            specular += pow(vdotR, vSpecularPower) * lightColor[i];
          }
        }
      }  
      return tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
    }
  #else
    vec3 applyLightingPositional(inout vec3 tColor, vec4 normal, vec3 posVC)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float distance,attenuation,ndotL,vdotR;
        vec3 lightDir;
        if (lightPositional[i] == 1){
          lightDir = lightDirectionVC[i];
          vertLightDirection = posVC - lightPositionVC[i]; 
          distance = length(vertLightDirection);
          vertLightDirection = normalize(vertLightDirection);
          attenuation = 1.0 / (lightAttenuation[i].x
                              + lightAttenuation[i].y * distance
                              + lightAttenuation[i].z * distance * distance);
          // per OpenGL standard cone angle is 90 or less for a spot light
          if (lightConeAngle[i] <= 90.0){
            float coneDot = dot(vertLightDirection, lightDir);
            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone
              attenuation = attenuation * pow(coneDot, lightExponent[i]);
            }
            else {
              attenuation = 0.0;
            }
          }
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * attenuation * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];
            }
          }
        } else {
          vertLightDirection = lightDirectionVC[i];
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * lightColor[i];
            }
          }
        }
      }
      return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
    }
  #endif 
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -outlineThickness; i <= outlineThickness; i++) {
      for (int j = -outlineThickness; j <= outlineThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = 1.0;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      vec4 normalLight;
      #ifdef vtkComputeNormalFromOpacity
        #ifdef vtkGradientOpacityOn
          mat3 scalarInterp;  
          vec3 secondaryGradientMag;  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp, secondaryGradientMag);  
          normalLight = computeDensityNormal(tValue.a, normal0.w, scalarInterp,secondaryGradientMag);       
          if (length(normalLight) == 0.0){  
            normalLight = normal0;   
          }                      
        #else
          vec3 scalarInterp;  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp);  
          if (length(normal0)>0.0){  
            normalLight = computeDensityNormal(tValue.a,scalarInterp);  
            if (length(normalLight)==0.0){  
              normalLight = normal0;  
            }  
          }                
        #endif
      #else 
        vec4 normal0 = computeNormal(posIS, tValue.a, tstep);  
        normalLight = normal0;             
      #endif
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1.a, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2.a, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3.a, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
    if (tColor.a < EPSILON){
      return vec4(0.0);
    }    
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional) && defined(SurfaceShadowOn)
        #if vtkLightComplexity < 3
            vec3 tColorS = applyLightingDirectional(tColor.rgb, normalLight);
        #else
            vec3 tColorS = applyLightingPositional(tColor.rgb, normalLight, IStoVC(posIS));
        #endif
    #endif

    #ifdef VolumeShadowOn
      vec3 tColorVS = applyShadowRay(tColor.rgb, posIS, rayDirVC);
      #ifdef SurfaceShadowOn
        float vol_coef = volumetricScatteringBlending * (1.0 - tColor.a * exp(normalLight.w));
        tColor.rgb = (1.0-vol_coef) * tColorS + vol_coef * tColorVS;
      #else
        tColor.rgb = tColorVS;
      #endif
    #else
        tColor.rgb = tColorS;
    #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    #if !defined(vtkComponent1Proportional)
      applyLighting(tColor1, normal1);
    #endif
  #if vtkNumComponents >= 3
    #if !defined(vtkComponent2Proportional)
      applyLighting(tColor2, normal2);
    #endif
  #if vtkNumComponents >= 4
    #if !defined(vtkComponent3Proportional)
      applyLighting(tColor3, normal3);
    #endif
  #endif
  #endif
  #endif
  #endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif







return tColor;
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2
     if (val.r >= min.r && val.r <= max.r &&
        val.g >= min.g && val.g <= max.g) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3
    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
        all(lessThanEqual(val, ipScalarRangeMax))) {
      withinRange = true;
    }
  #endif
  return withinRange;
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
  #ifdef VolumeShadowOn
    sampleDistanceISVS = sampleDistanceIS * volumeShadowSamplingDistFactor;
  #endif
}

void main()
{

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  float sampleDistanceIS;
  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, sampleDistanceIS, tdims);
}
`;function nL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yae=Zv,cx=$e;function qae(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Zae(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),t.buildPass=function(){e.zBufferTexture=null},t.opaqueZBufferPass=function(r,n){if(r){var a=n.getZBufferTexture();a!==e.zBufferTexture&&(e.zBufferTexture=a)}},t.volumePass=function(r,n){if(r){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");var a=e.openGLVolume.getRenderable();e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");var i=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(i.getActiveCamera()),t.renderPiece(i,a)}},t.buildShaders=function(r,n,a){t.getShaderTemplate(r,n,a),t.replaceShaderValues(r,n,a)},t.getShaderTemplate=function(r,n,a){r.Vertex=$ae,r.Fragment=Kae,r.Geometry=""},t.replaceShaderValues=function(r,n,a){var i=r.Fragment,o=a.getProperty().getInterpolationType();o===_b.LINEAR&&(i=pe.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result);var s=a.getProperty().getUseLabelOutline();s===!0&&(i=pe.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var u=e.scalarTexture.getComponents();i=pe.substitute(i,"//VTK::NumComponents","#define vtkNumComponents ".concat(u)).result;var l=a.getProperty().getIndependentComponents();if(l){i=pe.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var f=[],c=0;c<u;c++)a.getProperty().getOpacityMode(c)===IV.PROPORTIONAL&&f.push("#define vtkComponent".concat(c,"Proportional"));f.length>0&&(i=pe.substitute(i,"//VTK::vtkProportionalComponents",f.join(`
`)).result)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),v=new Float64Array(3);Bt(v,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var g=dl(v)/e.renderable.getSampleDistance();i=pe.substitute(i,"//VTK::MaximumSamplesValue","".concat(Math.ceil(g))).result,i=pe.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(e.lastLightComplexity)).result,e.lastLightComplexity>0&&(e.renderable.getVolumetricScatteringBlending()>0&&(i=pe.substitute(i,"//VTK::VolumeShadowOn","#define VolumeShadowOn").result),e.renderable.getVolumetricScatteringBlending()<1&&(i=pe.substitute(i,"//VTK::SurfaceShadowOn","#define SurfaceShadowOn").result)),e.gopacity=a.getProperty().getUseGradientOpacity(0);for(var y=1;l&&!e.gopacity&&y<u;++y)a.getProperty().getUseGradientOpacity(y)&&(e.gopacity=!0);e.gopacity&&(i=pe.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.renderable.getComputeNormalFromOpacity()&&(i=pe.substitute(i,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),e.zBufferTexture!==null&&(i=pe.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=pe.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=pe.substitute(i,"//VTK::BlendMode","".concat(e.renderable.getBlendMode())).result,r.Fragment=i,t.replaceShaderLight(r,n,a),t.replaceShaderClippingPlane(r,n,a)},t.replaceShaderLight=function(r,n,a){if(e.lastLightComplexity!==0){var i=r.Fragment,o=0;n.getLights().forEach(function(s){s.getSwitch()&&(o+=1)}),i=pe.substitute(i,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;","uniform vec3 lightColor[".concat(o,"];"),"uniform vec3 lightDirectionVC[".concat(o,"]; // normalized"),"uniform vec3 lightHalfAngleVC[".concat(o,"];"),"//VTK::Light::Dec"],!1).result,e.lastLightComplexity===3&&(i=pe.substitute(i,"//VTK::Light::Dec",["uniform vec3 lightPositionVC[".concat(o,"];"),"uniform vec3 lightAttenuation[".concat(o,"];"),"uniform float lightConeAngle[".concat(o,"];"),"uniform float lightExponent[".concat(o,"];"),"uniform int lightPositional[".concat(o,"];")],!1).result),e.renderable.getVolumetricScatteringBlending()>0&&(i=pe.substitute(i,"//VTK::VolumeShadow::Dec",["uniform float volumetricScatteringBlending;","uniform float giReach;","uniform float volumeShadowSamplingDistFactor;","uniform float anisotropy;","uniform float anisotropy2;"],!1).result),r.Fragment=i}},t.replaceShaderClippingPlane=function(r,n,a){var i=r.Fragment;if(e.renderable.getClippingPlanes().length>0){var o=e.renderable.getClippingPlanes().length;i=pe.substitute(i,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,i=pe.substitute(i,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(o,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}r.Fragment=i},t.getNeedToRebuildShaders=function(r,n,a){var i=0;a.getProperty().getShade()&&e.renderable.getBlendMode()===VV.COMPOSITE_BLEND&&(i=0,e.numberOfLights=0,n.getLights().forEach(function(m){var d=m.getSwitch();d>0&&(e.numberOfLights++,i===0&&(i=1)),i===1&&(e.numberOfLights>1||m.getIntensity()!==1||!m.lightTypeIsHeadLight())&&(i=2),i<3&&m.getPositional()&&(i=3)}));var o=!1;e.lastLightComplexity!==i&&(e.lastLightComplexity=i,o=!0);var s=e.scalarTexture.getComponents(),u=a.getProperty().getIndependentComponents(),l=!1,f=[];if(u){for(var c=0;c<s;c++)f.push(a.getProperty().getOpacityMode(c));f.length>0&&(l=!0)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),v=new Float64Array(3);Bt(v,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var g=dl(v)/e.renderable.getSampleDistance(),y={interpolationType:a.getProperty().getInterpolationType(),useLabelOutline:a.getProperty().getUseLabelOutline(),numComp:s,usesProportionalComponents:l,iComps:u,maxSamples:g,useGradientOpacity:a.getProperty().getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),proportionalComponents:f};return!e.previousState||e.previousState.interpolationType!==y.interpolationType||e.previousState.useLabelOutline!==y.useLabelOutline||e.previousState.numComp!==y.numComp||e.previousState.usesProportionalComponents!==y.usesProportionalComponents||e.previousState.iComps!==y.iComps||e.previousState.maxSamples!==y.maxSamples||e.previousState.useGradientOpacity!==y.useGradientOpacity||e.previousState.blendMode!==y.blendMode||!qae(e.previousState.proportionalComponents,y.proportionalComponents)?(e.previousState=Xae({},y),!0):r.getProgram()===0||o||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||r.getShaderSourceTime().getMTime()<t.getMTime()||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()?(e.lastZBufferTexture=e.zBufferTexture,!0):!1},t.updateShaders=function(r,n,a){if(e.lastBoundBO=r,t.getNeedToRebuildShaders(r,n,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,n,a);var o=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==r.getProgram()&&(r.setProgram(o),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),t.setMapperShaderParameters(r,n,a),t.setCameraShaderParameters(r,n,a),t.setPropertyShaderParameters(r,n,a),t.getClippingPlaneShaderParameters(r,n,a)},t.setMapperShaderParameters=function(r,n,a){var i=r.getProgram();r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(r.getVAO().addAttributeArray(i,r.getCABO(),"vertexDC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||cx("Error setting vertexDC in shader VAO.")),r.getAttributeUpdateTime().modified()),i.setUniformi("texture1",e.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",e.renderable.getSampleDistance());for(var o=e.scalarTexture.getVolumeInfo(),s=e.renderable.getIpScalarRange(),u=[],l=[],f=0;f<4;f++)u[f]=s[0]*o.dataComputedScale[f]+o.dataComputedOffset[f],l[f]=s[1]*o.dataComputedScale[f]+o.dataComputedOffset[f],u[f]=(u[f]-o.offset[f])/o.scale[f],l[f]=(l[f]-o.offset[f])/o.scale[f];if(i.setUniform4f("ipScalarRangeMin",u[0],u[1],u[2],u[3]),i.setUniform4f("ipScalarRangeMax",l[0],l[1],l[2],l[3]),e.zBufferTexture!==null){i.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());var c=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();i.setUniformf("vpWidth",c[0]),i.setUniformf("vpHeight",c[1])}},t.setCameraShaderParameters=function(r,n,a){var i=e.openGLCamera.getKeyMatrices(n),o=e.openGLVolume.getKeyMatrices();Ht(e.modelToView,i.wcvc,o.mcwc);var s=r.getProgram(),u=e.openGLCamera.getRenderable(),l=u.getClippingRange();s.setUniformf("camThick",l[1]-l[0]),s.setUniformf("camNear",l[0]),s.setUniformf("camFar",l[1]);for(var f=e.currentInput.getBounds(),c=e.currentInput.getDimensions(),h=new Float64Array(3),p=new Float64Array(3),v=1,g=-1,y=1,m=-1,d=0;d<8;++d){if(Bt(h,f[d%2],f[2+Math.floor(d/2)%2],f[4+Math.floor(d/4)]),He(h,h,e.modelToView),!u.getParallelProjection()){Ca(p,h);var _=-l[0]/h[2];Ir(h,p,_)}He(h,h,i.vcpc),v=Math.min(h[0],v),g=Math.max(h[0],g),y=Math.min(h[1],y),m=Math.max(h[1],m)}s.setUniformf("dcxmin",v),s.setUniformf("dcxmax",g),s.setUniformf("dcymin",y),s.setUniformf("dcymax",m),s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",u.getParallelProjection());var x=e.currentInput.getSpatialExtent(),w=e.currentInput.getSpacing(),S=new Float64Array(3);Bt(S,(x[1]-x[0])*w[0],(x[3]-x[2])*w[1],(x[5]-x[4])*w[2]),s.setUniform3f("vSpacing",w[0],w[1],w[2]),Bt(h,x[0],x[2],x[4]),e.currentInput.indexToWorldVec3(h,h),He(h,h,e.modelToView),s.setUniform3f("vOriginVC",h[0],h[1],h[2]);var b=e.currentInput.getIndexToWorld();Ht(e.idxToView,e.modelToView,b),_f(e.idxNormalMatrix,i.normalMatrix,o.normalMatrix),_f(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirection());var T=dl(S)/e.renderable.getSampleDistance();T>e.renderable.getMaximumSamplesPerRay()&&Yae("The number of steps required ".concat(Math.ceil(T),` is larger than the
        specified maximum number of steps `).concat(e.renderable.getMaximumSamplesPerRay(),`.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`));var C=new Float64Array(3);if(Bt(C,1,1,1),n2(C,C,S),s.setUniform3f("vVCToIJK",C[0],C[1],C[2]),s.setUniform3i("volumeDimensions",c[0],c[1],c[2]),!e._openGLRenderWindow.getWebgl2()){var M=e.scalarTexture.getVolumeInfo();s.setUniformf("texWidth",e.scalarTexture.getWidth()),s.setUniformf("texHeight",e.scalarTexture.getHeight()),s.setUniformi("xreps",M.xreps),s.setUniformi("xstride",M.xstride),s.setUniformi("ystride",M.ystride)}for(var D=new Float64Array(3),E=new Float64Array(3),k=0;k<6;++k){switch(k){case 1:Bt(D,-1,0,0),Bt(E,x[0],x[2],x[4]);break;case 2:Bt(D,0,1,0),Bt(E,x[1],x[3],x[5]);break;case 3:Bt(D,0,-1,0),Bt(E,x[0],x[2],x[4]);break;case 4:Bt(D,0,0,1),Bt(E,x[1],x[3],x[5]);break;case 5:Bt(D,0,0,-1),Bt(E,x[0],x[2],x[4]);break;case 0:default:Bt(D,1,0,0),Bt(E,x[1],x[3],x[5]);break}y0(D,D,e.idxNormalMatrix),He(E,E,e.idxToView);var O=-1*Dl(E,D);s.setUniform3f("vPlaneNormal".concat(k),D[0],D[1],D[2]),s.setUniformf("vPlaneDistance".concat(k),O)}if(a.getProperty().getUseLabelOutline()){var A=e.currentInput,I=A.getWorldToIndex();s.setUniformMatrix("vWCtoIDX",I),br(e.projectionToWorld,i.wcpc),s.setUniformMatrix("PCWCMatrix",e.projectionToWorld);var U=t.getRenderTargetSize();s.setUniformf("vpWidth",U[0]),s.setUniformf("vpHeight",U[1]);var P=t.getRenderTargetOffset();s.setUniformf("vpOffsetX",P[0]/U[0]),s.setUniformf("vpOffsetY",P[1]/U[1])}if(br(e.projectionToView,i.vcpc),s.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity!==0){var B=0,W=[],H=[],$=[];if(n.getLights().forEach(function(ae){var re=ae.getSwitch();if(re>0){var V=ae.getColor(),R=ae.getIntensity();W[0+B*3]=V[0]*R,W[1+B*3]=V[1]*R,W[2+B*3]=V[2]*R;var F=ae.getDirection();Bt(D,F[0],F[1],F[2]),y0(D,D,i.normalMatrix),Ca(D,D),H[0+B*3]=D[0],H[1+B*3]=D[1],H[2+B*3]=D[2],$[0+B*3]=-.5*D[0],$[1+B*3]=-.5*D[1],$[2+B*3]=-.5*(D[2]-1),B++}}),s.setUniformi("twoSidedLighting",n.getTwoSidedLighting()),s.setUniformi("lightNum",B),s.setUniform3fv("lightColor",W),s.setUniform3fv("lightDirectionVC",H),s.setUniform3fv("lightHalfAngleVC",$),e.lastLightComplexity===3){B=0;var q=[],Q=[],Y=[],ie=[],J=[];n.getLights().forEach(function(ae){var re=ae.getSwitch();if(re>0){var V=ae.getAttenuationValues();Q[0+B*3]=V[0],Q[1+B*3]=V[1],Q[2+B*3]=V[2],ie[B]=ae.getExponent(),Y[B]=ae.getConeAngle(),J[B]=ae.getPositional();var R=ae.getTransformedPosition();He(R,R,e.modelToView),q[0+B*3]=R[0],q[1+B*3]=R[1],q[2+B*3]=R[2],B+=1}}),s.setUniform3fv("lightPositionVC",q),s.setUniform3fv("lightAttenuation",Q),s.setUniformfv("lightConeAngle",Y),s.setUniformfv("lightExponent",ie),s.setUniformiv("lightPositional",J)}e.renderable.getVolumetricScatteringBlending()>0&&(s.setUniformf("giReach",e.renderable.getGlobalIlluminationReach()),s.setUniformf("volumetricScatteringBlending",e.renderable.getVolumetricScatteringBlending()),s.setUniformf("volumeShadowSamplingDistFactor",e.renderable.getVolumeShadowSamplingDistFactor()),s.setUniformf("anisotropy",e.renderable.getAnisotropy()),s.setUniformf("anisotropy2",Math.pow(e.renderable.getAnisotropy(),2)))}},t.setPropertyShaderParameters=function(r,n,a){var i=r.getProgram();i.setUniformi("ctexture",e.colorTexture.getTextureUnit()),i.setUniformi("otexture",e.opacityTexture.getTextureUnit()),i.setUniformi("jtexture",e.jitterTexture.getTextureUnit());var o=e.scalarTexture.getVolumeInfo(),s=a.getProperty(),u=e.scalarTexture.getComponents(),l=a.getProperty().getIndependentComponents();if(l&&u>=2)for(var f=0;f<u;f++)i.setUniformf("mix".concat(f),a.getProperty().getComponentWeight(f));for(var c=0;c<u;c++){var h=l?c:0,p=o.scale[c],v=s.getScalarOpacity(h),g=v.getRange(),y=p/(g[1]-g[0]),m=(o.offset[c]-g[0])/(g[1]-g[0]);i.setUniformf("oshift".concat(c),m),i.setUniformf("oscale".concat(c),y);var d=s.getRGBTransferFunction(h),_=d.getRange();i.setUniformf("cshift".concat(c),(o.offset[c]-_[0])/(_[1]-_[0])),i.setUniformf("cscale".concat(c),p/(_[1]-_[0]))}if(e.gopacity)if(l)for(var x=0;x<u;++x){var w=o.scale[x],S=s.getUseGradientOpacity(x);if(S){var b=s.getGradientOpacityMinimumOpacity(x),T=s.getGradientOpacityMaximumOpacity(x);i.setUniformf("gomin".concat(x),b),i.setUniformf("gomax".concat(x),T);var C=[s.getGradientOpacityMinimumValue(x),s.getGradientOpacityMaximumValue(x)];i.setUniformf("goscale".concat(x),w*(T-b)/(C[1]-C[0])),i.setUniformf("goshift".concat(x),-C[0]*(T-b)/(C[1]-C[0])+b)}else i.setUniformf("gomin".concat(x),1),i.setUniformf("gomax".concat(x),1),i.setUniformf("goscale".concat(x),0),i.setUniformf("goshift".concat(x),1)}else{var M=o.scale[u-1],D=s.getGradientOpacityMinimumOpacity(0),E=s.getGradientOpacityMaximumOpacity(0);i.setUniformf("gomin0",D),i.setUniformf("gomax0",E);var k=[s.getGradientOpacityMinimumValue(0),s.getGradientOpacityMaximumValue(0)];i.setUniformf("goscale0",M*(E-D)/(k[1]-k[0])),i.setUniformf("goshift0",-k[0]*(E-D)/(k[1]-k[0])+D)}var O=a.getProperty().getUseLabelOutline();if(O===!0){var A=a.getProperty().getLabelOutlineThickness();i.setUniformi("outlineThickness",A)}e.lastLightComplexity>0&&(i.setUniformf("vAmbient",s.getAmbient()),i.setUniformf("vDiffuse",s.getDiffuse()),i.setUniformf("vSpecular",s.getSpecular()),i.setUniformf("vSpecularPower",s.getSpecularPower()))},t.getClippingPlaneShaderParameters=function(r,n,a){if(e.renderable.getClippingPlanes().length>0){for(var i=e.openGLCamera.getKeyMatrices(n),o=[],s=[],u=e.renderable.getClippingPlanes(),l=u.length,f=0;f<l;++f){var c=u[f].getNormal(),h=u[f].getOrigin();y0(c,c,i.normalMatrix),He(h,h,i.wcvc);var p=-1*Dl(h,c);o.push(c[0]),o.push(c[1]),o.push(c[2]),s.push(p)}var v=r.getProgram();v.setUniform3fv("vClipPlaneNormals",o),v.setUniformfv("vClipPlaneDistances",s)}},t.delete=fV(function(){e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},t.delete),t.getRenderTargetSize=function(){if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];var r=e.openGLRenderer.getTiledSizeAndOrigin(),n=r.usize,a=r.vsize;return[n,a]},t.getRenderTargetOffset=function(){var r=e.openGLRenderer.getTiledSizeAndOrigin(),n=r.lowerLeftU,a=r.lowerLeftV;return[n,a]},t.renderPieceStart=function(r,n){var a=r.getVTKWindow().getInteractor();if(e._useSmallViewport=!1,a.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=a.onAnimationFrameRateUpdate(function(){if(e.renderable.getAutoAdjustSampleDistances()){var l=a.getRecentAnimationFrameRate(),f=a.getDesiredUpdateRate()/l;(f>1.15||f<.85)&&(e._lastScale*=f),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance();var c=e._openGLRenderWindow.getFramebufferSize();e._smallViewportWidth=Math.ceil(c[0]/Math.sqrt(e._lastScale)),e._smallViewportHeight=Math.ceil(c[1]/Math.sqrt(e._lastScale))})),e._useSmallViewport){var i=e._openGLRenderWindow.getFramebufferSize();if(e._smallViewportHeight>i[1]&&(e._smallViewportHeight=i[1]),e._smallViewportWidth>i[0]&&(e._smallViewportWidth=i[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer();else{var o=e.framebuffer.getSize();(o[0]!==i[0]||o[1]!==i[1])&&(e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();var s=e.context;s.clearColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clear(s.COLOR_BUFFER_BIT),s.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/i[0],e._smallViewportHeight/i[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(r,n);var u=n.getProperty().getInterpolationType();u===_b.NEAREST?(e.scalarTexture.setMinificationFilter(Kt.NEAREST),e.scalarTexture.setMagnificationFilter(Kt.NEAREST)):(e.scalarTexture.setMinificationFilter(Kt.LINEAR),e.scalarTexture.setMagnificationFilter(Kt.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=function(r,n){var a=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,r,n),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=function(r,n){if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");var a=e.copyShader;e.copyVAO=ed.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||cx("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);var i=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,i[0],i[1]);var o=e.framebuffer.getColorTexture();o.activate(),e.copyShader.setUniformi("texture",o.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);var s=e.context;s.blendFuncSeparate(s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),o.deactivate(),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=function(r,n){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){cx("No input!");return}t.renderPieceStart(r,n),t.renderPieceDraw(r,n),t.renderPieceFinish(r,n)},t.computeBounds=function(r,n){if(!t.getInput()){Vf(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(r,n){t.getNeedToRebuildBufferObjects(r,n)&&t.buildBufferObjects(r,n)},t.getNeedToRebuildBufferObjects=function(r,n){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<n.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<n.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(r,n){var a=e.currentInput;if(a){var i=a.getPointData()&&a.getPointData().getScalars();if(i){var o=n.getProperty();if(!e.jitterTexture.getHandle()){for(var s=new Uint8Array(1024),u=0;u<32*32;++u)s[u]=255*Math.random();e.jitterTexture.setMinificationFilter(Kt.LINEAR),e.jitterTexture.setMagnificationFilter(Kt.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,Rr.UNSIGNED_CHAR,s)}var l=i.getNumberOfComponents(),f=o.getIndependentComponents(),c=f?l:1,h="".concat(o.getMTime());if(e.opacityTextureString!==h){for(var p=1024,v=p*2*c,g=new Float32Array(v),y=new Float32Array(p),m=0;m<c;++m){var d=o.getScalarOpacity(m),_=e.renderable.getSampleDistance()/o.getScalarOpacityUnitDistance(m),x=d.getRange();d.getTable(x[0],x[1],p,y,1);for(var w=0;w<p;++w)g[m*p*2+w]=1-Math.pow(1-y[w],_),g[m*p*2+w+p]=g[m*p*2+w]}if(e.opacityTexture.releaseGraphicsResources(e._openGLRenderWindow),e.opacityTexture.setMinificationFilter(Kt.LINEAR),e.opacityTexture.setMagnificationFilter(Kt.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(p,2*c,1,Rr.FLOAT,g);else{for(var S=new Uint8Array(v),b=0;b<v;++b)S[b]=255*g[b];e.opacityTexture.create2DFromRaw(p,2*c,1,Rr.UNSIGNED_CHAR,S)}e.opacityTextureString=h}if(h="".concat(o.getMTime()),e.colorTextureString!==h){for(var T=1024,C=T*2*c*3,M=new Uint8Array(C),D=new Float32Array(T*3),E=0;E<c;++E){var k=o.getRGBTransferFunction(E),O=k.getRange();k.getTable(O[0],O[1],T,D,1);for(var A=0;A<T*3;++A)M[E*T*6+A]=255*D[A],M[E*T*6+A+T*3]=255*D[A]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.setMinificationFilter(Kt.LINEAR),e.colorTexture.setMagnificationFilter(Kt.LINEAR),e.colorTexture.create2DFromRaw(T,2*c,3,Rr.UNSIGNED_CHAR,M),e.colorTextureString=h}if(h="".concat(a.getMTime()),e.scalarTextureString!==h){var I=a.getDimensions();e.scalarTexture.releaseGraphicsResources(e._openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromRaw(I[0],I[1],I[2],l,i.getDataType(),i.getData(),e.renderable.getPreferSizeOverAccuracy()),e.scalarTextureString=h}if(!e.tris.getCABO().getElementCount()){for(var U=new Float32Array(12),P=0;P<4;P++)U[P*3]=P%2*2-1,U[P*3+1]=P>1?1:-1,U[P*3+2]=-1;var B=new Uint16Array(8);B[0]=3,B[1]=0,B[2]=1,B[3]=3,B[4]=3,B[5]=0,B[6]=3,B[7]=2;var W=gt.newInstance({numberOfComponents:3,values:U});W.setName("points");var H=gt.newInstance({numberOfComponents:1,values:B});e.tris.getCABO().createVBO(H,"polys",Vo.SURFACE,{points:W,cellOffset:0})}e.VBOBuildTime.modified()}}}}var Jae={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function Qae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jae,r),Qt.extend(t,e,r),e.VBOBuildTime={},nr(e.VBOBuildTime,{mtime:0}),e.tris=Yi.newInstance(),e.scalarTexture=Ot.newInstance(),e.opacityTexture=Ot.newInstance(),e.colorTexture=Ot.newInstance(),e.jitterTexture=Ot.newInstance(),e.jitterTexture.setWrapS(tv.REPEAT),e.jitterTexture.setWrapT(tv.REPEAT),e.framebuffer=Al.newInstance(),e.idxToView=ze(new Float64Array(16)),e.idxNormalMatrix=si(new Float64Array(9)),e.modelToView=ze(new Float64Array(16)),e.projectionToView=ze(new Float64Array(16)),e.projectionToWorld=ze(new Float64Array(16)),e._lastScale=1,Cr(t,e,["context"]),Zae(t,e)}var eie=mt(Qae,"vtkOpenGLVolumeMapper");Wr("vtkVolumeMapper",eie);var tie=Ks;function rie(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=function(r,n){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent();var a=e.openGLRenderer.getAspectRatio(),i=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,o=e.openGLRenderer.getTiledSizeAndOrigin(),s=null;if(e.renderable.getUseZValues()){var u=n.getZBufferTexture(),l=Math.floor(u.getWidth()),f=Math.floor(u.getHeight()),c=e._openGLRenderWindow.getContext();u.bind();var h=n.getFramebuffer();h?h.saveCurrentBindingsAndBuffers():tie("No framebuffer to save/restore");var p=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,p),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,u.getHandle(),0),c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(l*f*4),c.viewport(0,0,l,f),c.readPixels(0,0,l,f,c.RGBA,c.UNSIGNED_BYTE,s)),h&&h.restorePreviousBindingsAndBuffers(),c.deleteFramebuffer(p)}e.renderable.invokeCallback(e.renderable.getInputData(),i,a,o,s)},t.queryPass=function(r,n){r&&e.renderable.getUseZValues()&&n.requestDepth()}}var nie={};function aie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nie,r),Qt.extend(t,e,r),rie(t,e)}var iie=mt(aie,"vtkOpenGLPixelSpaceCallbackMapper");Wr("vtkPixelSpaceCallbackMapper",iie);var UV=Object.create(null);function oa(t,e){UV[t]=e}function oie(t,e){e.classHierarchy.push("vtkWebGPUViewNodeFactory")}var sie={};function uie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sie,r),e.overrides=UV,gV.extend(t,e,r),oie(t,e)}X.newInstance(uie,"vtkWebGPUViewNodeFactory");function lie(t,e){e.classHierarchy.push("vtkWebGPUCamera"),t.getProjectionMatrix=function(r,n,a,i){if(ze(r),e.renderable.getParallelProjection()){var o=e.renderable.getParallelScale(),s=o*n,u=o,l=(i[0]-1)*s,f=(i[0]+1)*s,c=(i[1]-1)*u,h=(i[1]+1)*u,p=1/(f-l),v=1/(h-c);r[0]=2*p,r[5]=2*v,r[10]=1/(a[1]-a[0]),r[12]=(f+l)*p,r[13]=(h+c)*v,r[14]=a[1]/(a[1]-a[0])}else{var g=Math.tan(Math.PI*e.renderable.getViewAngle()/360),y,m;e.renderable.getUseHorizontalViewAngle()===!0?(y=a[0]*g,m=a[0]*g/n):(y=a[0]*g*n,m=a[0]*g);var d=(i[0]-1)*y,_=(i[0]+1)*y,x=(i[1]-1)*m,w=(i[1]+1)*m;r[0]=2*a[0]/(_-d),r[5]=2*a[0]/(w-x),r[12]=(d+_)/(_-d),r[13]=(x+w)/(w-x),r[10]=0,r[14]=a[0],r[11]=-1,r[15]=0}},t.convertToOpenGLDepth=function(r){if(e.renderable.getParallelProjection())return 1-r;var n=e.renderable.getClippingRangeByReference(),a=-n[0]/r;return a=(n[0]+n[1])/(n[1]-n[0])+2*n[0]*n[1]/(a*(n[1]-n[0])),.5*a+.5},t.getKeyMatrices=function(r){var n=r.getRenderable(),a=r.getParent();if(Math.max(a.getMTime(),t.getMTime(),n.getMTime(),e.renderable.getMTime(),r.getStabilizedTime())>e.keyMatrixTime.getMTime()){var i=e.renderable.getViewMatrix();gr(e.keyMatrices.normalMatrix,i),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,br(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),dt(e.keyMatrices.wcvc,i);var o=r.getStabilizedCenterByReference();lr(e.keyMatrices.scvc,e.keyMatrices.wcvc,o);var s=r.getAspectRatio(),u=e.renderable.getClippingRangeByReference();t.getProjectionMatrix(e.keyMatrices.vcpc,s,u,e.renderable.getWindowCenterByReference()),Ht(e.keyMatrices.scpc,e.keyMatrices.vcpc,e.keyMatrices.scvc),br(e.keyMatrices.pcsc,e.keyMatrices.scpc),e.keyMatrixTime.modified()}return e.keyMatrices}}var cie={keyMatrixTime:null,keyMatrices:null};function fie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cie,r),Qt.extend(t,e,r),e.keyMatrixTime={},X.obj(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(16),vcpc:new Float64Array(16),pcsc:new Float64Array(16),wcvc:new Float64Array(16),scpc:new Float64Array(16),scvc:new Float64Array(16)},X.setGet(t,e,["keyMatrixTime"]),lie(t,e)}var hie=X.newInstance(fie);oa("vtkCamera",hie);function pie(t,e){e.classHierarchy.push("vtkWebGPUBindGroup"),t.setBindables=function(r){if(e.bindables.length===r.length){for(var n=!0,a=0;a<e.bindables.length;a++)e.bindables[a]!==r[a]&&(n=!1);if(n)return}e.bindables=r,t.modified()},t.getBindGroupLayout=function(r){for(var n=[],a=0;a<e.bindables.length;a++){var i=e.bindables[a].getBindGroupLayoutEntry();i.binding=a,n.push(i)}return r.getBindGroupLayout({entries:n})},t.getBindGroup=function(r){for(var n=t.getMTime(),a=0;a<e.bindables.length;a++){var i=e.bindables[a].getBindGroupTime().getMTime();n=i>n?i:n}if(n<e.bindGroupTime.getMTime())return e.bindGroup;for(var o=[],s=0;s<e.bindables.length;s++){var u=e.bindables[s].getBindGroupEntry();u.binding=s,o.push(u)}return e.bindGroup=r.getHandle().createBindGroup({layout:t.getBindGroupLayout(r),entries:o,label:e.label}),e.bindGroupTime.modified(),e.bindGroup},t.getShaderCode=function(r){for(var n=[],a=r.getBindGroupLayoutCount(e.label),i=0;i<e.bindables.length;i++)n.push(e.bindables[i].getShaderCode(i,a));return n.join(`
`)}}var vie={device:null,handle:null,label:null};function zV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vie,r),X.obj(t,e),e.bindables=[],e.bindGroupTime={},X.obj(e.bindGroupTime,{mtime:0}),X.get(t,e,["bindGroupTime","handle","sizeInBytes","usage"]),X.setGet(t,e,["label","device","arrayInformation"]),pie(t,e)}var die=X.newInstance(zV),GV={newInstance:die,extend:zV};function gie(t,e){e.classHierarchy.push("vtkWebGPUShaderModule"),t.initialize=function(r,n){e.device=r,e.handle=e.device.getHandle().createShaderModule({code:n.getCode()})}}var yie={device:null,handle:null};function WV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yie,r),X.obj(t,e),X.get(t,e,["lastCameraMTime"]),X.setGet(t,e,["device","handle"]),gie(t,e)}var mie=X.newInstance(WV,"vtkWebGPUShaderModule"),_ie={newInstance:mie,extend:WV};function xie(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=Array.isArray(r)?r.join(`
`):r,i=!1;t.search(e)!==-1&&(i=!0);var o="";n&&(o="g");var s=new RegExp(e,o),u=t.replace(s,a);return{replace:i,result:u}}function wie(t,e){e.classHierarchy.push("vtkWebGPUShaderCache"),t.getShaderModule=function(r){for(var n=r.getType(),a=r.getHash(),i=e._shaderModules.keys(),o=0;o<i.length;o++){var s=i[o];if(s.getHash()===a&&s.getType()===n)return e._shaderModules.get(s)}var u=_ie.newInstance();return u.initialize(e.device,r),e._shaderModules.set(r,u),u}}var Sie={shaderModules:null,device:null,window:null};function HV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Sie,r),e._shaderModules=new Map,X.obj(t,e),X.setGet(t,e,["device","window"]),wie(t,e)}var bie=X.newInstance(HV,"vtkWebGPUShaderCache"),Tt={newInstance:bie,extend:HV,substitute:xie};function Tie(t,e){e.classHierarchy.push("vtkWebGPUPipeline"),t.getShaderDescriptions=function(){return e.shaderDescriptions},t.initialize=function(r,n){e.pipelineDescription=e.renderEncoder.getPipelineSettings(),e.pipelineDescription.primitive.topology=e.topology,e.pipelineDescription.vertex=e.vertexState,e.pipelineDescription.label=n;for(var a=[],i=0;i<e.layouts.length;i++)a.push(e.layouts[i].layout);e.pipelineLayout=r.getHandle().createPipelineLayout({bindGroupLayouts:a}),e.pipelineDescription.layout=e.pipelineLayout;for(var o=0;o<e.shaderDescriptions.length;o++){var s=e.shaderDescriptions[o],u=r.getShaderModule(s);s.getType()==="vertex"&&(e.pipelineDescription.vertex.module=u.getHandle(),e.pipelineDescription.vertex.entryPoint="main"),s.getType()==="fragment"&&(e.pipelineDescription.fragment.module=u.getHandle(),e.pipelineDescription.fragment.entryPoint="main")}e.handle=r.getHandle().createRenderPipeline(e.pipelineDescription)},t.getShaderDescription=function(r){for(var n=0;n<e.shaderDescriptions.length;n++)if(e.shaderDescriptions[n].getType()===r)return e.shaderDescriptions[n];return null},t.addBindGroupLayout=function(r){r&&e.layouts.push({layout:r.getBindGroupLayout(e.device),label:r.getLabel()})},t.getBindGroupLayout=function(r){return e.layouts[r].layout},t.getBindGroupLayoutCount=function(r){for(var n=0;n<e.layouts.length;n++)if(e.layouts[n].label===r)return n;return 0},t.bindVertexInput=function(r,n){n.bindBuffers(r)},t.addDrawCallback=function(r){e._drawCallbacks.push(r)},t.draw=function(r){for(var n=0;n<e._drawCallbacks.length;n++)e._drawCallbacks[n](r,t)}}var Cie={handle:null,layouts:null,renderEncoder:null,shaderDescriptions:null,vertexState:null,topology:null,pipelineDescription:null};function jV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Cie,r),nr(t,e),e.layouts=[],e.shaderDescriptions=[],e._drawCallbacks=[],ia(t,e,["handle","pipelineDescription"]),Cr(t,e,["device","renderEncoder","topology","vertexState"]),Tie(t,e)}var Eie=mt(jV,"vtkWebGPUPipeline"),Die={newInstance:Eie,extend:jV};function Oie(t,e){e.classHierarchy.push("vtkWebGPUShaderDescription"),t.hasOutput=function(r){return e.outputNames.includes(r)},t.addOutput=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;e.outputTypes.push(r),e.outputNames.push(n),e.outputInterpolations.push(a)},t.addBuiltinOutput=function(r,n){e.builtinOutputTypes.push(r),e.builtinOutputNames.push(n)},t.addBuiltinInput=function(r,n){e.builtinInputTypes.push(r),e.builtinInputNames.push(n)},t.replaceShaderCode=function(r,n){var a=[],i=[];if(n&&a.push(n.getShaderCode()),r||e.builtinInputNames.length){var o=[];if(o.push("struct ".concat(e.type,`Input
{`)),r)for(var s=r.getOutputNamesByReference(),u=r.getOutputTypesByReference(),l=r.getOutputInterpolationsByReference(),f=0;f<s.length;f++)l[f]!==void 0?o.push("  @location(".concat(f,") @interpolate(").concat(l[f],") ").concat(s[f]," : ").concat(u[f],",")):o.push("  @location(".concat(f,") ").concat(s[f]," : ").concat(u[f],","));for(var c=0;c<e.builtinInputNames.length;c++)o.push("  ".concat(e.builtinInputNames[c]," : ").concat(e.builtinInputTypes[c],","));o.length>1&&(o.push("};"),i=o,a[a.length-1]+=",",a.push("input: ".concat(e.type,"Input")))}if(a.length&&(e.code=Tt.substitute(e.code,"//VTK::IOStructs::Input",a).result),e.outputNames.length+e.builtinOutputNames.length){for(var h=["struct ".concat(e.type,`Output
{`)],p=0;p<e.outputNames.length;p++)e.outputInterpolations[p]!==void 0?h.push("  @location(".concat(p,") @interpolate(").concat(e.outputInterpolations[p],") ").concat(e.outputNames[p]," : ").concat(e.outputTypes[p],",")):h.push("  @location(".concat(p,") ").concat(e.outputNames[p]," : ").concat(e.outputTypes[p],","));for(var v=0;v<e.builtinOutputNames.length;v++)h.push("  ".concat(e.builtinOutputNames[v]," : ").concat(e.builtinOutputTypes[v],","));h.push("};"),i=i.concat(h),e.code=Tt.substitute(e.code,"//VTK::IOStructs::Output",["-> ".concat(e.type,"Output")]).result}e.code=Tt.substitute(e.code,"//VTK::IOStructs::Dec",i).result}}var Mie={type:null,hash:null,code:null,outputNames:null,outputTypes:null};function $V(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Mie,r),e.outputNames=[],e.outputTypes=[],e.outputInterpolations=[],e.builtinOutputNames=[],e.builtinOutputTypes=[],e.builtinInputNames=[],e.builtinInputTypes=[],X.obj(t,e),X.setGet(t,e,["type","hash","code"]),X.getArray(t,e,["outputTypes","outputNames","outputInterpolations"]),Oie(t,e)}var Lie=X.newInstance($V,"vtkWebGPUShaderDescription"),aL={newInstance:Lie,extend:$V},iL={r8unorm:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"float"},r8snorm:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"float"},r8uint:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},r8sint:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"sint"},r16uint:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"uint"},r16sint:{numComponents:1,nativeType:Int16Array,stride:2,elementSize:2,sampleType:"sint"},r16float:{numComponents:1,nativeType:Float32Array,stride:2,elementSize:2,sampleType:"float"},rg8unorm:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"float"},rg8snorm:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"float"},rg8uint:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"uint"},rg8sint:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"sint"},r32uint:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:4,sampleType:"uint"},r32sint:{numComponents:1,nativeType:Int32Array,stride:4,elementSize:4,sampleType:"sint"},r32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"unfilterable-float"},rg16uint:{numComponents:2,nativeType:Uint16Array,stride:4,elementSize:2,sampleType:"uint"},rg16sint:{numComponents:2,nativeType:Int16Array,stride:4,elementSize:2,sampleType:"sint"},rg16float:{numComponents:2,nativeType:Float32Array,stride:4,elementSize:2,sampleType:"float"},rgba8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"rgba8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgba8snorm:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"float"},rgba8uint:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"uint"},rgba8sint:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"sint"},bgra8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"bgra8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgb9e5ufloat:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rgb10a2unorm:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rg11b10ufloat:{numComponents:4,nativeType:Float32Array,stride:4,sampleType:"float"},rg32uint:{numComponents:2,nativeType:Uint32Array,stride:8,elementSize:4,sampleType:"uint"},rg32sint:{numComponents:2,nativeType:Int32Array,stride:8,elementSize:4,sampleType:"sint"},rg32float:{numComponents:2,nativeType:Float32Array,stride:8,elementSize:4,sampleType:"unfilterable-float"},rgba16uint:{numComponents:4,nativeType:Uint16Array,stride:8,elementSize:2,sampleType:"uint"},rgba16sint:{numComponents:4,nativeType:Int16Array,stride:8,elementSize:2,sampleType:"sint"},rgba16float:{numComponents:4,nativeType:Float32Array,stride:8,elementSize:2,sampleType:"float"},rgba32uint:{numComponents:4,nativeType:Uint32Array,stride:16,elementSize:4,sampleType:"uint"},rgba32sint:{numComponents:4,nativeType:Int32Array,stride:16,elementSize:4,sampleType:"sint"},rgba32float:{numComponents:4,nativeType:Float32Array,stride:16,elementSize:4,sampleType:"unfilterable-float"},stencil8:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},depth16unorm:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"depth"},depth24plus:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:3,sampleType:"depth"},"depth24plus-stencil8":{numComponents:2,nativeType:Uint32Array,stride:4,sampleType:"mixed"},depth32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"depth"}};function kie(t){return!t||t.length<6?0:t in iL?iL[t]:($e("unknown format ".concat(t)),null)}function Rie(t){if(!t||t.length<5)return 0;var e=1;t[t.length-2]==="x"&&(e=t[t.length-1]);var r=e===1?t.length-1:t.length-3,n=Number(t[r]);if(Number.isNaN(n))return $e("unknown format ".concat(t)),0;var a=5-n/2;return e*a}function Aie(t){if(!t||t.length<5)return 0;var e=1;return t[t.length-2]==="x"&&(e=t[t.length-1]),e}function Nie(t){if(!t||t.length<5)return 0;var e;if(t[0]==="f")e="Float";else if(t[0]==="s")e="Int";else if(t[0]==="u")e="Uint";else{$e("unknown format ".concat(t));return}var r=t.split("x")[0],n=Number(r[r.length-1]);if(Number.isNaN(n)){$e("unknown format ".concat(t));return}return e+=8*(5-n/2),e+="Array",e}function Fie(t){var e;if(t[0]==="f"||t[1]==="n")e="f32";else if(t[0]==="s"&&t[1]==="i")e="i32";else if(t[0]==="u"&&t[1]==="i")e="u32";else{$e("unknown format ".concat(t));return}var r=1;return t[t.length-2]==="x"&&(r=Number(t[t.length-1])),r===4?"vec4<".concat(e,">"):r===3?"vec3<".concat(e,">"):r===2?"vec2<".concat(e,">"):e}function Bie(t){if(!t)return 0;var e=1;t.substring(0,3)==="vec"?e=t[3]:t.substring(0,3)==="mat"&&(e=t[3]*t[5]);var r=4;return e*r}function Iie(t){if(t){if(t.includes("f32"))return"Float32Array";if(t.includes("i32"))return"Int32Array";if(t.includes("u32"))return"Uint32Array";$e("unknown format ".concat(t))}}var Nn={getDetailsFromTextureFormat:kie,getByteStrideFromBufferFormat:Rie,getNumberOfComponentsFromBufferFormat:Aie,getNativeTypeFromBufferFormat:Nie,getShaderTypeFromBufferFormat:Fie,getByteStrideFromShaderFormat:Bie,getNativeTypeFromShaderFormat:Iie};function Vie(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!e.includes(t[r]))return!1;return!0}function Pie(t,e){e.classHierarchy.push("vtkWebGPUVertexInput"),t.addBuffer=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"vertex",i=n;Array.isArray(i)||(i=[i]);for(var o=0;o<e.inputs.length;o++)if(Vie(e.inputs[o].names,i)){if(e.inputs[o].buffer===r)return;e.inputs[o].buffer=r;return}e.inputs.push({buffer:r,stepMode:a,names:i}),e.inputs=e.inputs.sort(function(s,u){return s.names[0]<u.names[0]?-1:s.names[0]>u.names[0]?1:0})},t.removeBufferIfPresent=function(r){for(var n=0;n<e.inputs.length;n++)e.inputs[n].names.includes(r)&&e.inputs.splice(n,1)},t.getBuffer=function(r){for(var n=0;n<e.inputs.length;n++)if(e.inputs[n].names.includes(r))return e.inputs[n].buffer;return null},t.hasAttribute=function(r){for(var n=0;n<e.inputs.length;n++)if(e.inputs[n].names.includes(r))return!0;return!1},t.getAttributeTime=function(r){for(var n=0;n<e.inputs.length;n++)if(e.inputs[n].names.includes(r))return e.inputs[n].buffer.getSourceTime();return 0},t.getShaderCode=function(){for(var r="",n=0,a=0;a<e.inputs.length;a++)for(var i=0;i<e.inputs[a].names.length;i++){var o=e.inputs[a].buffer.getArrayInformation()[i],s=Nn.getShaderTypeFromBufferFormat(o.format);n>0&&(r+=`,
`),r="".concat(r,"  @location(").concat(n,") ").concat(e.inputs[a].names[i]," : ").concat(s),n++}return r},t.getVertexInputInformation=function(){var r={};if(e.inputs.length){for(var n=[],a=0,i=0;i<e.inputs.length;i++){for(var o=e.inputs[i].buffer,s={arrayStride:o.getStrideInBytes(),stepMode:e.inputs[i].stepMode,attributes:[]},u=o.getArrayInformation(),l=0;l<e.inputs[i].names.length;l++)s.attributes.push({shaderLocation:a,offset:u[l].offset,format:u[l].format}),a++;n.push(s)}r.buffers=n}return r},t.bindBuffers=function(r){for(var n=0;n<e.inputs.length;n++)r.setVertexBuffer(n,e.inputs[n].buffer.getHandle());e.indexBuffer&&r.setIndexBuffer(e.indexBuffer.getHandle(),e.indexBuffer.getArrayInformation()[0].format)},t.getReady=function(){},t.releaseGraphicsResources=function(){e.created&&(e.inputs=[],e.bindingDescriptions=[],e.attributeDescriptions=[])}}var Uie={inputs:null,bindingDescriptions:!1,attributeDescriptions:null,indexBuffer:null};function KV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Uie,r),nr(t,e),e.bindingDescriptions=[],e.attributeDescriptions=[],e.inputs=[],Cr(t,e,["created","device","handle","indexBuffer"]),Pie(t,e)}var zie=mt(KV,"vtkWebGPUVertexInput"),Gie={newInstance:zie,extend:KV},Wie=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  // var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,Hie=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::Light::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  // var computedColor:vec4<f32> = vec4<f32>(1.0,0.5,0.5,1.0);

  //VTK::RenderEncoder::Impl
  return output;
}
`;function jie(t,e){e.classHierarchy.push("vtkWebGPUSimpleMapper"),t.generateShaderDescriptions=function(r,n,a){var i=aL.newInstance({type:"vertex",hash:r,code:e.vertexShaderTemplate}),o=aL.newInstance({type:"fragment",hash:r,code:e.fragmentShaderTemplate}),s=n.getShaderDescriptions();s.push(i),s.push(o);for(var u=e.vertexShaderTemplate+e.fragmentShaderTemplate,l=new RegExp("//VTK::[^:]*::","g"),f=u.match(l).filter(function(v,g,y){return y.indexOf(v)===g}),c=f.map(function(v){return"replaceShader".concat(v.substring(7,v.length-2))}),h=0;h<c.length;h++){var p=c[h];p!=="replaceShaderIOStructs"&&e.shaderReplacements.has(p)&&e.shaderReplacements.get(p)(r,n,a)}t.replaceShaderIOStructs(r,n,a)},t.replaceShaderIOStructs=function(r,n,a){var i=n.getShaderDescription("vertex");i.replaceShaderCode(null,a);var o=n.getShaderDescription("fragment");o.replaceShaderCode(i)},t.replaceShaderRenderEncoder=function(r,n,a){e.renderEncoder.replaceShaderCode(n)},e.shaderReplacements.set("replaceShaderRenderEncoder",t.replaceShaderRenderEncoder),t.replaceShaderRenderer=function(r,n,a){if(e.WebGPURenderer){var i=e.WebGPURenderer.getBindGroup().getShaderCode(n),o=n.getShaderDescription("vertex"),s=o.getCode();s=Tt.substitute(s,"//VTK::Renderer::Dec",[i]).result,o.setCode(s);var u=n.getShaderDescription("fragment");s=u.getCode(),s=Tt.substitute(s,"//VTK::Renderer::Dec",[i]).result,u.setCode(s)}},e.shaderReplacements.set("replaceShaderRenderer",t.replaceShaderRenderer),t.replaceShaderMapper=function(r,n,a){var i=e.bindGroup.getShaderCode(n),o=n.getShaderDescription("vertex"),s=o.getCode();s=Tt.substitute(s,"//VTK::Mapper::Dec",[i]).result,o.setCode(s);var u=n.getShaderDescription("fragment");u.addBuiltinInput("bool","@builtin(front_facing) frontFacing"),s=u.getCode(),s=Tt.substitute(s,"//VTK::Mapper::Dec",[i]).result,u.setCode(s)},e.shaderReplacements.set("replaceShaderMapper",t.replaceShaderMapper),t.replaceShaderPosition=function(r,n,a){var i=n.getShaderDescription("vertex");i.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var o=i.getCode();o=Tt.substitute(o,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*vertexBC;"]).result,i.setCode(o)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderTCoord=function(r,n,a){var i=n.getShaderDescription("vertex");i.addOutput("vec2<f32>","tcoordVS")},e.shaderReplacements.set("replaceShaderTCoord",t.replaceShaderTCoord),t.addTextureView=function(r){e.textureViews.includes(r)||e.textureViews.push(r)},t.prepareToDraw=function(r){e.renderEncoder=r,t.updateInput(),t.updateBuffers(),t.updateBindings(),t.updatePipeline()},t.updateInput=function(){},t.updateBuffers=function(){},t.updateBindings=function(){e.bindGroup.setBindables(t.getBindables())},t.computePipelineHash=function(){},t.registerDrawCallback=function(r){r.registerDrawCallback(e.pipeline,t.draw)},t.prepareAndDraw=function(r){t.prepareToDraw(r),r.setPipeline(e.pipeline),t.draw(r)},t.draw=function(r){var n=r.getBoundPipeline();r.activateBindGroup(e.bindGroup),n.bindVertexInput(r,e.vertexInput);var a=e.vertexInput.getIndexBuffer();a?r.drawIndexed(a.getIndexCount(),e.numberOfInstances,0,0,0):r.draw(e.numberOfVertices,e.numberOfInstances,0,0)},t.getBindables=function(){var r=je(e.additionalBindables);e.UBO&&r.push(e.UBO),e.SSBO&&r.push(e.SSBO);for(var n=0;n<e.textureViews.length;n++){r.push(e.textureViews[n]);var a=e.textureViews[n].getSampler();a&&r.push(a)}return r},t.updatePipeline=function(){t.computePipelineHash(),e.pipeline=e.device.getPipeline(e.pipelineHash),e.pipeline||(e.pipeline=Die.newInstance(),e.pipeline.setDevice(e.device),e.WebGPURenderer&&(e.pipeline.addBindGroupLayout(e.WebGPURenderer.getBindGroup()),e.pipeline.addDrawCallback(e.WebGPURenderer.bindUBO)),e.pipeline.addBindGroupLayout(e.bindGroup),t.generateShaderDescriptions(e.pipelineHash,e.pipeline,e.vertexInput),e.pipeline.setTopology(e.topology),e.pipeline.setRenderEncoder(e.renderEncoder),e.pipeline.setVertexState(e.vertexInput.getVertexInputInformation()),e.device.createPipeline(e.pipelineHash,e.pipeline))}}var $ie={additionalBindables:void 0,bindGroup:null,device:null,fragmentShaderTemplate:null,numberOfInstances:1,numberOfVertices:0,pipelineHash:null,shaderReplacements:null,SSBO:null,textureViews:null,topology:"triangle-list",UBO:null,vertexShaderTemplate:null,WebGPURenderer:null};function XV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$ie,r),Qt.extend(t,e,r),e.textureViews=[],e.vertexInput=Gie.newInstance(),e.bindGroup=GV.newInstance({label:"mapperBG"}),e.additionalBindables=[],e.fragmentShaderTemplate=e.fragmentShaderTemplate||Hie,e.vertexShaderTemplate=e.vertexShaderTemplate||Wie,e.shaderReplacements=new Map,X.get(t,e,["pipeline","vertexInput"]),X.setGet(t,e,["additionalBindables","device","fragmentShaderTemplate","interpolate","numberOfInstances","numberOfVertices","pipelineHash","shaderReplacements","SSBO","textureViews","topology","UBO","vertexShaderTemplate","WebGPURenderer"]),jie(t,e)}var Kie=X.newInstance(XV,"vtkWebGPUSimpleMapper"),YV={newInstance:Kie,extend:XV};function Xie(t,e){e.classHierarchy.push("vtkWebGPUFullScreenQuad"),t.replaceShaderPosition=function(r,n,a){var i=n.getShaderDescription("vertex");i.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var o=i.getCode();o=Tt.substitute(o,"//VTK::Position::Impl",["output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);","output.Position = vec4<f32>(vertexBC, 1.0);"]).result,i.setCode(o)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.updateBuffers=function(){var r=e.device.getBufferManager().getFullScreenQuadBuffer();e.vertexInput.addBuffer(r,["vertexBC"]),e.numberOfVertices=6}}var Yie={};function qV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Yie,r),YV.extend(t,e,r),Xie(t,e)}var qie=X.newInstance(qV,"vtkWebGPUFullScreenQuad"),ZV={newInstance:qie,extend:qV},Zie={Verts:0,Lines:1,Triangles:2,Strips:3,LinesFromStrips:4,LinesFromTriangles:5,Points:6,UniformArray:7,PointArray:8,NormalsFromPoints:9,Texture:10,RawVertex:11,Storage:12,Index:13},Jie={Start:0,Points:0,Lines:1,Triangles:2,TriangleStrips:3,TriangleEdges:4,TriangleStripEdges:5,End:6},td={BufferUsage:Zie,PrimitiveTypes:Jie};function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fx=["getMappedRange","mapAsync","unmap"];function eoe(t,e,r,n){var a=n.byteLength,i=t.createBuffer({size:a,usage:GPUBufferUsage.COPY_SRC,mappedAtCreation:!0}),o=i.getMappedRange(0,a);new Uint8Array(o).set(new Uint8Array(n)),i.unmap();var s=t.createCommandEncoder();s.copyBufferToBuffer(i,0,e,r,a);var u=s.finish(),l=t.queue;l.submit([u]),i.destroy()}function toe(t,e){e.classHierarchy.push("vtkWebGPUBuffer"),t.create=function(a,i){e.handle=e.device.getHandle().createBuffer({size:a,usage:i,label:e.label}),e.sizeInBytes=a,e.usage=i},t.write=function(a){eoe(e.device.getHandle(),e.handle,0,a.buffer)},t.createAndWrite=function(a,i){e.handle=e.device.getHandle().createBuffer({size:a.byteLength,usage:i,mappedAtCreation:!0,label:e.label}),e.sizeInBytes=a.byteLength,e.usage=i,new Uint8Array(e.handle.getMappedRange()).set(new Uint8Array(a.buffer)),e.handle.unmap()};for(var r=function(i){t[fx[i]]=function(){var o;return(o=e.handle)[fx[i]].apply(o,arguments)}},n=0;n<fx.length;n++)r(n)}var roe={device:null,handle:null,sizeInBytes:0,strideInBytes:0,arrayInformation:null,usage:null,label:null,sourceTime:null};function JV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,roe,r),X.obj(t,e),X.get(t,e,["handle","sizeInBytes","usage"]),X.setGet(t,e,["strideInBytes","device","arrayInformation","label","sourceTime"]),toe(t,e)}var noe=X.newInstance(JV),xb=Qie({newInstance:noe,extend:JV},td);function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wh=l2.Representation,Hh=l2.Interpolation;function uL(t){return function(){return X.vtkErrorMacro("vtkProperty::".concat(t," - NOT IMPLEMENTED"))}}function ioe(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=function(r,n,a){Array.isArray(r)?(e.color[0]!==r[0]||e.color[1]!==r[1]||e.color[2]!==r[2])&&(e.color[0]=r[0],e.color[1]=r[1],e.color[2]=r[2],t.modified()):(e.color[0]!==r||e.color[1]!==n||e.color[2]!==a)&&(e.color[0]=r,e.color[1]=n,e.color[2]=a,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=uL("ComputeCompositeColor"),t.getColor=function(){var r=0;e.ambient+e.diffuse+e.specular>0&&(r=1/(e.ambient+e.diffuse+e.specular));for(var n=0;n<3;n++)e.color[n]=r*(e.ambient*e.ambientColor[n]+e.diffuse*e.diffuseColor[n]+e.specular*e.specularColor[n]);return[].concat(e.color)},t.addShaderVariable=uL("AddShaderVariable"),t.setInterpolationToFlat=function(){return t.setInterpolation(Hh.FLAT)},t.setInterpolationToGouraud=function(){return t.setInterpolation(Hh.GOURAUD)},t.setInterpolationToPhong=function(){return t.setInterpolation(Hh.PHONG)},t.getInterpolationAsString=function(){return X.enumToString(Hh,e.interpolation)},t.setRepresentationToWireframe=function(){return t.setRepresentation(Wh.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(Wh.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(Wh.POINTS)},t.getRepresentationAsString=function(){return X.enumToString(Wh,e.representation)}}var ooe={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:Hh.GOURAUD,representation:Wh.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function QV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ooe,r),X.obj(t,e),X.setGet(t,e,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),X.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),ioe(t,e)}var soe=X.newInstance(QV,"vtkProperty"),qo=aoe({newInstance:soe,extend:QV},l2);function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cL=qo.Representation,Ts=td.PrimitiveTypes,loe=function(){function t(){Jm(this,t),this.keys=new Uint32Array(10),this.values=new Uint32Array(10),this.count=0}return Qm(t,[{key:"clear",value:function(){this.count=0}},{key:"has",value:function(r){for(var n=0;n<this.count;n++)if(this.keys[n]===r)return!0}},{key:"get",value:function(r){for(var n=0;n<this.count;n++)if(this.keys[n]===r)return this.values[n]}},{key:"set",value:function(r,n){this.count<9&&(this.keys[this.count]=r,this.values[this.count++]=n)}}]),t}();function coe(t){switch(t){case Ts.Points:return"points";case Ts.Lines:return"lines";case Ts.Triangles:case Ts.TriangleEdges:return"polys";case Ts.TriangleStripEdges:case Ts.TriangleStrips:return"strips";default:return""}}function Gd(t,e,r){var n=t.pointIdToFlatId[e];return n<0&&(n=t.flatId,t.pointIdToFlatId[e]=n,t.flatIdToPointId[t.flatId]=e,t.flatIdToCellId[t.flatId]=r,t.flatId++),n}function foe(t,e,r){for(var n=t.length,a=0;a<n;a++){var i=t[a];if(r.cellProvokedMap.has(i)){r.ibo[r.iboId++]=r.cellProvokedMap.get(i);for(var o=a+1;o<a+n;o++){i=t[o%n];var s=Gd(r,i,e);r.ibo[r.iboId++]=s}return}}for(var u=0;u<n;u++){var l=t[u];if(!r.provokedPointIds[l]){var f=Gd(r,l,e);r.provokedPointIds[l]=1,r.cellProvokedMap.set(l,f),r.flatIdToCellId[f]=e,r.ibo[r.iboId++]=f;for(var c=u+1;c<u+n;c++)l=t[c%n],f=Gd(r,l,e),r.ibo[r.iboId++]=f;return}}var h=t[0],p=r.flatId;r.cellProvokedMap.set(h,p),r.flatIdToPointId[r.flatId]=h,r.flatIdToCellId[r.flatId]=e,r.flatId++,r.ibo[r.iboId++]=p;for(var v=1;v<n;v++)h=t[v],p=Gd(r,h,e),r.ibo[r.iboId++]=p}function hoe(t,e,r){var n=t.length;r.iboSize+=n;for(var a=0;a<n;a++){var i=t[a];if(r.cellProvokedMap.has(i))return}for(var o=0;o<n;o++){var s=t[o];if(!r.provokedPointIds[s]){r.provokedPointIds[s]=1,r.cellProvokedMap.set(s,1);return}}r.cellProvokedMap.set(t[0],1),r.extraPoints++}var vo,fL=new Uint32Array(1),ua=new Uint32Array(2),ts=new Uint32Array(3),hx={anythingToPoints:function(e,r,n,a,i){for(var o=0;o<e;++o)fL[0]=r[n+o],vo(fL,a,i)},linesToWireframe:function(e,r,n,a,i){for(var o=0;o<e-1;++o)ua[0]=r[n+o],ua[1]=r[n+o+1],vo(ua,a,i)},polysToWireframe:function(e,r,n,a,i){if(e>2)for(var o=0;o<e;++o)ua[0]=r[n+o],ua[1]=r[n+(o+1)%e],vo(ua,a,i)},stripsToWireframe:function(e,r,n,a,i){if(e>2){for(var o=0;o<e-1;++o)ua[0]=r[n+o],ua[1]=r[n+o+1],vo(ua,a,i);for(var s=0;s<e-2;s++)ua[0]=r[n+s],ua[1]=r[n+s+2],vo(ua,a,i)}},polysToSurface:function(e,r,n,a,i){for(var o=0;o<e-2;o++)ts[0]=r[n],ts[1]=r[n+o+1],ts[2]=r[n+o+2],vo(ts,a,i)},stripsToSurface:function(e,r,n,a,i){for(var o=0;o<e-2;o++)ts[0]=r[n+o],ts[1]=r[n+o+1+o%2],ts[2]=r[n+o+1+(o+1)%2],vo(ts,a,i)}};function poe(t,e){e.classHierarchy.push("vtkWebGPUIndexBuffer"),t.buildIndexBuffer=function(r){var n=r.cells,a=r.primitiveType,i=r.representation,o=r.cellOffset,s=n.getData(),u=s.length,l=coe(a),f=r.numberOfPoints,c={provokedPointIds:new Uint8Array(f),extraPoints:0,iboSize:0,flatId:0,iboId:0,cellProvokedMap:new loe},h=null;i===cL.POINTS||a===Ts.Points?h=hx.anythingToPoints:i===cL.WIREFRAME||a===Ts.Lines?h=hx["".concat(l,"ToWireframe")]:h=hx["".concat(l,"ToSurface")],vo=hoe;for(var p=o||0,v=0;v<u;)c.cellProvokedMap.clear(),h(s[v],s,v+1,p,c),v+=s[v]+1,p++;f<=65535?c.flatIdToPointId=new Uint16Array(f+c.extraPoints):c.flatIdToPointId=new Uint32Array(f+c.extraPoints),f+c.extraPoints<36863?c.pointIdToFlatId=new Int16Array(f):c.pointIdToFlatId=new Int32Array(f),f+c.extraPoints<=65535?(c.ibo=new Uint16Array(c.iboSize),r.format="uint16"):(c.ibo=new Uint32Array(c.iboSize),r.format="uint32"),p<=65535?c.flatIdToCellId=new Uint16Array(f+c.extraPoints):c.flatIdToCellId=new Uint32Array(f+c.extraPoints),c.pointIdToFlatId.fill(-1),c.provokedPointIds.fill(0),vo=foe,p=o||0;for(var g=0;g<u;)c.cellProvokedMap.clear(),h(s[g],s,g+1,p,c),g+=s[g]+1,p++;delete c.provokedPointIds,delete c.pointIdToFlatId,r.nativeArray=c.ibo,e.flatIdToPointId=c.flatIdToPointId,e.flatIdToCellId=c.flatIdToCellId,e.flatSize=c.flatId,e.indexCount=c.iboId}}var voe={flatIdToPointId:null,flatIdToCellId:null,flatSize:0,indexCount:0};function eP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,voe,r),xb.extend(t,e,r),X.setGet(t,e,["flatIdToPointId","flatIdToCellId","flatSize","indexCount"]),poe(t,e)}var doe=X.newInstance(eP),goe=uoe({newInstance:doe,extend:eP},td);function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rs=td.BufferUsage,yoe=$e,gu=gt.VtkDataTypes,moe={};function _oe(t){var e;switch(t.getDataType()){case gu.UNSIGNED_CHAR:e="uint8";break;case gu.FLOAT:e="float32";break;case gu.UNSIGNED_INT:e="uint32";break;case gu.INT:e="sint32";break;case gu.DOUBLE:e="float32";break;case gu.UNSIGNED_SHORT:e="uint16";break;case gu.SHORT:e="sin16";break;default:e="float32";break}switch(t.getNumberOfComponents()){case 2:e+="x2";break;case 3:e.contains("32")||yoe("unsupported x3 type for ".concat(e)),e+="x3";break;case 4:e+="x4";break}return e}function vL(t,e,r,n,a){var i={},o=t.getFlatSize();if(!o)return i;var s=[0,0,0,0];a.shift&&(a.shift.length?s=a.shift:s.fill(a.shift));var u=[1,1,1,1];a.scale&&(a.scale.length?u=a.scale:u.fill(a.scale));var l=Object.prototype.hasOwnProperty.call(a,"packExtra")?a.packExtra:!1,f,c=0,h=r+(l?1:0),p=e1(n,o*h),v=t.getFlatIdToPointId();a.cellData&&(v=t.getFlatIdToCellId()),r===1?f=function(d){p[c++]=u[0]*e[d]+s[0]}:r===2?f=function(d){p[c++]=u[0]*e[d]+s[0],p[c++]=u[1]*e[d+1]+s[1]}:r===3&&!l?f=function(d){p[c++]=u[0]*e[d]+s[0],p[c++]=u[1]*e[d+1]+s[1],p[c++]=u[2]*e[d+2]+s[2]}:r===3&&l?f=function(d){p[c++]=u[0]*e[d]+s[0],p[c++]=u[1]*e[d+1]+s[1],p[c++]=u[2]*e[d+2]+s[2],p[c++]=u[3]*1+s[3]}:r===4&&(f=function(d){p[c++]=u[0]*e[d]+s[0],p[c++]=u[1]*e[d+1]+s[1],p[c++]=u[2]*e[d+2]+s[2],p[c++]=u[3]*e[d+3]+s[3]});for(var g=0;g<o;g++){var y=r*v[g];f(y)}return i.nativeArray=p,i}function xoe(t,e,r,n){var a=[t[n*3]-t[r*3],t[n*3+1]-t[r*3+1],t[n*3+2]-t[r*3+2]],i=[t[e*3]-t[r*3],t[e*3+1]-t[r*3+1],t[e*3+2]-t[r*3+2]],o=[];return kl(a,i,o),Rl(o),o}function woe(t,e){var r=e.getData(),n=t.getData();if(!n||!r)return null;for(var a=new Int8Array(t.getNumberOfCells()*4),i=n.length,o=0,s=0;s<i;){var u=xoe(r,n[s+1],n[s+2],n[s+3]);a[o++]=127*u[0],a[o++]=127*u[1],a[o++]=127*u[2],a[o++]=127,s+=n[s]+1}return a}function Soe(t,e){e.classHierarchy.push("vtkWebGPUBufferManager");function r(n){n.dataArray&&!n.nativeArray&&(n.nativeArray=n.dataArray.getData());var a,i;if(n.usage===rs.Index&&(a=goe.newInstance({label:n.label}),a.setDevice(e.device),i=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST,a.buildIndexBuffer(n),a.createAndWrite(n.nativeArray,i),a.setArrayInformation([{format:n.format}])),a||(a=xb.newInstance({label:n.label}),a.setDevice(e.device)),n.usage===rs.UniformArray&&(i=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,a.createAndWrite(n.nativeArray,i)),n.usage===rs.Storage&&(i=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,a.createAndWrite(n.nativeArray,i)),n.usage===rs.Texture&&(i=GPUBufferUsage.COPY_SRC,a.createAndWrite(n.nativeArray,i)),n.usage===rs.PointArray){i=GPUBufferUsage.VERTEX;var o=Nn.getNativeTypeFromBufferFormat(n.format),s=vL(n.indexBuffer,n.dataArray.getData(),n.dataArray.getNumberOfComponents(),o,{packExtra:n.packExtra,shift:n.shift,scale:n.scale,cellData:n.cellData,cellOffset:n.cellOffset});a.createAndWrite(s.nativeArray,i),a.setStrideInBytes(Nn.getByteStrideFromBufferFormat(n.format)),a.setArrayInformation([{offset:0,format:n.format,interpolation:n.cellData?"flat":"perspective"}])}if(n.usage===rs.NormalsFromPoints){i=GPUBufferUsage.VERTEX;var u=Nn.getNativeTypeFromBufferFormat(n.format),l=woe(n.cells,n.dataArray),f=vL(n.indexBuffer,l,4,u,{cellData:!0});a.createAndWrite(f.nativeArray,i),a.setStrideInBytes(Nn.getByteStrideFromBufferFormat(n.format)),a.setArrayInformation([{offset:0,format:n.format,interpolation:"flat"}])}return n.usage===rs.RawVertex&&(i=GPUBufferUsage.VERTEX,a.createAndWrite(n.nativeArray,i),a.setStrideInBytes(Nn.getByteStrideFromBufferFormat(n.format)),a.setArrayInformation([{offset:0,format:n.format}])),a.setSourceTime(n.time),a}t.hasBuffer=function(n){return e.device.hasCachedObject(n)},t.getBuffer=function(n){return n.hash?e.device.getCachedObject(n.hash,r,n):r(n)},t.getBufferForPointArray=function(n,a){var i=_oe(n),o={hash:"".concat(n.getMTime(),"I").concat(a.getMTime()).concat(i),usage:rs.PointArray,format:i,dataArray:n,indexBuffer:a};return t.getBuffer(o)},t.getFullScreenQuadBuffer=function(){if(e.fullScreenQuadBuffer)return e.fullScreenQuadBuffer;e.fullScreenQuadBuffer=xb.newInstance(),e.fullScreenQuadBuffer.setDevice(e.device);var n=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);return e.fullScreenQuadBuffer.createAndWrite(n,GPUBufferUsage.VERTEX),e.fullScreenQuadBuffer.setStrideInBytes(12),e.fullScreenQuadBuffer.setArrayInformation([{offset:0,format:"float32x3"}]),e.fullScreenQuadBuffer}}var boe={device:null,fullScreenQuadBuffer:null};function tP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,boe,r),nr(t,e),Cr(t,e,["device"]),Soe(t,e)}var Toe=mt(tP),ou=pL(pL({newInstance:Toe,extend:tP},moe),td),Coe=ou.BufferUsage,px=X.vtkErrorMacro;function Eoe(t,e){e.classHierarchy.push("vtkWebGPUUniformBuffer"),t.addEntry=function(r,n){if(e._bufferEntryNames.has(r)){px("entry named ".concat(r," already exists"));return}e.sortDirty=!0,e._bufferEntryNames.set(r,e.bufferEntries.length),e.bufferEntries.push({name:r,type:n,sizeInBytes:Nn.getByteStrideFromShaderFormat(n),offset:-1,nativeType:Nn.getNativeTypeFromShaderFormat(n),packed:!1})},t.sortBufferEntries=function(){if(e.sortDirty){for(var r=0,n=[],a=4,i=0;i<e.bufferEntries.length;i++){var o=e.bufferEntries[i];o.sizeInBytes%16===0&&(a=Math.max(16,a)),o.sizeInBytes%8===0&&(a=Math.max(8,a))}for(var s=0;s<e.bufferEntries.length;s++){var u=e.bufferEntries[s];u.packed===!1&&u.sizeInBytes%16===0&&(u.packed=!0,u.offset=r,n.push(u),r+=u.sizeInBytes)}for(var l=0;l<e.bufferEntries.length;l++){var f=e.bufferEntries[l];if(f.packed===!1&&f.sizeInBytes===12)for(var c=0;c<e.bufferEntries.length;c++){var h=e.bufferEntries[c];if(h.packed===!1&&h.sizeInBytes===4){f.packed=!0,f.offset=r,n.push(f),r+=f.sizeInBytes,h.packed=!0,h.offset=r,n.push(h),r+=h.sizeInBytes;break}}}for(var p=0;p<e.bufferEntries.length;p++){var v=e.bufferEntries[p];if(!v.packed&&v.sizeInBytes%8===0)for(var g=p+1;g<e.bufferEntries.length;g++){var y=e.bufferEntries[g];if(!y.packed&&y.sizeInBytes%8===0){v.packed=!0,v.offset=r,n.push(v),r+=v.sizeInBytes,y.packed=!0,y.offset=r,n.push(y),r+=y.sizeInBytes;break}}}for(var m=0;m<e.bufferEntries.length;m++){var d=e.bufferEntries[m];if(!d.packed&&d.sizeInBytes%8===0)for(var _=!1,x=0;!_&&x<e.bufferEntries.length;x++){var w=e.bufferEntries[x];if(!w.packed&&w.sizeInBytes===4)for(var S=x+1;S<e.bufferEntries.length;S++){var b=e.bufferEntries[S];if(!b.packed&&b.sizeInBytes===4){d.packed=!0,d.offset=r,n.push(d),r+=d.sizeInBytes,w.packed=!0,w.offset=r,n.push(w),r+=w.sizeInBytes,b.packed=!0,b.offset=r,n.push(b),r+=b.sizeInBytes,_=!0;break}}}}for(var T=0;T<e.bufferEntries.length;T++){var C=e.bufferEntries[T];!C.packed&&C.sizeInBytes>4&&(C.packed=!0,C.offset=r,n.push(C),r+=C.sizeInBytes)}for(var M=0;M<e.bufferEntries.length;M++){var D=e.bufferEntries[M];D.packed||(D.packed=!0,D.offset=r,n.push(D),r+=D.sizeInBytes)}e.bufferEntries=n,e._bufferEntryNames.clear();for(var E=0;E<e.bufferEntries.length;E++)e._bufferEntryNames.set(e.bufferEntries[E].name,E);e.sizeInBytes=r,e.sizeInBytes=a*Math.ceil(e.sizeInBytes/a),e.sortDirty=!1}},t.sendIfNeeded=function(r){if(!e.UBO){var n={nativeArray:e.Float32Array,usage:Coe.UniformArray,label:e.label};e.UBO=r.getBufferManager().getBuffer(n),e.bindGroupTime.modified(),e.sendDirty=!1}e.sendDirty&&(r.getHandle().queue.writeBuffer(e.UBO.getHandle(),0,e.arrayBuffer,0,e.sizeInBytes),e.sendDirty=!1),e.sendTime.modified()},t.createView=function(r){r in e||(e.arrayBuffer||(e.arrayBuffer=new ArrayBuffer(e.sizeInBytes)),e[r]=X.newTypedArray(r,e.arrayBuffer))},t.setValue=function(r,n){t.sortBufferEntries();var a=e._bufferEntryNames.get(r);if(a===void 0){px("entry named ".concat(r," not found in UBO"));return}var i=e.bufferEntries[a];t.createView(i.nativeType);var o=e[i.nativeType];i.lastValue!==n&&(o[i.offset/o.BYTES_PER_ELEMENT]=n,e.sendDirty=!0),i.lastValue=n},t.setArray=function(r,n){t.sortBufferEntries();var a=e._bufferEntryNames.get(r);if(a===void 0){px("entry named ".concat(r," not found in UBO"));return}var i=e.bufferEntries[a];t.createView(i.nativeType);for(var o=e[i.nativeType],s=!1,u=0;u<n.length;u++)(!i.lastValue||i.lastValue[u]!==n[u])&&(o[i.offset/o.BYTES_PER_ELEMENT+u]=n[u],s=!0);s&&(e.sendDirty=!0,i.lastValue=je(n))},t.getBindGroupEntry=function(){var r={resource:{buffer:e.UBO.getHandle()}};return r},t.getSendTime=function(){return e.sendTime.getMTime()},t.getShaderCode=function(r,n){t.sortBufferEntries();for(var a=["struct ".concat(e.label,`Struct
{`)],i=0;i<e.bufferEntries.length;i++){var o=e.bufferEntries[i];a.push("  ".concat(o.name,": ").concat(o.type,","))}return a.push(`};
@binding(`.concat(r,") @group(").concat(n,") var<uniform> ").concat(e.label,": ").concat(e.label,"Struct;")),a.join(`
`)}}var Doe={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,bindGroupLayoutEntry:null,bindGroupEntry:null};function rP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Doe,r),X.obj(t,e),e._bufferEntryNames=new Map,e.bufferEntries=[],e.bindGroupLayoutEntry=e.bindGroupLayoutEntry||{buffer:{type:"uniform"}},e.sendTime={},X.obj(e.sendTime,{mtime:0}),e.bindGroupTime={},X.obj(e.bindGroupTime,{mtime:0}),e.sendDirty=!0,e.sortDirty=!0,X.get(t,e,["binding","bindGroupTime"]),X.setGet(t,e,["bindGroupLayoutEntry","device","label","sizeInBytes"]),Eoe(t,e)}var Ooe=X.newInstance(rP,"vtkWebGPUUniformBuffer"),a1={newInstance:Ooe,extend:rP},Moe=Ks,Loe=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var computedColor: vec4<f32> = mapperUBO.BackgroundColor;

  //VTK::RenderEncoder::Impl
  return output;
}
`;function koe(t,e){e.classHierarchy.push("vtkWebGPURenderer"),t.buildPass=function(r){if(r){if(!e.renderable)return;e.camera=e.renderable.getActiveCamera(),t.updateLights(),t.prepareNodes(),t.addMissingNode(e.camera),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes(),e.webgpuCamera=t.getViewNodeFor(e.camera),t.updateStabilizedMatrix()}},t.updateStabilizedMatrix=function(){var r=e.camera.getClippingRange(),n=e.camera.getPositionByReference(),a=e.camera.getDirectionOfProjectionByReference(),i=[],o=[];Ir(o,a,.5*(r[0]+r[1])),Vi(i,n,o),X5(o,i,e.stabilizedCenter);var s=a2(o);s/(r[1]-r[0])>e.recenterThreshold&&(e.stabilizedCenter=i,e.stabilizedTime.modified())},t.updateLights=function(){for(var r=0,n=e.renderable.getLightsByReference(),a=0;a<n.length;++a)n[a].getSwitch()>0&&r++;return r||(Moe("No lights are on, creating one."),e.renderable.createLight()),r},t.updateUBO=function(){var r=e.UBO.getSendTime();if(e._parent.getMTime()>r||t.getMTime()>r||e.camera.getMTime()>r||e.renderable.getMTime()>r){var n=e.webgpuCamera.getKeyMatrices(t);e.UBO.setArray("WCVCMatrix",n.wcvc),e.UBO.setArray("SCPCMatrix",n.scpc),e.UBO.setArray("PCSCMatrix",n.pcsc),e.UBO.setArray("SCVCMatrix",n.scvc),e.UBO.setArray("VCPCMatrix",n.vcpc),e.UBO.setArray("WCVCNormals",n.normalMatrix);var a=t.getYInvertedTiledSizeAndOrigin();e.UBO.setArray("viewportSize",[a.usize,a.vsize]),e.UBO.setValue("cameraParallel",e.camera.getParallelProjection());var i=e._parent.getDevice();e.UBO.sendIfNeeded(i)}},t.scissorAndViewport=function(r){var n=t.getYInvertedTiledSizeAndOrigin();r.getHandle().setViewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize,0,1),r.getHandle().setScissorRect(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)},t.bindUBO=function(r){r.activateBindGroup(e.bindGroup)},t.opaquePass=function(r){r?(e.renderEncoder.begin(e._parent.getCommandEncoder()),t.updateUBO()):(t.scissorAndViewport(e.renderEncoder),t.clear(),e.renderEncoder.end())},t.clear=function(){if(!(e.renderable.getTransparent()||e.suppressClear)){var r=e._parent.getDevice();if(!e.clearFSQ){e.clearFSQ=ZV.newInstance(),e.clearFSQ.setDevice(r),e.clearFSQ.setPipelineHash("clearfsq"),e.clearFSQ.setFragmentShaderTemplate(Loe);var n=a1.newInstance({label:"mapperUBO"});n.addEntry("BackgroundColor","vec4<f32>"),e.clearFSQ.setUBO(n)}var a=e.renderable.getBackgroundByReference();e.clearFSQ.getUBO().setArray("BackgroundColor",a),e.clearFSQ.getUBO().sendIfNeeded(r),e.clearFSQ.prepareAndDraw(e.renderEncoder)}},t.translucentPass=function(r){r?e.renderEncoder.begin(e._parent.getCommandEncoder()):(t.scissorAndViewport(e.renderEncoder),e.renderEncoder.end())},t.volumeDepthRangePass=function(r){r?e.renderEncoder.begin(e._parent.getCommandEncoder()):(t.scissorAndViewport(e.renderEncoder),e.renderEncoder.end())},t.getAspectRatio=function(){var r=e._parent.getSizeByReference(),n=e.renderable.getViewportByReference();return r[0]*(n[2]-n[0])/((n[3]-n[1])*r[1])},t.convertToOpenGLDepth=function(r){return e.webgpuCamera.convertToOpenGLDepth(r)},t.getYInvertedTiledSizeAndOrigin=function(){var r=t.getTiledSizeAndOrigin(),n=e._parent.getSizeByReference();return r.lowerLeftV=n[1]-r.vsize-r.lowerLeftV,r},t.getTiledSizeAndOrigin=function(){var r=e.renderable.getViewportByReference(),n=[0,0,1,1],a=r[0]-n[0],i=r[1]-n[1],o=e._parent.normalizedDisplayToDisplay(a,i),s=Math.round(o[0]),u=Math.round(o[1]),l=r[2]-n[0],f=r[3]-n[1],c=e._parent.normalizedDisplayToDisplay(l,f),h=Math.round(c[0])-s,p=Math.round(c[1])-u;return h<0&&(h=0),p<0&&(p=0),{usize:h,vsize:p,lowerLeftU:s,lowerLeftV:u}},t.getPropFromID=function(r){for(var n=0;n<e.children.length;n++){var a=e.children[n].getPropID?e.children[n].getPropID():-1;if(a===r)return e.children[n]}return null},t.getStabilizedTime=function(){return e.stabilizedTime.getMTime()},t.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()}}var Roe={bindGroup:null,selector:null,renderEncoder:null,recenterThreshold:20,suppressClear:!1,stabilizedCenter:[0,0,0]};function Aoe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Roe,r),Qt.extend(t,e,r),e.UBO=a1.newInstance({label:"rendererUBO"}),e.UBO.addEntry("WCVCMatrix","mat4x4<f32>"),e.UBO.addEntry("SCPCMatrix","mat4x4<f32>"),e.UBO.addEntry("PCSCMatrix","mat4x4<f32>"),e.UBO.addEntry("SCVCMatrix","mat4x4<f32>"),e.UBO.addEntry("VCPCMatrix","mat4x4<f32>"),e.UBO.addEntry("WCVCNormals","mat4x4<f32>"),e.UBO.addEntry("viewportSize","vec2<f32>"),e.UBO.addEntry("cameraParallel","u32"),e.bindGroup=GV.newInstance({label:"rendererBG"}),e.bindGroup.setBindables([e.UBO]),e.tmpMat4=ze(new Float64Array(16)),e.stabilizedTime={},nr(e.stabilizedTime,{mtime:0}),ia(t,e,["bindGroup","stabilizedTime"]),Jv(t,e,["stabilizedCenter"]),Cr(t,e,["renderEncoder","selector","suppressClear","UBO"]),koe(t,e)}var Noe=mt(Aoe,"vtkWebGPURenderer");oa("vtkRenderer",Noe);function Foe(t,e){e.classHierarchy.push("vtkWebGPUSampler"),t.create=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.device=r,e.options.magFilter=n.magFilter?n.magFilter:"nearest",e.options.minFilter=n.minFilter?n.minFilter:"nearest",e.options.label=e.label,e.handle=e.device.getHandle().createSampler(e.options),e.bindGroupTime.modified()},t.getShaderCode=function(r,n){var a="@binding(".concat(r,") @group(").concat(n,") var ").concat(e.label,": sampler;");return a},t.getBindGroupEntry=function(){var r={resource:e.handle};return r}}var Boe={device:null,handle:null,label:null,options:null};function nP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Boe,r),X.obj(t,e),e.options={},e.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},e.bindGroupTime={},X.obj(e.bindGroupTime,{mtime:0}),X.get(t,e,["bindGroupTime","handle","options"]),X.setGet(t,e,["bindGroupLayoutEntry","device","label"]),Foe(t,e)}var Ioe=X.newInstance(nP),aP={newInstance:Ioe,extend:nP},dL=r1.SlicingMode,Voe=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::Image::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  //VTK::Image::Sample

  // var computedColor: vec4<f32> = vec4<f32>(1.0,0.7, 0.5, 1.0);

//VTK::RenderEncoder::Impl

  return output;
}
`;function Poe(t,e,r){var n=e.apply(t);if(n){var a=t.getIndependentComponents();return"".concat(t.getMTime(),"-").concat(a,"-").concat(r)}return"0"}var Pa=new Float64Array(16),ns=new Float64Array(16),Wd=new Float64Array(16),ro=new Float64Array(4),Er=new Float64Array(4);function Uoe(t,e){e.classHierarchy.push("vtkWebGPUImageMapper"),t.buildPass=function(a){if(a){e.WebGPUImageSlice=t.getFirstAncestorOfType("vtkWebGPUImageSlice"),e.WebGPURenderer=e.WebGPUImageSlice.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.device=e.WebGPURenderWindow.getDevice();var i=e.WebGPURenderer.getRenderable();e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(i.getActiveCamera())}},t.translucentPass=function(a){a&&t.render()},t.opaquePass=function(a){a&&t.render()},t.render=function(){e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,t.draw)},t.computePipelineHash=function(){var a=e.currentInput.getExtent();a[0]===a[1]||a[2]===a[3]||a[4]===a[5]?(e.dimensions=2,e.pipelineHash="img2"):(e.dimensions=3,e.pipelineHash="img3")},t.updateUBO=function(){var a=e.UBO.getSendTime(),i=e.WebGPUImageSlice.getRenderable(),o=i.getMapper();if(t.getMTime()>a||e.renderable.getMTime()>a||i.getProperty().getMTime()>a){var s=o.getInputData(),u=e.WebGPURenderer.getStabilizedCenterByReference();ze(Pa),lr(Pa,Pa,u);var l=i.getMatrix();dt(ns,l),br(ns,ns),Ht(Pa,ns,Pa);var f=s.getWorldToIndex();Ht(Pa,f,Pa),br(Wd,Pa);var c=s.getDimensions();ze(ns),El(ns,ns,[1/c[0],1/c[1],1/c[2]]),Ht(Pa,ns,Pa),e.UBO.setArray("SCTCMatrix",Pa);var h=e.currentInput.getExtent(),p=e.renderable.getClosestIJKAxis(),v=p.ijkMode,g=e.renderable.getSlice();v!==e.renderable.getSlicingMode()&&(g=e.renderable.getSliceAtPosition(g));var y=2,m=0,d=1;v===dL.I?(y=0,m=1,d=2):v===dL.J&&(y=1,m=2,d=0),ro[y]=g,ro[m]=h[m*2],ro[d]=h[d*2],ro[3]=1,Oo(ro,ro,Wd),e.UBO.setArray("Origin",ro),Er[y]=g,Er[m]=h[m*2+1],Er[d]=h[d*2],Er[3]=1,Oo(Er,Er,Wd),hM(Er,Er,ro),Er[3]=1,e.UBO.setArray("Axis1",Er),Er[y]=g,Er[m]=h[m*2],Er[d]=h[d*2+1],Er[3]=1,Oo(Er,Er,Wd),hM(Er,Er,ro),Er[3]=1,e.UBO.setArray("Axis2",Er);for(var _=[1,1,1,1],x=[0,0,0,0],w=e.textureViews[0],S=w.getTexture().getScale(),b=w.getTexture().getNumberOfComponents(),T=!1,C=0;C<b;C++){var M=i.getProperty().getColorWindow(),D=i.getProperty().getColorLevel(),E=T?C:0,k=i.getProperty().getRGBTransferFunction(E);if(k&&i.getProperty().getUseLookupTableScalarRange()){var O=k.getRange();M=O[1]-O[0],D=.5*(O[1]+O[0])}_[C]=S/M,x[C]=-D/M+.5}e.UBO.setArray("cScale",_),e.UBO.setArray("cShift",x),e.UBO.sendIfNeeded(e.device)}},t.updateLUTImage=function(){var a=e.WebGPUImageSlice.getRenderable().getProperty(),i=t.getTextureViews()[0];i.getTexture().getNumberOfComponents();var o=1,s=Poe(a,a.getRGBTransferFunction,o);if(e.colorTextureString!==s){e.numRows=o;var u=new Uint8Array(e.numRows*2*e.rowLength*4),l=a.getRGBTransferFunction();if(l)for(var f=new Float32Array(e.rowLength*3),c=0;c<o;c++){l=a.getRGBTransferFunction(c);var h=l.getRange();l.getTable(h[0],h[1],e.rowLength,f,1);for(var p=0;p<e.rowLength;p++){var v=c*e.rowLength*8+p*4;u[v]=255*f[p*3],u[v+1]=255*f[p*3+1],u[v+2]=255*f[p*3+2],u[v+3]=255;for(var g=0;g<4;g++)u[v+e.rowLength*4+g]=u[v+g]}}else for(var y=0;y<e.rowLength;++y){var m=255*y/(e.rowLength-1);u[y*4]=m,u[y*4+1]=m,u[y*4+2]=m,u[y*4+3]=255;for(var d=0;d<4;d++)u[y*4+e.rowLength*4+d]=u[y*4+d]}{var _={nativeArray:u,width:e.rowLength,height:e.numRows*2,depth:1,format:"rgba8unorm"},x=e.device.getTextureManager().getTexture(_),w=x.createView("tfunTexture");e.textureViews[1]=w}e.colorTextureString=s}};var r=t.updateBuffers;t.updateBuffers=function(){r();var a=e.device.getTextureManager().getTextureForImageData(e.currentInput),i=e.textureViews;if(!i[0]||i[0].getTexture()!==a){var o=a.createView("imgTexture");i[0]=o}t.updateLUTImage(),t.updateUBO();var s=e.WebGPUImageSlice.getRenderable().getProperty(),u=s.getInterpolationType()===Ty.NEAREST?"nearest":"linear";(!e.clampSampler||u!==e.clampSampler.getOptions().minFilter)&&(e.clampSampler=aP.newInstance({label:"clampSampler"}),e.clampSampler.create(e.device,{minFilter:u,magFilter:u}),e.additionalBindables=[e.clampSampler])};var n=t.getShaderReplacements();t.replaceShaderPosition=function(a,i,o){var s=i.getShaderDescription("vertex");s.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var u=s.getCode(),l=["var pos: vec4<f32> = mapperUBO.Origin +","   (vertexBC.x * 0.5 + 0.5) * mapperUBO.Axis1 + (vertexBC.y * 0.5 + 0.5) * mapperUBO.Axis2;","pos.w = 1.0;"];e.dimensions===2?l.push("var tcoord : vec2<f32> = (mapperUBO.SCTCMatrix * pos).xy;"):l.push("var tcoord : vec3<f32> = (mapperUBO.SCTCMatrix * pos).xyz;"),l.push("output.tcoordVS = tcoord;","output.Position = rendererUBO.SCPCMatrix * pos;"),u=Tt.substitute(u,"//VTK::Position::Impl",l).result,s.setCode(u)},n.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderTCoord=function(a,i,o){var s=i.getShaderDescription("vertex");e.dimensions===2?s.addOutput("vec2<f32>","tcoordVS"):s.addOutput("vec3<f32>","tcoordVS")},n.set("replaceShaderTCoord",t.replaceShaderTCoord),t.replaceShaderImage=function(a,i,o){var s=i.getShaderDescription("fragment"),u=s.getCode();e.dimensions===3?u=Tt.substitute(u,"//VTK::Image::Sample",["    var computedColor: vec4<f32> =","      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);","//VTK::Image::Sample"]).result:u=Tt.substitute(u,"//VTK::Image::Sample",["    var computedColor: vec4<f32> =","      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);","//VTK::Image::Sample"]).result,u=Tt.substitute(u,"//VTK::Image::Sample",["    var coord: vec2<f32> =","      vec2<f32>(computedColor.r * mapperUBO.cScale.r + mapperUBO.cShift.r, 0.5);","    computedColor = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);"]).result,s.setCode(u)},n.set("replaceShaderImage",t.replaceShaderImage)}var zoe={rowLength:1024};function Goe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zoe,r),ZV.extend(t,e,r),t.setFragmentShaderTemplate(Voe),e.UBO=a1.newInstance({label:"mapperUBO"}),e.UBO.addEntry("SCTCMatrix","mat4x4<f32>"),e.UBO.addEntry("Origin","vec4<f32>"),e.UBO.addEntry("Axis2","vec4<f32>"),e.UBO.addEntry("Axis1","vec4<f32>"),e.UBO.addEntry("cScale","vec4<f32>"),e.UBO.addEntry("cShift","vec4<f32>"),e.lutBuildTime={},nr(e.lutBuildTime,{mtime:0}),e.imagemat=ze(new Float64Array(16)),e.imagematinv=ze(new Float64Array(16)),e.VBOBuildTime={},nr(e.VBOBuildTime),Uoe(t,e)}var Woe=mt(Goe,"vtkWebGPUImageMapper");oa("vtkImageMapper",Woe);function Hoe(t,e){e.classHierarchy.push("vtkWebGPUImageSlice"),t.buildPass=function(r){if(!(!e.renderable||!e.renderable.getVisibility())&&r){if(!e.renderable)return;e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaquePass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children.forEach(function(n){n.traverse(r)}),t.apply(r,!1))},t.traverseTranslucentPass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children.forEach(function(n){n.traverse(r)}),t.apply(r,!1))},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},t.getBufferShift=function(r){return t.getKeyMatrices(r),e.bufferShift},t.getKeyMatrices=function(r){if(Math.max(e.renderable.getMTime(),r.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();var n=e.renderable.getMatrix(),a=r.getStabilizedCenterByReference();e.bufferShift[0]=n[3]-a[0],e.bufferShift[1]=n[7]-a[1],e.bufferShift[2]=n[11]-a[2],dt(e.keyMatrices.bcwc,n),e.renderable.getIsIdentity()?ze(e.keyMatrices.normalMatrix):(gr(e.keyMatrices.normalMatrix,e.keyMatrices.bcwc),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,br(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),dt(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),lr(e.keyMatrices.bcwc,e.keyMatrices.bcwc,[-e.bufferShift[0],-e.bufferShift[1],-e.bufferShift[2]]),lr(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-a[0],-a[1],-a[2]]),e.keyMatricesTime.modified()}return e.keyMatrices}}var joe={bufferShift:void 0,keyMatrixTime:null,keyMatrices:null,propID:void 0};function $oe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,joe,r),Qt.extend(t,e,r),e.keyMatricesTime={},nr(e.keyMatricesTime,{mtime:0}),e.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},e.keyMatrixTime={},nr(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:ze(new Float64Array(16))},e.bufferShift=[0,0,0,0],ia(t,e,["propID","keyMatricesTime"]),Hoe(t,e)}var Koe=mt($oe,"vtkWebGPUImageSlice");oa("vtkImageSlice",Koe);function Xoe(t,e){e.classHierarchy.push("vtkWebGPUVolume"),t.buildPass=function(a){!e.renderable||!e.renderable.getVisibility()||a&&(e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),e.renderable.getMapper().update())},t.queryPass=function(a,i){if(a){if(!e.renderable||!e.renderable.getVisibility())return;var o=e.renderable.getMapper().getBounds();if(!o||o.length!==6||o[0]>o[1])return;i.addVolume(t)}};var r=new Float64Array(3),n=new Float64Array(3);t.getBoundingCubePoints=function(a,i){var o=e.renderable.getMapper().getInputData();if(o)for(var s=o.getExtent(),u=e.renderable.getMatrix(),l=0,f=4;f<6;f++){r[2]=s[f];for(var c=2;c<4;c++){r[1]=s[c];for(var h=0;h<2;h++){r[0]=s[h],o.indexToWorld(r,n);var p=i+l*3;a[p++]=u[0]*n[0]+u[1]*n[1]+u[2]*n[2]+u[3],a[p++]=u[4]*n[0]+u[5]*n[1]+u[6]*n[2]+u[7],a[p++]=u[8]*n[0]+u[9]*n[1]+u[10]*n[2]+u[11],l++}}}},t.getKeyMatrices=function(a){if(Math.max(e.renderable.getMTime(),a.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();var i=e.renderable.getMatrix(),o=a.getStabilizedCenterByReference();dt(e.keyMatrices.bcwc,i),lr(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-o[0],-o[1],-o[2]]),e.keyMatricesTime.modified()}return e.keyMatrices}}var Yoe={propID:void 0,keyMatricesTime:null};function qoe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Yoe,r),Qt.extend(t,e,r),e.keyMatricesTime={},X.obj(e.keyMatricesTime,{mtime:0}),e.keyMatrices={bcwc:new Float64Array(16),bcsc:new Float64Array(16)},X.get(t,e,["propID","keyMatricesTime"]),Xoe(t,e)}var Zoe=X.newInstance(qoe,"vtkWebGPUVolume");oa("vtkVolume",Zoe);function Joe(t,e){e.classHierarchy.push("vtkWebGPUPixelSpaceCallbackMapper"),t.opaquePass=function(r,n){e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent();var a=e.WebGPURenderer.getAspectRatio(),i=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,o=e.WebGPURenderer.getTiledSizeAndOrigin(),s=null;e.renderable.getUseZValues(),e.renderable.invokeCallback(e.renderable.getInputData(),i,a,o,s)}}var Qoe={};function ese(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Qoe,r),Qt.extend(t,e,r),Joe(t,e)}var tse=X.newInstance(ese,"vtkWebGPUPixelSpaceCallbackMapper");oa("vtkPixelSpaceCallbackMapper",tse);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rse=4,gL=0,yL=1,nse=2;function Pf(t){let e=t.length;for(;--e>=0;)t[e]=0}const ase=0,iP=1,ise=2,ose=3,sse=258,p2=29,rd=256,rv=rd+1+p2,Jc=30,v2=19,oP=2*rv+1,nl=15,vx=16,use=7,d2=256,sP=16,uP=17,lP=18,wb=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),lse=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cP=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cse=512,xo=new Array((rv+2)*2);Pf(xo);const mp=new Array(Jc*2);Pf(mp);const nv=new Array(cse);Pf(nv);const av=new Array(sse-ose+1);Pf(av);const g2=new Array(p2);Pf(g2);const Cy=new Array(Jc);Pf(Cy);function dx(t,e,r,n,a){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=t&&t.length}let fP,hP,pP;function gx(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const vP=t=>t<256?nv[t]:nv[256+(t>>>7)],iv=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Bn=(t,e,r)=>{t.bi_valid>vx-r?(t.bi_buf|=e<<t.bi_valid&65535,iv(t,t.bi_buf),t.bi_buf=e>>vx-t.bi_valid,t.bi_valid+=r-vx):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Fi=(t,e,r)=>{Bn(t,r[e*2],r[e*2+1])},dP=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},fse=t=>{t.bi_valid===16?(iv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},hse=(t,e)=>{const r=e.dyn_tree,n=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,f,c,h,p,v,g=0;for(h=0;h<=nl;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<oP;l++)f=t.heap[l],h=r[r[f*2+1]*2+1]+1,h>u&&(h=u,g++),r[f*2+1]=h,!(f>n)&&(t.bl_count[h]++,p=0,f>=s&&(p=o[f-s]),v=r[f*2],t.opt_len+=v*(h+p),i&&(t.static_len+=v*(a[f*2+1]+p)));if(g!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(h=u;h!==0;h--)for(f=t.bl_count[h];f!==0;)c=t.heap[--l],!(c>n)&&(r[c*2+1]!==h&&(t.opt_len+=(h-r[c*2+1])*r[c*2],r[c*2+1]=h),f--)}},gP=(t,e,r)=>{const n=new Array(nl+1);let a=0,i,o;for(i=1;i<=nl;i++)n[i]=a=a+r[i-1]<<1;for(o=0;o<=e;o++){let s=t[o*2+1];s!==0&&(t[o*2]=dP(n[s]++,s))}},pse=()=>{let t,e,r,n,a;const i=new Array(nl+1);for(r=0,n=0;n<p2-1;n++)for(g2[n]=r,t=0;t<1<<wb[n];t++)av[r++]=n;for(av[r-1]=n,a=0,n=0;n<16;n++)for(Cy[n]=a,t=0;t<1<<O0[n];t++)nv[a++]=n;for(a>>=7;n<Jc;n++)for(Cy[n]=a<<7,t=0;t<1<<O0[n]-7;t++)nv[256+a++]=n;for(e=0;e<=nl;e++)i[e]=0;for(t=0;t<=143;)xo[t*2+1]=8,t++,i[8]++;for(;t<=255;)xo[t*2+1]=9,t++,i[9]++;for(;t<=279;)xo[t*2+1]=7,t++,i[7]++;for(;t<=287;)xo[t*2+1]=8,t++,i[8]++;for(gP(xo,rv+1,i),t=0;t<Jc;t++)mp[t*2+1]=5,mp[t*2]=dP(t,5);fP=new dx(xo,wb,rd+1,rv,nl),hP=new dx(mp,O0,0,Jc,nl),pP=new dx(new Array(0),lse,0,v2,use)},yP=t=>{let e;for(e=0;e<rv;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Jc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<v2;e++)t.bl_tree[e*2]=0;t.dyn_ltree[d2*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},mP=t=>{t.bi_valid>8?iv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},vse=(t,e,r,n)=>{mP(t),iv(t,r),iv(t,~r),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},mL=(t,e,r,n)=>{const a=e*2,i=r*2;return t[a]<t[i]||t[a]===t[i]&&n[e]<=n[r]},yx=(t,e,r)=>{const n=t.heap[r];let a=r<<1;for(;a<=t.heap_len&&(a<t.heap_len&&mL(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!mL(e,n,t.heap[a],t.depth));)t.heap[r]=t.heap[a],r=a,a<<=1;t.heap[r]=n},_L=(t,e,r)=>{let n,a,i=0,o,s;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+i*2]<<8|t.pending_buf[t.d_buf+i*2+1],a=t.pending_buf[t.l_buf+i],i++,n===0?Fi(t,a,e):(o=av[a],Fi(t,o+rd+1,e),s=wb[o],s!==0&&(a-=g2[o],Bn(t,a,s)),n--,o=vP(n),Fi(t,o,r),s=O0[o],s!==0&&(n-=Cy[o],Bn(t,n,s)));while(i<t.last_lit);Fi(t,d2,e)},Sb=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let o,s,u=-1,l;for(t.heap_len=0,t.heap_max=oP,o=0;o<i;o++)r[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,r[l*2]=1,t.depth[l]=0,t.opt_len--,a&&(t.static_len-=n[l*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)yx(t,r,o);l=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],yx(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,r[l*2]=r[o*2]+r[s*2],t.depth[l]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,r[o*2+1]=r[s*2+1]=l,t.heap[1]=l++,yx(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],hse(t,e),gP(r,u,t.bl_count)},xL=(t,e,r)=>{let n,a=-1,i,o=e[0*2+1],s=0,u=7,l=4;for(o===0&&(u=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=e[(n+1)*2+1],!(++s<u&&i===o)&&(s<l?t.bl_tree[i*2]+=s:i!==0?(i!==a&&t.bl_tree[i*2]++,t.bl_tree[sP*2]++):s<=10?t.bl_tree[uP*2]++:t.bl_tree[lP*2]++,s=0,a=i,o===0?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))},wL=(t,e,r)=>{let n,a=-1,i,o=e[0*2+1],s=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=r;n++)if(i=o,o=e[(n+1)*2+1],!(++s<u&&i===o)){if(s<l)do Fi(t,i,t.bl_tree);while(--s!==0);else i!==0?(i!==a&&(Fi(t,i,t.bl_tree),s--),Fi(t,sP,t.bl_tree),Bn(t,s-3,2)):s<=10?(Fi(t,uP,t.bl_tree),Bn(t,s-3,3)):(Fi(t,lP,t.bl_tree),Bn(t,s-11,7));s=0,a=i,o===0?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}},dse=t=>{let e;for(xL(t,t.dyn_ltree,t.l_desc.max_code),xL(t,t.dyn_dtree,t.d_desc.max_code),Sb(t,t.bl_desc),e=v2-1;e>=3&&t.bl_tree[cP[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},gse=(t,e,r,n)=>{let a;for(Bn(t,e-257,5),Bn(t,r-1,5),Bn(t,n-4,4),a=0;a<n;a++)Bn(t,t.bl_tree[cP[a]*2+1],3);wL(t,t.dyn_ltree,e-1),wL(t,t.dyn_dtree,r-1)},yse=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return gL;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return yL;for(r=32;r<rd;r++)if(t.dyn_ltree[r*2]!==0)return yL;return gL};let SL=!1;const mse=t=>{SL||(pse(),SL=!0),t.l_desc=new gx(t.dyn_ltree,fP),t.d_desc=new gx(t.dyn_dtree,hP),t.bl_desc=new gx(t.bl_tree,pP),t.bi_buf=0,t.bi_valid=0,yP(t)},_P=(t,e,r,n)=>{Bn(t,(ase<<1)+(n?1:0),3),vse(t,e,r)},_se=t=>{Bn(t,iP<<1,3),Fi(t,d2,xo),fse(t)},xse=(t,e,r,n)=>{let a,i,o=0;t.level>0?(t.strm.data_type===nse&&(t.strm.data_type=yse(t)),Sb(t,t.l_desc),Sb(t,t.d_desc),o=dse(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&e!==-1?_P(t,e,r,n):t.strategy===rse||i===a?(Bn(t,(iP<<1)+(n?1:0),3),_L(t,xo,mp)):(Bn(t,(ise<<1)+(n?1:0),3),gse(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),_L(t,t.dyn_ltree,t.dyn_dtree)),yP(t),n&&mP(t)},wse=(t,e,r)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(av[r]+rd+1)*2]++,t.dyn_dtree[vP(e)*2]++),t.last_lit===t.lit_bufsize-1);var Sse=mse,bse=_P,Tse=xse,Cse=wse,Ese=_se,Dse={_tr_init:Sse,_tr_stored_block:bse,_tr_flush_block:Tse,_tr_tally:Cse,_tr_align:Ese};const Ose=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var ov=Ose;const Mse=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Lse=new Uint32Array(Mse()),kse=(t,e,r,n)=>{const a=Lse,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var jr=kse,Nl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Rse,_tr_stored_block:Ase,_tr_flush_block:Nse,_tr_tally:Vs,_tr_align:Fse}=Dse,{Z_NO_FLUSH:Kl,Z_PARTIAL_FLUSH:Bse,Z_FULL_FLUSH:Ise,Z_FINISH:Ps,Z_BLOCK:bL,Z_OK:Bi,Z_STREAM_END:TL,Z_STREAM_ERROR:Ea,Z_DATA_ERROR:Vse,Z_BUF_ERROR:mx,Z_DEFAULT_COMPRESSION:Pse,Z_FILTERED:Use,Z_HUFFMAN_ONLY:Hd,Z_RLE:zse,Z_FIXED:Gse,Z_DEFAULT_STRATEGY:Wse,Z_UNKNOWN:Hse,Z_DEFLATED:i1}=nd,jse=9,$se=15,Kse=8,Xse=29,Yse=256,bb=Yse+1+Xse,qse=30,Zse=19,Jse=2*bb+1,Qse=15,Ct=3,ks=258,ai=ks+Ct+1,eue=32,o1=42,Tb=69,M0=73,L0=91,k0=103,al=113,jh=666,Ur=1,ad=2,Fl=3,Uf=4,tue=3,Rs=(t,e)=>(t.msg=Nl[e],e),CL=t=>(t<<1)-(t>4?9:0),Ds=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let rue=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,Us=rue;const gs=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},tn=(t,e)=>{Nse(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,gs(t.strm)},kt=(t,e)=>{t.pending_buf[t.pending++]=e},sh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},nue=(t,e,r,n)=>{let a=t.avail_in;return a>n&&(a=n),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),r),t.state.wrap===1?t.adler=ov(t.adler,e,a,r):t.state.wrap===2&&(t.adler=jr(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)},xP=(t,e)=>{let r=t.max_chain_length,n=t.strstart,a,i,o=t.prev_length,s=t.nice_match;const u=t.strstart>t.w_size-ai?t.strstart-(t.w_size-ai):0,l=t.window,f=t.w_mask,c=t.prev,h=t.strstart+ks;let p=l[n+o-1],v=l[n+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(a=e,!(l[a+o]!==v||l[a+o-1]!==p||l[a]!==l[n]||l[++a]!==l[n+1])){n+=2,a++;do;while(l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&n<h);if(i=ks-(h-n),n=h-ks,i>o){if(t.match_start=e,o=i,i>=s)break;p=l[n+o-1],v=l[n+o]}}while((e=c[e&f])>u&&--r!==0);return o<=t.lookahead?o:t.lookahead},Bl=t=>{const e=t.w_size;let r,n,a,i,o;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ai)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do a=t.head[--r],t.head[r]=a>=e?a-e:0;while(--n);n=e,r=n;do a=t.prev[--r],t.prev[r]=a>=e?a-e:0;while(--n);i+=e}if(t.strm.avail_in===0)break;if(n=nue(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=Ct)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=Us(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=Us(t,t.ins_h,t.window[o+Ct-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<Ct)););}while(t.lookahead<ai&&t.strm.avail_in!==0)},aue=(t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Bl(t),t.lookahead===0&&e===Kl)return Ur;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,tn(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ai&&(tn(t,!1),t.strm.avail_out===0))return Ur}return t.insert=0,e===Ps?(tn(t,!0),t.strm.avail_out===0?Fl:Uf):(t.strstart>t.block_start&&(tn(t,!1),t.strm.avail_out===0),Ur)},_x=(t,e)=>{let r,n;for(;;){if(t.lookahead<ai){if(Bl(t),t.lookahead<ai&&e===Kl)return Ur;if(t.lookahead===0)break}if(r=0,t.lookahead>=Ct&&(t.ins_h=Us(t,t.ins_h,t.window[t.strstart+Ct-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ai&&(t.match_length=xP(t,r)),t.match_length>=Ct)if(n=Vs(t,t.strstart-t.match_start,t.match_length-Ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ct){t.match_length--;do t.strstart++,t.ins_h=Us(t,t.ins_h,t.window[t.strstart+Ct-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Us(t,t.ins_h,t.window[t.strstart+1]);else n=Vs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(tn(t,!1),t.strm.avail_out===0))return Ur}return t.insert=t.strstart<Ct-1?t.strstart:Ct-1,e===Ps?(tn(t,!0),t.strm.avail_out===0?Fl:Uf):t.last_lit&&(tn(t,!1),t.strm.avail_out===0)?Ur:ad},Ql=(t,e)=>{let r,n,a;for(;;){if(t.lookahead<ai){if(Bl(t),t.lookahead<ai&&e===Kl)return Ur;if(t.lookahead===0)break}if(r=0,t.lookahead>=Ct&&(t.ins_h=Us(t,t.ins_h,t.window[t.strstart+Ct-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ct-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ai&&(t.match_length=xP(t,r),t.match_length<=5&&(t.strategy===Use||t.match_length===Ct&&t.strstart-t.match_start>4096)&&(t.match_length=Ct-1)),t.prev_length>=Ct&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-Ct,n=Vs(t,t.strstart-1-t.prev_match,t.prev_length-Ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=Us(t,t.ins_h,t.window[t.strstart+Ct-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Ct-1,t.strstart++,n&&(tn(t,!1),t.strm.avail_out===0))return Ur}else if(t.match_available){if(n=Vs(t,0,t.window[t.strstart-1]),n&&tn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ur}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Vs(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ct-1?t.strstart:Ct-1,e===Ps?(tn(t,!0),t.strm.avail_out===0?Fl:Uf):t.last_lit&&(tn(t,!1),t.strm.avail_out===0)?Ur:ad},iue=(t,e)=>{let r,n,a,i;const o=t.window;for(;;){if(t.lookahead<=ks){if(Bl(t),t.lookahead<=ks&&e===Kl)return Ur;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ct&&t.strstart>0&&(a=t.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){i=t.strstart+ks;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<i);t.match_length=ks-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ct?(r=Vs(t,1,t.match_length-Ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Vs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(tn(t,!1),t.strm.avail_out===0))return Ur}return t.insert=0,e===Ps?(tn(t,!0),t.strm.avail_out===0?Fl:Uf):t.last_lit&&(tn(t,!1),t.strm.avail_out===0)?Ur:ad},oue=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(Bl(t),t.lookahead===0)){if(e===Kl)return Ur;break}if(t.match_length=0,r=Vs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(tn(t,!1),t.strm.avail_out===0))return Ur}return t.insert=0,e===Ps?(tn(t,!0),t.strm.avail_out===0?Fl:Uf):t.last_lit&&(tn(t,!1),t.strm.avail_out===0)?Ur:ad};function _i(t,e,r,n,a){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=a}const $h=[new _i(0,0,0,0,aue),new _i(4,4,8,4,_x),new _i(4,5,16,8,_x),new _i(4,6,32,32,_x),new _i(4,4,16,16,Ql),new _i(8,16,32,32,Ql),new _i(8,16,128,128,Ql),new _i(8,32,128,256,Ql),new _i(32,128,258,1024,Ql),new _i(32,258,258,4096,Ql)],sue=t=>{t.window_size=2*t.w_size,Ds(t.head),t.max_lazy_match=$h[t.level].max_lazy,t.good_match=$h[t.level].good_length,t.nice_match=$h[t.level].nice_length,t.max_chain_length=$h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ct-1,t.match_available=0,t.ins_h=0};function uue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=i1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jse*2),this.dyn_dtree=new Uint16Array((2*qse+1)*2),this.bl_tree=new Uint16Array((2*Zse+1)*2),Ds(this.dyn_ltree),Ds(this.dyn_dtree),Ds(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Qse+1),this.heap=new Uint16Array(2*bb+1),Ds(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bb+1),Ds(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const wP=t=>{if(!t||!t.state)return Rs(t,Ea);t.total_in=t.total_out=0,t.data_type=Hse;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?o1:al,t.adler=e.wrap===2?0:1,e.last_flush=Kl,Rse(e),Bi},SP=t=>{const e=wP(t);return e===Bi&&sue(t.state),e},lue=(t,e)=>!t||!t.state||t.state.wrap!==2?Ea:(t.state.gzhead=e,Bi),bP=(t,e,r,n,a,i)=>{if(!t)return Ea;let o=1;if(e===Pse&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>jse||r!==i1||n<8||n>15||e<0||e>9||i<0||i>Gse)return Rs(t,Ea);n===8&&(n=9);const s=new uue;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ct-1)/Ct),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=i,s.method=r,SP(t)},cue=(t,e)=>bP(t,e,i1,$se,Kse,Wse),fue=(t,e)=>{let r,n;if(!t||!t.state||e>bL||e<0)return t?Rs(t,Ea):Ea;const a=t.state;if(!t.output||!t.input&&t.avail_in!==0||a.status===jh&&e!==Ps)return Rs(t,t.avail_out===0?mx:Ea);a.strm=t;const i=a.last_flush;if(a.last_flush=e,a.status===o1)if(a.wrap===2)t.adler=0,kt(a,31),kt(a,139),kt(a,8),a.gzhead?(kt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),kt(a,a.gzhead.time&255),kt(a,a.gzhead.time>>8&255),kt(a,a.gzhead.time>>16&255),kt(a,a.gzhead.time>>24&255),kt(a,a.level===9?2:a.strategy>=Hd||a.level<2?4:0),kt(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(kt(a,a.gzhead.extra.length&255),kt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=jr(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=Tb):(kt(a,0),kt(a,0),kt(a,0),kt(a,0),kt(a,0),kt(a,a.level===9?2:a.strategy>=Hd||a.level<2?4:0),kt(a,tue),a.status=al);else{let o=i1+(a.w_bits-8<<4)<<8,s=-1;a.strategy>=Hd||a.level<2?s=0:a.level<6?s=1:a.level===6?s=2:s=3,o|=s<<6,a.strstart!==0&&(o|=eue),o+=31-o%31,a.status=al,sh(a,o),a.strstart!==0&&(sh(a,t.adler>>>16),sh(a,t.adler&65535)),t.adler=1}if(a.status===Tb)if(a.gzhead.extra){for(r=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&!(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),gs(t),r=a.pending,a.pending===a.pending_buf_size));)kt(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=M0)}else a.status=M0;if(a.status===M0)if(a.gzhead.name){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),gs(t),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}a.gzindex<a.gzhead.name.length?n=a.gzhead.name.charCodeAt(a.gzindex++)&255:n=0,kt(a,n)}while(n!==0);a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),n===0&&(a.gzindex=0,a.status=L0)}else a.status=L0;if(a.status===L0)if(a.gzhead.comment){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),gs(t),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}a.gzindex<a.gzhead.comment.length?n=a.gzhead.comment.charCodeAt(a.gzindex++)&255:n=0,kt(a,n)}while(n!==0);a.gzhead.hcrc&&a.pending>r&&(t.adler=jr(t.adler,a.pending_buf,a.pending-r,r)),n===0&&(a.status=k0)}else a.status=k0;if(a.status===k0&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&gs(t),a.pending+2<=a.pending_buf_size&&(kt(a,t.adler&255),kt(a,t.adler>>8&255),t.adler=0,a.status=al)):a.status=al),a.pending!==0){if(gs(t),t.avail_out===0)return a.last_flush=-1,Bi}else if(t.avail_in===0&&CL(e)<=CL(i)&&e!==Ps)return Rs(t,mx);if(a.status===jh&&t.avail_in!==0)return Rs(t,mx);if(t.avail_in!==0||a.lookahead!==0||e!==Kl&&a.status!==jh){let o=a.strategy===Hd?oue(a,e):a.strategy===zse?iue(a,e):$h[a.level].func(a,e);if((o===Fl||o===Uf)&&(a.status=jh),o===Ur||o===Fl)return t.avail_out===0&&(a.last_flush=-1),Bi;if(o===ad&&(e===Bse?Fse(a):e!==bL&&(Ase(a,0,0,!1),e===Ise&&(Ds(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),gs(t),t.avail_out===0))return a.last_flush=-1,Bi}return e!==Ps?Bi:a.wrap<=0?TL:(a.wrap===2?(kt(a,t.adler&255),kt(a,t.adler>>8&255),kt(a,t.adler>>16&255),kt(a,t.adler>>24&255),kt(a,t.total_in&255),kt(a,t.total_in>>8&255),kt(a,t.total_in>>16&255),kt(a,t.total_in>>24&255)):(sh(a,t.adler>>>16),sh(a,t.adler&65535)),gs(t),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Bi:TL)},hue=t=>{if(!t||!t.state)return Ea;const e=t.state.status;return e!==o1&&e!==Tb&&e!==M0&&e!==L0&&e!==k0&&e!==al&&e!==jh?Rs(t,Ea):(t.state=null,e===al?Rs(t,Vse):Bi)},pue=(t,e)=>{let r=e.length;if(!t||!t.state)return Ea;const n=t.state,a=n.wrap;if(a===2||a===1&&n.status!==o1||n.lookahead)return Ea;if(a===1&&(t.adler=ov(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Ds(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(e.subarray(r-n.w_size,r),0),e=u,r=n.w_size}const i=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Bl(n);n.lookahead>=Ct;){let u=n.strstart,l=n.lookahead-(Ct-1);do n.ins_h=Us(n,n.ins_h,n.window[u+Ct-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=Ct-1,Bl(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ct-1,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=i,n.wrap=a,Bi};var vue=cue,due=bP,gue=SP,yue=wP,mue=lue,_ue=fue,xue=hue,wue=pue,Sue="pako deflate (from Nodeca project)",_p={deflateInit:vue,deflateInit2:due,deflateReset:gue,deflateResetKeep:yue,deflateSetHeader:mue,deflate:_ue,deflateEnd:xue,deflateSetDictionary:wue,deflateInfo:Sue};const bue=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tue=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bue(r,n)&&(t[n]=r[n])}}return t},Cue=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];r.set(o,a),a+=o.length}return r},s1={assign:Tue,flattenChunks:Cue};let TP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TP=!1}const sv=new Uint8Array(256);for(let t=0;t<256;t++)sv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;sv[254]=sv[254]=1;var Eue=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,o=t.length,s=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),i=0,a=0;i<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const Due=(t,e)=>{if(e<65534&&t.subarray&&TP)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Oue=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){i[a++]=o;continue}let s=sv[o];if(s>4){i[a++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return Due(i,a)},Mue=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+sv[t[r]]>e?r:e},uv={string2buf:Eue,buf2string:Oue,utf8border:Mue};function Lue(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CP=Lue;const EP=Object.prototype.toString,{Z_NO_FLUSH:kue,Z_SYNC_FLUSH:Rue,Z_FULL_FLUSH:Aue,Z_FINISH:Nue,Z_OK:Ey,Z_STREAM_END:Fue,Z_DEFAULT_COMPRESSION:Bue,Z_DEFAULT_STRATEGY:Iue,Z_DEFLATED:Vue}=nd;function id(t){this.options=s1.assign({level:Bue,method:Vue,chunkSize:16384,windowBits:15,memLevel:8,strategy:Iue},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CP,this.strm.avail_out=0;let r=_p.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Ey)throw new Error(Nl[r]);if(e.header&&_p.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=uv.string2buf(e.dictionary):EP.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=_p.deflateSetDictionary(this.strm,n),r!==Ey)throw new Error(Nl[r]);this._dict_set=!0}}id.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?Nue:kue,typeof t=="string"?r.input=uv.string2buf(t):EP.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Rue||i===Aue)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=_p.deflate(r,i),a===Fue)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_p.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Ey;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};id.prototype.onData=function(t){this.chunks.push(t)};id.prototype.onEnd=function(t){t===Ey&&(this.result=s1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function y2(t,e){const r=new id(e);if(r.push(t,!0),r.err)throw r.msg||Nl[r.err];return r.result}function Pue(t,e){return e=e||{},e.raw=!0,y2(t,e)}function Uue(t,e){return e=e||{},e.gzip=!0,y2(t,e)}var zue=id,Gue=y2,Wue=Pue,Hue=Uue,jue={Deflate:zue,deflate:Gue,deflateRaw:Wue,gzip:Hue};const jd=30,$ue=12;var Kue=function(e,r){let n,a,i,o,s,u,l,f,c,h,p,v,g,y,m,d,_,x,w,S,b,T,C,M;const D=e.state;n=e.next_in,C=e.input,a=n+(e.avail_in-5),i=e.next_out,M=e.output,o=i-(r-e.avail_out),s=i+(e.avail_out-257),u=D.dmax,l=D.wsize,f=D.whave,c=D.wnext,h=D.window,p=D.hold,v=D.bits,g=D.lencode,y=D.distcode,m=(1<<D.lenbits)-1,d=(1<<D.distbits)-1;e:do{v<15&&(p+=C[n++]<<v,v+=8,p+=C[n++]<<v,v+=8),_=g[p&m];t:for(;;){if(x=_>>>24,p>>>=x,v-=x,x=_>>>16&255,x===0)M[i++]=_&65535;else if(x&16){w=_&65535,x&=15,x&&(v<x&&(p+=C[n++]<<v,v+=8),w+=p&(1<<x)-1,p>>>=x,v-=x),v<15&&(p+=C[n++]<<v,v+=8,p+=C[n++]<<v,v+=8),_=y[p&d];r:for(;;){if(x=_>>>24,p>>>=x,v-=x,x=_>>>16&255,x&16){if(S=_&65535,x&=15,v<x&&(p+=C[n++]<<v,v+=8,v<x&&(p+=C[n++]<<v,v+=8)),S+=p&(1<<x)-1,S>u){e.msg="invalid distance too far back",D.mode=jd;break e}if(p>>>=x,v-=x,x=i-o,S>x){if(x=S-x,x>f&&D.sane){e.msg="invalid distance too far back",D.mode=jd;break e}if(b=0,T=h,c===0){if(b+=l-x,x<w){w-=x;do M[i++]=h[b++];while(--x);b=i-S,T=M}}else if(c<x){if(b+=l+c-x,x-=c,x<w){w-=x;do M[i++]=h[b++];while(--x);if(b=0,c<w){x=c,w-=x;do M[i++]=h[b++];while(--x);b=i-S,T=M}}}else if(b+=c-x,x<w){w-=x;do M[i++]=h[b++];while(--x);b=i-S,T=M}for(;w>2;)M[i++]=T[b++],M[i++]=T[b++],M[i++]=T[b++],w-=3;w&&(M[i++]=T[b++],w>1&&(M[i++]=T[b++]))}else{b=i-S;do M[i++]=M[b++],M[i++]=M[b++],M[i++]=M[b++],w-=3;while(w>2);w&&(M[i++]=M[b++],w>1&&(M[i++]=M[b++]))}}else if((x&64)===0){_=y[(_&65535)+(p&(1<<x)-1)];continue r}else{e.msg="invalid distance code",D.mode=jd;break e}break}}else if((x&64)===0){_=g[(_&65535)+(p&(1<<x)-1)];continue t}else if(x&32){D.mode=$ue;break e}else{e.msg="invalid literal/length code",D.mode=jd;break e}break}}while(n<a&&i<s);w=v>>3,n-=w,v-=w<<3,p&=(1<<v)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<s?257+(s-i):257-(i-s),D.hold=p,D.bits=v};const ec=15,EL=852,DL=592,OL=0,xx=1,ML=2,Xue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Yue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),que=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jue=(t,e,r,n,a,i,o,s)=>{const u=s.bits;let l=0,f=0,c=0,h=0,p=0,v=0,g=0,y=0,m=0,d=0,_,x,w,S,b,T=null,C=0,M;const D=new Uint16Array(ec+1),E=new Uint16Array(ec+1);let k=null,O=0,A,I,U;for(l=0;l<=ec;l++)D[l]=0;for(f=0;f<n;f++)D[e[r+f]]++;for(p=u,h=ec;h>=1&&D[h]===0;h--);if(p>h&&(p=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,s.bits=1,0;for(c=1;c<h&&D[c]===0;c++);for(p<c&&(p=c),y=1,l=1;l<=ec;l++)if(y<<=1,y-=D[l],y<0)return-1;if(y>0&&(t===OL||h!==1))return-1;for(E[1]=0,l=1;l<ec;l++)E[l+1]=E[l]+D[l];for(f=0;f<n;f++)e[r+f]!==0&&(o[E[e[r+f]]++]=f);if(t===OL?(T=k=o,M=19):t===xx?(T=Xue,C-=257,k=Yue,O-=257,M=256):(T=que,k=Zue,M=-1),d=0,f=0,l=c,b=i,v=p,g=0,w=-1,m=1<<p,S=m-1,t===xx&&m>EL||t===ML&&m>DL)return 1;for(;;){A=l-g,o[f]<M?(I=0,U=o[f]):o[f]>M?(I=k[O+o[f]],U=T[C+o[f]]):(I=96,U=0),_=1<<l-g,x=1<<v,c=x;do x-=_,a[b+(d>>g)+x]=A<<24|I<<16|U|0;while(x!==0);for(_=1<<l-1;d&_;)_>>=1;if(_!==0?(d&=_-1,d+=_):d=0,f++,--D[l]===0){if(l===h)break;l=e[r+o[f]]}if(l>p&&(d&S)!==w){for(g===0&&(g=p),b+=c,v=l-g,y=1<<v;v+g<h&&(y-=D[v+g],!(y<=0));)v++,y<<=1;if(m+=1<<v,t===xx&&m>EL||t===ML&&m>DL)return 1;w=d&S,a[w]=p<<24|v<<16|b-i|0}}return d!==0&&(a[b+d]=l-g<<24|64<<16|0),s.bits=p,0};var xp=Jue;const Que=0,DP=1,OP=2,{Z_FINISH:LL,Z_BLOCK:ele,Z_TREES:$d,Z_OK:Il,Z_STREAM_END:tle,Z_NEED_DICT:rle,Z_STREAM_ERROR:Aa,Z_DATA_ERROR:MP,Z_MEM_ERROR:LP,Z_BUF_ERROR:nle,Z_DEFLATED:kL}=nd,kP=1,RL=2,AL=3,NL=4,FL=5,BL=6,IL=7,VL=8,PL=9,UL=10,Dy=11,no=12,Sx=13,zL=14,bx=15,GL=16,WL=17,HL=18,jL=19,Kd=20,Xd=21,$L=22,KL=23,XL=24,YL=25,qL=26,Tx=27,ZL=28,JL=29,or=30,RP=31,ale=32,ile=852,ole=592,sle=15,ule=sle,QL=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function lle(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const AP=t=>{if(!t||!t.state)return Aa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=kP,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ile),e.distcode=e.distdyn=new Int32Array(ole),e.sane=1,e.back=-1,Il},NP=t=>{if(!t||!t.state)return Aa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,AP(t)},FP=(t,e)=>{let r;if(!t||!t.state)return Aa;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Aa:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,NP(t))},BP=(t,e)=>{if(!t)return Aa;const r=new lle;t.state=r,r.window=null;const n=FP(t,e);return n!==Il&&(t.state=null),n},cle=t=>BP(t,ule);let ek=!0,Cx,Ex;const fle=t=>{if(ek){Cx=new Int32Array(512),Ex=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xp(DP,t.lens,0,288,Cx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xp(OP,t.lens,0,32,Ex,0,t.work,{bits:5}),ek=!1}t.lencode=Cx,t.lenbits=9,t.distcode=Ex,t.distbits=5},IP=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},hle=(t,e)=>{let r,n,a,i,o,s,u,l,f,c,h,p,v,g,y=0,m,d,_,x,w,S,b,T;const C=new Uint8Array(4);let M,D;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Aa;r=t.state,r.mode===no&&(r.mode=Sx),o=t.next_out,a=t.output,u=t.avail_out,i=t.next_in,n=t.input,s=t.avail_in,l=r.hold,f=r.bits,c=s,h=u,T=Il;e:for(;;)switch(r.mode){case kP:if(r.wrap===0){r.mode=Sx;break}for(;f<16;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(r.wrap&2&&l===35615){r.check=0,C[0]=l&255,C[1]=l>>>8&255,r.check=jr(r.check,C,2,0),l=0,f=0,r.mode=RL;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=or;break}if((l&15)!==kL){t.msg="unknown compression method",r.mode=or;break}if(l>>>=4,f-=4,b=(l&15)+8,r.wbits===0)r.wbits=b;else if(b>r.wbits){t.msg="invalid window size",r.mode=or;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=l&512?UL:no,l=0,f=0;break;case RL:for(;f<16;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(r.flags=l,(r.flags&255)!==kL){t.msg="unknown compression method",r.mode=or;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=or;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=jr(r.check,C,2,0)),l=0,f=0,r.mode=AL;case AL:for(;f<32;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.head&&(r.head.time=l),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,r.check=jr(r.check,C,4,0)),l=0,f=0,r.mode=NL;case NL:for(;f<16;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=jr(r.check,C,2,0)),l=0,f=0,r.mode=FL;case FL:if(r.flags&1024){for(;f<16;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=jr(r.check,C,2,0)),l=0,f=0}else r.head&&(r.head.extra=null);r.mode=BL;case BL:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(b=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),b)),r.flags&512&&(r.check=jr(r.check,n,p,i)),s-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=IL;case IL:if(r.flags&2048){if(s===0)break e;p=0;do b=n[i+p++],r.head&&b&&r.length<65536&&(r.head.name+=String.fromCharCode(b));while(b&&p<s);if(r.flags&512&&(r.check=jr(r.check,n,p,i)),s-=p,i+=p,b)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=VL;case VL:if(r.flags&4096){if(s===0)break e;p=0;do b=n[i+p++],r.head&&b&&r.length<65536&&(r.head.comment+=String.fromCharCode(b));while(b&&p<s);if(r.flags&512&&(r.check=jr(r.check,n,p,i)),s-=p,i+=p,b)break e}else r.head&&(r.head.comment=null);r.mode=PL;case PL:if(r.flags&512){for(;f<16;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=or;break}l=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=no;break;case UL:for(;f<32;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}t.adler=r.check=QL(l),l=0,f=0,r.mode=Dy;case Dy:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=s,r.hold=l,r.bits=f,rle;t.adler=r.check=1,r.mode=no;case no:if(e===ele||e===$d)break e;case Sx:if(r.last){l>>>=f&7,f-=f&7,r.mode=Tx;break}for(;f<3;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}switch(r.last=l&1,l>>>=1,f-=1,l&3){case 0:r.mode=zL;break;case 1:if(fle(r),r.mode=Kd,e===$d){l>>>=2,f-=2;break e}break;case 2:r.mode=WL;break;case 3:t.msg="invalid block type",r.mode=or}l>>>=2,f-=2;break;case zL:for(l>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=or;break}if(r.length=l&65535,l=0,f=0,r.mode=bx,e===$d)break e;case bx:r.mode=GL;case GL:if(p=r.length,p){if(p>s&&(p=s),p>u&&(p=u),p===0)break e;a.set(n.subarray(i,i+p),o),s-=p,i+=p,u-=p,o+=p,r.length-=p;break}r.mode=no;break;case WL:for(;f<14;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(r.nlen=(l&31)+257,l>>>=5,f-=5,r.ndist=(l&31)+1,l>>>=5,f-=5,r.ncode=(l&15)+4,l>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=or;break}r.have=0,r.mode=HL;case HL:for(;r.have<r.ncode;){for(;f<3;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.lens[E[r.have++]]=l&7,l>>>=3,f-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},T=xp(Que,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,T){t.msg="invalid code lengths set",r.mode=or;break}r.have=0,r.mode=jL;case jL:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[l&(1<<r.lenbits)-1],m=y>>>24,d=y>>>16&255,_=y&65535,!(m<=f);){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(_<16)l>>>=m,f-=m,r.lens[r.have++]=_;else{if(_===16){for(D=m+2;f<D;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(l>>>=m,f-=m,r.have===0){t.msg="invalid bit length repeat",r.mode=or;break}b=r.lens[r.have-1],p=3+(l&3),l>>>=2,f-=2}else if(_===17){for(D=m+3;f<D;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}l>>>=m,f-=m,b=0,p=3+(l&7),l>>>=3,f-=3}else{for(D=m+7;f<D;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}l>>>=m,f-=m,b=0,p=11+(l&127),l>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=or;break}for(;p--;)r.lens[r.have++]=b}}if(r.mode===or)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=or;break}if(r.lenbits=9,M={bits:r.lenbits},T=xp(DP,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,T){t.msg="invalid literal/lengths set",r.mode=or;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},T=xp(OP,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,T){t.msg="invalid distances set",r.mode=or;break}if(r.mode=Kd,e===$d)break e;case Kd:r.mode=Xd;case Xd:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=s,r.hold=l,r.bits=f,Kue(t,h),o=t.next_out,a=t.output,u=t.avail_out,i=t.next_in,n=t.input,s=t.avail_in,l=r.hold,f=r.bits,r.mode===no&&(r.back=-1);break}for(r.back=0;y=r.lencode[l&(1<<r.lenbits)-1],m=y>>>24,d=y>>>16&255,_=y&65535,!(m<=f);){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(d&&(d&240)===0){for(x=m,w=d,S=_;y=r.lencode[S+((l&(1<<x+w)-1)>>x)],m=y>>>24,d=y>>>16&255,_=y&65535,!(x+m<=f);){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}l>>>=x,f-=x,r.back+=x}if(l>>>=m,f-=m,r.back+=m,r.length=_,d===0){r.mode=qL;break}if(d&32){r.back=-1,r.mode=no;break}if(d&64){t.msg="invalid literal/length code",r.mode=or;break}r.extra=d&15,r.mode=$L;case $L:if(r.extra){for(D=r.extra;f<D;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=KL;case KL:for(;y=r.distcode[l&(1<<r.distbits)-1],m=y>>>24,d=y>>>16&255,_=y&65535,!(m<=f);){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if((d&240)===0){for(x=m,w=d,S=_;y=r.distcode[S+((l&(1<<x+w)-1)>>x)],m=y>>>24,d=y>>>16&255,_=y&65535,!(x+m<=f);){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}l>>>=x,f-=x,r.back+=x}if(l>>>=m,f-=m,r.back+=m,d&64){t.msg="invalid distance code",r.mode=or;break}r.offset=_,r.extra=d&15,r.mode=XL;case XL:if(r.extra){for(D=r.extra;f<D;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=or;break}r.mode=YL;case YL:if(u===0)break e;if(p=h-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=or;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=a,v=o-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do a[o++]=g[v++];while(--p);r.length===0&&(r.mode=Xd);break;case qL:if(u===0)break e;a[o++]=r.length,u--,r.mode=Xd;break;case Tx:if(r.wrap){for(;f<32;){if(s===0)break e;s--,l|=n[i++]<<f,f+=8}if(h-=u,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?jr(r.check,a,h,o-h):ov(r.check,a,h,o-h)),h=u,(r.flags?l:QL(l))!==r.check){t.msg="incorrect data check",r.mode=or;break}l=0,f=0}r.mode=ZL;case ZL:if(r.wrap&&r.flags){for(;f<32;){if(s===0)break e;s--,l+=n[i++]<<f,f+=8}if(l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=or;break}l=0,f=0}r.mode=JL;case JL:T=tle;break e;case or:T=MP;break e;case RP:return LP;case ale:default:return Aa}return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=s,r.hold=l,r.bits=f,(r.wsize||h!==t.avail_out&&r.mode<or&&(r.mode<Tx||e!==LL))&&IP(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?jr(r.check,a,h,t.next_out-h):ov(r.check,a,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===no?128:0)+(r.mode===Kd||r.mode===bx?256:0),(c===0&&h===0||e===LL)&&T===Il&&(T=nle),T},ple=t=>{if(!t||!t.state)return Aa;let e=t.state;return e.window&&(e.window=null),t.state=null,Il},vle=(t,e)=>{if(!t||!t.state)return Aa;const r=t.state;return(r.wrap&2)===0?Aa:(r.head=e,e.done=!1,Il)},dle=(t,e)=>{const r=e.length;let n,a,i;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Dy)?Aa:n.mode===Dy&&(a=1,a=ov(a,e,r,0),a!==n.check)?MP:(i=IP(t,e,r,r),i?(n.mode=RP,LP):(n.havedict=1,Il))};var gle=NP,yle=FP,mle=AP,_le=cle,xle=BP,wle=hle,Sle=ple,ble=vle,Tle=dle,Cle="pako inflate (from Nodeca project)",wo={inflateReset:gle,inflateReset2:yle,inflateResetKeep:mle,inflateInit:_le,inflateInit2:xle,inflate:wle,inflateEnd:Sle,inflateGetHeader:ble,inflateSetDictionary:Tle,inflateInfo:Cle};function Ele(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dle=Ele;const VP=Object.prototype.toString,{Z_NO_FLUSH:Ole,Z_FINISH:Mle,Z_OK:lv,Z_STREAM_END:Dx,Z_NEED_DICT:Ox,Z_STREAM_ERROR:Lle,Z_DATA_ERROR:tk,Z_MEM_ERROR:kle}=nd;function od(t){this.options=s1.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CP,this.strm.avail_out=0;let r=wo.inflateInit2(this.strm,e.windowBits);if(r!==lv)throw new Error(Nl[r]);if(this.header=new Dle,wo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=uv.string2buf(e.dictionary):VP.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=wo.inflateSetDictionary(this.strm,e.dictionary),r!==lv)))throw new Error(Nl[r])}od.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Mle:Ole,VP.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=wo.inflate(r,o),i===Ox&&a&&(i=wo.inflateSetDictionary(r,a),i===lv?i=wo.inflate(r,o):i===tk&&(i=Ox));r.avail_in>0&&i===Dx&&r.state.wrap>0&&t[r.next_in]!==0;)wo.inflateReset(r),i=wo.inflate(r,o);switch(i){case Lle:case tk:case Ox:case kle:return this.onEnd(i),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||i===Dx))if(this.options.to==="string"){let u=uv.utf8border(r.output,r.next_out),l=r.next_out-u,f=uv.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===lv&&s===0)){if(i===Dx)return i=wo.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};od.prototype.onData=function(t){this.chunks.push(t)};od.prototype.onEnd=function(t){t===lv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function m2(t,e){const r=new od(e);if(r.push(t),r.err)throw r.msg||Nl[r.err];return r.result}function Rle(t,e){return e=e||{},e.raw=!0,m2(t,e)}var Ale=od,Nle=m2,Fle=Rle,Ble=m2,Ile={Inflate:Ale,inflate:Nle,inflateRaw:Fle,ungzip:Ble};const{Deflate:Vle,deflate:Ple,deflateRaw:Ule,gzip:zle}=jue,{Inflate:Gle,inflate:Wle,inflateRaw:Hle,ungzip:jle}=Ile;var $le=Vle,Kle=Ple,Xle=Ule,Yle=zle,qle=Gle,Zle=Wle,Jle=Hle,Qle=jle,ece=nd,Tn={Deflate:$le,deflate:Kle,deflateRaw:Xle,gzip:Yle,Inflate:qle,inflate:Zle,inflateRaw:Jle,ungzip:Qle,constants:ece},Yn=[];Yn[45]=62;Yn[95]=63;var Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yd=0;Yd<Bc.length;Yd++)Yn[Bc.charCodeAt(Yd)]=Yd;function Mi(t){return Yn[t.charCodeAt(0)]!==void 0}function tce(t){for(var e=t.length,r=[],n=null,a=0;a<e;a++)Mi(t[a])?(n||(n={start:a,count:0}),n.count++,n.end=a):t[a]==="="&&n&&(r.push(n),n=null);return n&&r.push(n),r}function rce(t,e,r,n){for(var a=e.start,i=e.count,o=i%4,s=Math.floor(i/4),u=a,l=null,f=r,c=0;c<s;c++){for(;!Mi(t[u]);)u++;for(l=Yn[t.charCodeAt(u++)]<<18;!Mi(t[u]);)u++;for(l|=Yn[t.charCodeAt(u++)]<<12;!Mi(t[u]);)u++;for(l|=Yn[t.charCodeAt(u++)]<<6;!Mi(t[u]);)u++;l|=Yn[t.charCodeAt(u++)],n[f++]=l>>16&255,n[f++]=l>>8&255,n[f++]=l&255}switch(o){case 3:for(;!Mi(t[u]);)u++;for(l=Yn[t.charCodeAt(u++)]<<10;!Mi(t[u]);)u++;for(l|=Yn[t.charCodeAt(u++)]<<4;!Mi(t[u]);)u++;l|=Yn[t.charCodeAt(u++)]>>2,n[f++]=l>>8&255,n[f++]=l&255;break;case 2:for(;!Mi(t[u]);)u++;for(l=Yn[t.charCodeAt(u++)]<<2;!Mi(t[u]);)u++;l|=Yn[t.charCodeAt(u++)]>>4,n[f++]=l&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return f}function nce(t){for(var e=tce(t),r=e[e.length-1].end+1,n=(4-r%4)%4,a=(r+n)*3/4-n,i=new ArrayBuffer(a),o=new Uint8Array(i),s=0,u=0;u<e.length;u++)s+=rce(t,e[u],s,o),s+=(4-e[u].count%4)%4;return i}function rk(t,e,r){var n=(t<<16)+(e<<8)+r;return Bc[n>>18]+Bc[n>>12&63]+Bc[n>>6&63]+Bc[n&63]}function ace(t){for(var e=new Uint8Array(t),r=t.byteLength%3,n=t.byteLength-r,a=Array(n/3),i=0;i<a.length;i++){var o=i*3;a[i]=rk(e[o],e[o+1],e[o+2])}if(r>0){var s=rk(e[n],e[n+1]||0,e[n+2]||0);r===1?a.push("".concat(s.substr(0,2),"==")):r===2&&a.push("".concat(s.substr(0,3),"="))}return a.join("")}var _2={toArrayBuffer:nce,fromArrayBuffer:ace};function PP(){var t=new ArrayBuffer(4),e=new Uint8Array(t),r=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,r[0]===3569595041?"LittleEndian":r[0]===2712847316?"BigEndian":null}var ice=PP();function oce(t,e){if(!(e<2))for(var r=new Int8Array(t),n=r.length,a=[],i=0;i<n;i+=e){for(var o=0;o<e;o++)a.push(r[i+o]);for(var s=0;s<e;s++)r[i+s]=a.pop()}}var Da={ENDIANNESS:ice,getEndianness:PP,swapBytes:oce},x2={};function UP(t){return!!x2[t]}function sce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x2[t](e)}function sd(t,e){x2[t]=e}var uce={get:sce,has:UP,registerType:sd},lce=X.vtkErrorMacro,cce=X.vtkDebugMacro,fce=0;function w2(t){var e=document.querySelector('.webResource[data-url="'.concat(t,'"]'));return e?e.innerHTML:null}function hce(t){return document.querySelector('.webResource[data-url="'.concat(t,'"]'))}function zP(t){return t[0]==="/"?t.substr(1):t}function pce(t,e){return new Promise(function(r,n){var a=w2(e);a===null?n(new Error("No such text ".concat(e))):r(a)})}function vce(t,e){return new Promise(function(r,n){var a=w2(zP(e));a===null?n(new Error("No such JSON ".concat(e))):r(JSON.parse(a))})}function dce(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(a,i){var o=zP([e,r.ref.basepath,n.compression?"".concat(r.ref.id,".gz"):r.ref.id].join("/")),s=w2(o);if(s===null)i(new Error("No such array ".concat(o)));else{if(r.dataType==="string"){var u=atob(s);n.compression&&(u=Tn.inflate(u,{to:"string"})),r.values=JSON.parse(u)}else{var l=new Uint8Array(_2.toArrayBuffer(s));r.buffer=new ArrayBuffer(l.length);var f=new Uint8Array(r.buffer);f.set(l),n.compression&&(r.dataType==="string"||r.dataType==="JSON"?r.buffer=Tn.inflate(new Uint8Array(r.buffer),{to:"string"}):r.buffer=Tn.inflate(new Uint8Array(r.buffer)).buffer),r.ref.encode==="JSON"?r.values=JSON.parse(r.buffer):(Da.ENDIANNESS!==r.ref.encode&&Da.ENDIANNESS&&(cce("Swap bytes of ".concat(r.name)),Da.swapBytes(r.buffer,Qv[r.dataType])),r.values=X.newTypedArray(r.dataType,r.buffer)),r.values.length!==r.size&&lce("Error in FetchArray: ".concat(r.name," does not have the proper array size. Got ").concat(r.values.length,", instead of ").concat(r.size))}delete r.ref,--fce===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(r)}})}function gce(t,e){return new Promise(function(r,n){var a=hce(e);a?r(a):n(new Error("No such image ".concat(e)))})}var yce={fetchJSON:vce,fetchText:pce,fetchArray:dce,fetchImage:gce};sd("html",function(t){return yce});var cv=X.vtkErrorMacro,mce=X.vtkDebugMacro,xf=0;function u1(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=new XMLHttpRequest;return n.open(t,e,!0),r.headers&&Object.entries(r.headers).forEach(function(a){var i=Fr(a,2),o=i[0],s=i[1];return n.setRequestHeader(o,s)}),r.progressCallback&&n.addEventListener("progress",r.progressCallback),n}function _ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&e.compression&&e.compression!=="gz"&&(cv("Supported algorithms are: [gz]"),cv("Unkown compression algorithm: ".concat(e.compression))),new Promise(function(r,n){var a=u1("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?e.compression?r(Tn.inflate(new Uint8Array(a.response),{to:"arraybuffer"}).buffer):r(a.response):n({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function xce(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.ref&&!r.ref.pending?new Promise(function(a,i){var o=null;r.ref.url?o=r.ref.url:o=[e,r.ref.basepath,n.compression?"".concat(r.ref.id,".gz"):r.ref.id].join("/");var s=u1("GET",o,n);s.onreadystatechange=function(u){s.readyState===1&&(r.ref.pending=!0,++xf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),s.readyState===4&&(r.ref.pending=!1,s.status===200||s.status===0?(r.buffer=s.response,n.compression&&(r.dataType==="string"||r.dataType==="JSON"?r.buffer=Tn.inflate(new Uint8Array(r.buffer),{to:"string"}):r.buffer=Tn.inflate(new Uint8Array(r.buffer)).buffer),r.ref.encode==="JSON"?r.values=JSON.parse(r.buffer):(Da.ENDIANNESS!==r.ref.encode&&Da.ENDIANNESS&&(mce("Swap bytes of ".concat(r.name)),Da.swapBytes(r.buffer,Qv[r.dataType])),r.values=X.newTypedArray(r.dataType,r.buffer)),r.values.length!==r.size&&cv("Error in FetchArray: ".concat(r.name,", does not have the proper array size. Got ").concat(r.values.length,", instead of ").concat(r.size)),delete r.ref,--xf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(r)):i({xhr:s,e:u}))},s.responseType=n.compression||r.dataType!=="string"?"arraybuffer":"text",s.send()}):Promise.resolve(r)}function wce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(n,a){var i=u1("GET",e,r);i.onreadystatechange=function(o){i.readyState===1&&++xf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--xf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r.compression?n(JSON.parse(Tn.inflate(new Uint8Array(i.response),{to:"string"}))):n(JSON.parse(i.responseText)):a({xhr:i,e:o}))},i.responseType=r.compression?"arraybuffer":"text",i.send()})}function Sce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r&&r.compression&&r.compression!=="gz"&&(cv("Supported algorithms are: [gz]"),cv("Unkown compression algorithm: ".concat(r.compression))),new Promise(function(n,a){var i=u1("GET",e,r);i.onreadystatechange=function(o){i.readyState===1&&++xf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--xf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r.compression?n(Tn.inflate(new Uint8Array(i.response),{to:"string"})):n(i.responseText):a({xhr:i,e:o}))},i.responseType=r.compression?"arraybuffer":"text",i.send()})}function bce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(n,a){var i=new Image;r.crossOrigin&&(i.crossOrigin=r.crossOrigin),i.onload=function(){return n(i)},i.onerror=a,i.src=e})}var l1={fetchArray:xce,fetchJSON:wce,fetchText:Sce,fetchBinary:_ce,fetchImage:bce};sd("http",function(t){return l1});function qd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mx={exports:{}};/*!

JSZip v3.9.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/var nk;function Tce(){return nk||(nk=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,a,i){function o(l,f){if(!a[l]){if(!n[l]){var c=typeof qd=="function"&&qd;if(!f&&c)return c(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[l]={exports:{}};n[l][0].call(p.exports,function(v){var g=n[l][1][v];return o(g||v)},p,p.exports,r,n,a,i)}return a[l].exports}for(var s=typeof qd=="function"&&qd,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var l,f,c,h,p,v,g,y=[],m=0,d=u.length,_=d,x=i.getTypeOf(u)!=="string";m<u.length;)_=d-m,c=x?(l=u[m++],f=m<d?u[m++]:0,m<d?u[m++]:0):(l=u.charCodeAt(m++),f=m<d?u.charCodeAt(m++):0,m<d?u.charCodeAt(m++):0),h=l>>2,p=(3&l)<<4|f>>4,v=1<_?(15&f)<<2|c>>6:64,g=2<_?63&c:64,y.push(s.charAt(h)+s.charAt(p)+s.charAt(v)+s.charAt(g));return y.join("")},a.decode=function(u){var l,f,c,h,p,v,g=0,y=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var d,_=3*(u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&_--,u.charAt(u.length-2)===s.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|_):new Array(0|_);g<u.length;)l=s.indexOf(u.charAt(g++))<<2|(h=s.indexOf(u.charAt(g++)))>>4,f=(15&h)<<4|(p=s.indexOf(u.charAt(g++)))>>2,c=(3&p)<<6|(v=s.indexOf(u.charAt(g++))),d[y++]=l,p!==64&&(d[y++]=f),v!==64&&(d[y++]=c);return d}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function l(f,c,h,p,v){this.compressedSize=f,this.uncompressedSize=c,this.crc32=h,this.compression=p,this.compressedContent=v}l.prototype={getContentWorker:function(){var f=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(f,c,h){return f.pipe(new s).pipe(new u("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(o){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=function(){for(var s,u=[],l=0;l<256;l++){s=l;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[l]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?i.getTypeOf(s)!=="string"?function(l,f,c,h){var p=o,v=h+c;l^=-1;for(var g=h;g<v;g++)l=l>>>8^p[255&(l^f[g])];return-1^l}(0|u,s,s.length,0):function(l,f,c,h){var p=o,v=h+c;l^=-1;for(var g=h;g<v;g++)l=l>>>8^p[255&(l^f.charCodeAt(g))];return-1^l}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),u=r("./stream/GenericWorker"),l=i?"uint8array":"array";function f(c,h){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}a.magic="\b\0",s.inherits(f,u),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,c.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},a.compressWorker=function(c){return new f("Deflate",c)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function o(p,v,g,y,m,d){var _,x,w=p.file,S=p.compression,b=d!==l.utf8encode,T=s.transformTo("string",d(w.name)),C=s.transformTo("string",l.utf8encode(w.name)),M=w.comment,D=s.transformTo("string",d(M)),E=s.transformTo("string",l.utf8encode(M)),k=C.length!==w.name.length,O=E.length!==M.length,A="",I="",U="",P=w.dir,B=w.date,W={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(W.crc32=p.crc32,W.compressedSize=p.compressedSize,W.uncompressedSize=p.uncompressedSize);var H=0;v&&(H|=8),b||!k&&!O||(H|=2048);var $=0,q=0;P&&($|=16),m==="UNIX"?(q=798,$|=function(Y,ie){var J=Y;return Y||(J=ie?16893:33204),(65535&J)<<16}(w.unixPermissions,P)):(q=20,$|=function(Y){return 63&(Y||0)}(w.dosPermissions)),_=B.getUTCHours(),_<<=6,_|=B.getUTCMinutes(),_<<=5,_|=B.getUTCSeconds()/2,x=B.getUTCFullYear()-1980,x<<=4,x|=B.getUTCMonth()+1,x<<=5,x|=B.getUTCDate(),k&&(I=i(1,1)+i(f(T),4)+C,A+="up"+i(I.length,2)+I),O&&(U=i(1,1)+i(f(D),4)+E,A+="uc"+i(U.length,2)+U);var Q="";return Q+=`
\0`,Q+=i(H,2),Q+=S.magic,Q+=i(_,2),Q+=i(x,2),Q+=i(W.crc32,4),Q+=i(W.compressedSize,4),Q+=i(W.uncompressedSize,4),Q+=i(T.length,2),Q+=i(A.length,2),{fileRecord:c.LOCAL_FILE_HEADER+Q+T+A,dirRecord:c.CENTRAL_FILE_HEADER+i(q,2)+Q+i(D.length,2)+"\0\0\0\0"+i($,4)+i(y,4)+T+A+D}}var s=r("../utils"),u=r("../stream/GenericWorker"),l=r("../utf8"),f=r("../crc32"),c=r("../signature");function h(p,v,g,y){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,u),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,u.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=o(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=o(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:function(y){return c.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=function(m,d,_,x,w){var S=s.transformTo("string",w(x));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(m,2)+i(m,2)+i(d,4)+i(_,4)+i(S.length,2)+S}(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!u.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){u.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(s,u,l){var f=new o(u.streamFiles,l,u.platform,u.encodeFileName),c=0;try{s.forEach(function(h,p){c++;var v=function(d,_){var x=d||_,w=i[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(p.options.compression,u.compression),g=p.options.compressionOptions||u.compressionOptions||{},y=p.dir,m=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:m,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(f)}),f.entriesCount=c}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.9.1",i.loadAsync=function(o,s){return new i().loadAsync(o,s)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),s=r("./utf8"),u=r("./zipEntries"),l=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function c(h){return new o.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new l);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var v=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),f.isNode&&f.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new u(p);return y.load(g),y}).then(function(g){var y=[o.Promise.resolve(g)],m=g.files;if(p.checkCRC32)for(var d=0;d<m.length;d++)y.push(c(m[d]));return o.Promise.all(y)}).then(function(g){for(var y=g.shift(),m=y.files,d=0;d<m.length;d++){var _=m[d],x=_.fileNameStr,w=i.resolve(_.fileNameStr);v.file(w,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:p.createFolders}),_.dir||(v.file(w).unsafeOriginalName=x)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function s(u,l){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}i.inherits(s,o),s.prototype._bindStream=function(u){var l=this;(this._stream=u).pause(),u.on("data",function(f){l.push({data:f,meta:{percent:0}})}).on("error",function(f){l.isPaused?this.generatedError=f:l.error(f)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(s,u,l){i.call(this,u),this._helper=s;var f=this;s.on("data",function(c,h){f.push(c)||f._helper.pause(),l&&l(h)}).on("error",function(c){f.emit("error",c)}).on("end",function(){f.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(w,S,b){var T,C=s.getTypeOf(S),M=s.extend(b||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(w=m(w)),M.createFolders&&(T=y(w))&&d.call(this,T,!0);var D=C==="string"&&M.binary===!1&&M.base64===!1;b&&b.binary!==void 0||(M.binary=!D),(S instanceof c&&S.uncompressedSize===0||M.dir||!S||S.length===0)&&(M.base64=!1,M.binary=!0,S="",M.compression="STORE",C="string");var E=null;E=S instanceof c||S instanceof u?S:v.isNode&&v.isStream(S)?new g(w,S):s.prepareContent(w,S,M.binary,M.optimizedBinaryString,M.base64);var k=new h(w,E,M);this.files[w]=k}var o=r("./utf8"),s=r("./utils"),u=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),f=r("./defaults"),c=r("./compressedObject"),h=r("./zipObject"),p=r("./generate"),v=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),y=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},m=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},d=function(w,S){return S=S!==void 0?S:f.createFolders,w=m(w),this.files[w]||i.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function _(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,b,T;for(S in this.files)T=this.files[S],(b=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(b,T)},filter:function(w){var S=[];return this.forEach(function(b,T){w(b,T)&&S.push(T)}),S},file:function(w,S,b){if(arguments.length!==1)return w=this.root+w,i.call(this,w,S,b),this;if(_(w)){var T=w;return this.filter(function(M,D){return!D.dir&&T.test(M)})}var C=this.files[this.root+w];return C&&!C.dir?C:null},folder:function(w){if(!w)return this;if(_(w))return this.filter(function(C,M){return M.dir&&w.test(C)});var S=this.root+w,b=d.call(this,S),T=this.clone();return T.root=b.name,T},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var b=this.filter(function(C,M){return M.name.slice(0,w.length)===w}),T=0;T<b.length;T++)delete this.files[b[T].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,b={};try{if((b=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=b.type.toLowerCase(),b.compression=b.compression.toUpperCase(),b.type==="binarystring"&&(b.type="string"),!b.type)throw new Error("No output type specified.");s.checkSupport(b.type),b.platform!=="darwin"&&b.platform!=="freebsd"&&b.platform!=="linux"&&b.platform!=="sunos"||(b.platform="UNIX"),b.platform==="win32"&&(b.platform="DOS");var T=b.comment||this.comment||"";S=p.generateWorker(this,b,T)}catch(C){(S=new u("error")).error(C)}return new l(S,b.type||"string",b.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(s){i.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}r("../utils").inherits(o,i),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),l=s.charCodeAt(1),f=s.charCodeAt(2),c=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===u&&this.data[h+1]===l&&this.data[h+2]===f&&this.data[h+3]===c)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),l=s.charCodeAt(1),f=s.charCodeAt(2),c=s.charCodeAt(3),h=this.readData(4);return u===h[0]&&l===h[1]&&f===h[2]&&c===h[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(s){},readInt:function(s){var u,l=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=s,l},readString:function(s){return i.transformTo("string",this.readData(s))},readData:function(s){},lastIndexOfSignature:function(s){},readAndCheckSignature:function(s){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),s=r("./ArrayReader"),u=r("./StringReader"),l=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(c){var h=i.getTypeOf(c);return i.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new l(c):o.uint8array?new f(i.transformTo("uint8array",c)):new s(i.transformTo("array",c)):new u(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function s(u){i.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(s,i),s.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,i),s.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(s,o),s.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){l.dataIsReady=!0,l.data=f,l.max=f&&f.length||0,l.type=i.getTypeOf(f),l.isPaused||l._tickAndRepeat()},function(f){l.error(f)})}i.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,l);break;case"uint8array":u=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":u=this.data.slice(this.index,l)}return this.index=l,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(u){s.processChunk(u)}),o.on("end",function(){s.end()}),o.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),u=r("../base64"),l=r("../support"),f=r("../external"),c=null;if(l.nodestream)try{c=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new f.Promise(function(y,m){var d=[],_=v._internalType,x=v._outputType,w=v._mimeType;v.on("data",function(S,b){d.push(S),g&&g(b)}).on("error",function(S){d=[],m(S)}).on("end",function(){try{var S=function(b,T,C){switch(b){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),C);case"base64":return u.encode(T);default:return i.transformTo(b,T)}}(x,function(b,T){var C,M=0,D=null,E=0;for(C=0;C<T.length;C++)E+=T[C].length;switch(b){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(D=new Uint8Array(E),C=0;C<T.length;C++)D.set(T[C],M),M+=T[C].length;return D;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+b+"'")}}(_,d),w);y(S)}catch(b){m(b)}d=[]}).resume()})}function p(v,g,y){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=y,i.checkSupport(m),this._worker=v.pipe(new o(m)),v.lock()}catch(d){this._worker=new s("error"),this._worker.error(d)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(m){g.call(y,m.data,m.meta)}):this._worker.on(v,function(){i.delay(g,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),u=r("./stream/GenericWorker"),l=new Array(256),f=0;f<256;f++)l[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;l[254]=l[254]=1;function c(){u.call(this,"utf-8 decode"),this.leftOver=null}function h(){u.call(this,"utf-8 encode")}a.utf8encode=function(p){return o.nodebuffer?s.newBufferFrom(p,"utf-8"):function(v){var g,y,m,d,_,x=v.length,w=0;for(d=0;d<x;d++)(64512&(y=v.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=v.charCodeAt(d+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),d++),w+=y<128?1:y<2048?2:y<65536?3:4;for(g=o.uint8array?new Uint8Array(w):new Array(w),d=_=0;_<w;d++)(64512&(y=v.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=v.charCodeAt(d+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),d++),y<128?g[_++]=y:(y<2048?g[_++]=192|y>>>6:(y<65536?g[_++]=224|y>>>12:(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63),g[_++]=128|y>>>6&63),g[_++]=128|63&y);return g}(p)},a.utf8decode=function(p){return o.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(v){var g,y,m,d,_=v.length,x=new Array(2*_);for(g=y=0;g<_;)if((m=v[g++])<128)x[y++]=m;else if(4<(d=l[m]))x[y++]=65533,g+=d-1;else{for(m&=d===2?31:d===3?15:7;1<d&&g<_;)m=m<<6|63&v[g++],d--;1<d?x[y++]=65533:m<65536?x[y++]=m:(m-=65536,x[y++]=55296|m>>10&1023,x[y++]=56320|1023&m)}return x.length!==y&&(x.subarray?x=x.subarray(0,y):x.length=y),i.applyFromCharCode(x)}(p=i.transformTo(o.uint8array?"uint8array":"array",p))},i.inherits(c,u),c.prototype.processChunk=function(p){var v=i.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=function(d,_){var x;for((_=_||d.length)>d.length&&(_=d.length),x=_-1;0<=x&&(192&d[x])==128;)x--;return x<0||x===0?_:x+l[d[x]]>_?x:_}(v),m=v;y!==v.length&&(o.uint8array?(m=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(m=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:a.utf8decode(m),meta:p.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=c,i.inherits(h,u),h.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),u=r("set-immediate-shim"),l=r("./external");function f(y){return y}function c(y,m){for(var d=0;d<y.length;++d)m[d]=255&y.charCodeAt(d);return m}a.newBlob=function(y,m){a.checkSupport("blob");try{return new Blob([y],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(y),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,m,d){var _=[],x=0,w=y.length;if(w<=d)return String.fromCharCode.apply(null,y);for(;x<w;)m==="array"||m==="nodebuffer"?_.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+d,w)))):_.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+d,w)))),x+=d;return _.join("")},stringifyByChar:function(y){for(var m="",d=0;d<y.length;d++)m+=String.fromCharCode(y[d]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var m=65536,d=a.getTypeOf(y),_=!0;if(d==="uint8array"?_=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(_=h.applyCanBeUsed.nodebuffer),_)for(;1<m;)try{return h.stringifyByChunk(y,d,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(y)}function v(y,m){for(var d=0;d<y.length;d++)m[d]=y[d];return m}a.applyFromCharCode=p;var g={};g.string={string:f,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,s.allocBuffer(y.length))}},g.array={string:p,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return s.newBufferFrom(y)}},g.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return s.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:p,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return s.newBufferFrom(y)}},g.nodebuffer={string:p,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:f},a.transformTo=function(y,m){if(m=m||"",!y)return m;a.checkSupport(y);var d=a.getTypeOf(m);return g[d][y](m)},a.resolve=function(y){for(var m=y.split("/"),d=[],_=0;_<m.length;_++){var x=m[_];x==="."||x===""&&_!==0&&_!==m.length-1||(x===".."?d.pop():d.push(x))}return d.join("/")},a.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&s.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var m,d,_="";for(d=0;d<(y||"").length;d++)_+="\\x"+((m=y.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return _},a.delay=function(y,m,d){u(function(){y.apply(d||null,m||[])})},a.inherits=function(y,m){function d(){}d.prototype=m.prototype,y.prototype=new d},a.extend=function(){var y,m,d={};for(y=0;y<arguments.length;y++)for(m in arguments[y])arguments[y].hasOwnProperty(m)&&d[m]===void 0&&(d[m]=arguments[y][m]);return d},a.prepareContent=function(y,m,d,_,x){return l.Promise.resolve(m).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,b){var T=new FileReader;T.onload=function(C){S(C.target.result)},T.onerror=function(C){b(C.target.error)},T.readAsArrayBuffer(w)}):w}).then(function(w){var S=a.getTypeOf(w);return S?(S==="arraybuffer"?w=a.transformTo("uint8array",w):S==="string"&&(x?w=o.decode(w):d&&_!==!0&&(w=function(b){return c(b,i.uint8array?new Uint8Array(b.length):new Array(b.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),u=r("./zipEntry"),l=(r("./utf8"),r("./support"));function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(c)+")")}},isSignature:function(c,h){var p=this.reader.index;this.reader.setIndex(c);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=l.uint8array?"uint8array":"array",p=o.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,p,v=this.zip64EndOfCentralSize-44;0<v;)c=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(c=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),u=r("./crc32"),l=r("./utf8"),f=r("./compressions"),c=r("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(y){for(var m in f)if(f.hasOwnProperty(m)&&f[m].magic===y)return f[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(p){if(this.extraFields[1]){var v=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(p){var v,g,y,m=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<m;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(m)},handleUTF8:function(){var p=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var m=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=i(p.value);return v.readInt(1)!==1||u(this.fileName)!==v.readInt(4)?null:l.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=i(p.value);return v.readInt(1)!==1||u(this.fileComment)!==v.readInt(4)?null:l.utf8decode(v.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),u=r("./utf8"),l=r("./compressedObject"),f=r("./stream/GenericWorker");i.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var m=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var d=!this._dataBinary;d&&!m&&(g=g.pipe(new u.Utf8EncodeWorker)),!d&&m&&(g=g.pipe(new u.Utf8DecodeWorker))}catch(_){(g=new f("error")).error(_)}return new o(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof l&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof f?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)i.prototype[c[p]]=h;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,s,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var l=0,f=new u(v),c=i.document.createTextNode("");f.observe(c,{characterData:!0}),o=function(){c.data=l=++l%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new i.MessageChannel;h.port1.onmessage=v,o=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;s=!0;for(var m=p.length;m;){for(y=p,p=[],g=-1;++g<m;)y[g]();m=p.length}s=!1}n.exports=function(g){p.push(g)!==1||s||o()}}).call(this,typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var s={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];function c(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,m!==o&&g(this,m)}function h(m,d,_){this.promise=m,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function p(m,d,_){i(function(){var x;try{x=d(_)}catch(w){return s.reject(m,w)}x===m?s.reject(m,new TypeError("Cannot resolve promise with itself")):s.resolve(m,x)})}function v(m){var d=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof d=="function")return function(){d.apply(m,arguments)}}function g(m,d){var _=!1;function x(b){_||(_=!0,s.reject(m,b))}function w(b){_||(_=!0,s.resolve(m,b))}var S=y(function(){d(w,x)});S.status==="error"&&x(S.value)}function y(m,d){var _={};try{_.value=m(d),_.status="success"}catch(x){_.status="error",_.value=x}return _}(n.exports=c).prototype.finally=function(m){if(typeof m!="function")return this;var d=this.constructor;return this.then(function(_){return d.resolve(m()).then(function(){return _})},function(_){return d.resolve(m()).then(function(){throw _})})},c.prototype.catch=function(m){return this.then(null,m)},c.prototype.then=function(m,d){if(typeof m!="function"&&this.state===l||typeof d!="function"&&this.state===u)return this;var _=new this.constructor(o);return this.state!==f?p(_,this.state===l?m:d,this.outcome):this.queue.push(new h(_,m,d)),_},h.prototype.callFulfilled=function(m){s.resolve(this.promise,m)},h.prototype.otherCallFulfilled=function(m){p(this.promise,this.onFulfilled,m)},h.prototype.callRejected=function(m){s.reject(this.promise,m)},h.prototype.otherCallRejected=function(m){p(this.promise,this.onRejected,m)},s.resolve=function(m,d){var _=y(v,d);if(_.status==="error")return s.reject(m,_.value);var x=_.value;if(x)g(m,x);else{m.state=l,m.outcome=d;for(var w=-1,S=m.queue.length;++w<S;)m.queue[w].callFulfilled(d)}return m},s.reject=function(m,d){m.state=u,m.outcome=d;for(var _=-1,x=m.queue.length;++_<x;)m.queue[_].callRejected(d);return m},c.resolve=function(m){return m instanceof this?m:s.resolve(new this(o),m)},c.reject=function(m){var d=new this(o);return s.reject(d,m)},c.all=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,x=!1;if(!_)return this.resolve([]);for(var w=new Array(_),S=0,b=-1,T=new this(o);++b<_;)C(m[b],b);return T;function C(M,D){d.resolve(M).then(function(E){w[D]=E,++S!==_||x||(x=!0,s.resolve(T,w))},function(E){x||(x=!0,s.reject(T,E))})}},c.race=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,x=!1;if(!_)return this.resolve([]);for(var w=-1,S=new this(o);++w<_;)b=m[w],d.resolve(b).then(function(T){x||(x=!0,s.resolve(S,T))},function(T){x||(x=!0,s.reject(S,T))});var b;return S}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/messages"),l=r("./zlib/zstream"),f=Object.prototype.toString,c=0,h=-1,p=0,v=8;function g(m){if(!(this instanceof g))return new g(m);this.options=o.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},m||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var _=i.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(_!==c)throw new Error(u[_]);if(d.header&&i.deflateSetHeader(this.strm,d.header),d.dictionary){var x;if(x=typeof d.dictionary=="string"?s.string2buf(d.dictionary):f.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(_=i.deflateSetDictionary(this.strm,x))!==c)throw new Error(u[_]);this._dict_set=!0}}function y(m,d){var _=new g(d);if(_.push(m,!0),_.err)throw _.msg||u[_.err];return _.result}g.prototype.push=function(m,d){var _,x,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;x=d===~~d?d:d===!0?4:0,typeof m=="string"?w.input=s.string2buf(m):f.call(m)==="[object ArrayBuffer]"?w.input=new Uint8Array(m):w.input=m,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(S),w.next_out=0,w.avail_out=S),(_=i.deflate(w,x))!==1&&_!==c)return this.onEnd(_),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&_!==1);return x===4?(_=i.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c):x!==2||(this.onEnd(c),!(w.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Deflate=g,a.deflate=y,a.deflateRaw=function(m,d){return(d=d||{}).raw=!0,y(m,d)},a.gzip=function(m,d){return(d=d||{}).gzip=!0,y(m,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/constants"),l=r("./zlib/messages"),f=r("./zlib/zstream"),c=r("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var m=i.inflateInit2(this.strm,y.windowBits);if(m!==u.Z_OK)throw new Error(l[m]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function v(g,y){var m=new p(y);if(m.push(g,!0),m.err)throw m.msg||l[m.err];return m.result}p.prototype.push=function(g,y){var m,d,_,x,w,S,b=this.strm,T=this.options.chunkSize,C=this.options.dictionary,M=!1;if(this.ended)return!1;d=y===~~y?y:y===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof g=="string"?b.input=s.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?b.input=new Uint8Array(g):b.input=g,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new o.Buf8(T),b.next_out=0,b.avail_out=T),(m=i.inflate(b,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&C&&(S=typeof C=="string"?s.string2buf(C):h.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,m=i.inflateSetDictionary(this.strm,S)),m===u.Z_BUF_ERROR&&M===!0&&(m=u.Z_OK,M=!1),m!==u.Z_STREAM_END&&m!==u.Z_OK)return this.onEnd(m),!(this.ended=!0);b.next_out&&(b.avail_out!==0&&m!==u.Z_STREAM_END&&(b.avail_in!==0||d!==u.Z_FINISH&&d!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=s.utf8border(b.output,b.next_out),x=b.next_out-_,w=s.buf2string(b.output,_),b.next_out=x,b.avail_out=T-x,x&&o.arraySet(b.output,b.output,_,x,0),this.onData(w)):this.onData(o.shrinkBuf(b.output,b.next_out)))),b.avail_in===0&&b.avail_out===0&&(M=!0)}while((0<b.avail_in||b.avail_out===0)&&m!==u.Z_STREAM_END);return m===u.Z_STREAM_END&&(d=u.Z_FINISH),d===u.Z_FINISH?(m=i.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===u.Z_OK):d!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(b.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Inflate=p,a.inflate=v,a.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var f=l.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])}}return u},a.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var o={arraySet:function(u,l,f,c,h){if(l.subarray&&u.subarray)u.set(l.subarray(f,f+c),h);else for(var p=0;p<c;p++)u[h+p]=l[f+p]},flattenChunks:function(u){var l,f,c,h,p,v;for(l=c=0,f=u.length;l<f;l++)c+=u[l].length;for(v=new Uint8Array(c),l=h=0,f=u.length;l<f;l++)p=u[l],v.set(p,h),h+=p.length;return v}},s={arraySet:function(u,l,f,c,h){for(var p=0;p<c;p++)u[h+p]=l[f+p]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,s))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new i.Buf8(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function f(c,h){if(h<65537&&(c.subarray&&s||!c.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(c,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(c[v]);return p}u[254]=u[254]=1,a.string2buf=function(c){var h,p,v,g,y,m=c.length,d=0;for(g=0;g<m;g++)(64512&(p=c.charCodeAt(g)))==55296&&g+1<m&&(64512&(v=c.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),d+=p<128?1:p<2048?2:p<65536?3:4;for(h=new i.Buf8(d),g=y=0;y<d;g++)(64512&(p=c.charCodeAt(g)))==55296&&g+1<m&&(64512&(v=c.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},a.buf2binstring=function(c){return f(c,c.length)},a.binstring2buf=function(c){for(var h=new i.Buf8(c.length),p=0,v=h.length;p<v;p++)h[p]=c.charCodeAt(p);return h},a.buf2string=function(c,h){var p,v,g,y,m=h||c.length,d=new Array(2*m);for(p=v=0;p<m;)if((g=c[p++])<128)d[v++]=g;else if(4<(y=u[g]))d[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<m;)g=g<<6|63&c[p++],y--;1<y?d[v++]=65533:g<65536?d[v++]=g:(g-=65536,d[v++]=55296|g>>10&1023,d[v++]=56320|1023&g)}return f(d,v)},a.utf8border=function(c,h){var p;for((h=h||c.length)>c.length&&(h=c.length),p=h-1;0<=p&&(192&c[p])==128;)p--;return p<0||p===0?h:p+u[c[p]]>h?p:h}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,s,u){for(var l=65535&i|0,f=i>>>16&65535|0,c=0;s!==0;){for(s-=c=2e3<s?2e3:s;f=f+(l=l+o[u++]|0)|0,--c;);l%=65521,f%=65521}return l|f<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=function(){for(var o,s=[],u=0;u<256;u++){o=u;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[u]=o}return s}();n.exports=function(o,s,u,l){var f=i,c=l+u;o^=-1;for(var h=l;h<c;h++)o=o>>>8^f[255&(o^s[h])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),s=r("./trees"),u=r("./adler32"),l=r("./crc32"),f=r("./messages"),c=0,h=4,p=0,v=-2,g=-1,y=4,m=2,d=8,_=9,x=286,w=30,S=19,b=2*x+1,T=15,C=3,M=258,D=M+C+1,E=42,k=113,O=1,A=2,I=3,U=4;function P(L,G){return L.msg=f[G],G}function B(L){return(L<<1)-(4<L?9:0)}function W(L){for(var G=L.length;0<=--G;)L[G]=0}function H(L){var G=L.state,z=G.pending;z>L.avail_out&&(z=L.avail_out),z!==0&&(o.arraySet(L.output,G.pending_buf,G.pending_out,z,L.next_out),L.next_out+=z,G.pending_out+=z,L.total_out+=z,L.avail_out-=z,G.pending-=z,G.pending===0&&(G.pending_out=0))}function $(L,G){s._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,G),L.block_start=L.strstart,H(L.strm)}function q(L,G){L.pending_buf[L.pending++]=G}function Q(L,G){L.pending_buf[L.pending++]=G>>>8&255,L.pending_buf[L.pending++]=255&G}function Y(L,G){var z,j,K=L.max_chain_length,Z=L.strstart,ne=L.prev_length,ue=L.nice_match,se=L.strstart>L.w_size-D?L.strstart-(L.w_size-D):0,he=L.window,le=L.w_mask,ce=L.prev,me=L.strstart+M,ee=he[Z+ne-1],_e=he[Z+ne];L.prev_length>=L.good_match&&(K>>=2),ue>L.lookahead&&(ue=L.lookahead);do if(he[(z=G)+ne]===_e&&he[z+ne-1]===ee&&he[z]===he[Z]&&he[++z]===he[Z+1]){Z+=2,z++;do;while(he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&he[++Z]===he[++z]&&Z<me);if(j=M-(me-Z),Z=me-M,ne<j){if(L.match_start=G,ue<=(ne=j))break;ee=he[Z+ne-1],_e=he[Z+ne]}}while((G=ce[G&le])>se&&--K!=0);return ne<=L.lookahead?ne:L.lookahead}function ie(L){var G,z,j,K,Z,ne,ue,se,he,le,ce=L.w_size;do{if(K=L.window_size-L.lookahead-L.strstart,L.strstart>=ce+(ce-D)){for(o.arraySet(L.window,L.window,ce,ce,0),L.match_start-=ce,L.strstart-=ce,L.block_start-=ce,G=z=L.hash_size;j=L.head[--G],L.head[G]=ce<=j?j-ce:0,--z;);for(G=z=ce;j=L.prev[--G],L.prev[G]=ce<=j?j-ce:0,--z;);K+=ce}if(L.strm.avail_in===0)break;if(ne=L.strm,ue=L.window,se=L.strstart+L.lookahead,he=K,le=void 0,le=ne.avail_in,he<le&&(le=he),z=le===0?0:(ne.avail_in-=le,o.arraySet(ue,ne.input,ne.next_in,le,se),ne.state.wrap===1?ne.adler=u(ne.adler,ue,le,se):ne.state.wrap===2&&(ne.adler=l(ne.adler,ue,le,se)),ne.next_in+=le,ne.total_in+=le,le),L.lookahead+=z,L.lookahead+L.insert>=C)for(Z=L.strstart-L.insert,L.ins_h=L.window[Z],L.ins_h=(L.ins_h<<L.hash_shift^L.window[Z+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[Z+C-1])&L.hash_mask,L.prev[Z&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Z,Z++,L.insert--,!(L.lookahead+L.insert<C)););}while(L.lookahead<D&&L.strm.avail_in!==0)}function J(L,G){for(var z,j;;){if(L.lookahead<D){if(ie(L),L.lookahead<D&&G===c)return O;if(L.lookahead===0)break}if(z=0,L.lookahead>=C&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+C-1])&L.hash_mask,z=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),z!==0&&L.strstart-z<=L.w_size-D&&(L.match_length=Y(L,z)),L.match_length>=C)if(j=s._tr_tally(L,L.strstart-L.match_start,L.match_length-C),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=C){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+C-1])&L.hash_mask,z=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else j=s._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(j&&($(L,!1),L.strm.avail_out===0))return O}return L.insert=L.strstart<C-1?L.strstart:C-1,G===h?($(L,!0),L.strm.avail_out===0?I:U):L.last_lit&&($(L,!1),L.strm.avail_out===0)?O:A}function ae(L,G){for(var z,j,K;;){if(L.lookahead<D){if(ie(L),L.lookahead<D&&G===c)return O;if(L.lookahead===0)break}if(z=0,L.lookahead>=C&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+C-1])&L.hash_mask,z=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=C-1,z!==0&&L.prev_length<L.max_lazy_match&&L.strstart-z<=L.w_size-D&&(L.match_length=Y(L,z),L.match_length<=5&&(L.strategy===1||L.match_length===C&&4096<L.strstart-L.match_start)&&(L.match_length=C-1)),L.prev_length>=C&&L.match_length<=L.prev_length){for(K=L.strstart+L.lookahead-C,j=s._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-C),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=K&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+C-1])&L.hash_mask,z=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=C-1,L.strstart++,j&&($(L,!1),L.strm.avail_out===0))return O}else if(L.match_available){if((j=s._tr_tally(L,0,L.window[L.strstart-1]))&&$(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return O}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(j=s._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<C-1?L.strstart:C-1,G===h?($(L,!0),L.strm.avail_out===0?I:U):L.last_lit&&($(L,!1),L.strm.avail_out===0)?O:A}function re(L,G,z,j,K){this.good_length=L,this.max_lazy=G,this.nice_length=z,this.max_chain=j,this.func=K}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*b),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(T+1),this.heap=new o.Buf16(2*x+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(L){var G;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=m,(G=L.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?E:k,L.adler=G.wrap===2?0:1,G.last_flush=c,s._tr_init(G),p):P(L,v)}function F(L){var G=R(L);return G===p&&function(z){z.window_size=2*z.w_size,W(z.head),z.max_lazy_match=i[z.level].max_lazy,z.good_match=i[z.level].good_length,z.nice_match=i[z.level].nice_length,z.max_chain_length=i[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=C-1,z.match_available=0,z.ins_h=0}(L.state),G}function N(L,G,z,j,K,Z){if(!L)return v;var ne=1;if(G===g&&(G=6),j<0?(ne=0,j=-j):15<j&&(ne=2,j-=16),K<1||_<K||z!==d||j<8||15<j||G<0||9<G||Z<0||y<Z)return P(L,v);j===8&&(j=9);var ue=new V;return(L.state=ue).strm=L,ue.wrap=ne,ue.gzhead=null,ue.w_bits=j,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=K+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+C-1)/C),ue.window=new o.Buf8(2*ue.w_size),ue.head=new o.Buf16(ue.hash_size),ue.prev=new o.Buf16(ue.w_size),ue.lit_bufsize=1<<K+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new o.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=G,ue.strategy=Z,ue.method=z,F(L)}i=[new re(0,0,0,0,function(L,G){var z=65535;for(z>L.pending_buf_size-5&&(z=L.pending_buf_size-5);;){if(L.lookahead<=1){if(ie(L),L.lookahead===0&&G===c)return O;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var j=L.block_start+z;if((L.strstart===0||L.strstart>=j)&&(L.lookahead=L.strstart-j,L.strstart=j,$(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-D&&($(L,!1),L.strm.avail_out===0))return O}return L.insert=0,G===h?($(L,!0),L.strm.avail_out===0?I:U):(L.strstart>L.block_start&&($(L,!1),L.strm.avail_out),O)}),new re(4,4,8,4,J),new re(4,5,16,8,J),new re(4,6,32,32,J),new re(4,4,16,16,ae),new re(8,16,32,32,ae),new re(8,16,128,128,ae),new re(8,32,128,256,ae),new re(32,128,258,1024,ae),new re(32,258,258,4096,ae)],a.deflateInit=function(L,G){return N(L,G,d,15,8,0)},a.deflateInit2=N,a.deflateReset=F,a.deflateResetKeep=R,a.deflateSetHeader=function(L,G){return L&&L.state?L.state.wrap!==2?v:(L.state.gzhead=G,p):v},a.deflate=function(L,G){var z,j,K,Z;if(!L||!L.state||5<G||G<0)return L?P(L,v):v;if(j=L.state,!L.output||!L.input&&L.avail_in!==0||j.status===666&&G!==h)return P(L,L.avail_out===0?-5:v);if(j.strm=L,z=j.last_flush,j.last_flush=G,j.status===E)if(j.wrap===2)L.adler=0,q(j,31),q(j,139),q(j,8),j.gzhead?(q(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),q(j,255&j.gzhead.time),q(j,j.gzhead.time>>8&255),q(j,j.gzhead.time>>16&255),q(j,j.gzhead.time>>24&255),q(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),q(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(q(j,255&j.gzhead.extra.length),q(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(L.adler=l(L.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(q(j,0),q(j,0),q(j,0),q(j,0),q(j,0),q(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),q(j,3),j.status=k);else{var ne=d+(j.w_bits-8<<4)<<8;ne|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(ne|=32),ne+=31-ne%31,j.status=k,Q(j,ne),j.strstart!==0&&(Q(j,L.adler>>>16),Q(j,65535&L.adler)),L.adler=1}if(j.status===69)if(j.gzhead.extra){for(K=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),H(L),K=j.pending,j.pending!==j.pending_buf_size));)q(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){K=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),H(L),K=j.pending,j.pending===j.pending_buf_size)){Z=1;break}Z=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,q(j,Z)}while(Z!==0);j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),Z===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){K=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),H(L),K=j.pending,j.pending===j.pending_buf_size)){Z=1;break}Z=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,q(j,Z)}while(Z!==0);j.gzhead.hcrc&&j.pending>K&&(L.adler=l(L.adler,j.pending_buf,j.pending-K,K)),Z===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&H(L),j.pending+2<=j.pending_buf_size&&(q(j,255&L.adler),q(j,L.adler>>8&255),L.adler=0,j.status=k)):j.status=k),j.pending!==0){if(H(L),L.avail_out===0)return j.last_flush=-1,p}else if(L.avail_in===0&&B(G)<=B(z)&&G!==h)return P(L,-5);if(j.status===666&&L.avail_in!==0)return P(L,-5);if(L.avail_in!==0||j.lookahead!==0||G!==c&&j.status!==666){var ue=j.strategy===2?function(se,he){for(var le;;){if(se.lookahead===0&&(ie(se),se.lookahead===0)){if(he===c)return O;break}if(se.match_length=0,le=s._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,le&&($(se,!1),se.strm.avail_out===0))return O}return se.insert=0,he===h?($(se,!0),se.strm.avail_out===0?I:U):se.last_lit&&($(se,!1),se.strm.avail_out===0)?O:A}(j,G):j.strategy===3?function(se,he){for(var le,ce,me,ee,_e=se.window;;){if(se.lookahead<=M){if(ie(se),se.lookahead<=M&&he===c)return O;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=C&&0<se.strstart&&(ce=_e[me=se.strstart-1])===_e[++me]&&ce===_e[++me]&&ce===_e[++me]){ee=se.strstart+M;do;while(ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&ce===_e[++me]&&me<ee);se.match_length=M-(ee-me),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=C?(le=s._tr_tally(se,1,se.match_length-C),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(le=s._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),le&&($(se,!1),se.strm.avail_out===0))return O}return se.insert=0,he===h?($(se,!0),se.strm.avail_out===0?I:U):se.last_lit&&($(se,!1),se.strm.avail_out===0)?O:A}(j,G):i[j.level].func(j,G);if(ue!==I&&ue!==U||(j.status=666),ue===O||ue===I)return L.avail_out===0&&(j.last_flush=-1),p;if(ue===A&&(G===1?s._tr_align(j):G!==5&&(s._tr_stored_block(j,0,0,!1),G===3&&(W(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),H(L),L.avail_out===0))return j.last_flush=-1,p}return G!==h?p:j.wrap<=0?1:(j.wrap===2?(q(j,255&L.adler),q(j,L.adler>>8&255),q(j,L.adler>>16&255),q(j,L.adler>>24&255),q(j,255&L.total_in),q(j,L.total_in>>8&255),q(j,L.total_in>>16&255),q(j,L.total_in>>24&255)):(Q(j,L.adler>>>16),Q(j,65535&L.adler)),H(L),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?p:1)},a.deflateEnd=function(L){var G;return L&&L.state?(G=L.state.status)!==E&&G!==69&&G!==73&&G!==91&&G!==103&&G!==k&&G!==666?P(L,v):(L.state=null,G===k?P(L,-3):p):v},a.deflateSetDictionary=function(L,G){var z,j,K,Z,ne,ue,se,he,le=G.length;if(!L||!L.state||(Z=(z=L.state).wrap)===2||Z===1&&z.status!==E||z.lookahead)return v;for(Z===1&&(L.adler=u(L.adler,G,le,0)),z.wrap=0,le>=z.w_size&&(Z===0&&(W(z.head),z.strstart=0,z.block_start=0,z.insert=0),he=new o.Buf8(z.w_size),o.arraySet(he,G,le-z.w_size,z.w_size,0),G=he,le=z.w_size),ne=L.avail_in,ue=L.next_in,se=L.input,L.avail_in=le,L.next_in=0,L.input=G,ie(z);z.lookahead>=C;){for(j=z.strstart,K=z.lookahead-(C-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[j+C-1])&z.hash_mask,z.prev[j&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=j,j++,--K;);z.strstart=j,z.lookahead=C-1,ie(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=C-1,z.match_available=0,L.next_in=ue,L.input=se,L.avail_in=ne,z.wrap=Z,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var s,u,l,f,c,h,p,v,g,y,m,d,_,x,w,S,b,T,C,M,D,E,k,O,A;s=i.state,u=i.next_in,O=i.input,l=u+(i.avail_in-5),f=i.next_out,A=i.output,c=f-(o-i.avail_out),h=f+(i.avail_out-257),p=s.dmax,v=s.wsize,g=s.whave,y=s.wnext,m=s.window,d=s.hold,_=s.bits,x=s.lencode,w=s.distcode,S=(1<<s.lenbits)-1,b=(1<<s.distbits)-1;e:do{_<15&&(d+=O[u++]<<_,_+=8,d+=O[u++]<<_,_+=8),T=x[d&S];t:for(;;){if(d>>>=C=T>>>24,_-=C,(C=T>>>16&255)===0)A[f++]=65535&T;else{if(!(16&C)){if((64&C)==0){T=x[(65535&T)+(d&(1<<C)-1)];continue t}if(32&C){s.mode=12;break e}i.msg="invalid literal/length code",s.mode=30;break e}M=65535&T,(C&=15)&&(_<C&&(d+=O[u++]<<_,_+=8),M+=d&(1<<C)-1,d>>>=C,_-=C),_<15&&(d+=O[u++]<<_,_+=8,d+=O[u++]<<_,_+=8),T=w[d&b];r:for(;;){if(d>>>=C=T>>>24,_-=C,!(16&(C=T>>>16&255))){if((64&C)==0){T=w[(65535&T)+(d&(1<<C)-1)];continue r}i.msg="invalid distance code",s.mode=30;break e}if(D=65535&T,_<(C&=15)&&(d+=O[u++]<<_,(_+=8)<C&&(d+=O[u++]<<_,_+=8)),p<(D+=d&(1<<C)-1)){i.msg="invalid distance too far back",s.mode=30;break e}if(d>>>=C,_-=C,(C=f-c)<D){if(g<(C=D-C)&&s.sane){i.msg="invalid distance too far back",s.mode=30;break e}if(k=m,(E=0)===y){if(E+=v-C,C<M){for(M-=C;A[f++]=m[E++],--C;);E=f-D,k=A}}else if(y<C){if(E+=v+y-C,(C-=y)<M){for(M-=C;A[f++]=m[E++],--C;);if(E=0,y<M){for(M-=C=y;A[f++]=m[E++],--C;);E=f-D,k=A}}}else if(E+=y-C,C<M){for(M-=C;A[f++]=m[E++],--C;);E=f-D,k=A}for(;2<M;)A[f++]=k[E++],A[f++]=k[E++],A[f++]=k[E++],M-=3;M&&(A[f++]=k[E++],1<M&&(A[f++]=k[E++]))}else{for(E=f-D;A[f++]=A[E++],A[f++]=A[E++],A[f++]=A[E++],2<(M-=3););M&&(A[f++]=A[E++],1<M&&(A[f++]=A[E++]))}break}}break}}while(u<l&&f<h);u-=M=_>>3,d&=(1<<(_-=M<<3))-1,i.next_in=u,i.next_out=f,i.avail_in=u<l?l-u+5:5-(u-l),i.avail_out=f<h?h-f+257:257-(f-h),s.hold=d,s.bits=_}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),u=r("./inffast"),l=r("./inftrees"),f=1,c=2,h=0,p=-2,v=1,g=852,y=592;function m(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(E){var k;return E&&E.state?(k=E.state,E.total_in=E.total_out=k.total=0,E.msg="",k.wrap&&(E.adler=1&k.wrap),k.mode=v,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new i.Buf32(g),k.distcode=k.distdyn=new i.Buf32(y),k.sane=1,k.back=-1,h):p}function x(E){var k;return E&&E.state?((k=E.state).wsize=0,k.whave=0,k.wnext=0,_(E)):p}function w(E,k){var O,A;return E&&E.state?(A=E.state,k<0?(O=0,k=-k):(O=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?p:(A.window!==null&&A.wbits!==k&&(A.window=null),A.wrap=O,A.wbits=k,x(E))):p}function S(E,k){var O,A;return E?(A=new d,(E.state=A).window=null,(O=w(E,k))!==h&&(E.state=null),O):p}var b,T,C=!0;function M(E){if(C){var k;for(b=new i.Buf32(512),T=new i.Buf32(32),k=0;k<144;)E.lens[k++]=8;for(;k<256;)E.lens[k++]=9;for(;k<280;)E.lens[k++]=7;for(;k<288;)E.lens[k++]=8;for(l(f,E.lens,0,288,b,0,E.work,{bits:9}),k=0;k<32;)E.lens[k++]=5;l(c,E.lens,0,32,T,0,E.work,{bits:5}),C=!1}E.lencode=b,E.lenbits=9,E.distcode=T,E.distbits=5}function D(E,k,O,A){var I,U=E.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new i.Buf8(U.wsize)),A>=U.wsize?(i.arraySet(U.window,k,O-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(A<(I=U.wsize-U.wnext)&&(I=A),i.arraySet(U.window,k,O-A,I,U.wnext),(A-=I)?(i.arraySet(U.window,k,O-A,A,0),U.wnext=A,U.whave=U.wsize):(U.wnext+=I,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=I))),0}a.inflateReset=x,a.inflateReset2=w,a.inflateResetKeep=_,a.inflateInit=function(E){return S(E,15)},a.inflateInit2=S,a.inflate=function(E,k){var O,A,I,U,P,B,W,H,$,q,Q,Y,ie,J,ae,re,V,R,F,N,L,G,z,j,K=0,Z=new i.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return p;(O=E.state).mode===12&&(O.mode=13),P=E.next_out,I=E.output,W=E.avail_out,U=E.next_in,A=E.input,B=E.avail_in,H=O.hold,$=O.bits,q=B,Q=W,G=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;$<16;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(2&O.wrap&&H===35615){Z[O.check=0]=255&H,Z[1]=H>>>8&255,O.check=s(O.check,Z,2,0),$=H=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&H)<<8)+(H>>8))%31){E.msg="incorrect header check",O.mode=30;break}if((15&H)!=8){E.msg="unknown compression method",O.mode=30;break}if($-=4,L=8+(15&(H>>>=4)),O.wbits===0)O.wbits=L;else if(L>O.wbits){E.msg="invalid window size",O.mode=30;break}O.dmax=1<<L,E.adler=O.check=1,O.mode=512&H?10:12,$=H=0;break;case 2:for(;$<16;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(O.flags=H,(255&O.flags)!=8){E.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){E.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=H>>8&1),512&O.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,O.check=s(O.check,Z,2,0)),$=H=0,O.mode=3;case 3:for(;$<32;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.head&&(O.head.time=H),512&O.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,Z[2]=H>>>16&255,Z[3]=H>>>24&255,O.check=s(O.check,Z,4,0)),$=H=0,O.mode=4;case 4:for(;$<16;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.head&&(O.head.xflags=255&H,O.head.os=H>>8),512&O.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,O.check=s(O.check,Z,2,0)),$=H=0,O.mode=5;case 5:if(1024&O.flags){for(;$<16;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.length=H,O.head&&(O.head.extra_len=H),512&O.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,O.check=s(O.check,Z,2,0)),$=H=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(B<(Y=O.length)&&(Y=B),Y&&(O.head&&(L=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),i.arraySet(O.head.extra,A,U,Y,L)),512&O.flags&&(O.check=s(O.check,A,Y,U)),B-=Y,U+=Y,O.length-=Y),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(B===0)break e;for(Y=0;L=A[U+Y++],O.head&&L&&O.length<65536&&(O.head.name+=String.fromCharCode(L)),L&&Y<B;);if(512&O.flags&&(O.check=s(O.check,A,Y,U)),B-=Y,U+=Y,L)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(B===0)break e;for(Y=0;L=A[U+Y++],O.head&&L&&O.length<65536&&(O.head.comment+=String.fromCharCode(L)),L&&Y<B;);if(512&O.flags&&(O.check=s(O.check,A,Y,U)),B-=Y,U+=Y,L)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;$<16;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(H!==(65535&O.check)){E.msg="header crc mismatch",O.mode=30;break}$=H=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),E.adler=O.check=0,O.mode=12;break;case 10:for(;$<32;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}E.adler=O.check=m(H),$=H=0,O.mode=11;case 11:if(O.havedict===0)return E.next_out=P,E.avail_out=W,E.next_in=U,E.avail_in=B,O.hold=H,O.bits=$,2;E.adler=O.check=1,O.mode=12;case 12:if(k===5||k===6)break e;case 13:if(O.last){H>>>=7&$,$-=7&$,O.mode=27;break}for(;$<3;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}switch(O.last=1&H,$-=1,3&(H>>>=1)){case 0:O.mode=14;break;case 1:if(M(O),O.mode=20,k!==6)break;H>>>=2,$-=2;break e;case 2:O.mode=17;break;case 3:E.msg="invalid block type",O.mode=30}H>>>=2,$-=2;break;case 14:for(H>>>=7&$,$-=7&$;$<32;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if((65535&H)!=(H>>>16^65535)){E.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&H,$=H=0,O.mode=15,k===6)break e;case 15:O.mode=16;case 16:if(Y=O.length){if(B<Y&&(Y=B),W<Y&&(Y=W),Y===0)break e;i.arraySet(I,A,U,Y,P),B-=Y,U+=Y,W-=Y,P+=Y,O.length-=Y;break}O.mode=12;break;case 17:for(;$<14;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(O.nlen=257+(31&H),H>>>=5,$-=5,O.ndist=1+(31&H),H>>>=5,$-=5,O.ncode=4+(15&H),H>>>=4,$-=4,286<O.nlen||30<O.ndist){E.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;$<3;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.lens[ne[O.have++]]=7&H,H>>>=3,$-=3}for(;O.have<19;)O.lens[ne[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,z={bits:O.lenbits},G=l(0,O.lens,0,19,O.lencode,0,O.work,z),O.lenbits=z.bits,G){E.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;re=(K=O.lencode[H&(1<<O.lenbits)-1])>>>16&255,V=65535&K,!((ae=K>>>24)<=$);){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(V<16)H>>>=ae,$-=ae,O.lens[O.have++]=V;else{if(V===16){for(j=ae+2;$<j;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(H>>>=ae,$-=ae,O.have===0){E.msg="invalid bit length repeat",O.mode=30;break}L=O.lens[O.have-1],Y=3+(3&H),H>>>=2,$-=2}else if(V===17){for(j=ae+3;$<j;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}$-=ae,L=0,Y=3+(7&(H>>>=ae)),H>>>=3,$-=3}else{for(j=ae+7;$<j;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}$-=ae,L=0,Y=11+(127&(H>>>=ae)),H>>>=7,$-=7}if(O.have+Y>O.nlen+O.ndist){E.msg="invalid bit length repeat",O.mode=30;break}for(;Y--;)O.lens[O.have++]=L}}if(O.mode===30)break;if(O.lens[256]===0){E.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,z={bits:O.lenbits},G=l(f,O.lens,0,O.nlen,O.lencode,0,O.work,z),O.lenbits=z.bits,G){E.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,z={bits:O.distbits},G=l(c,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,z),O.distbits=z.bits,G){E.msg="invalid distances set",O.mode=30;break}if(O.mode=20,k===6)break e;case 20:O.mode=21;case 21:if(6<=B&&258<=W){E.next_out=P,E.avail_out=W,E.next_in=U,E.avail_in=B,O.hold=H,O.bits=$,u(E,Q),P=E.next_out,I=E.output,W=E.avail_out,U=E.next_in,A=E.input,B=E.avail_in,H=O.hold,$=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;re=(K=O.lencode[H&(1<<O.lenbits)-1])>>>16&255,V=65535&K,!((ae=K>>>24)<=$);){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(re&&(240&re)==0){for(R=ae,F=re,N=V;re=(K=O.lencode[N+((H&(1<<R+F)-1)>>R)])>>>16&255,V=65535&K,!(R+(ae=K>>>24)<=$);){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}H>>>=R,$-=R,O.back+=R}if(H>>>=ae,$-=ae,O.back+=ae,O.length=V,re===0){O.mode=26;break}if(32&re){O.back=-1,O.mode=12;break}if(64&re){E.msg="invalid literal/length code",O.mode=30;break}O.extra=15&re,O.mode=22;case 22:if(O.extra){for(j=O.extra;$<j;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.length+=H&(1<<O.extra)-1,H>>>=O.extra,$-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;re=(K=O.distcode[H&(1<<O.distbits)-1])>>>16&255,V=65535&K,!((ae=K>>>24)<=$);){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if((240&re)==0){for(R=ae,F=re,N=V;re=(K=O.distcode[N+((H&(1<<R+F)-1)>>R)])>>>16&255,V=65535&K,!(R+(ae=K>>>24)<=$);){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}H>>>=R,$-=R,O.back+=R}if(H>>>=ae,$-=ae,O.back+=ae,64&re){E.msg="invalid distance code",O.mode=30;break}O.offset=V,O.extra=15&re,O.mode=24;case 24:if(O.extra){for(j=O.extra;$<j;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}O.offset+=H&(1<<O.extra)-1,H>>>=O.extra,$-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){E.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(W===0)break e;if(Y=Q-W,O.offset>Y){if((Y=O.offset-Y)>O.whave&&O.sane){E.msg="invalid distance too far back",O.mode=30;break}ie=Y>O.wnext?(Y-=O.wnext,O.wsize-Y):O.wnext-Y,Y>O.length&&(Y=O.length),J=O.window}else J=I,ie=P-O.offset,Y=O.length;for(W<Y&&(Y=W),W-=Y,O.length-=Y;I[P++]=J[ie++],--Y;);O.length===0&&(O.mode=21);break;case 26:if(W===0)break e;I[P++]=O.length,W--,O.mode=21;break;case 27:if(O.wrap){for(;$<32;){if(B===0)break e;B--,H|=A[U++]<<$,$+=8}if(Q-=W,E.total_out+=Q,O.total+=Q,Q&&(E.adler=O.check=O.flags?s(O.check,I,Q,P-Q):o(O.check,I,Q,P-Q)),Q=W,(O.flags?H:m(H))!==O.check){E.msg="incorrect data check",O.mode=30;break}$=H=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;$<32;){if(B===0)break e;B--,H+=A[U++]<<$,$+=8}if(H!==(4294967295&O.total)){E.msg="incorrect length check",O.mode=30;break}$=H=0}O.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;case 32:default:return p}return E.next_out=P,E.avail_out=W,E.next_in=U,E.avail_in=B,O.hold=H,O.bits=$,(O.wsize||Q!==E.avail_out&&O.mode<30&&(O.mode<27||k!==4))&&D(E,E.output,E.next_out,Q-E.avail_out)?(O.mode=31,-4):(q-=E.avail_in,Q-=E.avail_out,E.total_in+=q,E.total_out+=Q,O.total+=Q,O.wrap&&Q&&(E.adler=O.check=O.flags?s(O.check,I,Q,E.next_out-Q):o(O.check,I,Q,E.next_out-Q)),E.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(q==0&&Q===0||k===4)&&G===h&&(G=-5),G)},a.inflateEnd=function(E){if(!E||!E.state)return p;var k=E.state;return k.window&&(k.window=null),E.state=null,h},a.inflateGetHeader=function(E,k){var O;return E&&E.state?(2&(O=E.state).wrap)==0?p:((O.head=k).done=!1,h):p},a.inflateSetDictionary=function(E,k){var O,A=k.length;return E&&E.state?(O=E.state).wrap!==0&&O.mode!==11?p:O.mode===11&&o(1,k,A,0)!==O.check?-3:D(E,k,A,A)?(O.mode=31,-4):(O.havedict=1,h):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,c,h,p,v,g,y,m){var d,_,x,w,S,b,T,C,M,D=m.bits,E=0,k=0,O=0,A=0,I=0,U=0,P=0,B=0,W=0,H=0,$=null,q=0,Q=new i.Buf16(16),Y=new i.Buf16(16),ie=null,J=0;for(E=0;E<=15;E++)Q[E]=0;for(k=0;k<p;k++)Q[c[h+k]]++;for(I=D,A=15;1<=A&&Q[A]===0;A--);if(A<I&&(I=A),A===0)return v[g++]=20971520,v[g++]=20971520,m.bits=1,0;for(O=1;O<A&&Q[O]===0;O++);for(I<O&&(I=O),E=B=1;E<=15;E++)if(B<<=1,(B-=Q[E])<0)return-1;if(0<B&&(f===0||A!==1))return-1;for(Y[1]=0,E=1;E<15;E++)Y[E+1]=Y[E]+Q[E];for(k=0;k<p;k++)c[h+k]!==0&&(y[Y[c[h+k]]++]=k);if(b=f===0?($=ie=y,19):f===1?($=o,q-=257,ie=s,J-=257,256):($=u,ie=l,-1),E=O,S=g,P=k=H=0,x=-1,w=(W=1<<(U=I))-1,f===1&&852<W||f===2&&592<W)return 1;for(;;){for(T=E-P,M=y[k]<b?(C=0,y[k]):y[k]>b?(C=ie[J+y[k]],$[q+y[k]]):(C=96,0),d=1<<E-P,O=_=1<<U;v[S+(H>>P)+(_-=d)]=T<<24|C<<16|M|0,_!==0;);for(d=1<<E-1;H&d;)d>>=1;if(d!==0?(H&=d-1,H+=d):H=0,k++,--Q[E]==0){if(E===A)break;E=c[h+y[k]]}if(I<E&&(H&w)!==x){for(P===0&&(P=I),S+=O,B=1<<(U=E-P);U+P<A&&!((B-=Q[U+P])<=0);)U++,B<<=1;if(W+=1<<U,f===1&&852<W||f===2&&592<W)return 1;v[x=H&w]=I<<24|U<<16|S-g|0}}return H!==0&&(v[S+H]=E-P<<24|64<<16|0),m.bits=I,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,s=1;function u(K){for(var Z=K.length;0<=--Z;)K[Z]=0}var l=0,f=29,c=256,h=c+1+f,p=30,v=19,g=2*h+1,y=15,m=16,d=7,_=256,x=16,w=17,S=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));u(D);var E=new Array(2*p);u(E);var k=new Array(512);u(k);var O=new Array(256);u(O);var A=new Array(f);u(A);var I,U,P,B=new Array(p);function W(K,Z,ne,ue,se){this.static_tree=K,this.extra_bits=Z,this.extra_base=ne,this.elems=ue,this.max_length=se,this.has_stree=K&&K.length}function H(K,Z){this.dyn_tree=K,this.max_code=0,this.stat_desc=Z}function $(K){return K<256?k[K]:k[256+(K>>>7)]}function q(K,Z){K.pending_buf[K.pending++]=255&Z,K.pending_buf[K.pending++]=Z>>>8&255}function Q(K,Z,ne){K.bi_valid>m-ne?(K.bi_buf|=Z<<K.bi_valid&65535,q(K,K.bi_buf),K.bi_buf=Z>>m-K.bi_valid,K.bi_valid+=ne-m):(K.bi_buf|=Z<<K.bi_valid&65535,K.bi_valid+=ne)}function Y(K,Z,ne){Q(K,ne[2*Z],ne[2*Z+1])}function ie(K,Z){for(var ne=0;ne|=1&K,K>>>=1,ne<<=1,0<--Z;);return ne>>>1}function J(K,Z,ne){var ue,se,he=new Array(y+1),le=0;for(ue=1;ue<=y;ue++)he[ue]=le=le+ne[ue-1]<<1;for(se=0;se<=Z;se++){var ce=K[2*se+1];ce!==0&&(K[2*se]=ie(he[ce]++,ce))}}function ae(K){var Z;for(Z=0;Z<h;Z++)K.dyn_ltree[2*Z]=0;for(Z=0;Z<p;Z++)K.dyn_dtree[2*Z]=0;for(Z=0;Z<v;Z++)K.bl_tree[2*Z]=0;K.dyn_ltree[2*_]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function re(K){8<K.bi_valid?q(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function V(K,Z,ne,ue){var se=2*Z,he=2*ne;return K[se]<K[he]||K[se]===K[he]&&ue[Z]<=ue[ne]}function R(K,Z,ne){for(var ue=K.heap[ne],se=ne<<1;se<=K.heap_len&&(se<K.heap_len&&V(Z,K.heap[se+1],K.heap[se],K.depth)&&se++,!V(Z,ue,K.heap[se],K.depth));)K.heap[ne]=K.heap[se],ne=se,se<<=1;K.heap[ne]=ue}function F(K,Z,ne){var ue,se,he,le,ce=0;if(K.last_lit!==0)for(;ue=K.pending_buf[K.d_buf+2*ce]<<8|K.pending_buf[K.d_buf+2*ce+1],se=K.pending_buf[K.l_buf+ce],ce++,ue===0?Y(K,se,Z):(Y(K,(he=O[se])+c+1,Z),(le=b[he])!==0&&Q(K,se-=A[he],le),Y(K,he=$(--ue),ne),(le=T[he])!==0&&Q(K,ue-=B[he],le)),ce<K.last_lit;);Y(K,_,Z)}function N(K,Z){var ne,ue,se,he=Z.dyn_tree,le=Z.stat_desc.static_tree,ce=Z.stat_desc.has_stree,me=Z.stat_desc.elems,ee=-1;for(K.heap_len=0,K.heap_max=g,ne=0;ne<me;ne++)he[2*ne]!==0?(K.heap[++K.heap_len]=ee=ne,K.depth[ne]=0):he[2*ne+1]=0;for(;K.heap_len<2;)he[2*(se=K.heap[++K.heap_len]=ee<2?++ee:0)]=1,K.depth[se]=0,K.opt_len--,ce&&(K.static_len-=le[2*se+1]);for(Z.max_code=ee,ne=K.heap_len>>1;1<=ne;ne--)R(K,he,ne);for(se=me;ne=K.heap[1],K.heap[1]=K.heap[K.heap_len--],R(K,he,1),ue=K.heap[1],K.heap[--K.heap_max]=ne,K.heap[--K.heap_max]=ue,he[2*se]=he[2*ne]+he[2*ue],K.depth[se]=(K.depth[ne]>=K.depth[ue]?K.depth[ne]:K.depth[ue])+1,he[2*ne+1]=he[2*ue+1]=se,K.heap[1]=se++,R(K,he,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(_e,Oe){var Ee,fe,de,we,Se,ke,Ve=Oe.dyn_tree,Fe=Oe.max_code,tt=Oe.stat_desc.static_tree,Je=Oe.stat_desc.has_stree,ir=Oe.stat_desc.extra_bits,vr=Oe.stat_desc.extra_base,_t=Oe.stat_desc.max_length,xr=0;for(we=0;we<=y;we++)_e.bl_count[we]=0;for(Ve[2*_e.heap[_e.heap_max]+1]=0,Ee=_e.heap_max+1;Ee<g;Ee++)_t<(we=Ve[2*Ve[2*(fe=_e.heap[Ee])+1]+1]+1)&&(we=_t,xr++),Ve[2*fe+1]=we,Fe<fe||(_e.bl_count[we]++,Se=0,vr<=fe&&(Se=ir[fe-vr]),ke=Ve[2*fe],_e.opt_len+=ke*(we+Se),Je&&(_e.static_len+=ke*(tt[2*fe+1]+Se)));if(xr!==0){do{for(we=_t-1;_e.bl_count[we]===0;)we--;_e.bl_count[we]--,_e.bl_count[we+1]+=2,_e.bl_count[_t]--,xr-=2}while(0<xr);for(we=_t;we!==0;we--)for(fe=_e.bl_count[we];fe!==0;)Fe<(de=_e.heap[--Ee])||(Ve[2*de+1]!==we&&(_e.opt_len+=(we-Ve[2*de+1])*Ve[2*de],Ve[2*de+1]=we),fe--)}}(K,Z),J(he,ee,K.bl_count)}function L(K,Z,ne){var ue,se,he=-1,le=Z[1],ce=0,me=7,ee=4;for(le===0&&(me=138,ee=3),Z[2*(ne+1)+1]=65535,ue=0;ue<=ne;ue++)se=le,le=Z[2*(ue+1)+1],++ce<me&&se===le||(ce<ee?K.bl_tree[2*se]+=ce:se!==0?(se!==he&&K.bl_tree[2*se]++,K.bl_tree[2*x]++):ce<=10?K.bl_tree[2*w]++:K.bl_tree[2*S]++,he=se,ee=(ce=0)===le?(me=138,3):se===le?(me=6,3):(me=7,4))}function G(K,Z,ne){var ue,se,he=-1,le=Z[1],ce=0,me=7,ee=4;for(le===0&&(me=138,ee=3),ue=0;ue<=ne;ue++)if(se=le,le=Z[2*(ue+1)+1],!(++ce<me&&se===le)){if(ce<ee)for(;Y(K,se,K.bl_tree),--ce!=0;);else se!==0?(se!==he&&(Y(K,se,K.bl_tree),ce--),Y(K,x,K.bl_tree),Q(K,ce-3,2)):ce<=10?(Y(K,w,K.bl_tree),Q(K,ce-3,3)):(Y(K,S,K.bl_tree),Q(K,ce-11,7));he=se,ee=(ce=0)===le?(me=138,3):se===le?(me=6,3):(me=7,4)}}u(B);var z=!1;function j(K,Z,ne,ue){Q(K,(l<<1)+(ue?1:0),3),function(se,he,le,ce){re(se),q(se,le),q(se,~le),i.arraySet(se.pending_buf,se.window,he,le,se.pending),se.pending+=le}(K,Z,ne)}a._tr_init=function(K){z||(function(){var Z,ne,ue,se,he,le=new Array(y+1);for(se=ue=0;se<f-1;se++)for(A[se]=ue,Z=0;Z<1<<b[se];Z++)O[ue++]=se;for(O[ue-1]=se,se=he=0;se<16;se++)for(B[se]=he,Z=0;Z<1<<T[se];Z++)k[he++]=se;for(he>>=7;se<p;se++)for(B[se]=he<<7,Z=0;Z<1<<T[se]-7;Z++)k[256+he++]=se;for(ne=0;ne<=y;ne++)le[ne]=0;for(Z=0;Z<=143;)D[2*Z+1]=8,Z++,le[8]++;for(;Z<=255;)D[2*Z+1]=9,Z++,le[9]++;for(;Z<=279;)D[2*Z+1]=7,Z++,le[7]++;for(;Z<=287;)D[2*Z+1]=8,Z++,le[8]++;for(J(D,h+1,le),Z=0;Z<p;Z++)E[2*Z+1]=5,E[2*Z]=ie(Z,5);I=new W(D,b,c+1,h,y),U=new W(E,T,0,p,y),P=new W(new Array(0),C,0,v,d)}(),z=!0),K.l_desc=new H(K.dyn_ltree,I),K.d_desc=new H(K.dyn_dtree,U),K.bl_desc=new H(K.bl_tree,P),K.bi_buf=0,K.bi_valid=0,ae(K)},a._tr_stored_block=j,a._tr_flush_block=function(K,Z,ne,ue){var se,he,le=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(ce){var me,ee=4093624447;for(me=0;me<=31;me++,ee>>>=1)if(1&ee&&ce.dyn_ltree[2*me]!==0)return o;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return s;for(me=32;me<c;me++)if(ce.dyn_ltree[2*me]!==0)return s;return o}(K)),N(K,K.l_desc),N(K,K.d_desc),le=function(ce){var me;for(L(ce,ce.dyn_ltree,ce.l_desc.max_code),L(ce,ce.dyn_dtree,ce.d_desc.max_code),N(ce,ce.bl_desc),me=v-1;3<=me&&ce.bl_tree[2*M[me]+1]===0;me--);return ce.opt_len+=3*(me+1)+5+5+4,me}(K),se=K.opt_len+3+7>>>3,(he=K.static_len+3+7>>>3)<=se&&(se=he)):se=he=ne+5,ne+4<=se&&Z!==-1?j(K,Z,ne,ue):K.strategy===4||he===se?(Q(K,2+(ue?1:0),3),F(K,D,E)):(Q(K,4+(ue?1:0),3),function(ce,me,ee,_e){var Oe;for(Q(ce,me-257,5),Q(ce,ee-1,5),Q(ce,_e-4,4),Oe=0;Oe<_e;Oe++)Q(ce,ce.bl_tree[2*M[Oe]+1],3);G(ce,ce.dyn_ltree,me-1),G(ce,ce.dyn_dtree,ee-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,le+1),F(K,K.dyn_ltree,K.dyn_dtree)),ae(K),ue&&re(K)},a._tr_tally=function(K,Z,ne){return K.pending_buf[K.d_buf+2*K.last_lit]=Z>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&Z,K.pending_buf[K.l_buf+K.last_lit]=255&ne,K.last_lit++,Z===0?K.dyn_ltree[2*ne]++:(K.matches++,Z--,K.dyn_ltree[2*(O[ne]+c+1)]++,K.dyn_dtree[2*$(Z)]++),K.last_lit===K.lit_bufsize-1},a._tr_align=function(K){Q(K,2,3),Y(K,_,D),function(Z){Z.bi_valid===16?(q(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){n.exports=typeof setImmediate=="function"?setImmediate:function(){var i=[].slice.apply(arguments);i.splice(1,0,0),setTimeout.apply(null,i)}},{}]},{},[10])(10)})}(Mx)),Mx.exports}var Cce=Tce();const Ece=qv(Cce);var Mc=X.vtkErrorMacro,Dce=X.vtkDebugMacro;function Oce(t){var e=t.split(".").pop().toLowerCase();return e==="jpg"?"jpeg":e}function Mce(t,e,r){return function(n){t.buffer=new ArrayBuffer(n.length);var a=new Uint8Array(t.buffer);a.set(n),e&&(t.dataType==="string"||t.dataType==="JSON"?t.buffer=Tn.inflate(new Uint8Array(t.buffer),{to:"string"}):t.buffer=Tn.inflate(new Uint8Array(t.buffer)).buffer),t.ref.encode==="JSON"?t.values=JSON.parse(t.buffer):(Da.ENDIANNESS!==t.ref.encode&&Da.ENDIANNESS&&(Dce("Swap bytes of ".concat(t.name)),Da.swapBytes(t.buffer,Qv[t.dataType])),t.values=X.newTypedArray(t.dataType,t.buffer)),t.values.length!==t.size&&Mc("Error in FetchArray: ".concat(t.name," does not have the proper array size. Got ").concat(t.values.length,", instead of ").concat(t.size)),r()}}function Lce(t,e,r){return function(n){e?t.values=JSON.parse(Tn.inflate(n,{to:"string"})):t.values=JSON.parse(n),r()}}var kce={uint8array:Mce,string:Lce};function Rce(t){return t[0]==="/"?t.substr(1):t}function Ace(t){return new URL(t,"http://any").pathname}function uh(t){return Rce(Ace(t))}function Nce(t){var e=!1,r=0,n=new Ece,a=n;return n.loadAsync(t.zipContent).then(function(){e=!0;var i=[];n.forEach(function(u,l){u.indexOf("index.json")!==-1&&i.push(u)}),i.sort(function(u,l){return u.length-l.length});for(var o=i[0].split("/");o.length>1;){var s=o.shift();a=a.folder(s)}t.callback&&t.callback(n)}),{fetchArray:function(o,s,u){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(f,c){e||Mc("ERROR!!! zip not ready...");var h=uh([s,u.ref.basepath,l.compression?"".concat(u.ref.id,".gz"):u.ref.id].join("/"));++r===1&&o!==null&&o!==void 0&&o.invokeBusy&&o.invokeBusy(!0);function p(){delete u.ref,--r===0&&o!==null&&o!==void 0&&o.invokeBusy&&o.invokeBusy(!1),o!=null&&o.modified&&o.modified(),f(u)}var v=u.dataType==="string"&&!l.compression?"string":"uint8array",g=kce[v](u,l.compression,p);a.file(h).async(v).then(g)})},fetchJSON:function(o,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=uh(s);return e||Mc("ERROR!!! zip not ready..."),u.compression?u.compression==="gz"?a.file(l).async("uint8array").then(function(f){var c=Tn.inflate(f,{to:"string"});return Promise.resolve(JSON.parse(c))}):Promise.reject(new Error("Invalid compression")):a.file(l).async("string").then(function(f){return Promise.resolve(JSON.parse(f))})},fetchText:function(o,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=uh(s);return e||Mc("ERROR!!! zip not ready..."),u.compression?u.compression==="gz"?a.file(l).async("uint8array").then(function(f){var c=Tn.inflate(f,{to:"string"});return Promise.resolve(c)}):Promise.reject(new Error("Invalid compression")):a.file(l).async("string").then(function(f){return Promise.resolve(f)})},fetchImage:function(o,s){var u=uh(s);return e||Mc("ERROR!!! zip not ready..."),new Promise(function(l,f){var c=new Image;c.onload=function(){return l(c)},c.onerror=f,a.file(u).async("base64").then(function(h){c.src="data:image/".concat(Oce(u),";base64,").concat(h)})})},fetchBinary:function(o,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=uh(s);return e||Mc("ERROR!!! zip not ready..."),u.compression?u.compression==="gz"?a.file(l).then(function(f){var c=Tn.inflate(f).buffer;return Promise.resolve(c)}):Promise.reject(new Error("Invalid compression")):a.file(l).async("arraybuffer").then(function(f){return Promise.resolve(f)})}}}var Fce={create:Nce};sd("zip",function(t){return Fce.create(t)});var Bce="WebGL",Oy=Object.create(null);function GP(t,e){Oy[t]=e}function Ice(){return Object.keys(Oy)}function WP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Oy[t]&&Oy[t](e)}function Vce(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=function(r){t.hasRenderer(r)||(r.setRenderWindow(t),e.renderers.push(r),t.modified())},t.removeRenderer=function(r){e.renderers=e.renderers.filter(function(n){return n!==r}),t.modified()},t.hasRenderer=function(r){return e.renderers.indexOf(r)!==-1},t.newAPISpecificView=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return WP(r||e.defaultViewAPI,n)},t.addView=function(r){t.hasView(r)||(r.setRenderable(t),e.views.push(r),t.modified())},t.removeView=function(r){e.views=e.views.filter(function(n){return n!==r}),t.modified()},t.hasView=function(r){return e.views.indexOf(r)!==-1},t.preRender=function(){e.renderers.forEach(function(r){r.isActiveCameraCreated()||r.resetCamera()})},t.render=function(){t.preRender(),e.interactor?e.interactor.render():e.views.forEach(function(r){return r.traverseAllPasses()})},t.getStatistics=function(){var r={propCount:0,invisiblePropCount:0};return e.renderers.forEach(function(n){var a=n.getViewProps();a.forEach(function(i){if(i.getVisibility()){r.propCount+=1;var o=i.getMapper&&i.getMapper();if(o&&o.getPrimitiveCount){var s=o.getPrimitiveCount();Object.keys(s).forEach(function(u){r[u]||(r[u]=0),r[u]+=s[u]})}}else r.invisiblePropCount+=1})}),r.str=Object.keys(r).map(function(n){return"".concat(n,": ").concat(r[n])}).join(`
`),r},t.captureImages=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X.setImmediate(t.render),e.views.map(function(a){return a.captureNextImage?a.captureNextImage(r,n):void 0}).filter(function(a){return!!a})}}var Pce={defaultViewAPI:Bce,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function HP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Pce,r),X.obj(t,e),X.setGet(t,e,["interactor","numberOfLayers","views","defaultViewAPI"]),X.get(t,e,["neverRendered"]),X.getArray(t,e,["renderers"]),X.event(t,e,"completion"),Vce(t,e)}var Uce=X.newInstance(HP,"vtkRenderWindow"),S2={newInstance:Uce,extend:HP,registerViewConstructor:GP,listViewAPIs:Ice,newAPISpecificView:WP},Zd=X.vtkDebugMacro;function zce(t,e){e.classHierarchy.push("vtkCamera");var r=new Float64Array(3),n=new Float64Array([0,0,-1]),a=new Float64Array([0,1,0]),i=ze(new Float64Array(16)),o=ze(new Float64Array(16)),s=new Float64Array(3),u=new Float64Array(3),l=new Float64Array(3),f=ze(new Float64Array(16)),c=ze(new Float64Array(16)),h=new Float64Array(3),p=new Float64Array(3);function v(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=function(){var g=t.getViewMatrix();e.viewUp[0]=g[4],e.viewUp[1]=g[5],e.viewUp[2]=g[6],t.modified()},t.setPosition=function(g,y,m){g===e.position[0]&&y===e.position[1]&&m===e.position[2]||(e.position[0]=g,e.position[1]=y,e.position[2]=m,t.computeDistance(),t.modified())},t.setFocalPoint=function(g,y,m){g===e.focalPoint[0]&&y===e.focalPoint[1]&&m===e.focalPoint[2]||(e.focalPoint[0]=g,e.focalPoint[1]=y,e.focalPoint[2]=m,t.computeDistance(),t.modified())},t.setDistance=function(g){if(e.distance!==g){e.distance=g,e.distance<1e-20&&(e.distance=1e-20,Zd("Distance is set to minimum."));var y=e.directionOfProjection;e.focalPoint[0]=e.position[0]+y[0]*e.distance,e.focalPoint[1]=e.position[1]+y[1]*e.distance,e.focalPoint[2]=e.position[2]+y[2]*e.distance,t.modified()}},t.computeDistance=function(){var g=e.focalPoint[0]-e.position[0],y=e.focalPoint[1]-e.position[1],m=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(g*g+y*y+m*m),e.distance<1e-20){e.distance=1e-20,Zd("Distance is set to minimum.");var d=e.directionOfProjection;e.focalPoint[0]=e.position[0]+d[0]*e.distance,e.focalPoint[1]=e.position[1]+d[1]*e.distance,e.focalPoint[2]=e.position[2]+d[2]*e.distance}e.directionOfProjection[0]=g/e.distance,e.directionOfProjection[1]=y/e.distance,e.directionOfProjection[2]=m/e.distance,v()},t.dolly=function(g){if(!(g<=0)){var y=e.distance/g;t.setPosition(e.focalPoint[0]-y*e.directionOfProjection[0],e.focalPoint[1]-y*e.directionOfProjection[1],e.focalPoint[2]-y*e.directionOfProjection[2])}},t.roll=function(g){var y=e.position,m=e.focalPoint,d=e.viewUp,_=new Float64Array([d[0],d[1],d[2],0]);ze(f);var x=new Float64Array([m[0]-y[0],m[1]-y[1],m[2]-y[2]]);va(f,f,dr(g),x),Oo(_,_,f),e.viewUp[0]=_[0],e.viewUp[1]=_[1],e.viewUp[2]=_[2],t.modified()},t.azimuth=function(g){var y=e.focalPoint;ze(c),lr(c,c,y),va(c,c,dr(g),e.viewUp),lr(c,c,[-y[0],-y[1],-y[2]]),He(h,e.position,c),t.setPosition(h[0],h[1],h[2])},t.yaw=function(g){var y=e.position;ze(c),lr(c,c,y),va(c,c,dr(g),e.viewUp),lr(c,c,[-y[0],-y[1],-y[2]]),He(p,e.focalPoint,c),t.setFocalPoint(p[0],p[1],p[2])},t.elevation=function(g){var y=e.focalPoint,m=t.getViewMatrix(),d=[-m[0],-m[1],-m[2]];ze(c),lr(c,c,y),va(c,c,dr(g),d),lr(c,c,[-y[0],-y[1],-y[2]]),He(h,e.position,c),t.setPosition(h[0],h[1],h[2])},t.pitch=function(g){var y=e.position,m=t.getViewMatrix(),d=[m[0],m[1],m[2]];ze(c),lr(c,c,y),va(c,c,dr(g),d),lr(c,c,[-y[0],-y[1],-y[2]]),He(p,e.focalPoint,c),t.setFocalPoint.apply(t,je(p))},t.zoom=function(g){g<=0||(e.parallelProjection?e.parallelScale/=g:e.viewAngle/=g,t.modified())},t.translate=function(g,y,m){var d=[g,y,m];gb(e.position,d,e.position),gb(e.focalPoint,d,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=function(g){var y=[].concat(je(e.viewUp),[1]),m=[],d=[],_=[];y[0]+=e.position[0],y[1]+=e.position[1],y[2]+=e.position[2],Oo(m,[].concat(je(e.position),[1]),g),Oo(d,[].concat(je(e.focalPoint),[1]),g),Oo(_,y,g),_[0]-=m[0],_[1]-=m[1],_[2]-=m[2],t.setPosition.apply(t,je(m.slice(0,3))),t.setFocalPoint.apply(t,je(d.slice(0,3))),t.setViewUp.apply(t,je(_.slice(0,3)))},t.getThickness=function(){return e.clippingRange[1]-e.clippingRange[0]},t.setThickness=function(g){var y=g;y<1e-20&&(y=1e-20,Zd("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+y)},t.setThicknessFromFocalPoint=function(g){var y=g;y<1e-20&&(y=1e-20,Zd("Thickness is set to minimum.")),t.setClippingRange(e.distance-y/2,e.distance+y/2)},t.setRoll=function(g){},t.getRoll=function(){},t.setObliqueAngles=function(g,y){},t.getOrientation=function(){},t.getOrientationWXYZ=function(){},t.getFrustumPlanes=function(g){},t.getCameraLightTransformMatrix=function(g){return gr(g,e.cameraLightTransform),g},t.computeCameraLightTransform=function(){gr(i,t.getViewMatrix()),br(i,i),L5(o,[e.distance,e.distance,e.distance]),Ht(i,i,o),ze(e.cameraLightTransform),lr(e.cameraLightTransform,i,[0,0,-1])},t.deepCopy=function(g){},t.physicalOrientationToWorldDirection=function(g){var y=vM(g[0],g[1],g[2],g[3]),m=Ol(),d=vM(0,0,1,0);return Pte(m,y),pM(d,y,d),pM(d,d,m),[d[0],d[1],d[2]]},t.getPhysicalToWorldMatrix=function(g){t.getWorldToPhysicalMatrix(g),br(g,g)},t.getWorldToPhysicalMatrix=function(g){ze(g);var y=[3];kl(e.physicalViewNorth,e.physicalViewUp,y),g[0]=y[0],g[1]=y[1],g[2]=y[2],g[4]=e.physicalViewUp[0],g[5]=e.physicalViewUp[1],g[6]=e.physicalViewUp[2],g[8]=-e.physicalViewNorth[0],g[9]=-e.physicalViewNorth[1],g[10]=-e.physicalViewNorth[2],dt(g,g),Bt(s,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),El(g,g,s),lr(g,g,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=function(g){br(i,g),He(s,r,i),t.computeDistance();var y=e.distance;t.setPosition(s[0],s[1],s[2]),He(u,n,i),Sa(u,u,s),Ca(u,u),t.setDirectionOfProjection(u[0],u[1],u[2]),He(l,a,i),Sa(l,l,s),Ca(l,l),t.setViewUp(l[0],l[1],l[2]),t.setDistance(y)},t.computeViewParametersFromPhysicalMatrix=function(g){t.getWorldToPhysicalMatrix(i),Ht(i,g,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=function(g){e.viewMatrix=g,e.viewMatrix&&(gr(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),dt(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=function(){if(e.viewMatrix)return e.viewMatrix;P5(i,e.position,e.focalPoint,e.viewUp),dt(i,i);var g=new Float64Array(16);return gr(g,i),g},t.setProjectionMatrix=function(g){e.projectionMatrix=g},t.getProjectionMatrix=function(g,y,m){var d=new Float64Array(16);if(ze(d),e.projectionMatrix){var _=1/e.physicalScale;return Bt(s,_,_,_),gr(d,e.projectionMatrix),El(d,d,s),dt(d,d),d}ze(i);var x=e.clippingRange[1]-e.clippingRange[0],w=[e.clippingRange[0]+(y+1)*x/2,e.clippingRange[0]+(m+1)*x/2];if(e.parallelProjection){var S=e.parallelScale*g,b=e.parallelScale,T=(e.windowCenter[0]-1)*S,C=(e.windowCenter[0]+1)*S,M=(e.windowCenter[1]-1)*b,D=(e.windowCenter[1]+1)*b;V5(i,T,C,M,D,w[0],w[1]),dt(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var E=Math.tan(dr(e.viewAngle)/2),k,O;e.useHorizontalViewAngle===!0?(k=e.clippingRange[0]*E,O=e.clippingRange[0]*E/g):(k=e.clippingRange[0]*E*g,O=e.clippingRange[0]*E);var A=(e.windowCenter[0]-1)*k,I=(e.windowCenter[0]+1)*k,U=(e.windowCenter[1]-1)*O,P=(e.windowCenter[1]+1)*O,B=w[0],W=w[1];i[0]=2*B/(I-A),i[5]=2*B/(P-U),i[2]=(A+I)/(I-A),i[6]=(U+P)/(P-U),i[10]=-(B+W)/(W-B),i[14]=-1,i[11]=-2*B*W/(W-B),i[15]=0}return gr(d,i),d},t.getCompositeProjectionMatrix=function(g,y,m){var d=t.getViewMatrix(),_=t.getProjectionMatrix(g,y,m);return Ht(_,d,_),_},t.setDirectionOfProjection=function(g,y,m){if(!(e.directionOfProjection[0]===g&&e.directionOfProjection[1]===y&&e.directionOfProjection[2]===m)){e.directionOfProjection[0]=g,e.directionOfProjection[1]=y,e.directionOfProjection[2]=m;var d=e.directionOfProjection;e.focalPoint[0]=e.position[0]+d[0]*e.distance,e.focalPoint[1]=e.position[1]+d[1]*e.distance,e.focalPoint[2]=e.position[2]+d[2]*e.distance,v()}},t.setDeviceAngles=function(g,y,m,d){var _=[3];kl(e.physicalViewNorth,e.physicalViewUp,_);var x=ze(new Float64Array(16));va(x,x,dr(g),e.physicalViewUp),va(x,x,dr(y),_),va(x,x,dr(m),e.physicalViewNorth),va(x,x,dr(-d),e.physicalViewUp);var w=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),S=new Float64Array(e.physicalViewNorth);He(w,w,x),He(S,S,x),t.setDirectionOfProjection(w[0],w[1],w[2]),t.setViewUp(S[0],S[1],S[2]),t.modified()},t.setOrientationWXYZ=function(g,y,m,d){var _=ze(new Float64Array(16));if(g!==0&&(y!==0||m!==0||d!==0)){var x=dr(g),w=Ol();i2(w,[y,m,d],x),t2(_,w)}var S=new Float64Array(3);He(S,[0,0,-1],_);var b=new Float64Array(3);He(b,[0,1,0],_),t.setDirectionOfProjection.apply(t,je(S)),t.setViewUp.apply(t,je(b)),t.modified()},t.computeClippingRange=function(g){var y=null,m=null;y=e.viewPlaneNormal,m=e.position;for(var d=-y[0],_=-y[1],x=-y[2],w=-(d*m[0]+_*m[1]+x*m[2]),S=[d*g[0]+_*g[2]+x*g[4]+w,1e-18],b=0;b<2;b++)for(var T=0;T<2;T++)for(var C=0;C<2;C++){var M=d*g[C]+_*g[2+T]+x*g[4+b]+w;S[0]=M<S[0]?M:S[0],S[1]=M>S[1]?M:S[1]}return S}}var Gce={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:ZC(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function jP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gce,r),X.obj(t,e),X.get(t,e,["distance"]),X.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),X.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),X.setGetArray(t,e,["clippingRange","windowCenter"],2),X.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),zce(t,e)}var Wce=X.newInstance(jP,"vtkCamera"),Hce={newInstance:Wce,extend:jP};function jce(t,e){e.classHierarchy.push("vtkLight");var r=new Float64Array(3);t.getTransformedPosition=function(){return e.transformMatrix?He(r,e.position,e.transformMatrix):Bt(r,e.position[0],e.position[1],e.position[2]),r},t.getTransformedFocalPoint=function(){return e.transformMatrix?He(r,e.focalPoint,e.transformMatrix):Bt(r,e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),r},t.getDirection=function(){return e.directionMTime<e.mtime&&(e.direction[0]=e.focalPoint[0]-e.position[0],e.direction[1]=e.focalPoint[1]-e.position[1],e.direction[2]=e.focalPoint[2]-e.position[2],Rl(e.direction),e.directionMTime=e.mtime),e.direction},t.setDirectionAngle=function(n,a){var i=dr(n),o=dr(a);t.setPosition(Math.cos(i)*Math.sin(o),Math.sin(i),Math.cos(i)*Math.cos(o)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=function(){t.setLightType("HeadLight")},t.setLightTypeToCameraLight=function(){t.setLightType("CameraLight")},t.setLightTypeToSceneLight=function(){t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=function(){return e.lightType==="HeadLight"},t.lightTypeIsSceneLight=function(){return e.lightType==="SceneLight"},t.lightTypeIsCameraLight=function(){return e.lightType==="CameraLight"}}var $ce={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function Kce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$ce,r),X.obj(t,e),X.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),X.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),jce(t,e)}var Xce=X.newInstance(Kce,"vtkLight"),Yce={newInstance:Xce},R0=X.vtkErrorMacro;function qce(t){return function(){return R0("vtkViewport::".concat(t," - NOT IMPLEMENTED"))}}function Zce(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=function(){return e.props},t.hasViewProp=function(n){return!!e.props.filter(function(a){return a===n}).length},t.addViewProp=function(n){n&&!t.hasViewProp(n)&&(e.props=e.props.concat(n))},t.removeViewProp=function(n){var a=e.props.filter(function(i){return i!==n});e.props.length!==a.length&&(e.props=a)},t.removeAllViewProps=function(){e.props=[]};function r(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.push(n);var i=n.getNestedProps();if(i&&i.length)for(var o=0;o<i.length;o++)r(i[o],a);return a}t.getViewPropsWithNestedProps=function(){for(var n=[],a=0;a<e.props.length;a++)r(e.props[a],n);return n},t.addActor2D=t.addViewProp,t.removeActor2D=function(n){t.removeViewProp(n)},t.getActors2D=function(){return e.actors2D=[],e.props.forEach(function(n){e.actors2D=e.actors2D.concat(n.getActors2D())}),e.actors2D},t.displayToView=function(){return R0("call displayToView on your view instead")},t.viewToDisplay=function(){return R0("callviewtodisplay on your view instead")},t.getSize=function(){return R0("call getSize on your View instead")},t.normalizedDisplayToProjection=function(n,a,i){var o=t.normalizedDisplayToNormalizedViewport(n,a,i);return t.normalizedViewportToProjection(o[0],o[1],o[2])},t.normalizedDisplayToNormalizedViewport=function(n,a,i){var o=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(n-e.viewport[0])/o[0],(a-e.viewport[1])/o[1],i]},t.normalizedViewportToProjection=function(n,a,i){return[n*2-1,a*2-1,i*2-1]},t.projectionToNormalizedDisplay=function(n,a,i){var o=t.projectionToNormalizedViewport(n,a,i);return t.normalizedViewportToNormalizedDisplay(o[0],o[1],o[2])},t.normalizedViewportToNormalizedDisplay=function(n,a,i){var o=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[n*o[0]+e.viewport[0],a*o[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=function(n,a,i){return[(n+1)*.5,(a+1)*.5,(i+1)*.5]},t.PickPropFrom=qce("PickPropFrom")}var Jce={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function $P(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jce,r),X.obj(t,e),X.event(t,e,"event"),X.setGetArray(t,e,["viewport"],4),X.setGetArray(t,e,["background","background2"],3),Zce(t,e)}var Qce=X.newInstance($P,"vtkViewport"),efe={newInstance:Qce,extend:$P};function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Cb=1e-6,KP="coincide",XP="disjoint";function rfe(t,e,r){return t[0]*(r[0]-e[0])+t[1]*(r[1]-e[1])+t[2]*(r[2]-e[2])}function YP(t,e,r){var n=r[0]*(t[0]-e[0])+r[1]*(t[1]-e[1])+r[2]*(t[2]-e[2]);return Math.abs(n)}function qP(t,e,r,n){var a=[];Zr(t,e,a);var i=wt(r,a);n[0]=t[0]-i*r[0],n[1]=t[1]-i*r[1],n[2]=t[2]-i*r[2]}function ZP(t,e,r){var n=wt(t,e),a=wt(e,e);return a===0&&(a=1),r[0]=t[0]-n*e[0]/a,r[1]=t[1]-n*e[1]/a,r[2]=t[2]-n*e[2]/a,r}function JP(t,e,r,n){var a=[];Zr(t,e,a);var i=wt(r,a),o=wt(r,r);o!==0?(n[0]=t[0]-i*r[0]/o,n[1]=t[1]-i*r[1]/o,n[2]=t[2]-i*r[2]/o):(n[0]=t[0],n[1]=t[1],n[2]=t[2])}function QP(t,e,r,n){var a={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],o=[];Zr(e,t,i),Zr(r,t,o);var s=wt(n,o),u=wt(n,i),l,f;return u<0?l=-u:l=u,s<0?f=-s*Cb:f=s*Cb,l<=f||(a.t=s/u,a.x[0]=t[0]+a.t*i[0],a.x[1]=t[1]+a.t*i[1],a.x[2]=t[2]+a.t*i[2],a.intersection=!0,a.betweenPoints=a.t>=0&&a.t<=1),a}function e6(t,e,r,n){var a={intersection:!1,l0:[],l1:[],error:null},i=[];kl(e,n,i);var o=i.map(function(h){return Math.abs(h)});if(o[0]+o[1]+o[2]<Cb){var s=[];return Zr(t,r,s),wt(e,s)===0?a.error=KP:a.error=XP,a}var u;o[0]>o[1]&&o[0]>o[2]?u="x":o[1]>o[2]?u="y":u="z";var l=[],f=-wt(e,t),c=-wt(n,r);switch(u){case"x":l[0]=0,l[1]=(c*e[2]-f*n[2])/i[0],l[2]=(f*n[1]-c*e[1])/i[0];break;case"y":l[0]=(f*n[2]-c*e[2])/i[1],l[1]=0,l[2]=(c*e[0]-f*n[0])/i[1];break;case"z":l[0]=(c*e[1]-f*n[1])/i[2],l[1]=(f*n[0]-c*e[0])/i[2],l[2]=0;break}return a.l0=l,gb(l,i,a.l1),a.intersection=!0,a}var nfe={evaluate:rfe,distanceToPlane:YP,projectPoint:qP,projectVector:ZP,generalizedProjectPoint:JP,intersectWithLine:QP,intersectWithPlane:e6,DISJOINT:XP,COINCIDE:KP};function afe(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=function(r){return YP(r,e.origin,e.normal)},t.projectPoint=function(r,n){qP(r,e.origin,e.normal,n)},t.projectVector=function(r,n){return ZP(r,e.normal,n)},t.push=function(r){if(r!==0)for(var n=0;n<3;n++)e.origin[n]+=r*e.normal[n]},t.generalizedProjectPoint=function(r,n){JP(r,e.origin,e.normal,n)},t.evaluateFunction=function(r,n,a){return Array.isArray(r)?e.normal[0]*(r[0]-e.origin[0])+e.normal[1]*(r[1]-e.origin[1])+e.normal[2]*(r[2]-e.origin[2]):e.normal[0]*(r-e.origin[0])+e.normal[1]*(n-e.origin[1])+e.normal[2]*(a-e.origin[2])},t.evaluateGradient=function(r){var n=[e.normal[0],e.normal[1],e.normal[2]];return n},t.intersectWithLine=function(r,n){return QP(r,n,e.origin,e.normal)},t.intersectWithPlane=function(r,n){return e6(r,n,e.origin,e.normal)}}var ife={normal:[0,0,1],origin:[0,0,0]};function t6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ife,r),X.obj(t,e),X.setGetArray(t,e,["normal","origin"],3),afe(t,e)}var ofe=X.newInstance(t6,"vtkPlane"),Vl=tfe({newInstance:ofe,extend:t6},nfe);function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var c1=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function r6(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Wo(t){return t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function b2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function n6(t){return b2(t,c1)}function a6(t){var e=Fr(t,6),r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5];return t[0]=r<(arguments.length<=1?void 0:arguments[1])?r:arguments.length<=1?void 0:arguments[1],t[1]=n>(arguments.length<=1?void 0:arguments[1])?n:arguments.length<=1?void 0:arguments[1],t[2]=a<(arguments.length<=2?void 0:arguments[2])?a:arguments.length<=2?void 0:arguments[2],t[3]=i>(arguments.length<=2?void 0:arguments[2])?i:arguments.length<=2?void 0:arguments[2],t[4]=o<(arguments.length<=3?void 0:arguments[3])?o:arguments.length<=3?void 0:arguments[3],t[5]=s>(arguments.length<=3?void 0:arguments[3])?s:arguments.length<=3?void 0:arguments[3],t}function i6(t,e,r,n,a,i,o){var s=Fr(t,6),u=s[0],l=s[1],f=s[2],c=s[3],h=s[4],p=s[5];return o===void 0?(t[0]=Math.min(e[0],u),t[1]=Math.max(e[1],l),t[2]=Math.min(e[2],f),t[3]=Math.max(e[3],c),t[4]=Math.min(e[4],h),t[5]=Math.max(e[5],p)):(t[0]=Math.min(e,u),t[1]=Math.max(r,l),t[2]=Math.min(n,f),t[3]=Math.max(a,c),t[4]=Math.min(i,h),t[5]=Math.max(o,p)),t}function o6(t,e,r,n){var a=Fr(t,6),i=a[0],o=a[1],s=a[2],u=a[3],l=a[4],f=a[5];return t[0]=e,t[1]=e>o?e:o,t[2]=r,t[3]=r>u?r:u,t[4]=n,t[5]=n>f?n:f,i!==e||s!==r||l!==n}function s6(t,e,r,n){var a=Fr(t,6),i=a[0],o=a[1],s=a[2],u=a[3],l=a[4],f=a[5];return t[0]=e<i?e:i,t[1]=e,t[2]=r<s?r:s,t[3]=r,t[4]=n<l?n:l,t[5]=n,o!==e||u!==r||f!==n}function u6(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function T2(t,e,r,n){return Wo(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),r>=0?(t[2]*=r,t[3]*=r):(t[2]=r*t[3],t[3]=r*t[2]),n>=0?(t[4]*=n,t[5]*=n):(t[4]=n*t[5],t[5]=n*t[4]),!0):!1}function C2(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function ufe(t,e,r,n){if(!Wo(t))return!1;var a=C2(t);return t[0]-=a[0],t[1]-=a[0],t[2]-=a[1],t[3]-=a[1],t[4]-=a[2],t[5]-=a[2],T2(t,e,r,n),t[0]+=a[0],t[1]+=a[0],t[2]+=a[1],t[3]+=a[1],t[4]+=a[2],t[5]+=a[2],!0}function wp(t,e){return t[e*2+1]-t[e*2]}function f1(t){return[wp(t,0),wp(t,1),wp(t,2)]}function l6(t){return t.slice(0,2)}function c6(t){return t.slice(2,4)}function f6(t){return t.slice(4,6)}function h6(t){var e=f1(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function p6(t){if(Wo(t)){var e=f1(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function E2(t){return[t[0],t[2],t[4]]}function D2(t){return[t[1],t[3],t[5]]}function Jd(t,e){return t<=0&&e>=0||t>=0&&e<=0}function v6(t,e){for(var r=0,n=0;n<2;n++)for(var a=2;a<4;a++)for(var i=4;i<6;i++)e[r]=[t[n],t[a],t[i]],r++;return e}function d6(t,e,r){return e[0]=t[0],e[1]=t[2],e[2]=t[4],r[0]=t[1],r[1]=t[3],r[2]=t[5],e}function g6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function y6(t,e,r,n){for(var a=[].concat(c1),i=t.getData(),o=0;o<i.length;o+=3){var s=[i[o],i[o+1],i[o+2]],u=wt(s,e);a[0]=Math.min(u,a[0]),a[1]=Math.max(u,a[1]);var l=wt(s,r);a[2]=Math.min(l,a[2]),a[3]=Math.max(l,a[3]);var f=wt(s,n);a[4]=Math.min(f,a[4]),a[5]=Math.max(f,a[5])}return a}function m6(t,e,r,n,a){for(var i=!0,o=[],s=0,u=[],l=[0,0,0],f=0,c=1,h=2,p=0;p<3;p++)e[p]<t[2*p]?(o[p]=c,l[p]=t[2*p],i=!1):e[p]>t[2*p+1]?(o[p]=f,l[p]=t[2*p+1],i=!1):o[p]=h;if(i)return n[0]=e[0],n[1]=e[1],n[2]=e[2],a[0]=0,1;for(var v=0;v<3;v++)o[v]!==h&&r[v]!==0?u[v]=(l[v]-e[v])/r[v]:u[v]=-1;for(var g=0;g<3;g++)u[s]<u[g]&&(s=g);if(u[s]>1||u[s]<0)return 0;a[0]=u[s];for(var y=0;y<3;y++)if(s!==y){if(n[y]=e[y]+u[s]*r[y],n[y]<t[2*y]||n[y]>t[2*y+1])return 0}else n[y]=l[y];return 1}function _6(t,e,r){for(var n=[],a=0,i=1,o=1,s=4;s<=5;++s){n[2]=t[s];for(var u=2;u<=3;++u){n[1]=t[u];for(var l=0;l<=1;++l)if(n[0]=t[l],a=Vl.evaluate(r,e,n),o&&(i=a>=0?1:-1,o=0),a===0||i>0&&a<0||i<0&&a>0)return 1}}return 0}function x6(t,e){if(!(Wo(t)&&Wo(e)))return!1;for(var r=[0,0,0,0,0,0],n,a=0;a<3;a++)if(n=!1,e[a*2]>=t[a*2]&&e[a*2]<=t[a*2+1]?(n=!0,r[a*2]=e[a*2]):t[a*2]>=e[a*2]&&t[a*2]<=e[a*2+1]&&(n=!0,r[a*2]=t[a*2]),e[a*2+1]>=t[a*2]&&e[a*2+1]<=t[a*2+1]?(n=!0,r[a*2+1]=e[2*a+1]):t[a*2+1]>=e[a*2]&&t[a*2+1]<=e[a*2+1]&&(n=!0,r[a*2+1]=t[a*2+1]),!n)return!1;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],!0}function My(t,e){if(!(Wo(t)&&Wo(e)))return!1;for(var r=0;r<3;r++)if(!(e[r*2]>=t[r*2]&&e[r*2]<=t[r*2+1])&&!(t[r*2]>=e[r*2]&&t[r*2]<=e[r*2+1])&&!(e[r*2+1]>=t[r*2]&&e[r*2+1]<=t[r*2+1])&&!(t[r*2+1]>=e[r*2]&&t[r*2+1]<=e[r*2+1]))return!1;return!0}function Ly(t,e,r,n){return!(e<t[0]||e>t[1]||r<t[2]||r>t[3]||n<t[4]||n>t[5])}function lfe(t,e){return!(!My(t,e)||!Ly.apply(void 0,[t].concat(je(E2(e))))||!Ly.apply(void 0,[t].concat(je(D2(e)))))}function w6(t,e,r){for(var n=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0],i=0,o=0;o<2;o++)for(var s=2;s<4;s++)for(var u=4;u<6;u++){var l=[t[o],t[s],t[u]];a[i++]=Vl.evaluate(r,e,l)}for(var f=2;f--&&!(Jd(a[n[f][0]],a[n[f][4]])&&Jd(a[n[f][1]],a[n[f][5]])&&Jd(a[n[f][2]],a[n[f][6]])&&Jd(a[n[f][3]],a[n[f][7]])););if(f<0)return!1;for(var c=Math.sign(r[f]),h=Math.abs((t[f*2+1]-t[f*2])*r[f]),p=c>0?1:0,v=0;v<4;v++)if(h!==0){var g=Math.abs(a[n[f][v]])/h;c>0&&g<p&&(p=g),c<0&&g>p&&(p=g)}var y=(1-p)*t[f*2]+p*t[f*2+1];return c>0?t[f*2]=y:t[f*2+1]=y,!0}var cfe=function(){function t(e){Jm(this,t),this.bounds=e,this.bounds||(this.bounds=new Float64Array(c1))}return Qm(t,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(r){return r6(this.bounds,r)}},{key:"isValid",value:function(){return Wo(this.bounds)}},{key:"setBounds",value:function(r){return b2(this.bounds,r)}},{key:"reset",value:function(){return n6(this.bounds)}},{key:"addPoint",value:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return a6(this.bounds,n)}},{key:"addBounds",value:function(r,n,a,i,o,s){return i6(this.bounds,r,n,a,i,o,s)}},{key:"setMinPoint",value:function(r,n,a){return o6(this.bounds,r,n,a)}},{key:"setMaxPoint",value:function(r,n,a){return s6(this.bounds,r,n,a)}},{key:"inflate",value:function(r){return u6(this.bounds,r)}},{key:"scale",value:function(r,n,a){return T2(this.bounds,r,n,a)}},{key:"getCenter",value:function(){return C2(this.bounds)}},{key:"getLength",value:function(r){return wp(this.bounds,r)}},{key:"getLengths",value:function(){return f1(this.bounds)}},{key:"getMaxLength",value:function(){return h6(this.bounds)}},{key:"getDiagonalLength",value:function(){return p6(this.bounds)}},{key:"getMinPoint",value:function(){return E2(this.bounds)}},{key:"getMaxPoint",value:function(){return D2(this.bounds)}},{key:"getXRange",value:function(){return l6(this.bounds)}},{key:"getYRange",value:function(){return c6(this.bounds)}},{key:"getZRange",value:function(){return f6(this.bounds)}},{key:"getCorners",value:function(r){return v6(this.bounds,r)}},{key:"computeCornerPoints",value:function(r,n){return d6(this.bounds,r,n)}},{key:"computeLocalBounds",value:function(r,n,a){return y6(this.bounds,r,n,a)}},{key:"computeScale3",value:function(r){return g6(this.bounds,r)}},{key:"cutWithPlane",value:function(r,n){return w6(this.bounds,r,n)}},{key:"intersectBox",value:function(r,n,a,i){return m6(this.bounds,r,n,a,i)}},{key:"intersectPlane",value:function(r,n){return _6(this.bounds,r,n)}},{key:"intersect",value:function(r){return x6(this.bounds,r)}},{key:"intersects",value:function(r){return My(this.bounds,r)}},{key:"containsPoint",value:function(r,n,a){return Ly(this.bounds,r,n,a)}},{key:"contains",value:function(r){return My(this.bounds,r)}}]),t}();function ffe(t){var e=t&&t.bounds;return new cfe(e)}var hfe={equals:r6,isValid:Wo,setBounds:b2,reset:n6,addPoint:a6,addBounds:i6,setMinPoint:o6,setMaxPoint:s6,inflate:u6,scale:T2,scaleAboutCenter:ufe,getCenter:C2,getLength:wp,getLengths:f1,getMaxLength:h6,getDiagonalLength:p6,getMinPoint:E2,getMaxPoint:D2,getXRange:l6,getYRange:c6,getZRange:f6,getCorners:v6,computeCornerPoints:d6,computeLocalBounds:y6,computeScale3:g6,cutWithPlane:w6,intersectBox:m6,intersectPlane:_6,intersect:x6,intersects:My,containsPoint:Ly,contains:lfe,INIT_BOUNDS:c1},Jt=sfe({newInstance:ffe},hfe),lh=Ks,ys=$e,pfe=Zv;function ok(t){return function(){return ys("vtkRenderer::".concat(t," - NOT IMPLEMENTED"))}}function vfe(t,e){e.classHierarchy.push("vtkRenderer");var r={type:"ComputeVisiblePropBoundsEvent",renderer:t},n={type:"ResetCameraClippingRangeEvent",renderer:t},a={type:"ResetCameraEvent",renderer:t};t.updateCamera=function(){return e.activeCamera||(lh("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0},t.updateLightsGeometryToFollowCamera=function(){var i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(function(o){o.lightTypeIsSceneLight()||(o.lightTypeIsHeadLight()?(o.setPositionFrom(i.getPositionByReference()),o.setFocalPointFrom(i.getFocalPointByReference()),o.modified(i.getMTime())):o.lightTypeIsCameraLight()?o.setTransformMatrix(i.getCameraLightTransformMatrix(ZC())):ys("light has unknown light type",o.get()))})},t.updateLightGeometry=function(){return e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0},t.allocateTime=ok("allocateTime"),t.updateGeometry=ok("updateGeometry"),t.getVTKWindow=function(){return e._renderWindow},t.setLayer=function(i){lh(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=function(i){return e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0)},t.makeCamera=function(){var i=Hce.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=function(){return e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera},t.getActiveCameraAndResetIfCreated=function(){return e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera},t.getActors=function(){return e.actors=[],e.props.forEach(function(i){e.actors=e.actors.concat(i.getActors())}),e.actors},t.addActor=t.addViewProp,t.removeActor=function(i){e.actors=e.actors.filter(function(o){return o!==i}),t.removeViewProp(i),t.modified()},t.removeAllActors=function(){var i=t.getActors();i.forEach(function(o){t.removeViewProp(o)}),e.actors=[],t.modified()},t.getVolumes=function(){return e.volumes=[],e.props.forEach(function(i){e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes},t.addVolume=t.addViewProp,t.removeVolume=function(i){e.volumes=e.volumes.filter(function(o){return o!==i}),t.removeViewProp(i),t.modified()},t.removeAllVolumes=function(){var i=t.getVolumes();i.forEach(function(o){t.removeViewProp(o)}),e.volumes=[],t.modified()},t.addLight=function(i){e.lights=[].concat(e.lights,i),t.modified()},t.removeLight=function(i){e.lights=e.lights.filter(function(o){return o!==i}),t.modified()},t.removeAllLights=function(){e.lights=[],t.modified()},t.setLightCollection=function(i){e.lights=i,t.modified()},t.makeLight=Yce.newInstance,t.createLight=function(){e.automaticLightCreation&&(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=function(i,o,s,u){var l=t.normalizedDisplayToProjection(i,o,s);return l=t.projectionToView(l[0],l[1],l[2],u),t.viewToWorld(l[0],l[1],l[2])},t.worldToNormalizedDisplay=function(i,o,s,u){var l=t.worldToView(i,o,s);return l=t.viewToProjection(l[0],l[1],l[2],u),t.projectionToNormalizedDisplay(l[0],l[1],l[2])},t.viewToWorld=function(i,o,s){if(e.activeCamera===null)return ys("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getViewMatrix();br(u,u),dt(u,u);var l=new Float64Array([i,o,s]);return He(l,l,u),l},t.projectionToView=function(i,o,s,u){if(e.activeCamera===null)return ys("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var l=e.activeCamera.getProjectionMatrix(u,-1,1);br(l,l),dt(l,l);var f=new Float64Array([i,o,s]);return He(f,f,l),f},t.worldToView=function(i,o,s){if(e.activeCamera===null)return ys("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getViewMatrix();dt(u,u);var l=new Float64Array([i,o,s]);return He(l,l,u),l},t.viewToProjection=function(i,o,s,u){if(e.activeCamera===null)return ys("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var l=e.activeCamera.getProjectionMatrix(u,-1,1);dt(l,l);var f=new Float64Array([i,o,s]);return He(f,f,l),f},t.computeVisiblePropBounds=function(){e.allBounds[0]=Jt.INIT_BOUNDS[0],e.allBounds[1]=Jt.INIT_BOUNDS[1],e.allBounds[2]=Jt.INIT_BOUNDS[2],e.allBounds[3]=Jt.INIT_BOUNDS[3],e.allBounds[4]=Jt.INIT_BOUNDS[4],e.allBounds[5]=Jt.INIT_BOUNDS[5];var i=!0;t.invokeEvent(r);for(var o=0;o<e.props.length;++o){var s=e.props[o];if(s.getVisibility()&&s.getUseBounds()){var u=s.getBounds();u&&sx(u)&&(i=!1,u[0]<e.allBounds[0]&&(e.allBounds[0]=u[0]),u[1]>e.allBounds[1]&&(e.allBounds[1]=u[1]),u[2]<e.allBounds[2]&&(e.allBounds[2]=u[2]),u[3]>e.allBounds[3]&&(e.allBounds[3]=u[3]),u[4]<e.allBounds[4]&&(e.allBounds[4]=u[4]),u[5]>e.allBounds[5]&&(e.allBounds[5]=u[5]))}}return i&&(Vf(e.allBounds),lh("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=i||t.computeVisiblePropBounds(),s=[0,0,0];if(!sx(o))return lh("Cannot reset camera!"),!1;var u=null;if(t.getActiveCamera())u=e.activeCamera.getViewPlaneNormal();else return ys("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),s[0]=(o[0]+o[1])/2,s[1]=(o[2]+o[3])/2,s[2]=(o[4]+o[5])/2;var l=o[1]-o[0],f=o[3]-o[2],c=o[5]-o[4];l*=l,f*=f,c*=c;var h=l+f+c;h=h===0?1:h,h=Math.sqrt(h)*.5;var p=dr(e.activeCamera.getViewAngle()),v=h,g=h/Math.sin(p*.5),y=e.activeCamera.getViewUp();return Math.abs(wt(y,u))>.999&&(pfe("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-y[2],y[0],y[1])),e.activeCamera.setFocalPoint(s[0],s[1],s[2]),e.activeCamera.setPosition(s[0]+g*u[0],s[1]+g*u[1],s[2]+g*u[2]),t.resetCameraClippingRange(o),e.activeCamera.setParallelScale(v),e.activeCamera.setPhysicalScale(h),e.activeCamera.setPhysicalTranslation(-s[0],-s[1],-s[2]),t.invokeEvent(a),!0},t.resetCameraClippingRange=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=i||t.computeVisiblePropBounds();if(!sx(o))return lh("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return ys("Trying to reset clipping range of non-existent camera"),!1;var s=e.activeCamera.computeClippingRange(o),u=0;if(e.activeCamera.getParallelProjection())u=.2*e.activeCamera.getParallelScale();else{var l=dr(e.activeCamera.getViewAngle());u=.2*Math.tan(l/2)*s[1]}return s[1]-s[0]<u&&(u=u-s[1]+s[0],s[1]+=u/2,s[0]-=u/2),s[0]<0&&(s[0]=0),s[0]=.99*s[0]-(s[1]-s[0])*e.clippingRangeExpansion,s[1]=1.01*s[1]+(s[1]-s[0])*e.clippingRangeExpansion,s[0]=s[0]>=s[1]?.01*s[1]:s[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),s[0]<e.nearClippingPlaneTolerance*s[1]&&(s[0]=e.nearClippingPlaneTolerance*s[1]),e.activeCamera.setClippingRange(s[0],s[1]),t.invokeEvent(n),!1},t.setRenderWindow=function(i){i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=function(){return e.props.filter(function(i){return i.getVisibility()}).length},t.visibleVolumeCount=t.visibleActorCount,t.getMTime=function(){var i=e.mtime,o=e.activeCamera?e.activeCamera.getMTime():0;o>i&&(i=o);var s=e._createdLight?e._createdLight.getMTime():0;return s>i&&(i=s),i},t.getTransparent=function(){return!!e.preserveColorBuffer},t.isActiveCameraCreated=function(){return!!e.activeCamera}}var dfe={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:ev(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function S6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,dfe,r),efe.extend(t,e,r),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),ia(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Cr(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),Jv(t,e,["actors","volumes","lights"]),lV(t,e,["background"],4,1),s2(t,e,["renderWindow"]),vfe(t,e)}var gfe=mt(S6,"vtkRenderer"),O2={newInstance:gfe,extend:S6},Eb={Unknown:0,LeftController:1,RightController:2},Kh={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},yfe={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4},M2={Device:Eb,Input:Kh,Axis:yfe};function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qd=M2.Device,$u=M2.Input,eg=X.vtkWarningMacro,tg=X.vtkErrorMacro,mfe=X.normalizeWheel,_fe=X.vtkOnceErrorMacro,tc=new MouseEvent(""),Lx={"xr-standard":[$u.Trigger,$u.Grip,$u.TrackPad,$u.Thumbstick,$u.A,$u.B]},L2=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function ch(t){t.cancelable&&t.preventDefault()}function rg(t){var e=Object.create(null);return t.forEach(function(r){var n=r.pointerId,a=r.position;e[n]=a}),e}function xfe(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");var r=new Set,n=new Map;t.start=function(){!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=function(c){tg("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=function(c){e.interactorStyle!==c&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=c,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=function(){e.initialized=!0,t.enable(),t.render()},t.enable=function(){return t.setEnabled(!0)},t.disable=function(){return t.setEnabled(!1)},t.startEventLoop=function(){return eg("empty event loop")};function a(c,h){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(c,h))}t.getCurrentRenderer=function(){return e.currentRenderer||a(0,0),e.currentRenderer};function i(c){var h=e._view.getCanvas(),p=h.getBoundingClientRect(),v=h.width/p.width,g=h.height/p.height,y={x:v*(c.clientX-p.left),y:g*(p.height-c.clientY+p.top),z:0};return(n.size<=1||!e.currentRenderer)&&a(y.x,y.y),y}function o(c){return{controlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey}}function s(c){var h=o(c),p=jt({key:c.key,keyCode:c.charCode},h);return p}function u(c){return c.pointerType||""}t.bindEvents=function(c){e.container=c,c.addEventListener("contextmenu",ch),c.addEventListener("wheel",t.handleWheel),c.addEventListener("DOMMouseScroll",t.handleWheel),c.addEventListener("pointerenter",t.handlePointerEnter),c.addEventListener("pointerleave",t.handlePointerLeave),c.addEventListener("pointermove",t.handlePointerMove,{passive:!1}),c.addEventListener("pointerdown",t.handlePointerDown,{passive:!1}),c.addEventListener("pointerup",t.handlePointerUp),c.addEventListener("pointercancel",t.handlePointerCancel),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),c.style.touchAction="none",c.style.userSelect="none",c.style.webkitTapHighlightColor="rgba(0,0,0,0)"},t.unbindEvents=function(){var c=e.container;c.removeEventListener("contextmenu",ch),c.removeEventListener("wheel",t.handleWheel),c.removeEventListener("DOMMouseScroll",t.handleWheel),c.removeEventListener("pointerenter",t.handlePointerEnter),c.removeEventListener("pointerleave",t.handlePointerLeave),c.removeEventListener("pointermove",t.handlePointerMove,{passive:!1}),c.removeEventListener("pointerdown",t.handlePointerDown,{passive:!1}),c.removeEventListener("pointerup",t.handlePointerUp),c.removeEventListener("pointercancel",t.handlePointerCancel),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),e.container=null,n.clear()},t.handleKeyPress=function(c){var h=s(c);t.keyPressEvent(h)},t.handleKeyDown=function(c){var h=s(c);t.keyDownEvent(h)},t.handleKeyUp=function(c){var h=s(c);t.keyUpEvent(h)},t.handlePointerEnter=function(c){var h=jt(jt({},o(c)),{},{position:i(c),deviceType:u(c)});t.pointerEnterEvent(h),h.deviceType==="mouse"&&t.mouseEnterEvent(h)},t.handlePointerLeave=function(c){var h=jt(jt({},o(c)),{},{position:i(c),deviceType:u(c)});t.pointerLeaveEvent(h),h.deviceType==="mouse"&&t.mouseLeaveEvent(h)},t.handlePointerDown=function(c){if(!(c.button>2||t.isPointerLocked()))switch(e.preventDefaultOnPointerDown&&ch(c),c.target.hasPointerCapture(c.pointerId)&&c.target.releasePointerCapture(c.pointerId),e.container.setPointerCapture(c.pointerId),n.has(c.pointerId)&&eg("[RenderWindowInteractor] duplicate pointerId detected"),n.set(c.pointerId,{pointerId:c.pointerId,position:i(c)}),c.pointerType){case"pen":case"touch":t.handleTouchStart(c);break;case"mouse":default:t.handleMouseDown(c);break}},t.handlePointerUp=function(c){if(n.has(c.pointerId))switch(e.preventDefaultOnPointerUp&&ch(c),n.delete(c.pointerId),e.container.releasePointerCapture(c.pointerId),c.pointerType){case"pen":case"touch":t.handleTouchEnd(c);break;case"mouse":default:t.handleMouseUp(c);break}},t.handlePointerCancel=function(c){if(n.has(c.pointerId))switch(n.delete(c.pointerId),c.pointerType){case"pen":case"touch":t.handleTouchEnd(c);break;case"mouse":default:t.handleMouseUp(c);break}},t.handlePointerMove=function(c){if(n.has(c.pointerId)){var h=n.get(c.pointerId);h.position=i(c)}switch(c.pointerType){case"pen":case"touch":t.handleTouchMove(c);break;case"mouse":default:t.handleMouseMove(c);break}},t.handleMouseDown=function(c){var h=jt(jt({},o(c)),{},{position:i(c),deviceType:u(c)});switch(c.button){case 0:t.leftButtonPressEvent(h);break;case 1:t.middleButtonPressEvent(h);break;case 2:t.rightButtonPressEvent(h);break;default:tg("Unknown mouse button pressed: ".concat(c.button));break}},t.requestPointerLock=function(){e.container&&e.container.requestPointerLock()},t.exitPointerLock=function(){return document.exitPointerLock()},t.isPointerLocked=function(){return!!e.container&&document.pointerLockElement===e.container},t.handlePointerLockChange=function(){t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function l(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=function(c){if(c===void 0){tg("undefined requester, can not start animating");return}if(r.has(c)){eg("requester is already registered for animating");return}r.add(c),!e.animationRequest&&r.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=function(c){var h=Date.now()+c;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,h),!e.animationRequest&&r.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=function(){return e.xrAnimation||e.animationRequest!==null},t.cancelAnimation=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r.has(c)){if(!h){var p=c&&c.getClassName?c.getClassName():c;eg("".concat(p," did not request an animation"))}return}r.delete(c),e.animationRequest&&r.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=function(){e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=function(){e.xrAnimation=!1,r.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=function(c,h,p){c.inputSources.forEach(function(v){var g=v.gripSpace==null?null:h.getPose(v.gripSpace,p),y=v.gamepad,m=v.handedness;if(y){y.index in e.lastGamepadValues||(e.lastGamepadValues[y.index]={left:{buttons:{}},right:{buttons:{}}});for(var d=0;d<y.buttons.length;++d)d in e.lastGamepadValues[y.index][m].buttons||(e.lastGamepadValues[y.index][m].buttons[d]=!1),e.lastGamepadValues[y.index][m].buttons[d]!==y.buttons[d].pressed&&g!=null&&(t.button3DEvent({gamepad:y,position:g.transform.position,orientation:g.transform.orientation,pressed:y.buttons[d].pressed,device:v.handedness==="left"?Qd.LeftController:Qd.RightController,input:Lx[y.mapping]&&Lx[y.mapping][d]?Lx[y.mapping][d]:$u.Trigger}),e.lastGamepadValues[y.index][m].buttons[d]=y.buttons[d].pressed),e.lastGamepadValues[y.index][m].buttons[d]&&g!=null&&t.move3DEvent({gamepad:y,position:g.transform.position,orientation:g.transform.orientation,device:v.handedness==="left"?Qd.LeftController:Qd.RightController})}})},t.handleMouseMove=function(c){var h=jt(jt({},o(c)),{},{position:i(c),deviceType:u(c)});e.moveTimeoutID===0?t.startMouseMoveEvent(h):(t.mouseMoveEvent(h),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(function(){t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=function(){var c=Date.now();e._animationFrameCount++,c-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(c-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=c,e._animationFrameCount=1),t.animationEvent(),l(),r.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=function(c){ch(c);var h=jt(jt(jt({},mfe(c)),o(c)),{},{position:i(c),deviceType:u(c)});e.wheelTimeoutID===0?t.startMouseWheelEvent(h):(t.mouseWheelEvent(h),clearTimeout(e.wheelTimeoutID)),e.wheelTimeoutID=setTimeout(function(){t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseUp=function(c){var h=jt(jt({},o(c)),{},{position:i(c),deviceType:u(c)});switch(c.button){case 0:t.leftButtonReleaseEvent(h);break;case 1:t.middleButtonReleaseEvent(h);break;case 2:t.rightButtonReleaseEvent(h);break;default:tg("Unknown mouse button released: ".concat(c.button));break}},t.handleTouchStart=function(c){var h=je(n.values());if(e.recognizeGestures&&h.length>1){var p=rg(n);if(h.length===2){var v=jt(jt({},o(tc)),{},{position:h[0].position,deviceType:u(c)});t.leftButtonReleaseEvent(v)}t.recognizeGesture("TouchStart",p)}else if(h.length===1){var g=jt(jt({},o(tc)),{},{position:i(c),deviceType:u(c)});t.leftButtonPressEvent(g)}},t.handleTouchMove=function(c){var h=je(n.values());if(e.recognizeGestures&&h.length>1){var p=rg(n);t.recognizeGesture("TouchMove",p)}else if(h.length===1){var v=jt(jt({},o(tc)),{},{position:h[0].position,deviceType:u(c)});t.mouseMoveEvent(v)}},t.handleTouchEnd=function(c){var h=je(n.values());if(e.recognizeGestures)if(h.length===0){var p=jt(jt({},o(tc)),{},{position:h[0].position,deviceType:u(c)});t.leftButtonReleaseEvent(p)}else if(h.length===1){var v=rg(n);t.recognizeGesture("TouchEnd",v);var g=jt(jt({},o(tc)),{},{position:h[0].position,deviceType:u(c)});t.leftButtonPressEvent(g)}else{var y=rg(n);t.recognizeGesture("TouchMove",y)}else if(h.length===1){var m=jt(jt({},o(tc)),{},{position:h[0].position,deviceType:u(c)});t.leftButtonReleaseEvent(m)}},t.setView=function(c){e._view!==c&&(e._view=c,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=function(){var c,h,p;return(c=e._view)===null||c===void 0||(h=c.getRenderable())===null||h===void 0||(p=h.getRenderersByReference())===null||p===void 0?void 0:p[0]},t.findPokedRenderer=function(){var c,h,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;var g=(c=e._view)===null||c===void 0||(h=c.getRenderable())===null||h===void 0?void 0:h.getRenderers();if(!g)return null;g.sort(function(w,S){return w.getLayer()-S.getLayer()});for(var y=null,m=null,d=null,_=g.length;_--;){var x=g[_];if(e._view.isInViewport(p,v,x)&&x.getInteractive()){d=x;break}y===null&&x.getInteractive()&&(y=x),m===null&&e._view.isInViewport(p,v,x)&&(m=x)}return d===null&&(d=y),d===null&&(d=m),d==null&&(d=g[0]),d},t.render=function(){!t.isAnimating()&&!e.inRender&&l()},L2.forEach(function(c){var h=c.charAt(0).toLowerCase()+c.slice(1);t["".concat(h,"Event")]=function(p){if(e.enabled){var v=t.getCurrentRenderer();if(!v){_fe(`
          Can not forward events without a current renderer on the interactor.
        `);return}var g=jt({type:c,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer()},p);t["invoke".concat(c)](g)}}}),t.recognizeGesture=function(c,h){if(!(Object.keys(h).length>2)){if(e.startingEventPositions||(e.startingEventPositions={}),c==="TouchStart"){Object.keys(h).forEach(function(I){e.startingEventPositions[I]=h[I]}),e.currentGesture="Start";return}if(c==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}var p=0,v=[],g=[];Object.keys(h).forEach(function(I){v[p]=h[I],g[p]=e.startingEventPositions[I],p++});var y=Math.sqrt((g[0].x-g[1].x)*(g[0].x-g[1].x)+(g[0].y-g[1].y)*(g[0].y-g[1].y)),m=Math.sqrt((v[0].x-v[1].x)*(v[0].x-v[1].x)+(v[0].y-v[1].y)*(v[0].y-v[1].y)),d=Qp(Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x)),_=Qp(Math.atan2(v[1].y-v[0].y,v[1].x-v[0].x)),x=_-d;_=_+180>=360?_-180:_+180,d=d+180>=360?d-180:d+180,Math.abs(_-d)<Math.abs(x)&&(x=_-d);var w=[];if(w[0]=(v[0].x-g[0].x+v[1].x-g[1].x)/2,w[1]=(v[0].y-g[0].y+v[1].y-g[1].y)/2,c==="TouchMove")if(e.currentGesture==="Start"){var S=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);S<15&&(S=15);var b=Math.abs(m-y),T=m*3.1415926*Math.abs(x)/360,C=Math.sqrt(w[0]*w[0]+w[1]*w[1]);if(b>S&&b>T&&b>C){e.currentGesture="Pinch";var M={scale:1,touches:h};t.startPinchEvent(M)}else if(T>S&&T>C){e.currentGesture="Rotate";var D={rotation:0,touches:h};t.startRotateEvent(D)}else if(C>S){e.currentGesture="Pan";var E={translation:[0,0],touches:h};t.startPanEvent(E)}}else{if(e.currentGesture==="Rotate"){var k={rotation:x,touches:h};t.rotateEvent(k)}if(e.currentGesture==="Pinch"){var O={scale:m/y,touches:h};t.pinchEvent(O)}if(e.currentGesture==="Pan"){var A={translation:w,touches:h};t.panEvent(A)}}}},t.handleVisibilityChange=function(){e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=function(c){e._forcedRenderer=!!c,e.currentRenderer=c};var f=t.delete;t.delete=function(){for(;r.size;)t.cancelAnimation(r.values().next().value);typeof document.hidden<"u"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),f()},typeof document.hidden<"u"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}var wfe={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1};function b6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wfe,r),X.obj(t,e),e._animationExtendedEnd=0,X.event(t,e,"RenderEvent"),L2.forEach(function(n){return X.event(t,e,n)}),X.get(t,e,["initialized","container","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),X.setGet(t,e,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp"]),X.moveToProtected(t,e,["view"]),xfe(t,e)}var Sfe=X.newInstance(b6,"vtkRenderWindowInteractor"),h1=jt({newInstance:Sfe,extend:b6,handledEvents:L2},M2);function uk(t,e,r,n,a,i,o){try{var s=t[i](o),u=s.value}catch(l){r(l);return}s.done?e(u):Promise.resolve(u).then(n,a)}function Qc(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function o(u){uk(i,n,a,o,s,"next",u)}function s(u){uk(i,n,a,o,s,"throw",u)}o(void 0)})}}var kx={exports:{}},lk;function bfe(){return lk||(lk=1,function(t){var e=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(B,W,H){B[W]=H.value},o,s=typeof Symbol=="function"?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function c(B,W,H){return Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}),B[W]}try{c({},"")}catch{c=function(W,H,$){return W[H]=$}}function h(B,W,H,$){var q=W&&W.prototype instanceof _?W:_,Q=Object.create(q.prototype),Y=new I($||[]);return i(Q,"_invoke",{value:E(B,H,Y)}),Q}r.wrap=h;function p(B,W,H){try{return{type:"normal",arg:B.call(W,H)}}catch($){return{type:"throw",arg:$}}}var v="suspendedStart",g="suspendedYield",y="executing",m="completed",d={};function _(){}function x(){}function w(){}var S={};c(S,u,function(){return this});var b=Object.getPrototypeOf,T=b&&b(b(U([])));T&&T!==n&&a.call(T,u)&&(S=T);var C=w.prototype=_.prototype=Object.create(S);x.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=c(w,f,"GeneratorFunction");function M(B){["next","throw","return"].forEach(function(W){c(B,W,function(H){return this._invoke(W,H)})})}r.isGeneratorFunction=function(B){var W=typeof B=="function"&&B.constructor;return W?W===x||(W.displayName||W.name)==="GeneratorFunction":!1},r.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,w):(B.__proto__=w,c(B,f,"GeneratorFunction")),B.prototype=Object.create(C),B},r.awrap=function(B){return{__await:B}};function D(B,W){function H(Q,Y,ie,J){var ae=p(B[Q],B,Y);if(ae.type==="throw")J(ae.arg);else{var re=ae.arg,V=re.value;return V&&typeof V=="object"&&a.call(V,"__await")?W.resolve(V.__await).then(function(R){H("next",R,ie,J)},function(R){H("throw",R,ie,J)}):W.resolve(V).then(function(R){re.value=R,ie(re)},function(R){return H("throw",R,ie,J)})}}var $;function q(Q,Y){function ie(){return new W(function(J,ae){H(Q,Y,J,ae)})}return $=$?$.then(ie,ie):ie()}i(this,"_invoke",{value:q})}M(D.prototype),c(D.prototype,l,function(){return this}),r.AsyncIterator=D,r.async=function(B,W,H,$,q){q===void 0&&(q=Promise);var Q=new D(h(B,W,H,$),q);return r.isGeneratorFunction(W)?Q:Q.next().then(function(Y){return Y.done?Y.value:Q.next()})};function E(B,W,H){var $=v;return function(Q,Y){if($===y)throw new Error("Generator is already running");if($===m){if(Q==="throw")throw Y;return P()}for(H.method=Q,H.arg=Y;;){var ie=H.delegate;if(ie){var J=k(ie,H);if(J){if(J===d)continue;return J}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if($===v)throw $=m,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);$=y;var ae=p(B,W,H);if(ae.type==="normal"){if($=H.done?m:g,ae.arg===d)continue;return{value:ae.arg,done:H.done}}else ae.type==="throw"&&($=m,H.method="throw",H.arg=ae.arg)}}}function k(B,W){var H=W.method,$=B.iterator[H];if($===o)return W.delegate=null,H==="throw"&&B.iterator.return&&(W.method="return",W.arg=o,k(B,W),W.method==="throw")||H!=="return"&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+H+"' method")),d;var q=p($,B.iterator,W.arg);if(q.type==="throw")return W.method="throw",W.arg=q.arg,W.delegate=null,d;var Q=q.arg;if(!Q)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,d;if(Q.done)W[B.resultName]=Q.value,W.next=B.nextLoc,W.method!=="return"&&(W.method="next",W.arg=o);else return Q;return W.delegate=null,d}M(C),c(C,f,"Generator"),c(C,u,function(){return this}),c(C,"toString",function(){return"[object Generator]"});function O(B){var W={tryLoc:B[0]};1 in B&&(W.catchLoc=B[1]),2 in B&&(W.finallyLoc=B[2],W.afterLoc=B[3]),this.tryEntries.push(W)}function A(B){var W=B.completion||{};W.type="normal",delete W.arg,B.completion=W}function I(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(O,this),this.reset(!0)}r.keys=function(B){var W=Object(B),H=[];for(var $ in W)H.push($);return H.reverse(),function q(){for(;H.length;){var Q=H.pop();if(Q in W)return q.value=Q,q.done=!1,q}return q.done=!0,q}};function U(B){if(B){var W=B[u];if(W)return W.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var H=-1,$=function q(){for(;++H<B.length;)if(a.call(B,H))return q.value=B[H],q.done=!1,q;return q.value=o,q.done=!0,q};return $.next=$}}return{next:P}}r.values=U;function P(){return{value:o,done:!0}}return I.prototype={constructor:I,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(A),!B)for(var W in this)W.charAt(0)==="t"&&a.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=o)},stop:function(){this.done=!0;var B=this.tryEntries[0],W=B.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var W=this;function H(J,ae){return Q.type="throw",Q.arg=B,W.next=J,ae&&(W.method="next",W.arg=o),!!ae}for(var $=this.tryEntries.length-1;$>=0;--$){var q=this.tryEntries[$],Q=q.completion;if(q.tryLoc==="root")return H("end");if(q.tryLoc<=this.prev){var Y=a.call(q,"catchLoc"),ie=a.call(q,"finallyLoc");if(Y&&ie){if(this.prev<q.catchLoc)return H(q.catchLoc,!0);if(this.prev<q.finallyLoc)return H(q.finallyLoc)}else if(Y){if(this.prev<q.catchLoc)return H(q.catchLoc,!0)}else if(ie){if(this.prev<q.finallyLoc)return H(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,W){for(var H=this.tryEntries.length-1;H>=0;--H){var $=this.tryEntries[H];if($.tryLoc<=this.prev&&a.call($,"finallyLoc")&&this.prev<$.finallyLoc){var q=$;break}}q&&(B==="break"||B==="continue")&&q.tryLoc<=W&&W<=q.finallyLoc&&(q=null);var Q=q?q.completion:{};return Q.type=B,Q.arg=W,q?(this.method="next",this.next=q.finallyLoc,d):this.complete(Q)},complete:function(B,W){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&W&&(this.next=W),d},finish:function(B){for(var W=this.tryEntries.length-1;W>=0;--W){var H=this.tryEntries[W];if(H.finallyLoc===B)return this.complete(H.completion,H.afterLoc),A(H),d}},catch:function(B){for(var W=this.tryEntries.length-1;W>=0;--W){var H=this.tryEntries[W];if(H.tryLoc===B){var $=H.completion;if($.type==="throw"){var q=$.arg;A(H)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(B,W,H){return this.delegate={iterator:U(B),resultName:W,nextLoc:H},this.method==="next"&&(this.arg=o),d}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(kx)),kx.exports}var Rx,ck;function Tfe(){return ck||(ck=1,Rx=bfe()),Rx}var Cfe=Tfe();const ma=qv(Cfe);function Efe(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=function(){return e.currentOperation},t.setCurrentOperation=function(r){e.currentOperation=r,e.currentTraverseOperation="traverse".concat(X.capitalize(e.currentOperation))},t.getTraverseOperation=function(){return e.currentTraverseOperation},t.traverse=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e.currentParent=n,e.preDelegateOperations.forEach(function(a){t.setCurrentOperation(a),r.traverse(t)}),e.delegates.forEach(function(a){a.traverse(r,t)}),e.postDelegateOperations.forEach(function(a){t.setCurrentOperation(a),r.traverse(t)}))}}var Dfe={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function T6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Dfe,r),X.obj(t,e),X.get(t,e,["currentOperation"]),X.setGet(t,e,["delegates","currentParent","preDelegateOperations","postDelegateOperations"]),Efe(t,e)}var Ofe=X.newInstance(T6,"vtkRenderPass"),k2={newInstance:Ofe,extend:T6},Mfe=qo.Representation,fk=X.vtkErrorMacro;function Lfe(t){var e=pe.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}var kfe=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function Rfe(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=function(){var r=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),n=new Float32Array([0,0,1,0,0,1,1,1]),a=new Uint16Array([4,0,1,3,2]),i=gt.newInstance({numberOfComponents:3,values:r});i.setName("points");var o=gt.newInstance({numberOfComponents:2,values:n});o.setName("tcoords");var s=gt.newInstance({numberOfComponents:1,values:a});e.tris.getCABO().createVBO(s,"polys",Mfe.SURFACE,{points:i,tcoords:o,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=function(r){var n,a=r.getSize(),i=r.getContext();e.framebuffer=Al.newInstance(),e.framebuffer.setOpenGLRenderWindow(r),(n=e.framebuffer).create.apply(n,je(a)),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=Ot.newInstance(),e.translucentRGBATexture.setInternalFormat(i.RGBA16F),e.translucentRGBATexture.setFormat(i.RGBA),e.translucentRGBATexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(r),e.translucentRGBATexture.create2DFromRaw(a[0],a[1],4,"Float32Array",null),e.translucentRTexture=Ot.newInstance(),e.translucentRTexture.setInternalFormat(i.R16F),e.translucentRTexture.setFormat(i.RED),e.translucentRTexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(r),e.translucentRTexture.create2DFromRaw(a[0],a[1],1,"Float32Array",null),e.translucentZTexture=Ot.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(r),e.translucentZTexture.createDepthFromRaw(a[0],a[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=function(r){e.copyShader=r.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),kfe,"")},t.createVBO=function(r){var n=r.getContext();e.tris.setOpenGLRenderWindow(r),t.createVertexBuffer();var a=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),n.FLOAT,3,n.FALSE)||fk("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),n.FLOAT,2,n.FALSE)||fk("Error setting vertexDC in copy shader VAO.")},t.traverse=function(r,n,a){if(!e.deleted){var i=r.getSize(),o=r.getContext();if(e._supported=!1,n.getSelector()||!o||!r.getWebgl2()||!o.getExtension("EXT_color_buffer_half_float")&&!o.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),n.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(r);else{var s=e.framebuffer.getSize();s===null||s[0]!==i[0]||s[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(r),e.translucentRTexture.releaseGraphicsResources(r),e.translucentZTexture.releaseGraphicsResources(r),t.createFramebuffer(r)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}o.drawBuffers([o.COLOR_ATTACHMENT0]),o.clearBufferfv(o.COLOR,0,[0,0,0,0]),o.clearBufferfv(o.DEPTH,0,[1]),o.colorMask(!1,!1,!1,!1),a.getOpaqueActorCount()>0&&(a.setCurrentOperation("opaquePass"),n.traverse(a)),o.colorMask(!0,!0,!0,!0),o.drawBuffers([o.COLOR_ATTACHMENT0,o.COLOR_ATTACHMENT1]),o.viewport(0,0,i[0],i[1]),o.scissor(0,0,i[0],i[1]),o.clearBufferfv(o.COLOR,0,[0,0,0,1]),o.clearBufferfv(o.COLOR,1,[0,0,0,0]),o.enable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.ONE,o.ONE,o.ZERO,o.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),n.traverse(t),o.drawBuffers([o.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(r):r.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=ed.newInstance(),e.copyVAO.setOpenGLRenderWindow(r)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(r),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.depthMask(!1),o.depthFunc(o.ALWAYS),o.viewport(0,0,i[0],i[1]),o.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),o.depthMask(!0),o.depthFunc(o.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate()}},t.getShaderReplacement=function(){return e._supported?Lfe:null},t.releaseGraphicsResources=function(r){e.framebuffer&&(e.framebuffer.releaseGraphicsResources(r),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(r),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(r),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(r),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(r),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(r),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(r),e.tris=null),t.modified()}}var Afe={framebuffer:null,copyShader:null,tris:null};function C6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Afe,r),k2.extend(t,e,r),e.VBOBuildTime={},X.obj(e.VBOBuildTime,{mtime:0}),e.tris=Yi.newInstance(),X.get(t,e,["framebuffer"]),Rfe(t,e)}var Nfe=X.newInstance(C6,"vtkOpenGLOrderIndependentTranslucentPass"),Ffe={newInstance:Nfe,extend:C6};function Bfe(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e.deleted){e.currentParent=n,t.setCurrentOperation("buildPass"),r.traverse(t);for(var a=r.getRenderable().getNumberOfLayers(),i=r.getChildren(),o=0;o<a;o++)for(var s=0;s<i.length;s++){var u=i[s],l=r.getRenderable().getRenderers()[s];if(l.getDraw()&&l.getLayer()===o){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),u.traverse(t),e.opaqueActorCount>0&&e.volumeCount>0||e.depthRequested){var f=r.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=Al.newInstance()),e.framebuffer.setOpenGLRenderWindow(r),e.framebuffer.saveCurrentBindingsAndBuffers();var c=e.framebuffer.getSize();(c===null||c[0]!==f[0]||c[1]!==f[1])&&(e.framebuffer.create(f[0],f[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("opaqueZBufferPass"),u.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),u.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),u.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=Ffe.newInstance()),e.translucentPass.traverse(r,u,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),u.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),u.traverse(t))}}}},t.getZBufferTexture=function(){return e.framebuffer?e.framebuffer.getColorTexture():null},t.requestDepth=function(){e.depthRequested=!0},t.incrementOpaqueActorCount=function(){return e.opaqueActorCount++},t.incrementTranslucentActorCount=function(){return e.translucentActorCount++},t.incrementVolumeCount=function(){return e.volumeCount++},t.incrementOverlayActorCount=function(){return e.overlayActorCount++}}var Ife={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function E6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ife,r),k2.extend(t,e,r),X.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),Bfe(t,e)}var Vfe=X.newInstance(E6,"vtkForwardPass"),Pfe={newInstance:Vfe,extend:E6},Sn={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3},D6={PassTypes:Sn};function Ufe(t,e){e.classHierarchy.push("vtkFieldData");var r=t.getState;e.arrays&&(e.arrays=e.arrays.map(function(n){return{data:ri(n.data)}})),t.initialize=function(){t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=function(){e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=function(n){t.initializeFields(),e.copyFieldFlags=n.getCopyFieldFlags().map(function(a){return a}),e.arrays=n.arrays().map(function(a){return{array:a}})},t.getNumberOfArrays=function(){return e.arrays.length},t.getNumberOfActiveArrays=function(){return e.arrays.length},t.addArray=function(n){return e.arrays=[].concat(e.arrays,{data:n}),e.arrays.length-1},t.removeAllArrays=function(){e.arrays=[]},t.removeArray=function(n){e.arrays=e.arrays.filter(function(a){return n!==a.data.getName()})},t.removeArrayByIndex=function(n){e.arrays=e.arrays.filter(function(a,i){return i!==n})},t.getArrays=function(){return e.arrays.map(function(n){return n.data})},t.getArray=function(n){return typeof n=="number"?t.getArrayByIndex(n):t.getArrayByName(n)},t.getArrayByName=function(n){return e.arrays.reduce(function(a,i,o){return i.data.getName()===n?i.data:a},null)},t.getArrayWithIndex=function(n){return e.arrays.reduce(function(a,i,o){return i.data&&i.data.getName()===n?{array:i.data,index:o}:a},{array:null,index:-1})},t.getArrayByIndex=function(n){return n>=0&&n<e.arrays.length?e.arrays[n].data:null},t.hasArray=function(n){return t.getArrayWithIndex(n).index>=0},t.getArrayName=function(n){var a=e.arrays[n];return a?a.data.getName():""},t.getCopyFieldFlags=function(){return e.copyFieldFlags},t.getFlag=function(n){return e.copyFieldFlags[n]},t.passData=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;n.getArrays().forEach(function(o){var s=t.getFlag(o.getName());if(s!==!1&&!(e.doCopyAllOff&&s!==!0)&&o){var u=t.getArrayByName(o.getName());if(u){if(o.getNumberOfComponents()===u.getNumberOfComponents())if(a>-1&&a<o.getNumberOfTuples()){var h=i>-1?i:a;u.setTuple(h,o.getTuple(a))}else for(var p=0;p<o.getNumberOfTuples();++p)u.setTuple(p,o.getTuple(p))}else if(a<0||a>o.getNumberOfTuples())t.addArray(o);else{var l=o.getNumberOfComponents(),f=o.getNumberOfValues(),c=i>-1?i:a;f<c*l&&(f=(c+1)*l),u=gt.newInstance({name:o.getName(),dataType:o.getDataType(),numberOfComponents:o.getNumberOfComponents(),size:f}),u.setTuple(c,o.getTuple(a)),t.addArray(u)}}})},t.copyFieldOn=function(n){e.copyFieldFlags[n]=!0},t.copyFieldOff=function(n){e.copyFieldFlags[n]=!1},t.copyAllOn=function(){(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=function(){(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=function(){e.copyFieldFlags={}},t.deepCopy=function(n){e.arrays=n.getArrays().map(function(a){var i=a.newClone();return i.deepCopy(a),{data:i}})},t.copyFlags=function(n){return n.getCopyFieldFlags().map(function(a){return a})},t.reset=function(){return e.arrays.forEach(function(n){return n.data.reset()})},t.getMTime=function(){return e.arrays.reduce(function(n,a){return a.data.getMTime()>n?a.data.getMTime():n},e.mtime)},t.getNumberOfComponents=function(){return e.arrays.reduce(function(n,a){return n+a.data.getNumberOfComponents()},0)},t.getNumberOfTuples=function(){return e.arrays.length>0?e.arrays[0].getNumberOfTuples():0},t.getState=function(){var n=r();return n&&(n.arrays=e.arrays.map(function(a){return{data:a.data.getState()}})),n}}var zfe={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function O6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zfe,r),X.obj(t,e),Ufe(t,e)}var Gfe=X.newInstance(O6,"vtkFieldData"),Wfe={newInstance:Gfe,extend:O6},Hfe={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},jfe={MAX:0,EXACT:1,NOLIMIT:2},$fe={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},Kfe={DUPLICATEPOINT:1,HIDDENPOINT:2},Xfe={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},Yfe="vtkGhostType",qfe={DEFAULT:0,SINGLE:1,DOUBLE:2},R2={AttributeCopyOperations:Xfe,AttributeLimitTypes:jfe,AttributeTypes:Hfe,CellGhostTypes:$fe,DesiredOutputPrecision:qfe,PointGhostTypes:Kfe,ghostArrayName:Yfe};function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yu=R2.AttributeTypes,rc=R2.AttributeCopyOperations,ng=X.vtkWarningMacro;function Jfe(t,e){var r=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function n(i){var o=r.find(function(s){return yu[s.toUpperCase()]===i||typeof i!="number"&&s.toLowerCase()===i.toLowerCase()});return typeof o>"u"&&(o=null),o}e.classHierarchy.push("vtkDataSetAttributes"),t.checkNumberOfComponents=function(i){return!0},t.setAttribute=function(i,o){var s=n(o);if(i&&s.toUpperCase()==="PEDIGREEIDS"&&!i.isA("vtkDataArray"))return ng("Cannot set attribute ".concat(s,". The attribute must be a vtkDataArray.")),-1;if(i&&!t.checkNumberOfComponents(i,s))return ng("Cannot set attribute ".concat(s,". Incorrect number of components.")),-1;var u=e["active".concat(s)];if(u>=0&&u<e.arrays.length){if(e.arrays[u]===i)return u;t.removeArrayByIndex(u)}return i?(u=t.addArray(i),e["active".concat(s)]=u):e["active".concat(s)]=-1,t.modified(),e["active".concat(s)]},t.setActiveAttributeByName=function(i,o){return t.setActiveAttributeByIndex(t.getArrayWithIndex(i).index,o)},t.setActiveAttributeByIndex=function(i,o){var s=n(o);if(i>=0&&i<e.arrays.length){if(s.toUpperCase()!=="PEDIGREEIDS"){var u=t.getArrayByIndex(i);if(!u.isA("vtkDataArray"))return ng("Cannot set attribute ".concat(s,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!t.checkNumberOfComponents(u,s))return ng("Cannot set attribute ".concat(s,". Incorrect number of components.")),-1}return e["active".concat(s)]=i,t.modified(),i}return i===-1&&(e["active".concat(s)]=i,t.modified()),-1},t.getActiveAttribute=function(i){var o=n(i);return t["get".concat(o)]()},t.removeAllArrays=function(){e.arrays=[],r.forEach(function(i){e["active".concat(i)]=-1})},t.removeArray=function(i){e.arrays=e.arrays.filter(function(o,s){return i===o.data.getName()?(r.forEach(function(u){s===e["active".concat(u)]&&(e["active".concat(u)]=-1)}),!1):!0})},t.removeArrayByIndex=function(i){e.arrays=e.arrays.filter(function(o,s){return s!==i}),r.forEach(function(o){i===e["active".concat(o)]&&(e["active".concat(o)]=-1)})},r.forEach(function(i){var o="active".concat(i);t["get".concat(i)]=function(){return t.getArrayByIndex(e[o])},t["set".concat(i)]=function(s){return t.setAttribute(s,i)},t["setActive".concat(i)]=function(s){return t.setActiveAttributeByIndex(t.getArrayWithIndex(s).index,i)},t["copy".concat(i,"Off")]=function(){var s=i.toUpperCase();e.copyAttributeFlags[rc.PASSDATA][yu[s]]=!1}}),t.initializeAttributeCopyFlags=function(){e.copyAttributeFlags=[],Object.keys(rc).filter(function(i){return i!=="ALLCOPY"}).forEach(function(i){e.copyAttributeFlags[rc[i]]=Object.keys(yu).filter(function(o){return o!=="NUM_ATTRIBUTES"}).reduce(function(o,s){return o[yu[s]]=!0,o},[])}),e.copyAttributeFlags[rc.COPYTUPLE][yu.GLOBALIDS]=!1,e.copyAttributeFlags[rc.INTERPOLATE][yu.GLOBALIDS]=!1,e.copyAttributeFlags[rc.COPYTUPLE][yu.PEDIGREEIDS]=!1},t.initialize=X.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(function(i){!e.dataArrays[i].ref&&e.dataArrays[i].type==="vtkDataArray"&&t.addArray(gt.newInstance(e.dataArrays[i]))});var a=t.shallowCopy;t.shallowCopy=function(i,o){a(i,o),e.arrays=i.getArrays().map(function(s){var u=s.newClone();return u.shallowCopy(s,o),{data:u}})},t.initializeAttributeCopyFlags()}var Qfe={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function M6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Qfe,r),Wfe.extend(t,e,r),X.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),Jfe(t,e)}var ehe=X.newInstance(M6,"vtkDataSetAttributes"),pk=Zfe({newInstance:ehe,extend:M6},R2),the={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},rhe={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7},nhe={FieldDataTypes:the,FieldAssociations:rhe};function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ahe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Db=["pointData","cellData","fieldData"];function ihe(t,e){e.classHierarchy.push("vtkDataSet"),Db.forEach(function(n){e[n]?e[n]=ri(e[n]):e[n]=pk.newInstance()});var r=t.shallowCopy;t.shallowCopy=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(n,a),Db.forEach(function(i){e[i]=pk.newInstance(),e[i].shallowCopy(n.getReferenceByName(i))})}}var ohe={};function L6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ohe,r),X.obj(t,e),X.setGet(t,e,Db),ihe(t,e)}var she=X.newInstance(L6,"vtkDataSet"),zf=ahe({newInstance:she,extend:L6},nhe),uhe=zf.FieldAssociations;function lhe(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=function(){var r=Qc(ma.mark(function n(a,i,o,s,u){return ma.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:case"end":return f.stop()}},n)}));return function(n,a,i,o,s){return r.apply(this,arguments)}}(),t.selectAsync=function(){var r=Qc(ma.mark(function n(a,i,o,s,u){var l;return ma.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.getSourceDataAsync(a,i,o,s,u);case 2:if(l=c.sent,!l){c.next=5;break}return c.abrupt("return",l.generateSelection(i,o,s,u));case 5:return c.abrupt("return",[]);case 6:case"end":return c.stop()}},n)}));return function(n,a,i,o,s){return r.apply(this,arguments)}}()}var che={fieldAssociation:uhe.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function k6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,che,r),X.obj(t,e),X.setGet(t,e,["fieldAssociation","captureZValues"]),lhe(t,e)}var fhe=X.newInstance(k6,"vtkHardwareSelector"),hhe={newInstance:fhe,extend:k6},phe={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},vhe={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5},dhe={SelectionContent:phe,SelectionField:vhe};function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ghe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yhe(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=function(){return e.points.getBounds()}}var mhe={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function R6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,mhe,r),X.obj(t,e),e.properties={},X.setGet(t,e,["contentType","fieldType","properties","selectionList"]),yhe(t,e)}var _he=X.newInstance(R6,"vtkSelectionNode"),A2=ghe({newInstance:_he,extend:R6},dhe);function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Dr=D6.PassTypes,whe=A2.SelectionContent,yk=A2.SelectionField,Sp=zf.FieldAssociations,A6=X.vtkErrorMacro,Os=1;function N6(t){return"".concat(t.propID," ").concat(t.compositeID)}function F6(t,e,r,n){if(!r)return 0;var a=(e*(n[2]-n[0]+1)+t)*4;return r[a+3]}function Co(t,e,r,n){if(!r)return 0;var a=(e*(n[2]-n[0]+1)+t)*4,i=[];i[0]=r[a],i[1]=r[a+1],i[2]=r[a+2];var o=i[2];return o*=256,o+=i[1],o*=256,o+=i[0],o}function B6(t,e){var r=e;return r<<=24,r|=t,r}function She(t,e,r,n){{if(n[0]=e[0],n[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;var a=[e[0]-t.area[0],e[1]-t.area[1]],i=Co(a[0],a[1],t.pixBuffer[Dr.ACTOR_PASS],t.area);if(i<=0||i-Os>=t.props.length)return null;var o={};o.valid=!0,o.propID=i-Os,o.prop=t.props[o.propID];var s=Co(a[0],a[1],t.pixBuffer[Dr.COMPOSITE_INDEX_PASS],t.area);if((s<0||s>16777215)&&(s=0),o.compositeID=s-Os,t.captureZValues){var u=(a[1]*(t.area[2]-t.area[0]+1)+a[0])*4;o.zValue=(256*t.zBuffer[u]+t.zBuffer[u+1])/65535,o.displayPosition=e}if(t.pixBuffer[Dr.ID_LOW24]&&F6(a[0],a[1],t.pixBuffer[Dr.ID_LOW24],t.area)===0)return o;var l=Co(a[0],a[1],t.pixBuffer[Dr.ID_LOW24],t.area),f=Co(a[0],a[1],t.pixBuffer[Dr.ID_HIGH24],t.area);return o.attributeID=B6(l,f),o}}function I6(t,e,r,n,a){var i=[],o=0;return e.forEach(function(s,u){var l=A2.newInstance();switch(l.setContentType(whe.INDICES),t){case Sp.FIELD_ASSOCIATION_CELLS:l.setFieldType(yk.CELL);break;case Sp.FIELD_ASSOCIATION_POINTS:l.setFieldType(yk.POINT);break;default:A6("Unknown field association")}l.getProperties().propID=s.info.propID,l.getProperties().prop=s.info.prop,l.getProperties().compositeID=s.info.compositeID,l.getProperties().attributeID=s.info.attributeID,l.getProperties().pixelCount=s.pixelCount,r&&(l.getProperties().displayPosition=[s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue],l.getProperties().worldPosition=a.displayToWorld(s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue,n)),l.setSelectionList(s.attributeIDs),i[o]=l,o++}),i}function bhe(t,e,r,n,a){for(var i=Math.floor(e),o=Math.floor(r),s=Math.floor(n),u=Math.floor(a),l=new Map,f=[0,0],c=o;c<=u;c++)for(var h=i;h<=s;h++){var p=[h,c],v=She(t,p,0,f);if(v&&v.valid){var g=N6(v);if(!l.has(g))l.set(g,{info:v,pixelCount:1,attributeIDs:[v.attributeID]});else{var y=l.get(g);y.pixelCount++,t.captureZValues&&v.zValue<y.info.zValue&&(y.info=v),y.attributeIDs.indexOf(v.attributeID)===-1&&y.attributeIDs.push(v.attributeID)}}}return I6(t.fieldAssociation,l,t.captureZValues,t.renderer,t.openGLRenderWindow)}function The(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=function(){e.rawPixBuffer=[],e.pixBuffer=[],e.zBuffer=null},t.beginSelection=function(){e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;var n=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=Al.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(n[0],n[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();var a=e.framebuffer.getSize();a[0]!==n[0]||a[1]!==n[1]?(e.framebuffer.create(n[0],n[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}if(e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.propPixels={},e.props=[],t.releasePixBuffers(),e.fieldAssociation===Sp.FIELD_ASSOCIATION_POINTS){var i=e._openGLRenderWindow.getContext(),o=i.isEnabled(i.BLEND);i.disable(i.BLEND),e._openGLRenderWindow.traverseAllPasses(),e._renderer.setPreserveDepthBuffer(!0),o&&i.enable(i.BLEND)}},t.endSelection=function(){e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers(),e._renderer.setPreserveDepthBuffer(!1)},t.preCapturePass=function(){var n=e._openGLRenderWindow.getContext();e.originalBlending=n.isEnabled(n.BLEND),n.disable(n.BLEND)},t.postCapturePass=function(){var n=e._openGLRenderWindow.getContext();e.originalBlending&&n.enable(n.BLEND)},t.select=function(){var n=null;return t.captureBuffers()&&(n=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),n},t.getSourceDataAsync=function(){var n=Qc(ma.mark(function a(i,o,s,u,l){var f,c;return ma.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(e._renderer=i,o===void 0?(f=e._openGLRenderWindow.getSize(),t.setArea(0,0,f[0]-1,f[1]-1)):t.setArea(o,s,u,l),t.captureBuffers()){p.next=4;break}return p.abrupt("return",!1);case 4:return c={area:je(e.area),pixBuffer:je(e.pixBuffer),captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:je(e.props),fieldAssociation:e.fieldAssociation,renderer:i,openGLRenderWindow:e._openGLRenderWindow},c.generateSelection=function(){for(var v=arguments.length,g=new Array(v),y=0;y<v;y++)g[y]=arguments[y];return bhe.apply(void 0,[c].concat(g))},p.abrupt("return",c);case 7:case"end":return p.stop()}},a)}));return function(a,i,o,s,u){return n.apply(this,arguments)}}(),t.captureBuffers=function(){if(!e._renderer||!e._openGLRenderWindow)return A6("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0,0);var n=e._openGLRenderWindow.getRenderPasses();for(t.beginSelection(),e.currentPass=Dr.MIN_KNOWN_PASS;e.currentPass<=Dr.MAX_KNOWN_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===Dr.ACTOR_PASS&&typeof n[0].requestDepth=="function"&&typeof n[0].getFramebuffer=="function"&&n[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass),t.processPixelBuffers());return t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.processPixelBuffers=function(){e.props.forEach(function(n,a){t.isPropHit(a)&&n.processSelectorPixelBuffers(t,e.propPixels[a])})},t.passRequired=function(n){if(n===Dr.ID_HIGH24){if(e.fieldAssociation===Sp.FIELD_ASSOCIATION_POINTS)return e.maximumPointId>16777215;if(e.fieldAssociation===Sp.FIELD_ASSOCIATION_CELLS)return e.maximumCellId>16777215}return!0},t.savePixelBuffer=function(n){if(e.pixBuffer[n]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),!e.rawPixBuffer[n]){var a=(e.area[2]-e.area[0]+1)*(e.area[3]-e.area[1]+1)*4;e.rawPixBuffer[n]=new Uint8Array(a),e.rawPixBuffer[n].set(e.pixBuffer[n])}if(n===Dr.ACTOR_PASS){if(e.captureZValues){var i=e._openGLRenderWindow.getRenderPasses();if(typeof i[0].requestDepth=="function"&&typeof i[0].getFramebuffer=="function"){var o=i[0].getFramebuffer();o.saveCurrentBindingsAndBuffers(),o.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),o.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.rawPixBuffer[n])}},t.buildPropHitList=function(n){for(var a=0,i=0;i<=e.area[3]-e.area[1];i++)for(var o=0;o<=e.area[2]-e.area[0];o++){var s=Co(o,i,n,e.area);s>0&&(s--,s in e.hitProps||(e.hitProps[s]=!0,e.propPixels[s]=[]),e.propPixels[s].push(a*4)),++a}},t.renderProp=function(n){e.currentPass===Dr.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+Os),e.props.push(n))},t.renderCompositeIndex=function(n){e.currentPass===Dr.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(n+Os)},t.renderAttributeId=function(n){n<0||(e.maxAttributeId=n>e.maxAttributeId?n:e.maxAttributeId)},t.passTypeToString=function(n){return X.enumToString(Dr,n)},t.isPropHit=function(n){return!!e.hitProps[n]},t.setPropColorValueFromInt=function(n){e.propColorValue[0]=n%256/255,e.propColorValue[1]=Math.floor(n/256)%256/255,e.propColorValue[2]=Math.floor(n/65536)%256/255},t.getPixelInformation=function(n,a,i){var o=a<0?0:a;if(o===0){if(i[0]=n[0],i[1]=n[1],n[0]<e.area[0]||n[0]>e.area[2]||n[1]<e.area[1]||n[1]>e.area[3])return null;var s=[n[0]-e.area[0],n[1]-e.area[1]],u=Co(s[0],s[1],e.pixBuffer[Dr.ACTOR_PASS],e.area);if(u<=0||u-Os>=e.props.length)return null;var l={};l.valid=!0,l.propID=u-Os,l.prop=e.props[l.propID];var f=Co(s[0],s[1],e.pixBuffer[Dr.COMPOSITE_INDEX_PASS],e.area);if((f<0||f>16777215)&&(f=0),l.compositeID=f-Os,e.captureZValues){var c=(s[1]*(e.area[2]-e.area[0]+1)+s[0])*4;l.zValue=(256*e.zBuffer[c]+e.zBuffer[c+1])/65535,l.displayPosition=n}if(e.pixBuffer[Dr.ID_LOW24]&&F6(s[0],s[1],e.pixBuffer[Dr.ID_LOW24],e.area)===0)return l;var h=Co(s[0],s[1],e.pixBuffer[Dr.ID_LOW24],e.area),p=Co(s[0],s[1],e.pixBuffer[Dr.ID_HIGH24],e.area);return l.attributeID=B6(h,p),l}var v=[n[0],n[1]],g=[0,0],y=t.getPixelInformation(n,0,i);if(y&&y.valid)return y;for(var m=1;m<o;++m){for(var d=v[1]>m?v[1]-m:0;d<=v[1]+m;++d)if(g[1]=d,v[0]>=m&&(g[0]=v[0]-m,y=t.getPixelInformation(g,0,i),y&&y.valid)||(g[0]=v[0]+m,y=t.getPixelInformation(g,0,i),y&&y.valid))return y;for(var _=v[0]>=m?v[0]-(m-1):0;_<=v[0]+(m-1);++_)if(g[0]=_,v[1]>=m&&(g[1]=v[1]-m,y=t.getPixelInformation(g,0,i),y&&y.valid)||(g[1]=v[1]+m,y=t.getPixelInformation(g,0,i),y&&y.valid))return y}return i[0]=n[0],i[1]=n[1],null},t.generateSelection=function(n,a,i,o){for(var s=Math.floor(n),u=Math.floor(a),l=Math.floor(i),f=Math.floor(o),c=new Map,h=[0,0],p=u;p<=f;p++)for(var v=s;v<=l;v++){var g=[v,p],y=t.getPixelInformation(g,0,h);if(y&&y.valid){var m=N6(y);if(!c.has(m))c.set(m,{info:y,pixelCount:1,attributeIDs:[y.attributeID]});else{var d=c.get(m);d.pixelCount++,e.captureZValues&&y.zValue<d.info.zValue&&(d.info=y),d.attributeIDs.indexOf(y.attributeID)===-1&&d.attributeIDs.push(y.attributeID)}}}return I6(e.fieldAssociation,c,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.getRawPixelBuffer=function(n){return e.rawPixBuffer[n]},t.getPixelBuffer=function(n){return e.pixBuffer[n]},t.attach=function(n,a){e._openGLRenderWindow=n,e._renderer=a};var r=t.setArea;t.setArea=function(){return r.apply(void 0,arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}var Che={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function V6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Che,r),hhe.extend(t,e,r),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),X.setGetArray(t,e,["area"],4),X.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),X.setGetArray(t,e,["propColorValue"],3),X.moveToProtected(t,e,["renderer","openGLRenderWindow"]),X.event(t,e,"event"),The(t,e)}var Ehe=X.newInstance(V6,"vtkOpenGLHardwareSelector"),N2=xhe({newInstance:Ehe,extend:V6},D6),Ax={exports:{}},mk;function Dhe(){return mk||(mk=1,function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(m,d){var _=m[0],x=m[1],w=m[2],S=m[3];_+=(x&w|~x&S)+d[0]-680876936|0,_=(_<<7|_>>>25)+x|0,S+=(_&x|~_&w)+d[1]-389564586|0,S=(S<<12|S>>>20)+_|0,w+=(S&_|~S&x)+d[2]+606105819|0,w=(w<<17|w>>>15)+S|0,x+=(w&S|~w&_)+d[3]-1044525330|0,x=(x<<22|x>>>10)+w|0,_+=(x&w|~x&S)+d[4]-176418897|0,_=(_<<7|_>>>25)+x|0,S+=(_&x|~_&w)+d[5]+1200080426|0,S=(S<<12|S>>>20)+_|0,w+=(S&_|~S&x)+d[6]-1473231341|0,w=(w<<17|w>>>15)+S|0,x+=(w&S|~w&_)+d[7]-45705983|0,x=(x<<22|x>>>10)+w|0,_+=(x&w|~x&S)+d[8]+1770035416|0,_=(_<<7|_>>>25)+x|0,S+=(_&x|~_&w)+d[9]-1958414417|0,S=(S<<12|S>>>20)+_|0,w+=(S&_|~S&x)+d[10]-42063|0,w=(w<<17|w>>>15)+S|0,x+=(w&S|~w&_)+d[11]-1990404162|0,x=(x<<22|x>>>10)+w|0,_+=(x&w|~x&S)+d[12]+1804603682|0,_=(_<<7|_>>>25)+x|0,S+=(_&x|~_&w)+d[13]-40341101|0,S=(S<<12|S>>>20)+_|0,w+=(S&_|~S&x)+d[14]-1502002290|0,w=(w<<17|w>>>15)+S|0,x+=(w&S|~w&_)+d[15]+1236535329|0,x=(x<<22|x>>>10)+w|0,_+=(x&S|w&~S)+d[1]-165796510|0,_=(_<<5|_>>>27)+x|0,S+=(_&w|x&~w)+d[6]-1069501632|0,S=(S<<9|S>>>23)+_|0,w+=(S&x|_&~x)+d[11]+643717713|0,w=(w<<14|w>>>18)+S|0,x+=(w&_|S&~_)+d[0]-373897302|0,x=(x<<20|x>>>12)+w|0,_+=(x&S|w&~S)+d[5]-701558691|0,_=(_<<5|_>>>27)+x|0,S+=(_&w|x&~w)+d[10]+38016083|0,S=(S<<9|S>>>23)+_|0,w+=(S&x|_&~x)+d[15]-660478335|0,w=(w<<14|w>>>18)+S|0,x+=(w&_|S&~_)+d[4]-405537848|0,x=(x<<20|x>>>12)+w|0,_+=(x&S|w&~S)+d[9]+568446438|0,_=(_<<5|_>>>27)+x|0,S+=(_&w|x&~w)+d[14]-1019803690|0,S=(S<<9|S>>>23)+_|0,w+=(S&x|_&~x)+d[3]-187363961|0,w=(w<<14|w>>>18)+S|0,x+=(w&_|S&~_)+d[8]+1163531501|0,x=(x<<20|x>>>12)+w|0,_+=(x&S|w&~S)+d[13]-1444681467|0,_=(_<<5|_>>>27)+x|0,S+=(_&w|x&~w)+d[2]-51403784|0,S=(S<<9|S>>>23)+_|0,w+=(S&x|_&~x)+d[7]+1735328473|0,w=(w<<14|w>>>18)+S|0,x+=(w&_|S&~_)+d[12]-1926607734|0,x=(x<<20|x>>>12)+w|0,_+=(x^w^S)+d[5]-378558|0,_=(_<<4|_>>>28)+x|0,S+=(_^x^w)+d[8]-2022574463|0,S=(S<<11|S>>>21)+_|0,w+=(S^_^x)+d[11]+1839030562|0,w=(w<<16|w>>>16)+S|0,x+=(w^S^_)+d[14]-35309556|0,x=(x<<23|x>>>9)+w|0,_+=(x^w^S)+d[1]-1530992060|0,_=(_<<4|_>>>28)+x|0,S+=(_^x^w)+d[4]+1272893353|0,S=(S<<11|S>>>21)+_|0,w+=(S^_^x)+d[7]-155497632|0,w=(w<<16|w>>>16)+S|0,x+=(w^S^_)+d[10]-1094730640|0,x=(x<<23|x>>>9)+w|0,_+=(x^w^S)+d[13]+681279174|0,_=(_<<4|_>>>28)+x|0,S+=(_^x^w)+d[0]-358537222|0,S=(S<<11|S>>>21)+_|0,w+=(S^_^x)+d[3]-722521979|0,w=(w<<16|w>>>16)+S|0,x+=(w^S^_)+d[6]+76029189|0,x=(x<<23|x>>>9)+w|0,_+=(x^w^S)+d[9]-640364487|0,_=(_<<4|_>>>28)+x|0,S+=(_^x^w)+d[12]-421815835|0,S=(S<<11|S>>>21)+_|0,w+=(S^_^x)+d[15]+530742520|0,w=(w<<16|w>>>16)+S|0,x+=(w^S^_)+d[2]-995338651|0,x=(x<<23|x>>>9)+w|0,_+=(w^(x|~S))+d[0]-198630844|0,_=(_<<6|_>>>26)+x|0,S+=(x^(_|~w))+d[7]+1126891415|0,S=(S<<10|S>>>22)+_|0,w+=(_^(S|~x))+d[14]-1416354905|0,w=(w<<15|w>>>17)+S|0,x+=(S^(w|~_))+d[5]-57434055|0,x=(x<<21|x>>>11)+w|0,_+=(w^(x|~S))+d[12]+1700485571|0,_=(_<<6|_>>>26)+x|0,S+=(x^(_|~w))+d[3]-1894986606|0,S=(S<<10|S>>>22)+_|0,w+=(_^(S|~x))+d[10]-1051523|0,w=(w<<15|w>>>17)+S|0,x+=(S^(w|~_))+d[1]-2054922799|0,x=(x<<21|x>>>11)+w|0,_+=(w^(x|~S))+d[8]+1873313359|0,_=(_<<6|_>>>26)+x|0,S+=(x^(_|~w))+d[15]-30611744|0,S=(S<<10|S>>>22)+_|0,w+=(_^(S|~x))+d[6]-1560198380|0,w=(w<<15|w>>>17)+S|0,x+=(S^(w|~_))+d[13]+1309151649|0,x=(x<<21|x>>>11)+w|0,_+=(w^(x|~S))+d[4]-145523070|0,_=(_<<6|_>>>26)+x|0,S+=(x^(_|~w))+d[11]-1120210379|0,S=(S<<10|S>>>22)+_|0,w+=(_^(S|~x))+d[2]+718787259|0,w=(w<<15|w>>>17)+S|0,x+=(S^(w|~_))+d[9]-343485551|0,x=(x<<21|x>>>11)+w|0,m[0]=_+m[0]|0,m[1]=x+m[1]|0,m[2]=w+m[2]|0,m[3]=S+m[3]|0}function i(m){var d=[],_;for(_=0;_<64;_+=4)d[_>>2]=m.charCodeAt(_)+(m.charCodeAt(_+1)<<8)+(m.charCodeAt(_+2)<<16)+(m.charCodeAt(_+3)<<24);return d}function o(m){var d=[],_;for(_=0;_<64;_+=4)d[_>>2]=m[_]+(m[_+1]<<8)+(m[_+2]<<16)+(m[_+3]<<24);return d}function s(m){var d=m.length,_=[1732584193,-271733879,-1732584194,271733878],x,w,S,b,T,C;for(x=64;x<=d;x+=64)a(_,i(m.substring(x-64,x)));for(m=m.substring(x-64),w=m.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)S[x>>2]|=m.charCodeAt(x)<<(x%4<<3);if(S[x>>2]|=128<<(x%4<<3),x>55)for(a(_,S),x=0;x<16;x+=1)S[x]=0;return b=d*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(b[2],16),C=parseInt(b[1],16)||0,S[14]=T,S[15]=C,a(_,S),_}function u(m){var d=m.length,_=[1732584193,-271733879,-1732584194,271733878],x,w,S,b,T,C;for(x=64;x<=d;x+=64)a(_,o(m.subarray(x-64,x)));for(m=x-64<d?m.subarray(x-64):new Uint8Array(0),w=m.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)S[x>>2]|=m[x]<<(x%4<<3);if(S[x>>2]|=128<<(x%4<<3),x>55)for(a(_,S),x=0;x<16;x+=1)S[x]=0;return b=d*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(b[2],16),C=parseInt(b[1],16)||0,S[14]=T,S[15]=C,a(_,S),_}function l(m){var d="",_;for(_=0;_<4;_+=1)d+=n[m>>_*8+4&15]+n[m>>_*8&15];return d}function f(m){var d;for(d=0;d<m.length;d+=1)m[d]=l(m[d]);return m.join("")}f(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function m(d,_){return d=d|0||0,d<0?Math.max(d+_,0):Math.min(d,_)}ArrayBuffer.prototype.slice=function(d,_){var x=this.byteLength,w=m(d,x),S=x,b,T,C,M;return _!==r&&(S=m(_,x)),w>S?new ArrayBuffer(0):(b=S-w,T=new ArrayBuffer(b),C=new Uint8Array(T),M=new Uint8Array(this,w,b),C.set(M),T)}}();function c(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function h(m,d){var _=m.length,x=new ArrayBuffer(_),w=new Uint8Array(x),S;for(S=0;S<_;S+=1)w[S]=m.charCodeAt(S);return d?w:x}function p(m){return String.fromCharCode.apply(null,new Uint8Array(m))}function v(m,d,_){var x=new Uint8Array(m.byteLength+d.byteLength);return x.set(new Uint8Array(m)),x.set(new Uint8Array(d),m.byteLength),x}function g(m){var d=[],_=m.length,x;for(x=0;x<_-1;x+=2)d.push(parseInt(m.substr(x,2),16));return String.fromCharCode.apply(String,d)}function y(){this.reset()}return y.prototype.append=function(m){return this.appendBinary(c(m)),this},y.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var d=this._buff.length,_;for(_=64;_<=d;_+=64)a(this._hash,i(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},y.prototype.end=function(m){var d=this._buff,_=d.length,x,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S;for(x=0;x<_;x+=1)w[x>>2]|=d.charCodeAt(x)<<(x%4<<3);return this._finish(w,_),S=f(this._hash),m&&(S=g(S)),this.reset(),S},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(m,d){var _=d,x,w,S;if(m[_>>2]|=128<<(_%4<<3),_>55)for(a(this._hash,m),_=0;_<16;_+=1)m[_]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(x[2],16),S=parseInt(x[1],16)||0,m[14]=w,m[15]=S,a(this._hash,m)},y.hash=function(m,d){return y.hashBinary(c(m),d)},y.hashBinary=function(m,d){var _=s(m),x=f(_);return d?g(x):x},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(m){var d=v(this._buff.buffer,m),_=d.length,x;for(this._length+=m.byteLength,x=64;x<=_;x+=64)a(this._hash,o(d.subarray(x-64,x)));return this._buff=x-64<_?new Uint8Array(d.buffer.slice(x-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(m){var d=this._buff,_=d.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,S;for(w=0;w<_;w+=1)x[w>>2]|=d[w]<<(w%4<<3);return this._finish(x,_),S=f(this._hash),m&&(S=g(S)),this.reset(),S},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var m=y.prototype.getState.call(this);return m.buff=p(m.buff),m},y.ArrayBuffer.prototype.setState=function(m){return m.buff=h(m.buff,!0),y.prototype.setState.call(this,m)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(m,d){var _=u(new Uint8Array(m)),x=f(_);return d?g(x):x},y})}(Ax)),Ax.exports}var Ohe=Dhe();const Mhe=qv(Ohe);var Lhe=["lastShaderBound","context","_openGLRenderWindow"];function khe(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=function(r,n,a){var i=n;a.length>0&&(i=pe.substitute(i,"VSOut","GSOut").result);var o=e._openGLRenderWindow.getWebgl2(),s=`
`,u=`#version 100
`;o?u=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(s=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(s+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=pe.substitute(i,"//VTK::System::Dec",["".concat(u,`
`),o?"":`#extension GL_OES_standard_derivatives : enable
`,s,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var l=pe.substitute(r,"//VTK::System::Dec",["".concat(u,`
`),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(o){l=pe.substitute(l,"varying","out").result,i=pe.substitute(i,"varying","in").result;for(var f="",c=0;i.includes("gl_FragData[".concat(c,"]"));)i=pe.substitute(i,"gl_FragData\\[".concat(c,"\\]"),"fragOutput".concat(c)).result,f+="layout(location = ".concat(c,") out vec4 fragOutput").concat(c,`;
`),c++;i=pe.substitute(i,"//VTK::Output::Dec",f).result}var h=pe.substitute(a,"//VTK::System::Dec",u).result;return{VSSource:l,FSSource:i,GSSource:h}},t.readyShaderProgramArray=function(r,n,a){var i=t.replaceShaderValues(r,n,a),o=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(o)},t.readyShaderProgram=function(r){return!r||!r.getCompiled()&&!r.compileShader()||!t.bindShader(r)?null:r},t.getShaderProgram=function(r,n,a){var i="".concat(r).concat(n).concat(a),o=Mhe.hash(i),s=Object.keys(e.shaderPrograms).indexOf(o);if(s===-1){var u=pe.newInstance();return u.setContext(e.context),u.getVertexShader().setSource(r),u.getFragmentShader().setSource(n),a&&u.getGeometryShader().setSource(a),u.setMd5Hash(o),e.shaderPrograms[o]=u,u}return e.shaderPrograms[o]},t.releaseGraphicsResources=function(r){t.releaseCurrentShader(),Object.keys(e.shaderPrograms).map(function(n){return e.shaderPrograms[n]}).forEach(function(n){return n.releaseGraphicsResources(r)})},t.releaseGraphicsResources=function(){e.astShaderBound&&(e.lastShaderBound.release(),e.lastShaderBound=null)},t.bindShader=function(r){return e.lastShaderBound===r||(e.lastShaderBound&&e.lastShaderBound.release(),r.bind(),e.lastShaderBound=r),1}}var Rhe={lastShaderBound:null,shaderPrograms:null,context:null};function P6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Rhe,r),e.shaderPrograms={},X.obj(t,e),X.setGet(t,e,Lhe),X.moveToProtected(t,e,["openGLRenderWindow"]),khe(t,e)}var Ahe=X.newInstance(P6,"vtkShaderCache"),Nhe={newInstance:Ahe,extend:P6},Fhe=X.vtkErrorMacro;function Bhe(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=function(){for(var r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]===!0&&Fhe("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=function(r){if(e.context!==r){if(e.context!==0&&t.deleteTable(),e.context=r,e.context){e.numberOfTextureUnits=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);for(var n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]=!1}t.modified()}},t.allocate=function(){for(var r=0;r<e.numberOfTextureUnits;r++)if(!t.isAllocated(r))return e.textureUnits[r]=!0,r;return-1},t.allocateUnit=function(r){return t.isAllocated(r)?-1:(e.textureUnits[r]=!0,r)},t.isAllocated=function(r){return e.textureUnits[r]},t.free=function(r){e.textureUnits[r]=!1}}var Ihe={context:null,numberOfTextureUnits:0,textureUnits:0};function U6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ihe,r),X.obj(t,e),e.textureUnits=[],X.get(t,e,["numberOfTextureUnits"]),X.setGet(t,e,["context"]),Bhe(t,e)}var Vhe=X.newInstance(U6,"vtkOpenGLTextureUnitManager"),Phe={newInstance:Vhe,extend:U6};function Uhe(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=function(){return null},t.getAspectRatio=function(){return e.size[0]/e.size[1]},t.getAspectRatioForRenderer=function(r){var n=r.getViewportByReference();return e.size[0]*(n[2]-n[0])/((n[3]-n[1])*e.size[1])},t.isInViewport=function(r,n,a){var i=a.getViewportByReference(),o=t.getFramebufferSize();return i[0]*o[0]<=r&&i[2]*o[0]>=r&&i[1]*o[1]<=n&&i[3]*o[1]>=n},t.getViewportSize=function(r){var n=r.getViewportByReference(),a=t.getFramebufferSize();return[(n[2]-n[0])*a[0],(n[3]-n[1])*a[1]]},t.getViewportCenter=function(r){var n=t.getViewportSize(r);return[n[0]*.5,n[1]*.5]},t.displayToNormalizedDisplay=function(r,n,a){var i=t.getFramebufferSize();return[r/i[0],n/i[1],a]},t.normalizedDisplayToDisplay=function(r,n,a){var i=t.getFramebufferSize();return[r*i[0],n*i[1],a]},t.worldToView=function(r,n,a,i){return i.worldToView(r,n,a)},t.viewToWorld=function(r,n,a,i){return i.viewToWorld(r,n,a)},t.worldToDisplay=function(r,n,a,i){var o=i.worldToView(r,n,a),s=t.getViewportSize(i),u=i.viewToProjection(o[0],o[1],o[2],s[0]/s[1]),l=i.projectionToNormalizedDisplay(u[0],u[1],u[2]);return t.normalizedDisplayToDisplay(l[0],l[1],l[2])},t.displayToWorld=function(r,n,a,i){var o=t.displayToNormalizedDisplay(r,n,a),s=i.normalizedDisplayToProjection(o[0],o[1],o[2]),u=t.getViewportSize(i),l=i.projectionToView(s[0],s[1],s[2],u[0]/u[1]);return i.viewToWorld(l[0],l[1],l[2])},t.normalizedDisplayToViewport=function(r,n,a,i){var o=i.getViewportByReference();o=t.normalizedDisplayToDisplay(o[0],o[1],0);var s=t.normalizedDisplayToDisplay(r,n,a);return[s[0]-o[0]-.5,s[1]-o[1]-.5,a]},t.viewportToNormalizedViewport=function(r,n,a,i){var o=t.getViewportSize(i);return o&&o[0]!==0&&o[1]!==0?[r/(o[0]-1),n/(o[1]-1),a]:[r,n,a]},t.normalizedViewportToViewport=function(r,n,a,i){var o=t.getViewportSize(i);return[r*(o[0]-1),n*(o[1]-1),a]},t.displayToLocalDisplay=function(r,n,a){var i=t.getFramebufferSize();return[r,i[1]-n-1,a]},t.viewportToNormalizedDisplay=function(r,n,a,i){var o=i.getViewportByReference();o=t.normalizedDisplayToDisplay(o[0],o[1],0);var s=r+o[0]+.5,u=n+o[1]+.5;return t.displayToNormalizedDisplay(s,u,a)},t.getPixelData=function(r,n,a,i){X.vtkErrorMacro("not implemented")},t.createSelector=function(){X.vtkErrorMacro("not implemented")}}var zhe={size:void 0,selector:void 0};function z6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zhe,r),e.size||(e.size=[300,300]),X.getArray(t,e,["size"],2),X.get(t,e,["selector"]),Qt.extend(t,e,r),Uhe(t,e)}var Ghe=X.newInstance(z6,"vtkRenderWindowViewNode"),Whe={newInstance:Ghe,extend:z6},_k=X.vtkDebugMacro,xk=X.vtkErrorMacro,Hhe={position:"absolute",top:0,left:0,width:"100%",height:"100%"},nc={vr:{rescaleFactor:1,translateZ:-.7},ar:{rescaleFactor:.25,translateZ:-.5}};function dn(t,e,r){var n=t.createFramebuffer(),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,r,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}var ky=0,p1=[];function jhe(){ky++,p1.forEach(function(t){return t(ky)})}function $he(){ky--,p1.forEach(function(t){return t(ky)})}function Khe(t){p1.push(t)}function Xhe(t){return p1.pop()}function Yhe(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow"),t.getViewNodeFactory=function(){return e.myFactory},e.canvas.addEventListener("webglcontextlost",function(s){s.preventDefault()},!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1);var r=navigator.xr!==void 0&&navigator.xr.isSessionSupported("immersive-vr"),n=[0,0];function a(){e.renderable&&(e.size[0]!==n[0]||e.size[1]!==n[1])&&(n[0]=e.size[0],n[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(a),t.buildPass=function(s){if(s){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(function(u){u.setOpenGLRenderWindow(t)})}},t.initialize=function(){if(!e.initialized){e.context=t.get3DContext(),e.textureUnitManager=Phe.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);var s=e.context;s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),e.initialized=!0}},t.makeCurrent=function(){e.context.makeCurrent()},t.setContainer=function(s){e.el&&e.el!==s&&(e.canvas.parentNode!==e.el&&xk("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==s&&(e.el=s,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=function(){return e.el},t.getContainerSize=function(){if(!e.containerSize&&e.el){var s=e.el.getBoundingClientRect(),u=s.width,l=s.height;e.containerSize=[u,l]}return e.containerSize||e.size},t.getFramebufferSize=function(){return e.activeFramebuffer?e.activeFramebuffer.getSize():e.size},t.getPixelData=function(s,u,l,f){var c=new Uint8Array((l-s+1)*(f-u+1)*4);return e.context.readPixels(s,u,l-s+1,f-u+1,e.context.RGBA,e.context.UNSIGNED_BYTE,c),c},t.get3DContext=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},u=null;r&&t.invokeHaveVRDisplay();var l=typeof WebGL2RenderingContext<"u";return e.webgl2=!1,e.defaultToWebgl2&&l&&(u=e.canvas.getContext("webgl2",s),u&&(e.webgl2=!0,_k("using webgl2"))),u||(_k("using webgl1"),u=e.canvas.getContext("webgl",s)||e.canvas.getContext("experimental-webgl",s)),u},t.startXR=function(s){if(navigator.xr===void 0)throw new Error("WebXR is not available");e.xrSessionIsAR=s;var u=s?"immersive-ar":"immersive-vr";if(!navigator.xr.isSessionSupported(u))throw s?new Error("Device does not support AR session"):new Error("VR display is not available");if(e.xrSession===null)navigator.xr.requestSession(u).then(t.enterXR,function(){throw new Error("Failed to create XR session!")});else throw new Error("XR Session already exists!")},t.enterXR=function(){var s=Qc(ma.mark(function u(l){var f,c;return ma.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(e.xrSession=l,e.oldCanvasSize=e.size.slice(),e.xrSession===null){p.next=15;break}return f=t.get3DContext(),p.next=6,f.makeXRCompatible();case 6:c=new global.XRWebGLLayer(e.xrSession,f),t.setSize(c.framebufferWidth,c.framebufferHeight),e.xrSession.updateRenderState({baseLayer:c}),e.xrSession.requestReferenceSpace("local").then(function(v){e.xrReferenceSpace=v}),t.resetXRScene(),e.renderable.getInteractor().switchToXRAnimation(),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),p.next=16;break;case 15:throw new Error("Failed to enter VR with a null xrSession.");case 16:case"end":return p.stop()}},u)}));return function(u){return s.apply(this,arguments)}}(),t.resetXRScene=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nc.vr.rescaleFactor,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc.vr.translateZ,l=s,f=u;e.xrSessionIsAR&&l===nc.vr.rescaleFactor&&(l=nc.ar.rescaleFactor),e.xrSessionIsAR&&f===nc.vr.translateZ&&(f=nc.ar.translateZ);var c=e.renderable.getRenderers()[0];c.resetCamera();var h=c.getActiveCamera(),p=h.getPhysicalScale(),v=h.getPhysicalTranslation();p/=l,f*=p,v[2]+=f,h.setPhysicalScale(p),h.setPhysicalTranslation(v),h.setClippingRange(.1*p,100*p)},t.stopXR=Qc(ma.mark(function s(){var u,l;return ma.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(navigator.xr!==void 0){c.next=2;break}return c.abrupt("return");case 2:if(e.xrSession===null){c.next=10;break}return e.xrSession.cancelAnimationFrame(e.xrSceneFrame),e.renderable.getInteractor().returnFromXRAnimation(),u=t.get3DContext(),u.bindFramebuffer(u.FRAMEBUFFER,null),c.next=9,e.xrSession.end().catch(function(h){if(!(h instanceof DOMException))throw h});case 9:e.xrSession=null;case 10:e.oldCanvasSize!==void 0&&t.setSize.apply(t,je(e.oldCanvasSize)),l=e.renderable.getRenderers()[0],l.getActiveCamera().setProjectionMatrix(null),l.resetCamera(),l.setViewport(0,0,1,1),t.traverseAllPasses();case 16:case"end":return c.stop()}},s)})),t.xrRender=function(){var s=Qc(ma.mark(function u(l,f){var c,h,p,v,g;return ma.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:c=f.session,e.renderable.getInteractor().updateXRGamepads(c,f,e.xrReferenceSpace),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),h=f.getViewerPose(e.xrReferenceSpace),h&&(p=t.get3DContext(),e.xrSessionIsAR&&e.oldCanvasSize!==void 0&&(p.canvas.width=e.oldCanvasSize[0],p.canvas.height=e.oldCanvasSize[1]),v=c.renderState.baseLayer,p.bindFramebuffer(p.FRAMEBUFFER,v.framebuffer),p.clear(p.COLOR_BUFFER_BIT),p.clear(p.DEPTH_BUFFER_BIT),g=e.renderable.getRenderers()[0],h.views.forEach(function(d){var _=v.getViewport(d);if(p.viewport(_.x,_.y,_.width,_.height),!e.xrSessionIsAR)if(d.eye==="left")g.setViewport(0,0,.5,1);else if(d.eye==="right")g.setViewport(.5,0,1,1);else return;g.getActiveCamera().computeViewParametersFromPhysicalMatrix(d.transform.inverse.matrix),g.getActiveCamera().setProjectionMatrix(d.projectionMatrix),t.traverseAllPasses()}));case 5:case"end":return m.stop()}},u)}));return function(u,l){return s.apply(this,arguments)}}(),t.restoreContext=function(){var s=k2.newInstance();s.setCurrentOperation("Release"),s.traverse(t,null)},t.activateTexture=function(s){var u=e._textureResourceIds.get(s);if(u!==void 0){e.context.activeTexture(e.context.TEXTURE0+u);return}var l=t.getTextureUnitManager().allocate();if(l<0){xk("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(s,l),e.context.activeTexture(e.context.TEXTURE0+l)},t.deactivateTexture=function(s){var u=e._textureResourceIds.get(s);u!==void 0&&(t.getTextureUnitManager().free(u),delete e._textureResourceIds.delete(s))},t.getTextureUnitForTexture=function(s){var u=e._textureResourceIds.get(s);return u!==void 0?u:-1},t.getDefaultTextureInternalFormat=function(s,u,l){if(e.webgl2)switch(s){case Rr.UNSIGNED_CHAR:switch(u){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case Rr.FLOAT:default:switch(u){case 1:return e.context.R16F;case 2:return e.context.RG16F;case 3:return e.context.RGB16F;case 4:default:return e.context.RGBA16F}}switch(u){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=function(s){e.bgImage.src=s.src},t.setUseBackgroundImage=function(s){e.useBackgroundImage=s,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat,u=document.createElement("canvas"),l=u.getContext("2d");u.width=e.canvas.width,u.height=e.canvas.height,l.drawImage(e.canvas,0,0);var f=e.canvas.getBoundingClientRect(),c=e.renderable,h=c.getRenderers();h.forEach(function(v){var g=v.getViewProps();g.forEach(function(y){if(y.getContainer)for(var m=y.getContainer(),d=m.getElementsByTagName("canvas"),_=0;_<d.length;_++){var x=d[_],w=x.getBoundingClientRect(),S=w.x-f.x,b=w.y-f.y;l.drawImage(x,S,b)}})});var p=u.toDataURL(s);u.remove(),t.invokeImageReady(p)}t.captureNextImage=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=u.resetCamera,f=l===void 0?!1:l,c=u.size,h=c===void 0?null:c,p=u.scale,v=p===void 0?1:p;if(e.deleted)return null;e.imageFormat=s;var g=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:h||v!==1?h||e.size.map(function(y){return y*v}):null},new Promise(function(y,m){var d=t.onImageReady(function(_){if(e._screenshot.size===null)e.notifyStartCaptureImage=g,d.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(function(S){var b=S.restoreParamsFn,T=S.arg;return b(T)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),y(_);else{var x=document.createElement("img");if(x.style=Hhe,x.src=_,e._screenshot.placeHolder=e.el.appendChild(x),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,e._screenshot.size=null,t.modified(),f){var w=f!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(function(S){var b=S.getActiveCamera(),T=b.get("focalPoint","position","parallelScale");return{resetCameraArgs:w?{renderer:S}:void 0,resetCameraFn:w?f:S.resetCamera,restoreParamsFn:b.set,arg:JSON.parse(JSON.stringify(T))}}),e._screenshot.cameras.forEach(function(S){var b=S.resetCameraFn,T=S.resetCameraArgs;return b(T)})}t.traverseAllPasses()}})})};var o;t.getHardwareMaximumLineWidth=function(){if(o!=null)return o;var s=t.get3DContext(),u=s.getParameter(s.ALIASED_LINE_WIDTH_RANGE);return o=u[1],u[1]},t.getGLInformations=function(){for(var s=t.get3DContext(),u=s.getExtension("OES_texture_float"),l=s.getExtension("OES_texture_half_float"),f=s.getExtension("WEBGL_debug_renderer_info"),c=s.getExtension("WEBGL_draw_buffers"),h=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),p=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",s.getParameter(s.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",s.getParameter(s.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",s.getParameter(s.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",h&&s.getParameter(h.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",s.getParameter(s.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",s.getParameter(s.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",s.getParameter(s.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",s.getParameter(s.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",s.getParameter(s.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",s.getParameter(s.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",s.getParameter(s.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",s.getParameter(s.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",s.getParameter(s.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",s.getParameter(s.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",s.getParameter(s.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",s.getParameter(s.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",s.getParameter(s.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[u&&dn(s,s.RGBA,s.UNSIGNED_BYTE)?"RGBA":"",u&&dn(s,s.RGB,s.UNSIGNED_BYTE)?"RGB":"",u&&dn(s,s.LUMINANCE,s.UNSIGNED_BYTE)?"LUMINANCE":"",u&&dn(s,s.ALPHA,s.UNSIGNED_BYTE)?"ALPHA":"",u&&dn(s,s.LUMINANCE_ALPHA,s.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[l&&dn(s,s.RGBA,l.HALF_FLOAT_OES)?"RGBA":"",l&&dn(s,s.RGB,l.HALF_FLOAT_OES)?"RGB":"",l&&dn(s,s.LUMINANCE,l.HALF_FLOAT_OES)?"LUMINANCE":"",l&&dn(s,s.ALPHA,l.HALF_FLOAT_OES)?"ALPHA":"",l&&dn(s,s.LUMINANCE_ALPHA,l.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[u&&dn(s,s.RGBA,s.FLOAT)?"RGBA":"",u&&dn(s,s.RGB,s.FLOAT)?"RGB":"",u&&dn(s,s.LUMINANCE,s.FLOAT)?"LUMINANCE":"",u&&dn(s,s.ALPHA,s.FLOAT)?"ALPHA":"",u&&dn(s,s.LUMINANCE_ALPHA,s.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",c?s.getParameter(c.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",s.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",s.getParameter(s.RENDERER)],["WebGL Vendor","VENDOR",s.getParameter(s.VENDOR)],["WebGL Version","VERSION",s.getParameter(s.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",s.getParameter(s.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",f&&s.getParameter(f.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",f&&s.getParameter(f.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],v={};p.length;){var g=p.pop(),y=Fr(g,3),m=y[0],d=y[1],_=y[2];d&&(v[d]={label:m,value:_})}return v},t.traverseAllPasses=function(){if(e.renderPasses)for(var s=0;s<e.renderPasses.length;++s)e.renderPasses[s].traverse(t,null);e.notifyStartCaptureImage&&i()},t.disableCullFace=function(){e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=function(){e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=function(s){if(e.viewStream===s)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=s,e.viewStream){var u=e.renderable.getRenderers()[0];u.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(function(l){return t.setBackgroundImage(l.image)}),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=function(){var s=N2.newInstance();return s.setOpenGLRenderWindow(t),s},t.delete=X.chain(t.delete,t.setViewStream,$he)}var qhe={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,xrSession:null,xrSessionIsAR:!1,xrReferenceSpace:null,xrSupported:!0,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function G6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qhe,r),Whe.extend(t,e,r),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",jhe(),e.selector||(e.selector=N2.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e.myFactory=qre.newInstance(),e.myFactory.registerOverride("vtkRenderWindow",F2),e.shaderCache=Nhe.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=Pfe.newInstance(),X.event(t,e,"imageReady"),X.event(t,e,"haveVRDisplay"),X.get(t,e,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage","xrSupported"]),X.setGet(t,e,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen","activeFramebuffer"]),X.setGetArray(t,e,["size"],2),Yhe(t,e)}var F2=X.newInstance(G6,"vtkOpenGLRenderWindow");GP("WebGL",F2);var B2={newInstance:F2,extend:G6,pushMonitorGLContextCount:Khe,popMonitorGLContextCount:Xhe};function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Zhe=X.vtkErrorMacro,Jhe=X.VOID;function Qhe(t,e,r,n){var a=t.getRenderWindow().getViews()[0];return a.worldToDisplay(e,r,n,t)}function epe(t,e,r,n){var a=t.getRenderWindow().getViews()[0];return a.displayToWorld(e,r,n,t)}var tpe={computeWorldToDisplay:Qhe,computeDisplayToWorld:epe};function rpe(t,e){e.classHierarchy.push("vtkInteractorObserver");var r=W6({},t);function n(){for(;e.subscribedEvents.length;)e.subscribedEvents.pop().unsubscribe()}function a(){h1.handledEvents.forEach(function(i){t["handle".concat(i)]&&e.subscribedEvents.push(e._interactor["on".concat(i)](function(o){return e.processEvents?t["handle".concat(i)](o):Jhe},e.priority))})}t.setInteractor=function(i){i!==e._interactor&&(n(),e._interactor=i,i&&e.enabled&&a(),t.modified())},t.setEnabled=function(i){i!==e.enabled&&(n(),i&&(e._interactor?a():Zhe(`
          The interactor must be set before subscribing to events
        `)),e.enabled=i,t.modified())},t.computeDisplayToWorld=function(i,o,s,u){return i?e._interactor.getView().displayToWorld(o,s,u,i):null},t.computeWorldToDisplay=function(i,o,s,u){return i?e._interactor.getView().worldToDisplay(o,s,u,i):null},t.setPriority=function(i){var o=r.setPriority(i);o&&e._interactor&&(n(),a())}}var npe={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function H6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,npe,r),X.obj(t,e),X.event(t,e,"InteractionEvent"),X.event(t,e,"StartInteractionEvent"),X.event(t,e,"EndInteractionEvent"),X.get(t,e,["_interactor","enabled"]),X.setGet(t,e,["priority","processEvents"]),X.moveToProtected(t,e,["interactor"]),rpe(t,e)}var ape=X.newInstance(H6,"vtkInteractorObserver"),ipe=W6({newInstance:ape,extend:H6},tpe),ope={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},I2={States:ope};function Sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function spe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ai=I2.States,Nx={Rotate:Ai.IS_ROTATE,Pan:Ai.IS_PAN,Spin:Ai.IS_SPIN,Dolly:Ai.IS_DOLLY,CameraPose:Ai.IS_CAMERA_POSE,WindowLevel:Ai.IS_WINDOW_LEVEL,Slice:Ai.IS_SLICE};function upe(t,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(Nx).forEach(function(r){X.event(t,e,"Start".concat(r,"Event")),t["start".concat(r)]=function(){e.state===Ai.IS_NONE&&(e.state=Nx[r],e._interactor.requestAnimation(t),t.invokeStartInteractionEvent({type:"StartInteractionEvent"}),t["invokeStart".concat(r,"Event")]({type:"Start".concat(r,"Event")}))},X.event(t,e,"End".concat(r,"Event")),t["end".concat(r)]=function(){e.state===Nx[r]&&(e.state=Ai.IS_NONE,e._interactor.cancelAnimation(t),t.invokeEndInteractionEvent({type:"EndInteractionEvent"}),t["invokeEnd".concat(r,"Event")]({type:"End".concat(r,"Event")}),e._interactor.render())}}),t.handleKeyPress=function(r){var n=e._interactor,a=null;switch(r.key){case"r":case"R":r.pokedRenderer.resetCamera(),n.render();break;case"w":case"W":a=r.pokedRenderer.getActors(),a.forEach(function(i){var o=i.getProperty();o.setRepresentationToWireframe&&o.setRepresentationToWireframe()}),n.render();break;case"s":case"S":a=r.pokedRenderer.getActors(),a.forEach(function(i){var o=i.getProperty();o.setRepresentationToSurface&&o.setRepresentationToSurface()}),n.render();break;case"v":case"V":a=r.pokedRenderer.getActors(),a.forEach(function(i){var o=i.getProperty();o.setRepresentationToPoints&&o.setRepresentationToPoints()}),n.render();break}}}var lpe={state:Ai.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function j6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lpe,r),ipe.extend(t,e,r),upe(t,e)}var cpe=X.newInstance(j6,"vtkInteractorStyle"),fpe=spe({newInstance:cpe,extend:j6},I2),xi=I2.States;function hpe(t,e){e.classHierarchy.push("vtkInteractorStyleTrackballCamera"),t.handleMouseMove=function(r){var n=r.position,a=r.pokedRenderer;switch(e.state){case xi.IS_ROTATE:t.handleMouseRotate(a,n),t.invokeInteractionEvent({type:"InteractionEvent"});break;case xi.IS_PAN:t.handleMousePan(a,n),t.invokeInteractionEvent({type:"InteractionEvent"});break;case xi.IS_DOLLY:t.handleMouseDolly(a,n),t.invokeInteractionEvent({type:"InteractionEvent"});break;case xi.IS_SPIN:t.handleMouseSpin(a,n),t.invokeInteractionEvent({type:"InteractionEvent"});break}e.previousPosition=n},t.handleButton3D=function(r){if(r&&r.pressed&&r.device===Eb.RightController&&(r.input===Kh.Trigger||r.input===Kh.TrackPad)){t.startCameraPose();return}r&&!r.pressed&&r.device===Eb.RightController&&(r.input===Kh.Trigger||r.input===Kh.TrackPad)&&e.state===xi.IS_CAMERA_POSE&&t.endCameraPose()},t.handleMove3D=function(r){switch(e.state){case xi.IS_CAMERA_POSE:t.updateCameraPose(r);break}},t.updateCameraPose=function(r){var n=r.pokedRenderer.getActiveCamera(),a=n.getPhysicalTranslation(),i=.5,o=i*.05*n.getPhysicalScale(),s=n.physicalOrientationToWorldDirection([r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]);n.setPhysicalTranslation(a[0]+s[0]*o,a[1]+s[1]*o,a[2]+s[2]*o)},t.handleLeftButtonPress=function(r){var n=r.position;e.previousPosition=n,r.shiftKey?r.controlKey||r.altKey?t.startDolly():t.startPan():r.controlKey||r.altKey?t.startSpin():t.startRotate()},t.handleLeftButtonRelease=function(){switch(e.state){case xi.IS_DOLLY:t.endDolly();break;case xi.IS_PAN:t.endPan();break;case xi.IS_SPIN:t.endSpin();break;case xi.IS_ROTATE:t.endRotate();break}},t.handleStartMouseWheel=function(r){t.startDolly(),t.handleMouseWheel(r)},t.handleEndMouseWheel=function(){t.endDolly()},t.handleStartPinch=function(r){e.previousScale=r.scale,t.startDolly()},t.handleEndPinch=function(){t.endDolly()},t.handleStartRotate=function(r){e.previousRotation=r.rotation,t.startRotate()},t.handleEndRotate=function(){t.endRotate()},t.handleStartPan=function(r){e.previousTranslation=r.translation,t.startPan()},t.handleEndPan=function(){t.endPan()},t.handlePinch=function(r){t.dollyByFactor(r.pokedRenderer,r.scale/e.previousScale),e.previousScale=r.scale},t.handlePan=function(r){var n=r.pokedRenderer.getActiveCamera(),a=n.getFocalPoint();a=t.computeWorldToDisplay(r.pokedRenderer,a[0],a[1],a[2]);var i=a[2],o=r.translation,s=e.previousTranslation,u=t.computeDisplayToWorld(r.pokedRenderer,a[0]+o[0]-s[0],a[1]+o[1]-s[1],i),l=t.computeDisplayToWorld(r.pokedRenderer,a[0],a[1],i),f=[];f[0]=l[0]-u[0],f[1]=l[1]-u[1],f[2]=l[2]-u[2],a=n.getFocalPoint();var c=n.getPosition();n.setFocalPoint(f[0]+a[0],f[1]+a[1],f[2]+a[2]),n.setPosition(f[0]+c[0],f[1]+c[1],f[2]+c[2]),e._interactor.getLightFollowCamera()&&r.pokedRenderer.updateLightsGeometryToFollowCamera(),n.orthogonalizeViewUp(),e.previousTranslation=r.translation},t.handleRotate=function(r){var n=r.pokedRenderer.getActiveCamera();n.roll(r.rotation-e.previousRotation),n.orthogonalizeViewUp(),e.previousRotation=r.rotation},t.handleMouseRotate=function(r,n){var a=e._interactor,i=n.x-e.previousPosition.x,o=n.y-e.previousPosition.y,s=a.getView().getViewportSize(r),u=-.1,l=-.1;s[0]&&s[1]&&(u=-20/s[1],l=-20/s[0]);var f=i*l*e.motionFactor,c=o*u*e.motionFactor,h=r.getActiveCamera();!Number.isNaN(f)&&!Number.isNaN(c)&&(h.azimuth(f),h.elevation(c),h.orthogonalizeViewUp()),e.autoAdjustCameraClippingRange&&r.resetCameraClippingRange(),a.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()},t.handleMouseSpin=function(r,n){var a=e._interactor,i=r.getActiveCamera(),o=a.getView().getViewportCenter(r),s=Qp(Math.atan2(e.previousPosition.y-o[1],e.previousPosition.x-o[0])),u=Qp(Math.atan2(n.y-o[1],n.x-o[0]))-s;Number.isNaN(u)||(i.roll(u),i.orthogonalizeViewUp())},t.handleMousePan=function(r,n){var a=r.getActiveCamera(),i=a.getFocalPoint();i=t.computeWorldToDisplay(r,i[0],i[1],i[2]);var o=i[2],s=t.computeDisplayToWorld(r,n.x,n.y,o),u=t.computeDisplayToWorld(r,e.previousPosition.x,e.previousPosition.y,o),l=[];l[0]=u[0]-s[0],l[1]=u[1]-s[1],l[2]=u[2]-s[2],i=a.getFocalPoint();var f=a.getPosition();a.setFocalPoint(l[0]+i[0],l[1]+i[1],l[2]+i[2]),a.setPosition(l[0]+f[0],l[1]+f[1],l[2]+f[2]),e._interactor.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()},t.handleMouseDolly=function(r,n){var a=n.y-e.previousPosition.y,i=e._interactor,o=i.getView().getViewportCenter(r),s=e.motionFactor*a/o[1];t.dollyByFactor(r,Math.pow(1.1,s))},t.handleMouseWheel=function(r){var n=1-r.spinY/e.zoomFactor;t.dollyByFactor(r.pokedRenderer,n)},t.dollyByFactor=function(r,n){if(!Number.isNaN(n)){var a=r.getActiveCamera();a.getParallelProjection()?a.setParallelScale(a.getParallelScale()/n):(a.dolly(n),e.autoAdjustCameraClippingRange&&r.resetCameraClippingRange()),e._interactor.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var ppe={motionFactor:10,zoomFactor:10};function $6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ppe,r),fpe.extend(t,e,r),X.setGet(t,e,["motionFactor","zoomFactor"]),hpe(t,e)}var vpe=X.newInstance($6,"vtkInteractorStyleTrackballCamera"),K6={newInstance:vpe,extend:$6};function bk(t){return function(){return X.vtkErrorMacro("vtkProp::".concat(t," - NOT IMPLEMENTED"))}}function dpe(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=function(){for(var r=e.mtime,n=0;n<e.textures.length;++n){var a=e.textures[n].getMTime();a>r&&(r=a)}return r},t.processSelectorPixelBuffers=function(r,n){},t.getNestedProps=function(){return null},t.getActors=function(){return[]},t.getActors2D=function(){return[]},t.getVolumes=function(){return[]},t.pick=bk("pick"),t.hasKey=bk("hasKey"),t.getNestedVisibility=function(){return e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility())},t.getNestedPickable=function(){return e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable())},t.getNestedDragable=function(){return e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable())},t.getRedrawMTime=function(){return e.mtime},t.setEstimatedRenderTime=function(r){e.estimatedRenderTime=r,e.savedEstimatedRenderTime=r},t.restoreEstimatedRenderTime=function(){e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=function(r){e.estimatedRenderTime+=r},t.setAllocatedRenderTime=function(r){e.allocatedRenderTime=r,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=function(){return!1},t.getTextures=function(){return e.textures},t.hasTexture=function(r){return e.textures.indexOf(r)!==-1},t.addTexture=function(r){r&&!t.hasTexture(r)&&(e.textures=e.textures.concat(r),t.modified())},t.removeTexture=function(r){var n=e.textures.filter(function(a){return a!==r});e.textures.length!==n.length&&(e.textures=n,t.modified())},t.removeAllTextures=function(){e.textures=[],t.modified()}}var gpe={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function X6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gpe,r),X.obj(t,e),X.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),X.setGet(t,e,["visibility","pickable","dragable","useBounds","renderTimeMultiplier","_parentProp"]),X.moveToProtected(t,e,["parentProp"]),dpe(t,e)}var ype=X.newInstance(X6,"vtkProp"),mpe={newInstance:ype,extend:X6};function _pe(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=function(n){e.position=e.position.map(function(a,i){return a+n[i]}),t.modified()},t.getOrientationWXYZ=function(){var n=Ol();N5(n,e.rotation);var a=new Float64Array(3),i=Vte(a,n);return[Qp(i),a[0],a[1],a[2]]},t.rotateX=function(n){n!==0&&(JC(e.rotation,e.rotation,dr(n)),t.modified())},t.rotateY=function(n){n!==0&&(QC(e.rotation,e.rotation,dr(n)),t.modified())},t.rotateZ=function(n){n!==0&&(e2(e.rotation,e.rotation,dr(n)),t.modified())},t.rotateWXYZ=function(n,a,i,o){if(!(n===0||a===0&&i===0&&o===0)){var s=dr(n),u=Ol();i2(u,[a,i,o],s);var l=new Float64Array(16);t2(l,u),Ht(e.rotation,e.rotation,l),t.modified()}},t.setOrientation=function(n,a,i){return n===e.orientation[0]&&a===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[n,a,i],ze(e.rotation),t.rotateZ(i),t.rotateX(n),t.rotateY(a),t.modified(),!0)},t.setUserMatrix=function(n){gr(e.userMatrix,n),t.modified()},t.getMatrix=function(){return t.computeMatrix(),e.matrix},t.computeMatrix=function(){if(t.getMTime()>e.matrixMTime.getMTime()){ze(e.matrix),e.userMatrix&&Ht(e.matrix,e.matrix,e.userMatrix),lr(e.matrix,e.matrix,e.origin),lr(e.matrix,e.matrix,e.position),Ht(e.matrix,e.matrix,e.rotation),El(e.matrix,e.matrix,e.scale),lr(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),dt(e.matrix,e.matrix),e.isIdentity=!0;for(var n=0;n<4;++n)for(var a=0;a<4;++a)(n===a?1:0)!==e.matrix[n+a*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=function(){return Jt.getCenter(e.bounds)},t.getLength=function(){return Jt.getLength(e.bounds)},t.getXRange=function(){return Jt.getXRange(e.bounds)},t.getYRange=function(){return Jt.getYRange(e.bounds)},t.getZRange=function(){return Jt.getZRange(e.bounds)},t.getUserMatrix=function(){return e.userMatrix};function r(){t.computeMatrix()}t.onModified(r)}var xpe={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function Y6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xpe,r),mpe.extend(t,e,r),e.matrixMTime={},X.obj(e.matrixMTime),X.get(t,e,["bounds","isIdentity"]),X.getArray(t,e,["orientation"]),X.setGetArray(t,e,["origin","position","scale"],3),e.matrix=ze(new Float64Array(16)),e.rotation=ze(new Float64Array(16)),e.userMatrix=ze(new Float64Array(16)),e.transform=null,_pe(t,e)}var wpe=X.newInstance(Y6,"vtkProp3D"),V2={newInstance:wpe,extend:Y6},Spe={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},Ob={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},v1={VectorMode:Spe,ScalarMappingTarget:Ob},bpe={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},Tpe={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},Cpe={BY_ID:0,BY_NAME:1},su={ColorMode:bpe,GetArray:Cpe,ScalarMode:Tpe};function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Epe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ck=v1.ScalarMappingTarget,Li=v1.VectorMode,ac=gt.VtkDataTypes,Ek=su.ColorMode,Dk=X.vtkErrorMacro;function Dpe(t){return t}function Ok(t){return Math.floor(t*255+.5)}function Ope(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=function(){return t.setVectorMode(Li.MAGNITUDE)},t.setVectorModeToComponent=function(){return t.setVectorMode(Li.COMPONENT)},t.setVectorModeToRGBColors=function(){return t.setVectorMode(Li.RGBCOLORS)},t.build=function(){},t.isOpaque=function(){return!0},t.setAnnotations=function(r,n){if(!(r&&!n||!r&&n)){if(r&&n&&r.length!==n.length){Dk("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],n&&r)for(var a=n.length,i=0;i<a;i++)e.annotationArray.push({value:r[i],annotation:String(n[i])});t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=function(r,n){var a=t.checkForAnnotatedValue(r),i=!1;return a>=0?e.annotationArray[a].annotation!==n&&(e.annotationArray[a].annotation=n,i=!0):(e.annotationArray.push({value:r,annotation:n}),a=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),a},t.getNumberOfAnnotatedValues=function(){return e.annotationArray.length},t.getAnnotatedValue=function(r){return r<0||r>=e.annotationArray.length?null:e.annotationArray[r].value},t.getAnnotation=function(r){return e.annotationArray[r]===void 0?null:e.annotationArray[r].annotation},t.getAnnotatedValueIndex=function(r){return e.annotationArray.length?t.checkForAnnotatedValue(r):-1},t.removeAnnotation=function(r){var n=t.checkForAnnotatedValue(r),a=n>=0;return a&&(e.annotationArray.splice(n,1),t.updateAnnotatedValueMap(),t.modified()),a},t.resetAnnotations=function(){e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=function(r,n){if(e.indexedLookup){var a=t.getAnnotatedValueIndex(r);t.getIndexedColor(a,n)}else t.getColor(parseFloat(r),n),n[3]=1},t.checkForAnnotatedValue=function(r){return t.getAnnotatedValueIndexInternal(r)},t.getAnnotatedValueIndexInternal=function(r){if(e.annotatedValueMap[r]!==void 0){var n=e.annotationArray.length;return e.annotatedValueMap[r]%n}return-1},t.getIndexedColor=function(r,n){n[0]=0,n[1]=0,n[2]=0,n[3]=0},t.updateAnnotatedValueMap=function(){e.annotatedValueMap=[];for(var r=e.annotationArray.length,n=0;n<r;n++)e.annotatedValueMap[e.annotationArray[n].value]=n},t.mapScalars=function(r,n,a){var i=r.getNumberOfComponents(),o=null;if(n===Ek.DEFAULT&&r.getDataType()===ac.UNSIGNED_CHAR||n===Ek.DIRECT_SCALARS&&r)o=t.convertToRGBA(r,i,r.getNumberOfTuples());else{var s={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:ac.UNSIGNED_CHAR},u=X.newTypedArray(s.dataType,4*r.getNumberOfTuples());s.values=u,s.size=u.length,o=gt.newInstance(s);var l=a;l<0&&i>1?t.mapVectorsThroughTable(r,o,Ck.RGBA,-1,-1):(l<0&&(l=0),l>=i&&(l=i-1),t.mapScalarsThroughTable(r,o,Ck.RGBA,l))}return o},t.mapVectorsToMagnitude=function(r,n,a){for(var i=r.getNumberOfTuples(),o=r.getNumberOfComponents(),s=n.getData(),u=r.getData(),l=0;l<i;l++){for(var f=0,c=0;c<a;c++)f+=u[l*o+c]*u[l*o+c];s[l]=Math.sqrt(f)}},t.mapVectorsThroughTable=function(r,n,a,i,o){var s=t.getVectorMode(),u=o,l=i,f=r.getNumberOfComponents();s===Li.COMPONENT?(l===-1&&(l=t.getVectorComponent()),l<0&&(l=0),l>=f&&(l=f-1)):(u===-1&&(u=t.getVectorSize()),u<=0?(l=0,u=f):(l<0&&(l=0),l>=f&&(l=f-1),l+u>f&&(u=f-l)),s===Li.MAGNITUDE&&(f===1||u===1)&&(s=Li.COMPONENT));var c=0;switch(l>0&&(c=l),s){case Li.COMPONENT:{t.mapScalarsThroughTable(r,n,a,c);break}case Li.RGBCOLORS:break;case Li.MAGNITUDE:default:{var h=gt.newInstance({numberOfComponents:1,values:new Float32Array(r.getNumberOfTuples())});t.mapVectorsToMagnitude(r,h,u),t.mapScalarsThroughTable(h,n,a,0);break}}},t.luminanceToRGBA=function(r,n,a,i){for(var o=i(a),s=n.getData(),u=r.getData(),l=s.length,f=0,c=1,h=0,p=f;p<l;p+=c){var v=i(s[p]);u[h*4]=v,u[h*4+1]=v,u[h*4+2]=v,u[h*4+3]=o,h++}},t.luminanceAlphaToRGBA=function(r,n,a,i){for(var o=n.getData(),s=r.getData(),u=o.length,l=0,f=2,c=0,h=l;h<u;h+=f){var p=i(o[h]);s[c]=p,s[c+1]=p,s[c+2]=p,s[c+3]=i(o[h+1])*a,c+=4}},t.rGBToRGBA=function(r,n,a,i){for(var o=Ok(a),s=n.getData(),u=r.getData(),l=s.length,f=0,c=3,h=0,p=f;p<l;p+=c)u[h*4]=i(s[p]),u[h*4+1]=i(s[p+1]),u[h*4+2]=i(s[p+2]),u[h*4+3]=o,h++},t.rGBAToRGBA=function(r,n,a,i){for(var o=n.getData(),s=r.getData(),u=o.length,l=0,f=4,c=0,h=l;h<u;h+=f)s[c*4]=i(o[h]),s[c*4+1]=i(o[h+1]),s[c*4+2]=i(o[h+2]),s[c*4+3]=i(o[h+3])*a,c++},t.convertToRGBA=function(r,n,a){var i=e.alpha;if(n===4&&i>=1&&r.getDataType()===ac.UNSIGNED_CHAR)return r;var o=gt.newInstance({numberOfComponents:4,empty:!0,size:4*a,dataType:ac.UNSIGNED_CHAR});if(a<=0)return o;i=i>0?i:0,i=i<1?i:1;var s=Dpe;switch((r.getDataType()===ac.FLOAT||r.getDataType()===ac.DOUBLE)&&(s=Ok),n){case 1:t.luminanceToRGBA(o,r,i,s);break;case 2:t.luminanceAlphaToRGBA(o,r,s);break;case 3:t.rGBToRGBA(o,r,i,s);break;case 4:t.rGBAToRGBA(o,r,i,s);break;default:return Dk("Cannot convert colors"),null}return o},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return 256*256*256},t.setRange=function(r,n){return t.setMappingRange(r,n)},t.getRange=function(r,n){return t.getMappingRange()}}var Mpe={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Li.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function q6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Mpe,r),X.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],X.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),X.setArray(t,e,["mappingRange"],2),X.getArray(t,e,["mappingRange"]),Ope(t,e)}var Lpe=X.newInstance(q6,"vtkScalarsToColors"),d1=Epe({newInstance:Lpe,extend:q6},v1),kpe={RGB:0,HSV:1,LAB:2,DIVERGING:3},Rpe={LINEAR:0,LOG10:1},P2={ColorSpace:kpe,Scale:Rpe};function Mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ape(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ja=P2.ColorSpace,Z6=P2.Scale,ag=d1.ScalarMappingTarget,Npe=X.vtkDebugMacro,ao=X.vtkErrorMacro,Fpe=X.vtkWarningMacro;function Lk(t,e){var r=t[0],n=t[1],a=t[2],i=Math.sqrt(r*r+n*n+a*a),o=i>.001?Math.acos(r/i):0,s=o>.001?Math.atan2(a,n):0;e[0]=i,e[1]=o,e[2]=s}function Bpe(t,e){var r=t[0],n=t[1],a=t[2];e[0]=r*Math.cos(n),e[1]=r*Math.sin(n)*Math.cos(a),e[2]=r*Math.sin(n)*Math.sin(a)}function kk(t,e){if(t[0]>=e-.1)return t[2];var r=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+r:t[2]-r}function Ipe(t,e){var r=t-e;for(r<0&&(r=-r);r>=2*Math.PI;)r-=2*Math.PI;return r>Math.PI&&(r=2*Math.PI-r),r}function Rk(t,e,r,n){var a=[],i=[];Fc(e,a),Fc(r,i);var o=[],s=[];Lk(a,o),Lk(i,s);var u=t;if(o[1]>.05&&s[1]>.05&&Ipe(o[2],s[2])>.33*Math.PI){var l=Math.max(o[0],s[0]);l=Math.max(88,l),t<.5?(s[0]=l,s[1]=0,s[2]=0,u*=2):(o[0]=l,o[1]=0,o[2]=0,u=2*u-1)}o[1]<.05&&s[1]>.05?o[2]=kk(s,o[0]):s[1]<.05&&o[1]>.05&&(s[2]=kk(o,s[0]));var f=[];f[0]=(1-u)*o[0]+u*s[0],f[1]=(1-u)*o[1]+u*s[1],f[2]=(1-u)*o[2]+u*s[2];var c=[];Bpe(f,c),yb(c,n)}function Vpe(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=function(){return e.nodes.length},t.addRGBPoint=function(r,n,a,i){return t.addRGBPointLong(r,n,a,i,.5,0)},t.addRGBPointLong=function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(o<0||o>1)return ao("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return ao("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(r);var u={x:r,r:n,g:a,b:i,midpoint:o,sharpness:s};e.nodes.push(u),t.sortAndUpdateRange();for(var l=0;l<e.nodes.length&&e.nodes[l].x!==r;l++);return l<e.nodes.length?l:-1},t.addHSVPoint=function(r,n,a,i){return t.addHSVPointLong(r,n,a,i,.5,0)},t.addHSVPointLong=function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,u=[],l=[n,a,i];return Oc(l,u),t.addRGBPoint(r,u[0],u[1],u[2],o,s)},t.setNodes=function(r){if(e.nodes!==r){var n=JSON.stringify(e.nodes);e.nodes=r;var a=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||n!==a)return t.modified(),!0}return!1},t.sortAndUpdateRange=function(){var r=JSON.stringify(e.nodes);e.nodes.sort(function(i,o){return i.x-o.x});var n=JSON.stringify(e.nodes),a=t.updateRange();return!a&&r!==n?(t.modified(),!0):a},t.updateRange=function(){var r=[2];r[0]=e.mappingRange[0],r[1]=e.mappingRange[1];var n=e.nodes.length;return n?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[n-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),r[0]===e.mappingRange[0]&&r[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=function(r){for(var n=0;n<e.nodes.length&&e.nodes[n].x!==r;n++);var a=n;if(n>=e.nodes.length)return-1;var i=!1;return e.nodes.splice(n,1),(n===0||n===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.movePoint=function(r,n){if(r!==n){t.removePoint(n);for(var a=0;a<e.nodes.length;a++)if(e.nodes[a].x===r){e.nodes[a].x=n,t.sortAndUpdateRange();break}}},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=function(r,n,a,i,o,s,u,l){t.sortAndUpdateRange();for(var f=0;f<e.nodes.length;)e.nodes[f].x>=r&&e.nodes[f].x<=o?e.nodes.splice(f,1):f++;t.addRGBPointLong(r,n,a,i,.5,0),t.addRGBPointLong(o,s,u,l,.5,0),t.modified()},t.addHSVSegment=function(r,n,a,i,o,s,u,l){var f=[n,a,i],c=[s,u,l],h=[],p=[];Oc(f,h),Oc(c,p),t.addRGBSegment(r,h[0],h[1],h[2],o,p[0],p[1],p[2])},t.mapValue=function(r){var n=[];return t.getColor(r,n),[Math.floor(255*n[0]+.5),Math.floor(255*n[1]+.5),Math.floor(255*n[2]+.5),255]},t.getColor=function(r,n){if(e.indexedLookup){var a=t.getSize(),i=t.getAnnotatedValueIndexInternal(r);if(i<0||a===0)t.getNanColor(n);else{var o=[];t.getNodeValue(i%a,o),n[0]=o.r,n[1]=o.g,n[2]=o.b}return}t.getTable(r,r,1,n)},t.getRedValue=function(r){var n=[];return t.getColor(r,n),n[0]},t.getGreenValue=function(r){var n=[];return t.getColor(r,n),n[1]},t.getBlueValue=function(r){var n=[];return t.getColor(r,n),n[2]},t.getTable=function(r,n,a,i){if(Sy(r)||Sy(n)){for(var o=0;o<a;o++)i[o*3+0]=e.nanColor[0],i[o*3+1]=e.nanColor[1],i[o*3+2]=e.nanColor[2];return}var s=0,u=e.nodes.length,l=0,f=0,c=0;u!==0&&(l=e.nodes[u-1].r,f=e.nodes[u-1].g,c=e.nodes[u-1].b);var h=0,p=0,v=0,g=[0,0,0],y=[0,0,0],m=0,d=0,_=[],x=e.scale===Z6.LOG10;x&&(x=e.mappingRange[0]>0);var w=0,S=0,b=0;x&&(w=Math.log10(r),S=Math.log10(n));for(var T=0;T<a;T++){var C=3*T;if(a>1?x?(b=w+T/(a-1)*(S-w),h=Math.pow(10,b)):h=r+T/(a-1)*(n-r):x?(b=.5*(w+S),h=Math.pow(10,b)):h=.5*(r+n),e.discretize){var M=e.mappingRange;if(h>=M[0]&&h<=M[1]){var D=e.numberOfValues,E=M[1]-M[0];if(D<=1)h=M[0]+E/2;else{var k=(h-M[0])/E,O=Mne(D*k);h=M[0]+O/(D-1)*E}}}for(;s<u&&h>e.nodes[s].x;)s++,s<u&&(p=e.nodes[s-1].x,v=e.nodes[s].x,x&&(p=Math.log10(p),v=Math.log10(v)),g[0]=e.nodes[s-1].r,y[0]=e.nodes[s].r,g[1]=e.nodes[s-1].g,y[1]=e.nodes[s].g,g[2]=e.nodes[s-1].b,y[2]=e.nodes[s].b,m=e.nodes[s-1].midpoint,d=e.nodes[s-1].sharpness,m<1e-5&&(m=1e-5),m>.99999&&(m=.99999));if(h>e.mappingRange[1])i[C]=0,i[C+1]=0,i[C+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[C]=e.aboveRangeColor[0],i[C+1]=e.aboveRangeColor[1],i[C+2]=e.aboveRangeColor[2]):(i[C]=l,i[C+1]=f,i[C+2]=c));else if(h<e.mappingRange[0]||zne(h)&&h<0)i[C]=0,i[C+1]=0,i[C+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[C]=e.belowRangeColor[0],i[C+1]=e.belowRangeColor[1],i[C+2]=e.belowRangeColor[2]):u>0&&(i[C]=e.nodes[0].r,i[C+1]=e.nodes[0].g,i[C+2]=e.nodes[0].b));else if(s===0&&(Math.abs(h-r)<1e-6||e.discretize))u>0?(i[C]=e.nodes[0].r,i[C+1]=e.nodes[0].g,i[C+2]=e.nodes[0].b):(i[C]=0,i[C+1]=0,i[C+2]=0);else{var A=0;if(x?A=(b-p)/(v-p):A=(h-p)/(v-p),A<m?A=.5*A/m:A=.5+.5*(A-m)/(1-m),d>.99)if(A<.5){i[C]=g[0],i[C+1]=g[1],i[C+2]=g[2];continue}else{i[C]=y[0],i[C+1]=y[1],i[C+2]=y[2];continue}if(d<.01){if(e.colorSpace===ja.RGB)i[C]=(1-A)*g[0]+A*y[0],i[C+1]=(1-A)*g[1]+A*y[1],i[C+2]=(1-A)*g[2]+A*y[2];else if(e.colorSpace===ja.HSV){var I=[],U=[];zd(g,I),zd(y,U),e.hSVWrap&&(I[0]-U[0]>.5||U[0]-I[0]>.5)&&(I[0]>U[0]?I[0]-=1:U[0]-=1);var P=[];P[0]=(1-A)*I[0]+A*U[0],P[0]<0&&(P[0]+=1),P[1]=(1-A)*I[1]+A*U[1],P[2]=(1-A)*I[2]+A*U[2],Oc(P,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]}else if(e.colorSpace===ja.LAB){var B=[],W=[];Fc(g,B),Fc(y,W);var H=[];H[0]=(1-A)*B[0]+A*W[0],H[1]=(1-A)*B[1]+A*W[1],H[2]=(1-A)*B[2]+A*W[2],yb(H,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]}else e.colorSpace===ja.DIVERGING?(Rk(A,g,y,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]):ao("ColorSpace set to invalid value.",e.colorSpace);continue}A<.5?A=.5*Math.pow(A*2,1+10*d):A>.5&&(A=1-.5*Math.pow((1-A)*2,1+10*d));var $=A*A,q=$*A,Q=2*q-3*$+1,Y=-2*q+3*$,ie=q-2*$+A,J=q-$,ae=void 0,re=void 0;if(e.colorSpace===ja.RGB)for(var V=0;V<3;V++)ae=y[V]-g[V],re=(1-d)*ae,i[C+V]=Q*g[V]+Y*y[V]+ie*re+J*re;else if(e.colorSpace===ja.HSV){var R=[],F=[];zd(g,R),zd(y,F),e.hSVWrap&&(R[0]-F[0]>.5||F[0]-R[0]>.5)&&(R[0]>F[0]?R[0]-=1:F[0]-=1);for(var N=[],L=0;L<3;L++)ae=F[L]-R[L],re=(1-d)*ae,N[L]=Q*R[L]+Y*F[L]+ie*re+J*re,L===0&&N[L]<0&&(N[L]+=1);Oc(N,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]}else if(e.colorSpace===ja.LAB){var G=[],z=[];Fc(g,G),Fc(y,z);for(var j=[],K=0;K<3;K++)ae=z[K]-G[K],re=(1-d)*ae,j[K]=Q*G[K]+Y*z[K]+ie*re+J*re;yb(j,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]}else e.colorSpace===ja.DIVERGING?(Rk(A,g,y,_),i[C]=_[0],i[C+1]=_[1],i[C+2]=_[2]):ao("ColorSpace set to invalid value.");for(var Z=0;Z<3;Z++)i[C+Z]=i[C+Z]<0?0:i[C+Z],i[C+Z]=i[C+Z]>1?1:i[C+Z]}}},t.getUint8Table=function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===a&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return ao("Attempting to lookup a value with no points in the function"),e.table;var o=i?4:3;(e.tableSize!==a||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(a*o),e.tableSize=a,e.tableWithAlpha=i);var s=[];t.getTable(r,n,a,s);for(var u=0;u<a;u++)e.table[u*o+0]=Math.floor(s[u*3+0]*255+.5),e.table[u*o+1]=Math.floor(s[u*3+1]*255+.5),e.table[u*o+2]=Math.floor(s[u*3+2]*255+.5),i&&(e.table[u*o+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromTable=function(r,n,a,i){var o=0;t.removeAllPoints(),a>1&&(o=(n-r)/(a-1));for(var s=0;s<a;s++){var u={x:r+o*s,r:i[s*3],g:i[s*3+1],b:i[s*3+2],sharpness:0,midpoint:.5};e.nodes.push(u)}t.sortAndUpdateRange()},t.getNodeValue=function(r,n){return r<0||r>=e.nodes.length?(ao("Index out of range!"),-1):(n[0]=e.nodes[r].x,n[1]=e.nodes[r].r,n[2]=e.nodes[r].g,n[3]=e.nodes[r].b,n[4]=e.nodes[r].midpoint,n[5]=e.nodes[r].sharpness,1)},t.setNodeValue=function(r,n){if(r<0||r>=e.nodes.length)return ao("Index out of range!"),-1;var a=e.nodes[r].x;return e.nodes[r].x=n[0],e.nodes[r].r=n[1],e.nodes[r].g=n[2],e.nodes[r].b=n[3],e.nodes[r].midpoint=n[4],e.nodes[r].sharpness=n[5],a!==n[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=function(){return e.indexedLookup&&t.getSize()?t.getSize():e.tableSize?e.tableSize:16777216},t.getIndexedColor=function(r,n){var a=t.getSize();if(a>0&&r>=0){var i=[];t.getNodeValue(r%a,i);for(var o=0;o<3;++o)n[o]=i[o+1];n[3]=1;return}t.getNanColor(n),n[3]=1},t.fillFromDataPointer=function(r,n){if(!(r<=0||!n)){t.removeAllPoints();for(var a=0;a<r;a++)t.addRGBPoint(n[a*4],n[a*4+1],n[a*4+2],n[a*4+3])}},t.setMappingRange=function(r,n){var a=[r,n],i=t.getRange();if(!(i[1]===a[1]&&i[0]===a[0])){if(a[1]===a[0]){ao("attempt to set zero width color range");return}for(var o=(a[1]-a[0])/(i[1]-i[0]),s=a[0]-i[0]*o,u=0;u<e.nodes.length;++u)e.nodes[u].x=e.nodes[u].x*o+s;e.mappingRange[0]=a[0],e.mappingRange[1]=a[1],t.modified()}},t.adjustRange=function(r){var n=t.getRange(),a=[];n[0]<r[0]?(t.getColor(r[0],a),t.addRGBPoint(r[0],a[0],a[1],a[2])):(t.getColor(n[0],a),t.addRGBPoint(r[0],a[0],a[1],a[2])),n[1]>r[1]?(t.getColor(r[1],a),t.addRGBPoint(r[1],a[0],a[1],a[2])):(t.getColor(n[1],a),t.addRGBPoint(r[1],a[0],a[1],a[2])),t.sortAndUpdateRange();for(var i=0;i<e.nodes.length;)e.nodes[i].x>=r[0]&&e.nodes[i].x<=r[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=function(r,n){var a=t.findMinimumXDistance();return Math.ceil((n-r)/a)},t.findMinimumXDistance=function(){if(e.nodes.length<2)return-1;for(var r=Number.MAX_VALUE,n=0;n<e.nodes.length-1;n++){var a=e.nodes[n+1].x-e.nodes[n].x;a<r&&(r=a)}return r},t.mapScalarsThroughTable=function(r,n,a,i){if(t.getSize()===0){Npe("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(r,n,a,i):t.mapData(r,n,a,i)},t.mapData=function(r,n,a,i){if(t.getSize()===0){Fpe("Transfer Function Has No Points!");return}var o=Math.floor(t.getAlpha()*255+.5),s=r.getNumberOfTuples(),u=r.getNumberOfComponents(),l=n.getData(),f=r.getData(),c=[];if(a===ag.RGBA)for(var h=0;h<s;h++){var p=f[h*u+i];t.getColor(p,c),l[h*4]=Math.floor(c[0]*255+.5),l[h*4+1]=Math.floor(c[1]*255+.5),l[h*4+2]=Math.floor(c[2]*255+.5),l[h*4+3]=o}if(a===ag.RGB)for(var v=0;v<s;v++){var g=f[v*u+i];t.getColor(g,c),l[v*3]=Math.floor(c[0]*255+.5),l[v*3+1]=Math.floor(c[1]*255+.5),l[v*3+2]=Math.floor(c[2]*255+.5)}if(a===ag.LUMINANCE)for(var y=0;y<s;y++){var m=f[y*u+i];t.getColor(m,c),l[y]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5)}if(a===ag.LUMINANCE_ALPHA)for(var d=0;d<s;d++){var _=f[d*u+i];t.getColor(_,c),l[d*2]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5),l[d*2+1]=o}},t.applyColorMap=function(r){if(r.ColorSpace&&(e.colorSpace=ja[r.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(ao("ColorSpace ".concat(r.ColorSpace," not supported, using RGB instead")),e.colorSpace=ja.RGB)),r.NanColor)for(e.nanColor=[].concat(r.NanColor);e.nanColor.length<4;)e.nanColor.push(1);if(r.RGBPoints){var n=r.RGBPoints.length;e.nodes=[];for(var a=.5,i=0,o=0;o<n;o+=4)e.nodes.push({x:r.RGBPoints[o],r:r.RGBPoints[o+1],g:r.RGBPoints[o+2],b:r.RGBPoints[o+3],midpoint:a,sharpness:i})}t.sortAndUpdateRange()}}var Ppe={clamping:!0,colorSpace:ja.RGB,hSVWrap:!0,scale:Z6.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function J6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ppe,r),d1.extend(t,e,r),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},X.obj(e.buildTime),X.get(t,e,["buildTime","mappingRange"]),X.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),X.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),X.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),Vpe(t,e)}var Upe=X.newInstance(J6,"vtkColorTransferFunction"),U2=Ape({newInstance:Upe,extend:J6},P2),ig=X.vtkErrorMacro;function zpe(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=function(){return e.nodes.length},t.getType=function(){var r,n=0,a=0;e.nodes.length>0&&(n=e.nodes[0].y);for(var i=1;i<e.nodes.length;i++){if(r=e.nodes[i].y,r!==n)if(r>n)switch(a){case 0:case 1:a=1;break;case 2:default:a=3;break}else switch(a){case 0:case 2:a=2;break;case 1:default:a=3;break}if(n=r,a===3)break}switch(a){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=function(){var r=e.nodes.length;if(e.function=null,r>0){e.function=[];for(var n=0;n<r;n++)e.function[2*n]=e.nodes[n].x,e.function[2*n+1]=e.nodes[n].y}return e.function},t.getFirstNonZeroValue=function(){if(e.nodes.length===0)return 0;for(var r=1,n=0,a=0;a<e.nodes.length;a++)if(e.nodes[a].y!==0){r=0;break}return r?n=Number.MAX_VALUE:a>0?n=e.nodes[a-1].x:e.clamping?n=-Number.MAX_VALUE:n=e.nodes[0].x,n},t.getNodeValue=function(r,n){var a=e.nodes.length;return r<0||r>=a?(ig("Index out of range!"),-1):(n[0]=e.nodes[r].x,n[1]=e.nodes[r].y,n[2]=e.nodes[r].midpoint,n[3]=e.nodes[r].sharpness,1)},t.setNodeValue=function(r,n){var a=e.nodes.length;if(r<0||r>=a)return ig("Index out of range!"),-1;var i=e.nodes[r].x;return e.nodes[r].x=n[0],e.nodes[r].y=n[1],e.nodes[r].midpoint=n[2],e.nodes[r].sharpness=n[3],i!==n[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=function(r,n){return t.addPointLong(r,n,.5,0)},t.addPointLong=function(r,n,a,i){if(a<0||a>1)return ig("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return ig("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(r);var o={x:r,y:n,midpoint:a,sharpness:i};e.nodes.push(o),t.sortAndUpdateRange();var s;for(s=0;s<e.nodes.length&&e.nodes[s].x!==r;s++);return s<e.nodes.length?s:-1},t.setNodes=function(r){e.nodes!==r&&(e.nodes=r,t.sortAndUpdateRange())},t.sortAndUpdateRange=function(){e.nodes.sort(function(n,a){return n.x-a.x});var r=t.updateRange();r||t.modified()},t.updateRange=function(){var r=e.range.slice(),n=e.nodes.length;return n?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[n-1].x):(e.range[0]=0,e.range[1]=0),r[0]===e.range[0]&&r[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=function(r){var n;for(n=0;n<e.nodes.length&&e.nodes[n].x!==r;n++);if(n>=e.nodes.length)return-1;var a=n,i=!1;return e.nodes.splice(n,1),(n===0||n===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addSegment=function(r,n,a,i){t.sortAndUpdateRange();for(var o=0;o<e.nodes.length;)e.nodes[o].x>=r&&e.nodes[o].x<=a?e.nodes.splice(o,1):o++;t.addPoint(r,n,.5,0),t.addPoint(a,i,.5,0)},t.getValue=function(r){var n=[];return t.getTable(r,r,1,n),n[0]},t.adjustRange=function(r){if(r.length<2)return 0;var n=t.getRange();n[0]<r[0]?t.addPoint(r[0],t.getValue(r[0])):t.addPoint(r[0],t.getValue(n[0])),n[1]>r[1]?t.addPoint(r[1],t.getValue(r[1])):t.addPoint(r[1],t.getValue(n[1])),t.sortAndUpdateRange();for(var a=0;a<e.nodes.length;)e.nodes[a].x>=r[0]&&e.nodes[a].x<=r[1]?e.nodes.splice(a,1):++a;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=function(r,n){var a=t.findMinimumXDistance();return Math.ceil((n-r)/a)},t.findMinimumXDistance=function(){var r=e.nodes.length;if(r<2)return-1;for(var n=e.nodes[1].x-e.nodes[0].x,a=0;a<r-1;a++){var i=e.nodes[a+1].x-e.nodes[a].x;i<n&&(n=i)}return n},t.getTable=function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s,u=0,l=e.nodes.length,f=0;l!==0&&(f=e.nodes[l-1].y);var c=0,h=0,p=0,v=0,g=0,y=0,m=0;for(s=0;s<a;s++){var d=o*s;for(a>1?c=r+s/(a-1)*(n-r):c=.5*(r+n);u<l&&c>e.nodes[u].x;)u++,u<l&&(h=e.nodes[u-1].x,p=e.nodes[u].x,v=e.nodes[u-1].y,g=e.nodes[u].y,y=e.nodes[u-1].midpoint,m=e.nodes[u-1].sharpness,y<1e-5&&(y=1e-5),y>.99999&&(y=.99999));if(u>=l)i[d]=e.clamping?f:0;else if(u===0)i[d]=e.clamping?e.nodes[0].y:0;else{var _=(c-h)/(p-h);if(_<y?_=.5*_/y:_=.5+.5*(_-y)/(1-y),m>.99)if(_<.5){i[d]=v;continue}else{i[d]=g;continue}if(m<.01){i[d]=(1-_)*v+_*g;continue}_<.5?_=.5*Math.pow(_*2,1+10*m):_>.5&&(_=1-.5*Math.pow((1-_)*2,1+10*m));var x=_*_,w=x*_,S=2*w-3*x+1,b=-2*w+3*x,T=w-2*x+_,C=w-x,M=g-v,D=(1-m)*M;i[d]=S*v+b*g+T*D+C*D;var E=v<g?v:g,k=v>g?v:g;i[d]=i[d]<E?E:i[d],i[d]=i[d]>k?k:i[d]}}}}var Gpe={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function Q6(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gpe,r),X.obj(t,e),e.nodes=[],X.setGet(t,e,["allowDuplicateScalars","clamping"]),X.setArray(t,e,["range"],2),X.getArray(t,e,["range"]),zpe(t,e)}var Wpe=X.newInstance(Q6,"vtkPiecewiseFunction"),Ry={newInstance:Wpe,extend:Q6};function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Xh=h2.InterpolationType,jpe=h2.OpacityMode,Fx=X.vtkErrorMacro,A0=4;function $pe(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=function(){for(var a=e.mtime,i,o=0;o<A0;o++)e.componentData[o].colorChannels===1?e.componentData[o].grayTransferFunction&&(i=e.componentData[o].grayTransferFunction.getMTime(),a=a>i?a:i):e.componentData[o].colorChannels===3&&e.componentData[o].rGBTransferFunction&&(i=e.componentData[o].rGBTransferFunction.getMTime(),a=a>i?a:i),e.componentData[o].scalarOpacity&&(i=e.componentData[o].scalarOpacity.getMTime(),a=a>i?a:i),e.componentData[o].gradientOpacity&&(e.componentData[o].disableGradientOpacity||(i=e.componentData[o].gradientOpacity.getMTime(),a=a>i?a:i));return a},t.getColorChannels=function(a){return a<0||a>3?(Fx("Bad index - must be between 0 and 3"),0):e.componentData[a].colorChannels},t.setGrayTransferFunction=function(a,i){var o=!1;return e.componentData[a].grayTransferFunction!==i&&(e.componentData[a].grayTransferFunction=i,o=!0),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1,o=!0),o&&t.modified(),o},t.getGrayTransferFunction=function(a){return e.componentData[a].grayTransferFunction===null&&(e.componentData[a].grayTransferFunction=Ry.newInstance(),e.componentData[a].grayTransferFunction.addPoint(0,0),e.componentData[a].grayTransferFunction.addPoint(1024,1),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1),t.modified()),e.componentData[a].grayTransferFunction},t.setRGBTransferFunction=function(a,i){var o=!1;return e.componentData[a].rGBTransferFunction!==i&&(e.componentData[a].rGBTransferFunction=i,o=!0),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3,o=!0),o&&t.modified(),o},t.getRGBTransferFunction=function(a){return e.componentData[a].rGBTransferFunction===null&&(e.componentData[a].rGBTransferFunction=U2.newInstance(),e.componentData[a].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[a].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3),t.modified()),e.componentData[a].rGBTransferFunction},t.setScalarOpacity=function(a,i){return e.componentData[a].scalarOpacity!==i?(e.componentData[a].scalarOpacity=i,t.modified(),!0):!1},t.getScalarOpacity=function(a){return e.componentData[a].scalarOpacity===null&&(e.componentData[a].scalarOpacity=Ry.newInstance(),e.componentData[a].scalarOpacity.addPoint(0,1),e.componentData[a].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[a].scalarOpacity},t.setComponentWeight=function(a,i){if(a<0||a>=A0)return Fx("Invalid index"),!1;var o=Math.min(1,Math.max(0,i));return e.componentData[a].componentWeight!==o?(e.componentData[a].componentWeight=o,t.modified(),!0):!1},t.getComponentWeight=function(a){return a<0||a>=A0?(Fx("Invalid index"),0):e.componentData[a].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(Xh.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(Xh.LINEAR)},t.setInterpolationTypeToFastLinear=function(){return t.setInterpolationType(Xh.FAST_LINEAR)},t.getInterpolationTypeAsString=function(){return X.enumToString(Xh,e.interpolationType)};var r=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];r.forEach(function(a){var i=X.capitalize(a);t["set".concat(i)]=function(o,s){return e.componentData[o]["".concat(a)]!==s?(e.componentData[o]["".concat(a)]=s,t.modified(),!0):!1}});var n=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];n.forEach(function(a){var i=X.capitalize(a);t["get".concat(i)]=function(o){return e.componentData[o]["".concat(a)]}})}var Kpe={independentComponents:!0,interpolationType:Xh.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1};function eU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,Kpe,r),X.obj(t,e),!e.componentData){e.componentData=[];for(var n=0;n<A0;++n)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:jpe.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}X.setGet(t,e,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),$pe(t,e)}var Xpe=X.newInstance(eU,"vtkVolumeProperty"),Ype=Hpe({newInstance:Xpe,extend:eU},h2),qpe=X.vtkDebugMacro;function Zpe(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=function(){return t},t.makeProperty=Ype.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;var n=function(s){return s[0].map(function(u,l){return s.map(function(f){return f[l]})})};if(!e.mapperBounds||!n([r,e.mapperBounds]).reduce(function(o,s){return o&&s[0]===s[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){qpe("Recomputing bounds..."),e.mapperBounds=r.map(function(o){return o});var a=[];Jt.getCorners(r,a),t.computeMatrix();var i=new Float64Array(16);dt(i,e.matrix),a.forEach(function(o){return He(o,o,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(o,s){return s%2===0?a.reduce(function(u,l){return u>l[s/2]?l[s/2]:u},o):a.reduce(function(u,l){return u<l[(s-1)/2]?l[(s-1)/2]:u},o)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var r=e.mtime;if(e.property!==null){var n=e.property.getMTime();r=n>r?n:r}return r},t.getRedrawMTime=function(){var r=e.mtime;if(e.mapper!==null){var n=e.mapper.getMTime();r=n>r?n:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),n=e.mapper.getInput().getMTime(),r=n>r?n:r)}return r}}var Jpe={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function tU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jpe,r),V2.extend(t,e,r),e.boundsMTime={},X.obj(e.boundsMTime),X.set(t,e,["property"]),X.setGet(t,e,["mapper"]),X.getArray(t,e,["bounds"],6),Zpe(t,e)}var Qpe=X.newInstance(tU,"vtkVolume"),Ay={newInstance:Qpe,extend:tU};function eve(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=function(){t.getInputData()},t.addClippingPlane=function(r){return r.isA("vtkPlane")?e.clippingPlanes.includes(r)?!1:(e.clippingPlanes.push(r),t.modified(),!0):!1},t.getNumberOfClippingPlanes=function(){return e.clippingPlanes.length},t.removeAllClippingPlanes=function(){e.clippingPlanes.length=0},t.removeClippingPlane=function(r){var n=e.clippingPlanes.indexOf(r);return n===-1?!1:(e.clippingPlanes.splice(n,1),t.modified(),!0)},t.getClippingPlanes=function(){return e.clippingPlanes},t.setClippingPlanes=function(r){if(r)if(!Array.isArray(r))t.addClippingPlane(r);else for(var n=r.length,a=0;a<n&&a<6;a++)t.addClippingPlane(r[a])},t.getClippingPlaneInDataCoords=function(r,n,a){var i=e.clippingPlanes,o=r;if(i){var s=i.length;if(n>=0&&n<s){var u=i[n],l=u.getNormal(),f=u.getOrigin(),c=l[0],h=l[1],p=l[2],v=-(c*f[0]+h*f[1]+p*f[2]);a[0]=c*o[0]+h*o[4]+p*o[8]+v*o[12],a[1]=c*o[1]+h*o[5]+p*o[9]+v*o[13],a[2]=c*o[2]+h*o[6]+p*o[10]+v*o[14],a[3]=c*o[3]+h*o[7]+p*o[11]+v*o[15];return}}X.vtkErrorMacro("Clipping plane index ".concat(n," is out of range."))}}var tve={clippingPlanes:[]};function rve(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tve,r),X.obj(t,e),X.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),eve(t,e)}var g1={extend:rve},Ku=PV.BlendMode,Yh=PV.FilterMode;function nve(t,e){e.classHierarchy.push("vtkVolumeMapper"),t.getBounds=function(){var r=t.getInputData();return r?(e.static||t.update(),e.bounds=r.getBounds()):e.bounds=ev(),e.bounds},t.update=function(){t.getInputData()},t.setBlendModeToComposite=function(){t.setBlendMode(Ku.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=function(){t.setBlendMode(Ku.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=function(){t.setBlendMode(Ku.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=function(){t.setBlendMode(Ku.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=function(){t.setBlendMode(Ku.ADDITIVE_INTENSITY_BLEND)},t.getBlendModeAsString=function(){return X.enumToString(Ku,e.blendMode)},t.setAverageIPScalarRange=function(r,n){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(r,n)},t.getFilterModeAsString=function(){return X.enumToString(Yh,e.filterMode)},t.setFilterModeToOff=function(){t.setFilterMode(Yh.OFF)},t.setFilterModeToNormalized=function(){t.setFilterMode(Yh.NORMALIZED)},t.setFilterModeToRaw=function(){t.setFilterMode(Yh.RAW)},t.setGlobalIlluminationReach=function(r){e.globalIlluminationReach=Bo(r,0,1),t.modified()},t.setVolumetricScatteringBlending=function(r){e.volumetricScatteringBlending=Bo(r,0,1),t.modified()},t.setVolumeShadowSamplingDistFactor=function(r){e.volumeShadowSamplingDistFactor=r>=1?r:1,t.modified()},t.setAnisotropy=function(r){e.anisotropy=Bo(r,-.99,.99),t.modified()}}var ave={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:Ku.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:Yh.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,volumeShadowSamplingDistFactor:5,anisotropy:0};function rU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ave,r),g1.extend(t,e,r),X.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity","volumetricScatteringBlending","globalIlluminationReach","volumeShadowSamplingDistFactor","anisotropy"]),X.setGetArray(t,e,["ipScalarRange"],2),X.event(t,e,"lightingActivated"),nve(t,e)}var ive=X.newInstance(rU,"vtkVolumeMapper"),Ny={newInstance:ive,extend:rU},ove=function(e){return e},sve=ze(new Float64Array(16)),Nk=1e-6,nU=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Jm(this,t),this.matrix=ze(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?fee:ove}return Qm(t,[{key:"rotateFromDirections",value:function(r,n){var a=new Float64Array(3),i=new Float64Array(3),o=new Float64Array(16);Bt(a,r[0],r[1],r[2]),Bt(i,n[0],n[1],n[2]),Ca(a,a),Ca(i,i);var s=Dl(a,i);return s>=1?this:(gl(this.tmp,a,i),dl(this.tmp)<Nk&&(gl(this.tmp,[1,0,0],r),dl(this.tmp)<Nk&&gl(this.tmp,[0,1,0],r)),k5(o,Math.acos(s),this.tmp),Ht(this.matrix,this.matrix,o),this)}},{key:"rotate",value:function(r,n){return Bt.apply(Nte,[this.tmp].concat(je(n))),Ca(this.tmp,this.tmp),va(this.matrix,this.matrix,this.angleConv(r),this.tmp),this}},{key:"rotateX",value:function(r){return JC(this.matrix,this.matrix,this.angleConv(r)),this}},{key:"rotateY",value:function(r){return QC(this.matrix,this.matrix,this.angleConv(r)),this}},{key:"rotateZ",value:function(r){return e2(this.matrix,this.matrix,this.angleConv(r)),this}},{key:"translate",value:function(r,n,a){return Bt(this.tmp,r,n,a),lr(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(r,n,a){return Bt(this.tmp,r,n,a),El(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(r){return Ht(this.matrix,this.matrix,r),this}},{key:"identity",value:function(){return ze(this.matrix),this}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(Ane(sve,this.matrix))return this;for(var i=a===-1?r.length:n+a*3,o=n;o<i;o+=3)Bt(this.tmp,r[o],r[o+1],r[o+2]),He(this.tmp,this.tmp,this.matrix),r[o]=this.tmp[0],r[o+1]=this.tmp[1],r[o+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(r){return r&&r.length===16&&gr(this.matrix,r),this}}]),t}();function uve(){return new nU(!0)}function lve(){return new nU(!1)}var cve={buildFromDegree:uve,buildFromRadian:lve};function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iU(t){var e=0;return t.filter(function(r,n){return n===e?(e+=r+1,!0):!1})}function oU(t){for(var e=0,r=0;r<t.length;)r+=t[r]+1,e++;return e}var fve={extractCellSizes:iU,getNumberOfCells:oU};function hve(t,e){e.classHierarchy.push("vtkCellArray"),t.getNumberOfCells=function(n){return e.numberOfCells!==void 0&&!n||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=oU(e.values)),e.numberOfCells},t.getCellSizes=function(n){return e.cellSizes!==void 0&&!n||(e.cellSizes=iU(e.values)),e.cellSizes};var r=t.setData;t.setData=function(n){r(n,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=function(n){var a=n,i=e.values[a++];return e.values.subarray(a,a+i)}}function pve(t){return aU({empty:!0,numberOfComponents:1,dataType:Rr.UNSIGNED_INT},t)}function sU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};gt.extend(t,e,pve(r)),hve(t,e)}var vve=X.newInstance(sU,"vtkCellArray"),Bk=aU({newInstance:vve,extend:sU},fve),dve=X.vtkErrorMacro,gve=[1,-1,1,-1,1,-1];function yve(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==r&&(e.size=r*n,e.values=X.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(n),t.modified())},t.setPoint=function(r){for(var n=r*e.numberOfComponents,a=0;a<e.numberOfComponents;a++)e.values[n+a]=a+1<1||arguments.length<=a+1?void 0:arguments[a+1]},t.getPoint=t.getTuple,t.getBounds=function(){if(t.getNumberOfComponents()===3){var r=t.getRange(0);e.bounds[0]=r[0],e.bounds[1]=r[1];var n=t.getRange(1);e.bounds[2]=n[0],e.bounds[3]=n[1];var a=t.getRange(2);return e.bounds[4]=a[0],e.bounds[5]=a[1],e.bounds}if(t.getNumberOfComponents()!==2)return dve(`getBounds called on an array with components of
        `.concat(t.getNumberOfComponents())),gve;var i=t.getRange(0);e.bounds[0]=i[0],e.bounds[1]=i[1];var o=t.getRange(1);return e.bounds[2]=o[0],e.bounds[3]=o[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}var mve={empty:!0,numberOfComponents:3,dataType:Rr.FLOAT,bounds:[1,-1,1,-1,1,-1]};function uU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,mve,r),gt.extend(t,e,r),yve(t,e)}var _ve=X.newInstance(uU,"vtkPoints"),Fy={newInstance:_ve,extend:uU};function xve(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n){e.pointsIds=n;var i=e.points.getData();i.length!==3*e.pointsIds.length&&(i=X.newTypedArray(r.getDataType(),3*e.pointsIds.length));var o=r.getData();e.pointsIds.forEach(function(s,u){var l=3*s,f=3*u;i[f]=o[l],i[++f]=o[++l],i[++f]=o[++l]}),e.points.setData(i)}else{e.points=r,e.pointsIds=new Array(r.getNumberOfPoints());for(var a=r.getNumberOfPoints()-1;a>=0;--a)e.pointsIds[a]=a}},t.getBounds=function(){var r=e.points.getNumberOfPoints(),n=[];if(r){e.points.getPoint(0,n),e.bounds[0]=n[0],e.bounds[1]=n[0],e.bounds[2]=n[1],e.bounds[3]=n[1],e.bounds[4]=n[2],e.bounds[5]=n[2];for(var a=1;a<r;a++)e.points.getPoint(a,n),e.bounds[0]=n[0]<e.bounds[0]?n[0]:e.bounds[0],e.bounds[1]=n[0]>e.bounds[1]?n[0]:e.bounds[1],e.bounds[2]=n[1]<e.bounds[2]?n[1]:e.bounds[2],e.bounds[3]=n[1]>e.bounds[3]?n[1]:e.bounds[3],e.bounds[4]=n[2]<e.bounds[4]?n[2]:e.bounds[4],e.bounds[5]=n[2]>e.bounds[5]?n[2]:e.bounds[5]}else Vf(e.bounds);return e.bounds},t.getLength2=function(){t.getBounds();for(var r=0,n=0,a=0;a<3;a++)n=e.bounds[2*a+1]-e.bounds[2*a],r+=n*n;return r},t.getParametricDistance=function(r){for(var n,a=0,i=0;i<3;i++)r[i]<0?n=-r[i]:r[i]>1?n=r[i]-1:n=0,n>a&&(a=n);return a},t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.deepCopy=function(r){r.initialize(e.points,e.pointsIds)},t.getCellDimension=function(){},t.intersectWithLine=function(r,n,a,i,o,s,u){},t.evaluatePosition=function(r,n,a,i,o,s){X.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}var wve={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function lU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wve,r),X.obj(t,e),e.points||(e.points=Fy.newInstance()),X.get(t,e,["points","pointsIds"]),xve(t,e)}var Sve=X.newInstance(lU,"vtkCell"),By={newInstance:Sve,extend:lU};function bve(t,e){var r=e;for(e>=t.array.length&&(r+=t.array.length);r>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=r}function Tve(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=function(r){var n=r.getPoints().getNumberOfPoints(),a=r.getNumberOfCells(),i=new Uint32Array(n);if(r.isA("vtkPolyData")){for(var o=0;o<a;++o){var s=r.getCellPoints(o),u=s.cellPointIds;u.forEach(function(g){t.incrementLinkCount(g)})}t.allocateLinks(n),e.maxId=n-1;for(var l=function(y){var m=r.getCellPoints(y),d=m.cellPointIds;d.forEach(function(_){t.insertCellReference(_,i[_]++,y)})},f=0;f<a;++f)l(f)}else{for(var c=0;c<a;c++){var h=By.newInstance();h.getPointsIds().forEach(function(g){t.incrementLinkCount(g)})}t.allocateLinks(n),e.maxId=n-1;for(var p=function(y){var m=By.newInstance();m.getPointsIds().forEach(function(d){t.insertCellReference(d,i[d]++,y)})},v=0;v<a;++v)p(v)}},t.allocate=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(r).fill().map(function(){return{ncells:0,cells:null}}),e.extend=n,e.maxId=-1},t.initialize=function(){e.array=null},t.getLink=function(r){return e.array[r]},t.getNcells=function(r){return e.array[r].ncells},t.getCells=function(r){return e.array[r].cells},t.insertNextPoint=function(r){e.array.push({ncells:r,cells:Array(r)}),++e.maxId},t.insertNextCellReference=function(r,n){e.array[r].cells[e.array[r].ncells++]=n},t.deletePoint=function(r){e.array[r].ncells=0,e.array[r].cells=null},t.removeCellReference=function(r,n){e.array[n].cells=e.array[n].cells.filter(function(a){return a!==r}),e.array[n].ncells=e.array[n].cells.length},t.addCellReference=function(r,n){e.array[n].cells[e.array[n].ncells++]=r},t.resizeCellList=function(r,n){e.array[r].cells.length=n},t.squeeze=function(){bve(e,e.maxId+1)},t.reset=function(){e.maxId=-1},t.deepCopy=function(r){e.array=je(r.array),e.extend=r.extend,e.maxId=r.maxId},t.incrementLinkCount=function(r){++e.array[r].ncells},t.allocateLinks=function(r){for(var n=0;n<r;++n)e.array[n].cells=new Array(e.array[n].ncells)},t.insertCellReference=function(r,n,a){e.array[r].cells[n]=a}}var Cve={array:null,maxId:0,extend:0};function cU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Cve,r),X.obj(t,e),Tve(t,e)}var Eve=X.newInstance(cU,"vtkCellLinks"),Dve={newInstance:Eve,extend:cU},qt={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_QUAD:9,VTK_QUADRATIC_EDGE:21,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42},Mb=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ove(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mve(t){return t<Mb.length?Mb[t]:"UnknownClass"}function Lve(t){return Mb.findIndex(t)}function kve(t){return t<qt.VTK_QUADRATIC_EDGE||t===qt.VTK_CONVEX_POINT_SET||t===qt.VTK_POLYHEDRON}function Rve(t){return t===qt.VTK_TRIANGLE_STRIP||t===qt.VTK_POLY_LINE||t===qt.VTK_POLY_VERTEX}var Ave={getClassNameFromTypeId:Mve,getTypeIdFromClassName:Lve,isLinear:kve,hasSubCells:Rve};function Nve(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=r>0?r:1,e.extend=n>0?n:1,e.maxId=-1,e.typeArray=new Uint8Array(r),e.locationArray=new Uint32Array(r)},t.insertCell=function(r,n,a){e.typeArray[r]=n,e.locationArray[r]=a,r>e.maxId&&(e.maxId=r)},t.insertNextCell=function(r,n){return t.insertCell(++e.maxId,r,n),e.maxId},t.setCellTypes=function(r,n,a){e.size=r,e.typeArray=n,e.locationArray=a,e.maxId=r-1},t.getCellLocation=function(r){return e.locationArray[r]},t.deleteCell=function(r){e.typeArray[r]=qt.VTK_EMPTY_CELL},t.getNumberOfTypes=function(){return e.maxId+1},t.isType=function(r){for(var n=t.getNumberOfTypes(),a=0;a<n;++a)if(r===t.getCellType(a))return!0;return!1},t.insertNextType=function(r){return t.insertNextCell(r,-1)},t.getCellType=function(r){return e.typeArray[r]},t.reset=function(){e.maxId=-1},t.deepCopy=function(r){t.allocate(r.getSize(),r.getExtend()),e.typeArray.set(r.getTypeArray()),e.locationArray.set(r.getLocationArray()),e.maxId=r.getMaxId()}}var Fve={size:0,maxId:-1,extend:1e3};function fU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fve,r),X.obj(t,e),X.get(t,e,["size","maxId","extend"]),X.getArray(t,e,["typeArray","locationArray"]),Nve(t,e)}var Bve=X.newInstance(fU,"vtkCellTypes"),Ive=Ove({newInstance:Bve,extend:fU},Ave),Vve={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},hU={IntersectionState:Vve};function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var N0=hU.IntersectionState;function Ic(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a={t:Number.MIN_VALUE,distance:0},i=[],o;i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2];var s=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),u=wt(i,i),l=1e-5*s;return u!==0&&(a.t=s/u),l<0&&(l=-l),-l<u&&u<l||u<=0||a.t<0?o=e:a.t>1?o=r:(o=i,i[0]=e[0]+a.t*i[0],i[1]=e[1]+a.t*i[1],i[2]=e[2]+a.t*i[2]),n&&(n[0]=o[0],n[1]=o[1],n[2]=o[2]),a.distance=po(o,t),a}function pU(t,e,r,n,a,i){var o=[],s=[],u=[];a[0]=0,i[0]=0,Zr(e,t,o),Zr(n,r,s),Zr(r,t,u);var l=[];l[0]=[wt(o,o),-wt(o,s)],l[1]=[l[0][1],wt(s,s)];var f=[];if(f[0]=wt(o,u),f[1]=-wt(s,u),Bne(l,f,2)===0){for(var c=Number.MAX_VALUE,h=[t,e,r,n],p=[r,r,t,t],v=[n,n,e,e],g=[i[0],i[0],a[0],a[0]],y=[a[0],a[0],i[0],i[0]],m,d=0;d<4;d++)m=Ic(h[d],p[d],v[d]),m.distance<c&&(c=m.distance,g[d]=m.t,y[d]=d%2);return N0.ON_LINE}return a[0]=f[0],i[0]=f[1],a[0]>=0&&a[0]<=1&&i[0]>=0&&i[0]<=1?N0.YES_INTERSECTION:N0.NO_INTERSECTION}var Pve={distanceToLine:Ic,intersection:pU};function Uve(t,e){e.classHierarchy.push("vtkLine");function r(n){return n>=0&&n<=1}t.getCellDimension=function(){return 1},t.intersectWithLine=function(n,a,i,o,s){var u={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};s[1]=0,s[2]=0;var l=[],f=[],c=[];e.points.getPoint(0,f),e.points.getPoint(1,c);var h=[],p=[],v=pU(n,a,f,c,h,p);if(u.t=h[0],u.betweenPoints=r(u.t),s[0]=p[0],v===N0.YES_INTERSECTION){for(var g=0;g<3;g++)o[g]=f[g]+s[0]*(c[g]-f[g]),l[g]=n[g]+u.t*(a[g]-n[g]);if(po(o,l)<=i*i)return u.intersect=1,u}else{var y;if(u.t<0)return y=Ic(n,f,c,o),y.distance<=i*i&&(u.t=0,u.intersect=1,u.betweenPoints=!0),u;if(u.t>1)return y=Ic(a,f,c,o),y.distance<=i*i&&(u.t=1,u.intersect=1,u.betweenPoints=!0),u;if(s[0]<0)return s[0]=0,y=Ic(f,n,a,o),u.t=y.t,y.distance<=i*i&&(u.intersect=1),u;if(s[0]>1)return s[0]=1,y=Ic(c,n,a,o),u.t=y.t,y.distance<=i*i&&(u.intersect=1),u}return u},t.evaluateLocation=function(n,a,i){var o=[],s=[];e.points.getPoint(0,o),e.points.getPoint(1,s);for(var u=0;u<3;u++)a[u]=o[u]+n[0]*(s[u]-o[u]);i[0]=1-n[0],i[1]=n[0]}}var zve={};function vU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zve,r),By.extend(t,e,r),Uve(t,e)}var Gve=X.newInstance(vU,"vtkLine"),pa=Pk(Pk({newInstance:Gve,extend:vU},Pve),hU);function Wve(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=ri(e.points):e.points=Fy.newInstance(),t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.getBounds=function(){return e.points.getBounds()},t.computeBounds=function(){t.getBounds()};var r=t.shallowCopy;t.shallowCopy=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(n,a),e.points=Fy.newInstance(),e.points.shallowCopy(n.getPoints())}}var Hve={};function dU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Hve,r),zf.extend(t,e,r),X.setGet(t,e,["points"]),Wve(t,e)}var jve=X.newInstance(dU,"vtkPointSet"),$ve={newInstance:jve,extend:dU};function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z2(t,e,r,n){var a=r[0]-e[0],i=r[1]-e[1],o=r[2]-e[2],s=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2];n[0]=i*l-o*u,n[1]=o*s-a*l,n[2]=a*u-i*s}function Iy(t,e,r,n){z2(t,e,r,n);var a=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);a!==0&&(n[0]/=a,n[1]/=a,n[2]/=a)}function Xve(t,e,r,n,a,i){var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,s=!1,u=[],l=[],f=[],c=[],h=[];Iy(t,e,r,c),Iy(n,a,i,h);var p=-wt(c,t),v=-wt(h,n),g=[wt(h,t)+v,wt(h,e)+v,wt(h,r)+v];if(g[0]*g[1]>o&&g[0]*g[2]>o)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};var y=[wt(c,n)+p,wt(c,a)+p,wt(c,i)+p];if(y[0]*y[1]>o&&y[0]*y[2]>o)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(Math.abs(c[0]-h[0])<1e-9&&Math.abs(c[1]-h[1])<1e-9&&Math.abs(c[2]-h[2])<1e-9&&Math.abs(p-v)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};var m=[t,e,r],d=[n,a,i],_=wt(c,h),x=(p-v*_)/(_*_-1),w=(v-p*_)/(_*_-1),S=[x*c[0]+w*h[0],x*c[1]+w*h[1],x*c[2]+w*h[2]],b=kl(c,h,[]);Rl(b);for(var T=0,C=0,M=[],D=[],E=50,k=50,O=0;O<3;O++){var A=O,I=(O+1)%3,U=Vl.intersectWithLine(m[A],m[I],n,h);U.intersection&&U.t>0-o&&U.t<1+o&&(U.t<1+o&&U.t>1-o&&(E=T),M[T++]=wt(U.x,b)-wt(S,b));var P=Vl.intersectWithLine(d[A],d[I],t,c);P.intersection&&P.t>0-o&&P.t<1+o&&(P.t<1+o&&P.t>1-o&&(k=C),D[C++]=wt(P.x,b)-wt(S,b))}if(T>2){T--;var B=M[2];M[2]=M[E],M[E]=B}if(C>2){C--;var W=D[2];D[2]=D[k],D[k]=W}if(T!==2||C!==2)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(Number.isNaN(M[0])||Number.isNaN(M[1])||Number.isNaN(D[0])||Number.isNaN(D[1]))return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(M[0]>M[1]){var H=M[1];M[1]=M[0],M[0]=H}if(D[0]>D[1]){var $=D[1];D[1]=D[0],D[0]=$}var q,Q;return M[1]<D[0]||D[1]<M[0]?{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f}:(M[0]<D[0]?M[1]<D[1]?(f[0]=2,f[1]=1,q=D[0],Q=M[1]):(f[0]=2,f[1]=2,q=D[0],Q=D[1]):M[1]<D[1]?(f[0]=1,f[1]=1,q=M[0],Q=M[1]):(f[0]=1,f[1]=2,q=M[0],Q=D[1]),$M(S,b,q,u),$M(S,b,Q,l),{intersect:!0,coplanar:s,pt1:u,pt2:l,surfaceId:f})}var Yve={computeNormalDirection:z2,computeNormal:Iy,intersectWithTriangle:Xve};function qve(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=function(){return 2},t.intersectWithLine=function(r,n,a,i,o){var s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};o[2]=0;var u=[],l=a*a,f=[],c=[],h=[];e.points.getPoint(0,f),e.points.getPoint(1,c),e.points.getPoint(2,h);var p=[],v=[];if(Iy(f,c,h,p),p[0]!==0||p[1]!==0||p[2]!==0){var g=Vl.intersectWithLine(r,n,f,p);if(s.betweenPoints=g.betweenPoints,s.t=g.t,i[0]=g.x[0],i[1]=g.x[1],i[2]=g.x[2],!g.intersection)return o[0]=0,o[1]=0,s.intersect=0,s;var y=t.evaluatePosition(i,u,o,v);if(y.evaluation>=0)return y.dist2<=l?(s.intersect=1,s):(s.intersect=y.evaluation,s)}var m=po(f,c),d=po(c,h),_=po(h,f);e.line||(e.line=pa.newInstance()),m>d&&m>_?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,c)):d>_&&d>m?(e.line.getPoints().setPoint(0,c),e.line.getPoints().setPoint(1,h)):(e.line.getPoints().setPoint(0,h),e.line.getPoints().setPoint(1,f));var x=e.line.intersectWithLine(r,n,a,i,o);if(s.betweenPoints=x.betweenPoints,s.t=x.t,x.intersect){for(var w=[],S=[],b=[],T=0;T<3;T++)w[T]=f[T]-h[T],S[T]=c[T]-h[T],b[T]=i[T]-h[T];return o[0]=wt(b,w)/_,o[1]=wt(b,S)/d,s.intersect=1,s}return o[0]=0,o[1]=0,s.intersect=0,s},t.evaluatePosition=function(r,n,a,i){var o={subId:0,dist2:0,evaluation:-1},s,u,l=[],f=[],c=[],h=[],p,v=[],g=[],y=[],m=0,d=0,_=[],x,w,S,b=[],T=[],C=[],M=[];o.subId=0,a[2]=0,e.points.getPoint(1,l),e.points.getPoint(2,f),e.points.getPoint(0,c),z2(l,f,c,h),Vl.generalizedProjectPoint(r,l,h,M);var D=0;for(s=0;s<3;s++)h[s]<0?p=-h[s]:p=h[s],p>D&&(D=p,d=s);for(u=0,s=0;s<3;s++)s!==d&&(_[u++]=s);for(s=0;s<2;s++)v[s]=M[_[s]]-c[_[s]],g[s]=l[_[s]]-c[_[s]],y[s]=f[_[s]]-c[_[s]];if(m=E0(g,y),m===0)return a[0]=0,a[1]=0,o.evaluation=-1,o;if(a[0]=E0(v,y)/m,a[1]=E0(g,v)/m,i[0]=1-(a[0]+a[1]),i[1]=a[0],i[2]=a[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)n&&(o.dist2=po(M,r),n[0]=M[0],n[1]=M[1],n[2]=M[2]),o.evaluation=1;else{var E;if(n){if(i[1]<0&&i[2]<0)for(x=po(r,c),w=pa.distanceToLine(r,l,c,E,T),S=pa.distanceToLine(r,c,f,E,C),x<w?(o.dist2=x,b=c):(o.dist2=w,b=T),S<o.dist2&&(o.dist2=S,b=C),s=0;s<3;s++)n[s]=b[s];else if(i[2]<0&&i[0]<0)for(x=po(r,l),w=pa.distanceToLine(r,l,c,E,T),S=pa.distanceToLine(r,l,f,E,C),x<w?(o.dist2=x,b=l):(o.dist2=w,b=T),S<o.dist2&&(o.dist2=S,b=C),s=0;s<3;s++)n[s]=b[s];else if(i[1]<0&&i[0]<0)for(x=po(r,f),w=pa.distanceToLine(r,f,c,E,T),S=pa.distanceToLine(r,l,f,E,C),x<w?(o.dist2=x,b=f):(o.dist2=w,b=T),S<o.dist2&&(o.dist2=S,b=C),s=0;s<3;s++)n[s]=b[s];else if(i[0]<0){var k=pa.distanceToLine(r,l,f,n);o.dist2=k.distance}else if(i[1]<0){var O=pa.distanceToLine(r,f,c,n);o.dist2=O.distance}else if(i[2]<0){var A=pa.distanceToLine(r,l,c,n);o.dist2=A.distance}}o.evaluation=0}return o},t.evaluateLocation=function(r,n,a){var i=[],o=[],s=[];e.points.getPoint(0,i),e.points.getPoint(1,o),e.points.getPoint(2,s);for(var u=1-r[0]-r[1],l=0;l<3;l++)n[l]=i[l]*u+o[l]*r[0]+s[l]*r[1];a[0]=u,a[1]=r[0],a[2]=r[1]},t.getParametricDistance=function(r){var n,a=0,i=[];i[0]=r[0],i[1]=r[1],i[2]=1-r[0]-r[1];for(var o=0;o<3;o++)i[o]<0?n=-i[o]:i[o]>1?n=i[o]-1:n=0,n>a&&(a=n);return a}}var Zve={};function gU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zve,r),By.extend(t,e,r),qve(t,e)}var Jve=X.newInstance(gU,"vtkTriangle"),Qve=Kve({newInstance:Jve,extend:gU},Yve),Bx=["verts","lines","polys","strips"],fh,zk=X.vtkWarningMacro,ede=(fh={},qe(fh,qt.VTK_LINE,pa),qe(fh,qt.VTK_POLY_LINE,pa),qe(fh,qt.VTK_TRIANGLE,Qve),fh);function tde(t,e){e.classHierarchy.push("vtkPolyData");function r(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(i){return i.toUpperCase()}).replace(/\s+/g,"")}Bx.forEach(function(a){t["getNumberOf".concat(r(a))]=function(){return e[a].getNumberOfCells()},e[a]?e[a]=ri(e[a]):e[a]=Bk.newInstance()}),t.getNumberOfCells=function(){return Bx.reduce(function(a,i){return a+e[i].getNumberOfCells()},0)};var n=t.shallowCopy;t.shallowCopy=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(a,i),Bx.forEach(function(o){e[o]=Bk.newInstance(),e[o].shallowCopy(a.getReferenceByName(o))})},t.buildCells=function(){var a=t.getNumberOfVerts(),i=t.getNumberOfLines(),o=t.getNumberOfPolys(),s=t.getNumberOfStrips(),u=a+i+o+s,l=new Uint8Array(u),f=l,c=new Uint32Array(u),h=c;if(a){var p=0;e.verts.getCellSizes().forEach(function(m,d){h[d]=p,f[d]=m>1?qt.VTK_POLY_VERTEX:qt.VTK_VERTEX,p+=m+1}),h=h.subarray(a),f=f.subarray(a)}if(i){var v=0;e.lines.getCellSizes().forEach(function(m,d){h[d]=v,f[d]=m>2?qt.VTK_POLY_LINE:qt.VTK_LINE,m===1&&zk("Building VTK_LINE ",d," with only one point, but VTK_LINE needs at least two points. Check the input."),v+=m+1}),h=h.subarray(i),f=f.subarray(i)}if(o){var g=0;e.polys.getCellSizes().forEach(function(m,d){switch(h[d]=g,m){case 3:f[d]=qt.VTK_TRIANGLE;break;case 4:f[d]=qt.VTK_QUAD;break;default:f[d]=qt.VTK_POLYGON;break}m<3&&zk("Building VTK_TRIANGLE ",d," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),g+=m+1}),h+=h.subarray(o),f+=f.subarray(o)}if(s){var y=0;f.fill(qt.VTK_TRIANGLE_STRIP,0,s),e.strips.getCellSizes().forEach(function(m,d){h[d]=y,y+=m+1})}e.cells=Ive.newInstance(),e.cells.setCellTypes(u,l,c)},t.buildLinks=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=Dve.newInstance(),a>0?e.links.allocate(a):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=function(a){return e.cells.getCellType(a)},t.getCellPoints=function(a){var i=t.getCellType(a),o=null;switch(i){case qt.VTK_VERTEX:case qt.VTK_POLY_VERTEX:o=e.verts;break;case qt.VTK_LINE:case qt.VTK_POLY_LINE:o=e.lines;break;case qt.VTK_TRIANGLE:case qt.VTK_QUAD:case qt.VTK_POLYGON:o=e.polys;break;case qt.VTK_TRIANGLE_STRIP:o=e.strips;break;default:return o=null,{type:0,cellPointIds:null}}var s=e.cells.getCellLocation(a),u=o.getCell(s);return{cellType:i,cellPointIds:u}},t.getPointCells=function(a){return e.links.getCells(a)},t.getCellEdgeNeighbors=function(a,i,o){var s=e.links.getLink(i),u=e.links.getLink(o);return s.cells.filter(function(l){return l!==a&&u.cells.indexOf(l)!==-1})},t.getCell=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=t.getCellPoints(a),s=i||ede[o.cellType].newInstance();return s.initialize(t.getPoints(),o.cellPointIds),s}}var rde={};function yU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rde,r),$ve.extend(t,e,r),X.get(t,e,["cells","links"]),X.setGet(t,e,["verts","lines","polys","strips"]),tde(t,e)}var nde=X.newInstance(yU,"vtkPolyData"),wf={newInstance:nde,extend:yU},ade=X.vtkWarningMacro,ide=1e-6;function ode(t,e){e.classHierarchy.push("vtkPlaneSource"),t.requestData=function(r,n){if(!e.deleted){var a=n[0],i=a?a.getPoints().getDataType():e.pointType,o=wf.newInstance(),s=[],u=[];if(Zr(e.point1,e.origin,s),Zr(e.point2,e.origin,u),!t.updatePlane(s,u)){ade("Bad plane definition");return}var l=e.xResolution,f=e.yResolution,c=(l+1)*(f+1),h=l*f,p=X.newTypedArray(i,c*3);o.getPoints().setData(p,3);var v=new Uint32Array(5*h);o.getPolys().setData(v,1);var g=new Float32Array(c*3),y=gt.newInstance({numberOfComponents:3,values:g,name:"Normals"});o.getPointData().setNormals(y);var m=new Float32Array(c*2),d=gt.newInstance({numberOfComponents:2,values:m,name:"TextureCoordinates"});o.getPointData().setTCoords(d);for(var _=new Float32Array(2),x=0,w=0;w<f+1;w++){_[1]=w/f;for(var S=0;S<l+1;S++)_[0]=S/l,p[x*3]=e.origin[0]+_[0]*s[0]+_[1]*u[0],p[x*3+1]=e.origin[1]+_[0]*s[1]+_[1]*u[1],p[x*3+2]=e.origin[2]+_[0]*s[2]+_[1]*u[2],m[x*2]=_[0],m[x*2+1]=_[1],g[x*3]=e.normal[0],g[x*3+1]=e.normal[1],g[x*3+2]=e.normal[2],x++}x=0;for(var b=0;b<f;b++)for(var T=0;T<l;T++)v[x*5+0]=4,v[x*5+1]=T+b*(l+1),v[x*5+2]=v[x*5+1]+1,v[x*5+3]=v[x*5+1]+l+2,v[x*5+4]=v[x*5+1]+l+1,x++;n[0]=o}},t.setNormal=function(){var r=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?r=je(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(r=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),Rl(r)!==0){var n=wt(e.normal,r),a=0,i=[];n<1&&(n<=-1?(a=dr(180),Zr(e.point1,e.origin,i)):(kl(e.normal,r,i),a=Math.acos(n)),t.rotate(a,i))}},t.rotate=function(r,n){if(!(Math.abs(r)<ide)){var a=ze(new Float64Array(16)),i=[];$5(i,e.center),lr(a,a,e.center),va(a,a,r,n),lr(a,a,i),He(e.origin,e.origin,a),He(e.point1,e.point1,a),He(e.point2,e.point2,a),cve.buildFromRadian().rotate(r,n).apply(e.normal),t.modified()}},t.setCenter=function(){var r=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?r=je(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(r=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Zc(r,e.center)){var n=[];Zr(e.point1,e.origin,n);var a=[];Zr(e.point2,e.origin,a);for(var i=0;i<3;i++)e.center[i]=r[i],e.origin[i]=e.center[i]-.5*(n[i]+a[i]),e.point1[i]=e.origin[i]+n[i],e.point2[i]=e.origin[i]+a[i];t.modified()}},t.setPoint1=function(){var r=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?r=je(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(r=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Zc(r,e.point1)){var n=[],a=[];e.point1=je(r),Zr(e.point1,e.origin,n),Zr(e.point2,e.origin,a),t.updatePlane(n,a),t.modified()}},t.setPoint2=function(){var r=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?r=je(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(r=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Zc(r,e.point2)){var n=[],a=[];e.point2=je(r),Zr(e.point1,e.origin,n),Zr(e.point2,e.origin,a),t.updatePlane(n,a),t.modified()}},t.updatePlane=function(r,n){for(var a=0;a<3;a++)e.center[a]=e.origin[a]+.5*(r[a]+n[a]);return kl(r,n,e.normal),Rl(e.normal)!==0}}var sde={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float64Array"};function mU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sde,r),e.normal=[0,0,1],e.center=[0,0,0],X.obj(t,e),X.setGet(t,e,["xResolution","yResolution"]),X.setGetArray(t,e,["origin"],3),X.getArray(t,e,["point1","point2","normal","center"],3),X.algo(t,e,0,1),ode(t,e),t.setPoint1(e.point1),t.setPoint2(e.point2)}var ude=X.newInstance(mU,"vtkPlaneSource"),_U={newInstance:ude,extend:mU};function lde(t,e){t.getBounds=function(){return 0},t.getBounds=function(r){t.getBounds();for(var n=0;n<6;n++)r[n]=e.bounds[n]},t.getCenter=function(){t.getBounds();for(var r=0;r<3;r++)e.center[r]=(e.bounds[2*r+1]+e.bounds[2*r])/2;return e.center.slice()},t.getLength=function(){var r=0,n=0;t.getBounds();for(var a=0;a<3;a++)r=e.bounds[2*a+1]-e.bounds[2*a],n+=r*r;return Math.sqrt(n)}}var cde={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};function fde(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cde,r),g1.extend(t,e,r),e.bounds||Vf(e.bounds),e.center||(e.center=[0,0,0]),lde(t,e)}var hde={extend:fde},Xa={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},xU={StructuredType:Xa};function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var io=xU.StructuredType;function vde(t){for(var e=0,r=0;r<3;++r)t[r*2]<t[r*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?io.EMPTY:e===3?io.XYZ_GRID:e===2?t[0]===t[1]?io.YZ_PLANE:t[2]===t[3]?io.XZ_PLANE:io.XY_PLANE:e===1?t[0]<t[1]?io.X_LINE:t[2]<t[3]?io.Y_LINE:io.Z_LINE:io.SINGLE_POINT}var dde=pde({getDataDescriptionFromExtent:vde},xU),as=X.vtkErrorMacro;function gde(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return as("instance deleted - cannot call any method"),!1;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.length===1?n[0]:n;if(i.length!==6)return!1;var o=!1;return e.extent.forEach(function(s,u){if(s!==i[u]){if(o)return;o=!0}}),o&&(e.extent=i.slice(),e.dataDescription=dde.getDataDescriptionFromExtent(e.extent),t.modified()),o},t.setDimensions=function(){var r,n,a;if(e.deleted){as("instance deleted - cannot call any method");return}if(arguments.length===1){var i=arguments.length<=0?void 0:arguments[0];r=i[0],n=i[1],a=i[2]}else if(arguments.length===3)r=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2];else{as("Bad dimension specification");return}t.setExtent(0,r-1,0,n-1,0,a-1)},t.getDimensions=function(){return[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1]},t.getNumberOfCells=function(){for(var r=t.getDimensions(),n=1,a=0;a<3;a++){if(r[a]===0)return 0;r[a]>1&&(n*=r[a]-1)}return n},t.getNumberOfPoints=function(){var r=t.getDimensions();return r[0]*r[1]*r[2]},t.getPoint=function(r){var n=t.getDimensions();if(n[0]===0||n[1]===0||n[2]===0)return as("Requesting a point from an empty image."),null;var a=new Float64Array(3);switch(e.dataDescription){case Xa.EMPTY:return null;case Xa.SINGLE_POINT:break;case Xa.X_LINE:a[0]=r;break;case Xa.Y_LINE:a[1]=r;break;case Xa.Z_LINE:a[2]=r;break;case Xa.XY_PLANE:a[0]=r%n[0],a[1]=r/n[0];break;case Xa.YZ_PLANE:a[1]=r%n[1],a[2]=r/n[1];break;case Xa.XZ_PLANE:a[0]=r%n[0],a[2]=r/n[0];break;case Xa.XYZ_GRID:a[0]=r%n[0],a[1]=r/n[0]%n[1],a[2]=r/(n[0]*n[1]);break;default:as("Invalid dataDescription");break}var i=[0,0,0];return t.indexToWorld(a,i),i},t.getBounds=function(){return t.extentToBounds(t.getSpatialExtent())},t.extentToBounds=function(r){var n=[r[0],r[2],r[4],r[1],r[2],r[4],r[0],r[3],r[4],r[1],r[3],r[4],r[0],r[2],r[5],r[1],r[2],r[5],r[0],r[3],r[5],r[1],r[3],r[5]],a=new Float64Array([n[0],n[1],n[2]]),i=new Float64Array(3);t.indexToWorld(a,i);for(var o=[i[0],i[0],i[1],i[1],i[2],i[2]],s=3;s<24;s+=3)Bt(a,n[s],n[s+1],n[s+2]),t.indexToWorld(a,i),i[0]<o[0]&&(o[0]=i[0]),i[1]<o[2]&&(o[2]=i[1]),i[2]<o[4]&&(o[4]=i[2]),i[0]>o[1]&&(o[1]=i[0]),i[1]>o[3]&&(o[3]=i[1]),i[2]>o[5]&&(o[5]=i[2]);return o},t.getSpatialExtent=function(){var r=Jt.newInstance();return r.setBounds(e.extent),r.inflate(.5),r.getBounds()},t.computeTransforms=function(){M5(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],El(e.indexToWorld,e.indexToWorld,e.spacing),br(e.worldToIndex,e.indexToWorld)},t.setDirection=function(){if(e.deleted)return as("instance deleted - cannot call any method"),!1;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n;if(i.length===1&&(Array.isArray(i[0])||i[0].constructor===Float32Array||i[0].constructor===Float64Array)&&(i=i[0]),i.length!==9)throw new RangeError("Invalid number of values for array setter");var o=!1;if(e.direction.forEach(function(u,l){if(u!==i[l]){if(o)return;o=!0}}),o){for(var s=0;s<9;++s)e.direction[s]=i[s];t.modified()}return!0},t.indexToWorld=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return He(n,r,e.indexToWorld),n},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return He(n,r,e.worldToIndex),n},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];Jt.computeCornerPoints(r,a,i);var o=[0,0,0],s=[0,0,0];return He(o,a,e.indexToWorld),He(s,i,e.indexToWorld),XM(o,s,n)},t.worldToIndexBounds=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];Jt.computeCornerPoints(r,a,i);var o=[0,0,0],s=[0,0,0];return He(o,a,e.worldToIndex),He(s,i,e.worldToIndex),XM(o,s,n)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=function(){for(var r=t.getBounds(),n=[],a=0;a<3;a++)n[a]=(r[2*a+1]+r[2*a])/2;return n},t.computeHistogram=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=[0,0,0,0,0,0];t.worldToIndexBounds(r,a);var i=[0,0,0],o=[0,0,0];Jt.computeCornerPoints(a,i,o),KM(i,i),KM(o,o);var s=t.getDimensions();YM(i,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],i),YM(o,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],o);for(var u=s[0],l=s[0]*s[1],f=t.getPointData().getScalars().getData(),c=-1/0,h=1/0,p=0,v=0,g=0,y=i[2];y<=o[2];y++)for(var m=i[1];m<=o[1];m++)for(var d=i[0]+m*u+y*l,_=i[0];_<=o[0];_++){if(!n||n([_,m,y],a)){var x=f[d];x>c&&(c=x),x<h&&(h=x),p+=x*x,v+=x,g+=1}++d}var w=g>0?v/g:0,S=g?Math.abs(p/g-w*w):0,b=Math.sqrt(S);return{minimum:h,maximum:c,average:w,variance:S,sigma:b,count:g}},t.computeIncrements=function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=[],i=n,o=0;o<3;++o)a[o]=i,i*=r[o*2+1]-r[o*2]+1;return a},t.computeOffsetIndex=function(r){var n=Fr(r,3),a=n[0],i=n[1],o=n[2],s=t.getExtent(),u=t.getPointData().getScalars().getNumberOfComponents(),l=t.computeIncrements(s,u);return Math.floor((Math.round(a)-s[0])*l[0]+(Math.round(i)-s[2])*l[1]+(Math.round(o)-s[4])*l[2])},t.getOffsetIndexFromWorld=function(r){for(var n=t.getExtent(),a=t.worldToIndex(r),i=0;i<3;++i)if(a[i]<n[i*2]||a[i]>n[i*2+1])return as("GetScalarPointer: Pixel ".concat(a," is not in memory. Current extent = ").concat(n)),NaN;return t.computeOffsetIndex(a)},t.getScalarValueFromWorld=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=a)return as("GetScalarPointer: Scalar Component ".concat(n," is not within bounds. Current Scalar numberOfComponents: ").concat(a)),NaN;var i=t.getOffsetIndexFromWorld(r);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,n)}}var yde={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:Xa.EMPTY};function wU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yde,r),zf.extend(t,e,r),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=si(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),X.get(t,e,["direction","indexToWorld","worldToIndex"]),X.setGetArray(t,e,["origin","spacing"],3),X.getArray(t,e,["extent"],6),gde(t,e)}var mde=X.newInstance(wU,"vtkImageData"),G2={newInstance:mde,extend:wU},Wk=X.vtkErrorMacro,Hk=0,jk=1,Ix=2;function _de(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=function(){if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){var r=!0;e.nanColor[3]<1&&(r=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(r=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(r=0);for(var n=3;n<e.table.length&&r;n+=4)e.table[n]<255&&(r=!1);e.opaqueFlag=r,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return e.table.length},t.linearIndexLookup=function(r,n){var a=0;return r<n.range[0]?a=n.maxIndex+Hk+1.5:r>n.range[1]?a=n.maxIndex+jk+1.5:(a=(r+n.shift)*n.scale,a=a<n.maxIndex?a:n.maxIndex),Math.floor(a)},t.linearLookup=function(r,n,a){var i=0;Sy(r)?i=Math.floor(a.maxIndex+1.5+Ix):i=t.linearIndexLookup(r,a);var o=4*i;return[n[o],n[o+1],n[o+2],n[o+3]]},t.indexedLookupFunction=function(r,n,a){var i=t.getAnnotatedValueIndexInternal(r);i===-1&&(i=e.numberOfColors+Ix);var o=4*i;return[n[o],n[o+1],n[o+2],n[o+3]]},t.lookupShiftAndScale=function(r,n){n.shift=-r[0],n.scale=Number.MAX_VALUE,r[1]>r[0]&&(n.scale=(n.maxIndex+1)/(r[1]-r[0]))},t.mapScalarsThroughTable=function(r,n,a,i){var o=t.linearLookup;e.indexedLookup&&(o=t.indexedLookupFunction);var s=t.getMappingRange(),u={maxIndex:t.getNumberOfColors()-1,range:s,shift:0,scale:0};t.lookupShiftAndScale(s,u);var l=t.getAlpha(),f=r.getNumberOfTuples(),c=r.getNumberOfComponents(),h=n.getData(),p=r.getData();if(l>=1){if(a===Ob.RGBA)for(var v=0;v<f;v++){var g=o(p[v*c+i],e.table,u);h[v*4]=g[0],h[v*4+1]=g[1],h[v*4+2]=g[2],h[v*4+3]=g[3]}}else if(a===Ob.RGBA)for(var y=0;y<f;y++){var m=o(p[y*c+i],e.table,u);h[y*4]=m[0],h[y*4+1]=m[1],h[y*4+2]=m[2],h[y*4+3]=Math.floor(m[3]*l+.5)}},t.forceBuild=function(){var r=0,n=0,a=0,i=0,o=e.numberOfColors-1;o&&(r=(e.hueRange[1]-e.hueRange[0])/o,n=(e.saturationRange[1]-e.saturationRange[0])/o,a=(e.valueRange[1]-e.valueRange[0])/o,i=(e.alphaRange[1]-e.alphaRange[0])/o);for(var s=[],u=[],l=0;l<=o;l++)s[0]=e.hueRange[0]+l*r,s[1]=e.saturationRange[0]+l*n,s[2]=e.valueRange[0]+l*a,Oc(s,u),u[3]=e.alphaRange[0]+l*i,e.table[l*4]=u[0]*255+.5,e.table[l*4+1]=u[1]*255+.5,e.table[l*4+2]=u[2]*255+.5,e.table[l*4+3]=u[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=function(r){if(r.getNumberOfComponents()!==4){Wk("Expected 4 components for RGBA colors");return}if(r.getDataType()!==Rr.UNSIGNED_CHAR){Wk("Expected unsigned char values for RGBA colors");return}e.numberOfColors=r.getNumberOfTuples();for(var n=r.getData(),a=0;a<n.length;a++)e.table[a]=n[a];t.buildSpecialColors(),e.insertTime.modified(),t.modified()},t.buildSpecialColors=function(){var r=e.numberOfColors,n=e.table,a=(r+Hk)*4;e.useBelowRangeColor||r===0?(n[a]=e.belowRangeColor[0]*255+.5,n[a+1]=e.belowRangeColor[1]*255+.5,n[a+2]=e.belowRangeColor[2]*255+.5,n[a+3]=e.belowRangeColor[3]*255+.5):(n[a]=n[0],n[a+1]=n[1],n[a+2]=n[2],n[a+3]=n[3]),a=(r+jk)*4,e.useAboveRangeColor||r===0?(n[a]=e.aboveRangeColor[0]*255+.5,n[a+1]=e.aboveRangeColor[1]*255+.5,n[a+2]=e.aboveRangeColor[2]*255+.5,n[a+3]=e.aboveRangeColor[3]*255+.5):(n[a]=n[4*(r-1)+0],n[a+1]=n[4*(r-1)+1],n[a+2]=n[4*(r-1)+2],n[a+3]=n[4*(r-1)+3]),a=(r+Ix)*4,n[a]=e.nanColor[0]*255+.5,n[a+1]=e.nanColor[1]*255+.5,n[a+2]=e.nanColor[2]*255+.5,n[a+3]=e.nanColor[3]*255+.5},t.build=function(){(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&e.insertTime.modified()}var xde={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function SU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xde,r),d1.extend(t,e,r),e.table||(e.table=[]),e.buildTime={},X.obj(e.buildTime),e.opaqueFlagBuildTime={},X.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},X.obj(e.insertTime,{mtime:0}),X.get(t,e,["buildTime"]),X.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),X.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),X.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),X.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),_de(t,e)}var wde=X.newInstance(SU,"vtkLookupTable"),qh={newInstance:wde,extend:SU},bU=1,W2=0,Sde=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function bde(){return bU}function Tde(t){bU=t}function Cde(){return W2}function y1(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;W2=t}function Ede(){y1(0)}function Dde(){y1(0)}function Ode(){y1(1)}function Mde(){return Sde[W2]}var Lb={getResolveCoincidentTopologyAsString:Mde,getResolveCoincidentTopologyPolygonOffsetFaces:bde,getResolveCoincidentTopology:Cde,setResolveCoincidentTopology:y1,setResolveCoincidentTopologyPolygonOffsetFaces:Tde,setResolveCoincidentTopologyToDefault:Ede,setResolveCoincidentTopologyToOff:Dde,setResolveCoincidentTopologyToPolygonOffset:Ode};function TU(t,e,r){r.forEach(function(n){t["get".concat(n.method)]=function(){return e[n.key]},t["set".concat(n.method)]=function(a,i){e[n.key]={factor:a,offset:i}}})}var H2=["Polygon","Line","Point"],Lde={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},Qu={};TU(Qu,Lde,H2.map(function(t){return{key:t,method:"ResolveCoincidentTopology".concat(t,"OffsetParameters")}}));function kde(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),X.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(Lb).forEach(function(r){t[r]=Lb[r]}),Object.keys(Qu).forEach(function(r){t[r]=Qu[r]}),TU(t,e.topologyOffset,H2.map(function(r){return{key:r,method:"RelativeCoincidentTopology".concat(r,"OffsetParameters")}})),t.getCoincidentTopologyPolygonOffsetParameters=function(){var r=Qu.getResolveCoincidentTopologyPolygonOffsetParameters(),n=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:r.factor+n.factor,offset:r.offset+n.offset}},t.getCoincidentTopologyLineOffsetParameters=function(){var r=Qu.getResolveCoincidentTopologyLineOffsetParameters(),n=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:r.factor+n.factor,offset:r.offset+n.offset}},t.getCoincidentTopologyPointOffsetParameter=function(){var r=Qu.getResolveCoincidentTopologyPointOffsetParameters(),n=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:r.factor+n.factor,offset:r.offset+n.offset}}}var Gf={implementCoincidentTopologyMethods:kde,staticOffsetAPI:Qu,otherStaticMethods:Lb,CATEGORIES:H2};function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kk=zf.FieldAssociations,Rde=Gf.staticOffsetAPI,Ade=Gf.otherStaticMethods,Px=su.ColorMode,mu=su.ScalarMode,Ux=su.GetArray,Nde=v1.VectorMode,Fde=gt.VtkDataTypes;function hh(t){return function(){return X.vtkErrorMacro("vtkMapper::".concat(t," - NOT IMPLEMENTED"))}}function Bde(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=function(){var r=t.getInputData();return r?(e.static||t.update(),e.bounds=r.getBounds()):e.bounds=ev(),e.bounds},t.setForceCompileOnly=function(r){e.forceCompileOnly=r},t.createDefaultLookupTable=function(){e.lookupTable=qh.newInstance()},t.getColorModeAsString=function(){return X.enumToString(Px,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return X.enumToString(mu,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(r,n,a,i,o){if(!r||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var s=null,u=!1;if(n===mu.DEFAULT)s=r.getPointData().getScalars(),s||(s=r.getCellData().getScalars(),u=!0);else if(n===mu.USE_POINT_DATA)s=r.getPointData().getScalars();else if(n===mu.USE_CELL_DATA)s=r.getCellData().getScalars(),u=!0;else if(n===mu.USE_POINT_FIELD_DATA){var l=r.getPointData();a===Ux.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(o)}else if(n===mu.USE_CELL_FIELD_DATA){var f=r.getCellData();u=!0,a===Ux.BY_ID?s=f.getArrayByIndex(i):s=f.getArrayByName(o)}else if(n===mu.USE_FIELD_DATA){var c=r.getFieldData();a===Ux.BY_ID?s=c.getArrayByIndex(i):s=c.getArrayByName(o)}return{scalars:s,cellFlag:u}},t.mapScalars=function(r,n){var a=t.getAbstractScalars(r,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(n);if(e.colorBuildString!==i){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(r))t.mapScalarsToTexture(a,n);else{e.colorCoordinates=null,e.colorTextureMap=null;var o=t.getLookupTable();o&&(o.build(),e.colorMapColors=o.mapScalars(a,e.colorMode,e.fieldDataTupleId))}e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(n)}},t.scalarToTextureCoordinate=function(r,n,a){var i=.5,o=1;return Sy(r)||(o=.49,i=(r-n)*a,i>1e3?i=1e3:i<-1e3&&(i=-1e3)),{texCoordS:i,texCoordT:o}},t.createColorTextureCoordinates=function(r,n,a,i,o,s,u,l,f){var c=(s[1]-s[0])/l,h=[];h[0]=s[0]-c,h[1]=s[1]+c;var p=1/(h[1]-h[0]),v=n.getData(),g=r.getData(),y=0,m=0;if(o<0||o>=i)for(var d=0;d<a;++d){for(var _=0,x=0;x<i;++x)_+=g[y]*g[y],y++;var w=Math.sqrt(_);f&&(w=qh.applyLogScale(w,u,s));var S=t.scalarToTextureCoordinate(w,h[0],p);v[m]=S.texCoordS,v[m+1]=S.texCoordT,m+=2}else{y+=o;for(var b=0;b<a;++b){var T=g[y];f&&(T=qh.applyLogScale(T,u,s));var C=t.scalarToTextureCoordinate(T,h[0],p);v[m]=C.texCoordS,v[m+1]=C.texCoordT,m+=2,y+=i}}},t.mapScalarsToTexture=function(r,n){var a=e.lookupTable.getRange(),i=e.lookupTable.usingLogScale();i&&qh.getLogRange(a,a);var o=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==n){e.lookupTable.setAlpha(n),e.colorTextureMap=null,e.lookupTable.build();var s=e.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s+=2;for(var u=(a[1]-a[0])/(s-1-2),l=new Float64Array(s*2),f=0;f<s;++f)l[f]=a[0]+f*u-u,i&&(l[f]=Math.pow(10,l[f]));for(var c=0;c<s;++c)l[c+s]=NaN;e.colorTextureMap=G2.newInstance(),e.colorTextureMap.setExtent(0,s-1,0,1,0,0);var h=gt.newInstance({numberOfComponents:1,values:l});e.colorTextureMap.getPointData().setScalars(e.lookupTable.mapScalars(h,e.colorMode,0)),e.lookupTable.setAlpha(o)}if(!e.colorCoordinates||t.getMTime()>e.colorCoordinates.getMTime()||t.getInputData(0).getMTime()>e.colorCoordinates.getMTime()||e.lookupTable.getMTime()>e.colorCoordinates.getMTime()){e.colorCoordinates=null;var p=r.getNumberOfComponents(),v=r.getNumberOfTuples();e.colorCoordinates=gt.newInstance({numberOfComponents:2,values:new Float32Array(v*2)});var g=e.lookupTable.getVectorComponent();e.lookupTable.getVectorMode()===Nde.MAGNITUDE&&r.getNumberOfComponents()>1&&(g=-1),t.createColorTextureCoordinates(r,e.colorCoordinates,v,p,g,a,e.lookupTable.getRange(),e.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},t.getIsOpaque=function(){var r=t.getLookupTable();return r?(r.build(),r.isOpaque()):!0},t.canUseTextureMapForColoring=function(r){if(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup())return!1;var n=t.getAbstractScalars(r,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName),a=n.scalars;return!(!a||n.cellFlag||e.colorMode===Px.DEFAULT&&a.getDataType()===Fde.UNSIGNED_CHAR||e.colorMode===Px.DIRECT_SCALARS)},t.clearColorArrays=function(){e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var r=e.mtime;if(e.lookupTable!==null){var n=e.lookupTable.getMTime();r=n>r?n:r}return r},t.getPrimitiveCount=function(){var r=t.getInputData(),n={points:r.getPoints().getNumberOfValues()/3,verts:r.getVerts().getNumberOfValues()-r.getVerts().getNumberOfCells(),lines:r.getLines().getNumberOfValues()-2*r.getLines().getNumberOfCells(),triangles:r.getPolys().getNumberOfValues()-3*r.getPolys().getNumberOfCells()};return n},t.acquireInvertibleLookupTable=hh("AcquireInvertibleLookupTable"),t.valueToColor=hh("ValueToColor"),t.colorToValue=hh("ColorToValue"),t.useInvertibleColorFor=hh("UseInvertibleColorFor"),t.clearInvertibleColor=hh("ClearInvertibleColor"),t.processSelectorPixelBuffers=function(r,n){if(!(!r||!e.selectionWebGLIdsToVTKIds||!e.populateSelectionSettings)){var a=r.getRawPixelBuffer(Sn.ID_LOW24),i=r.getRawPixelBuffer(Sn.ID_HIGH24),o=r.getCurrentPass(),s=r.getFieldAssociation(),u=null;s===Kk.FIELD_ASSOCIATION_POINTS?u=e.selectionWebGLIdsToVTKIds.points:s===Kk.FIELD_ASSOCIATION_CELLS&&(u=e.selectionWebGLIdsToVTKIds.cells),u&&n.forEach(function(l){if(o===Sn.ID_LOW24){var f=0;i&&(f+=i[l],f*=256),f+=a[l+2],f*=256,f+=a[l+1],f*=256,f+=a[l];var c=u[f],h=r.getPixelBuffer(Sn.ID_LOW24);h[l]=c&255,h[l+1]=(c&65280)>>8,h[l+2]=(c&16711680)>>16}else if(o===Sn.ID_HIGH24&&i){var p=0;p+=i[l],p*=256,p+=a[l],p*=256,p+=a[l+1],p*=256,p+=a[l+2];var v=u[p],g=r.getPixelBuffer(Sn.ID_HIGH24);g[l]=(v&4278190080)>>24}})}}}var Ide={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function CU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ide,r),hde.extend(t,e,r),X.get(t,e,["colorCoordinates","colorMapColors","colorTextureMap"]),X.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","selectionWebGLIdsToVTKIds","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),X.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),Gf.implementCoincidentTopologyMethods(t,e),Bde(t,e)}var Vde=X.newInstance(CU,"vtkMapper"),Xs=Vx(Vx(Vx({newInstance:Vde,extend:CU},Rde),Ade),su);function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ude=X.vtkDebugMacro;function zde(t,e){e.classHierarchy.push("vtkActor");var r=Pde({},t);t.getActors=function(){return[t]},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var n=e.property.getOpacity()>=1;return n=n&&(!e.texture||!e.texture.isTranslucent()),n=n&&(!e.mapper||e.mapper.getIsOpaque()),n},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=qo.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;if(!e.mapperBounds||n[0]!==e.mapperBounds[0]||n[1]!==e.mapperBounds[1]||n[2]!==e.mapperBounds[2]||n[3]!==e.mapperBounds[3]||n[4]!==e.mapperBounds[4]||n[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){Ude("Recomputing bounds..."),e.mapperBounds=n.concat();var a=[];Jt.getCorners(n,a),t.computeMatrix();var i=new Float64Array(16);dt(i,e.matrix),a.forEach(function(o){return He(o,o,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(o,s){return s%2===0?a.reduce(function(u,l){return u>l[s/2]?l[s/2]:u},o):a.reduce(function(u,l){return u<l[(s-1)/2]?l[(s-1)/2]:u},o)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var n=r.getMTime();if(e.property!==null){var a=e.property.getMTime();n=a>n?a:n}if(e.backfaceProperty!==null){var i=e.backfaceProperty.getMTime();n=i>n?i:n}return n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var a=e.mapper.getMTime();n=a>n?a:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),a=e.mapper.getInput().getMTime(),n=a>n?a:n)}return n},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1},t.processSelectorPixelBuffers=function(n,a){e.mapper&&e.mapper.processSelectorPixelBuffers&&e.mapper.processSelectorPixelBuffers(n,a)}}var Gde={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function EU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gde,r),V2.extend(t,e,r),e.boundsMTime={},X.obj(e.boundsMTime),X.set(t,e,["property"]),X.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),zde(t,e)}var Wde=X.newInstance(EU,"vtkActor"),Ys={newInstance:Wde,extend:EU};function DU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hde}=Object.prototype,{getPrototypeOf:j2}=Object,m1=(t=>e=>{const r=Hde.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vi=t=>(t=t.toLowerCase(),e=>m1(e)===t),_1=t=>e=>typeof e===t,{isArray:Wf}=Array,fv=_1("undefined");function jde(t){return t!==null&&!fv(t)&&t.constructor!==null&&!fv(t.constructor)&&ea(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OU=vi("ArrayBuffer");function $de(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OU(t.buffer),e}const Kde=_1("string"),ea=_1("function"),MU=_1("number"),x1=t=>t!==null&&typeof t=="object",Xde=t=>t===!0||t===!1,F0=t=>{if(m1(t)!=="object")return!1;const e=j2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yde=vi("Date"),qde=vi("File"),Zde=vi("Blob"),Jde=vi("FileList"),Qde=t=>x1(t)&&ea(t.pipe),ege=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ea(t.append)&&((e=m1(t))==="formdata"||e==="object"&&ea(t.toString)&&t.toString()==="[object FormData]"))},tge=vi("URLSearchParams"),[rge,nge,age,ige]=["ReadableStream","Request","Response","Headers"].map(vi),oge=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ud(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Wf(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function LU(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kU=t=>!fv(t)&&t!==il;function kb(){const{caseless:t}=kU(this)&&this||{},e={},r=(n,a)=>{const i=t&&LU(e,a)||a;F0(e[i])&&F0(n)?e[i]=kb(e[i],n):F0(n)?e[i]=kb({},n):Wf(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ud(arguments[n],r);return e}const sge=(t,e,r,{allOwnKeys:n}={})=>(ud(e,(a,i)=>{r&&ea(a)?t[i]=DU(a,r):t[i]=a},{allOwnKeys:n}),t),uge=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lge=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},cge=(t,e,r,n)=>{let a,i,o;const s={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&j2(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},fge=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},hge=t=>{if(!t)return null;if(Wf(t))return t;let e=t.length;if(!MU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},pge=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&j2(Uint8Array)),vge=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},dge=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},gge=vi("HTMLFormElement"),yge=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Yk=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),mge=vi("RegExp"),RU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ud(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},_ge=t=>{RU(t,(e,r)=>{if(ea(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ea(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xge=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Wf(t)?n(t):n(String(t).split(e)),r},wge=()=>{},Sge=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bge(t){return!!(t&&ea(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Tge=t=>{const e=new Array(10),r=(n,a)=>{if(x1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=Wf(n)?[]:{};return ud(n,(o,s)=>{const u=r(o,a+1);!fv(u)&&(i[s]=u)}),e[a]=void 0,i}}return n};return r(t,0)},Cge=vi("AsyncFunction"),Ege=t=>t&&(x1(t)||ea(t))&&ea(t.then)&&ea(t.catch),AU=((t,e)=>t?setImmediate:e?((r,n)=>(il.addEventListener("message",({source:a,data:i})=>{a===il&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),il.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ea(il.postMessage)),Dge=typeof queueMicrotask<"u"?queueMicrotask.bind(il):typeof process<"u"&&process.nextTick||AU,ye={isArray:Wf,isArrayBuffer:OU,isBuffer:jde,isFormData:ege,isArrayBufferView:$de,isString:Kde,isNumber:MU,isBoolean:Xde,isObject:x1,isPlainObject:F0,isReadableStream:rge,isRequest:nge,isResponse:age,isHeaders:ige,isUndefined:fv,isDate:Yde,isFile:qde,isBlob:Zde,isRegExp:mge,isFunction:ea,isStream:Qde,isURLSearchParams:tge,isTypedArray:pge,isFileList:Jde,forEach:ud,merge:kb,extend:sge,trim:oge,stripBOM:uge,inherits:lge,toFlatObject:cge,kindOf:m1,kindOfTest:vi,endsWith:fge,toArray:hge,forEachEntry:vge,matchAll:dge,isHTMLForm:gge,hasOwnProperty:Yk,hasOwnProp:Yk,reduceDescriptors:RU,freezeMethods:_ge,toObjectSet:xge,toCamelCase:yge,noop:wge,toFiniteNumber:Sge,findKey:LU,global:il,isContextDefined:kU,isSpecCompliantForm:bge,toJSONObject:Tge,isAsyncFn:Cge,isThenable:Ege,setImmediate:AU,asap:Dge};function ut(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ye.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const NU=ut.prototype,FU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FU[t]={value:t}});Object.defineProperties(ut,FU);Object.defineProperty(NU,"isAxiosError",{value:!0});ut.from=(t,e,r,n,a,i)=>{const o=Object.create(NU);return ye.toFlatObject(t,o,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),ut.call(o,t.message,e,r,n,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Oge=null;function Rb(t){return ye.isPlainObject(t)||ye.isArray(t)}function BU(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function qk(t,e,r){return t?t.concat(e).map(function(a,i){return a=BU(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function Mge(t){return ye.isArray(t)&&!t.some(Rb)}const Lge=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function w1(t,e,r){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!ye.isUndefined(y[g])});const n=r.metaTokens,a=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(a))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(ye.isDate(v))return v.toISOString();if(!u&&ye.isBlob(v))throw new ut("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(v)||ye.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,g,y){let m=v;if(v&&!y&&typeof v=="object"){if(ye.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(ye.isArray(v)&&Mge(v)||(ye.isFileList(v)||ye.endsWith(g,"[]"))&&(m=ye.toArray(v)))return g=BU(g),m.forEach(function(_,x){!(ye.isUndefined(_)||_===null)&&e.append(o===!0?qk([g],x,i):o===null?g:g+"[]",l(_))}),!1}return Rb(v)?!0:(e.append(qk(y,g,i),l(v)),!1)}const c=[],h=Object.assign(Lge,{defaultVisitor:f,convertValue:l,isVisitable:Rb});function p(v,g){if(!ye.isUndefined(v)){if(c.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));c.push(v),ye.forEach(v,function(m,d){(!(ye.isUndefined(m)||m===null)&&a.call(e,m,ye.isString(d)?d.trim():d,g,h))===!0&&p(m,g?g.concat(d):[d])}),c.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Zk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $2(t,e){this._pairs=[],t&&w1(t,this,e)}const IU=$2.prototype;IU.append=function(e,r){this._pairs.push([e,r])};IU.toString=function(e){const r=e?function(n){return e.call(this,n,Zk)}:Zk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function kge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VU(t,e,r){if(!e)return t;const n=r&&r.encode||kge;ye.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=ye.isURLSearchParams(e)?e.toString():new $2(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Jk{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(n){n!==null&&e(n)})}}const PU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rge=typeof URLSearchParams<"u"?URLSearchParams:$2,Age=typeof FormData<"u"?FormData:null,Nge=typeof Blob<"u"?Blob:null,Fge={isBrowser:!0,classes:{URLSearchParams:Rge,FormData:Age,Blob:Nge},protocols:["http","https","file","blob","url","data"]},K2=typeof window<"u"&&typeof document<"u",Ab=typeof navigator=="object"&&navigator||void 0,Bge=K2&&(!Ab||["ReactNative","NativeScript","NS"].indexOf(Ab.product)<0),Ige=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vge=K2&&window.location.href||"http://localhost",Pge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:K2,hasStandardBrowserEnv:Bge,hasStandardBrowserWebWorkerEnv:Ige,navigator:Ab,origin:Vge},Symbol.toStringTag,{value:"Module"})),hn={...Pge,...Fge};function Uge(t,e){return w1(t,new hn.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return hn.isNode&&ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function zge(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gge(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function UU(t){function e(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),u=i>=r.length;return o=!o&&ye.isArray(a)?a.length:o,u?(ye.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!s):((!a[o]||!ye.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],i)&&ye.isArray(a[o])&&(a[o]=Gge(a[o])),!s)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const r={};return ye.forEachEntry(t,(n,a)=>{e(zge(n),a,r,0)}),r}return null}function Wge(t,e,r){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ld={transitional:PU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ye.isObject(e);if(i&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return a?JSON.stringify(UU(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Uge(e,this.formSerializer).toString();if((s=ye.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return w1(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Wge(e)):e}],transformResponse:[function(e){const r=this.transitional||ld.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?ut.from(s,ut.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{ld.headers[t]={}});const Hge=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jge=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&Hge[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Qk=Symbol("internals");function ph(t){return t&&String(t).trim().toLowerCase()}function B0(t){return t===!1||t==null?t:ye.isArray(t)?t.map(B0):String(t)}function $ge(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Kge=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zx(t,e,r,n,a){if(ye.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ye.isString(e)){if(ye.isString(n))return e.indexOf(n)!==-1;if(ye.isRegExp(n))return n.test(e)}}function Xge(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Yge(t,e){const r=ye.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let Un=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(s,u,l){const f=ph(u);if(!f)throw new Error("header name must be a non-empty string");const c=ye.findKey(a,f);(!c||a[c]===void 0||l===!0||l===void 0&&a[c]!==!1)&&(a[c||u]=B0(s))}const o=(s,u)=>ye.forEach(s,(l,f)=>i(l,f,u));if(ye.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(ye.isString(e)&&(e=e.trim())&&!Kge(e))o(jge(e),r);else if(ye.isHeaders(e))for(const[s,u]of e.entries())i(u,s,n);else e!=null&&i(r,e,n);return this}get(e,r){if(e=ph(e),e){const n=ye.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return $ge(a);if(ye.isFunction(r))return r.call(this,a,n);if(ye.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ph(e),e){const n=ye.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||zx(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(o){if(o=ph(o),o){const s=ye.findKey(n,o);s&&(!r||zx(n,n[s],s,r))&&(delete n[s],a=!0)}}return ye.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||zx(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return ye.forEach(this,(a,i)=>{const o=ye.findKey(n,i);if(o){r[o]=B0(a),delete r[i];return}const s=e?Xge(i):String(i).trim();s!==i&&delete r[i],r[s]=B0(a),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ye.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[Qk]=this[Qk]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=ph(o);n[s]||(Yge(a,o),n[s]=!0)}return ye.isArray(e)?e.forEach(i):i(e),this}};Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Un.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ye.freezeMethods(Un);function Gx(t,e){const r=this||ld,n=e||r,a=Un.from(n.headers);let i=n.data;return ye.forEach(t,function(s){i=s.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function zU(t){return!!(t&&t.__CANCEL__)}function Hf(t,e,r){ut.call(this,t??"canceled",ut.ERR_CANCELED,e,r),this.name="CanceledError"}ye.inherits(Hf,ut,{__CANCEL__:!0});function GU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ut("Request failed with status code "+r.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qge(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Zge(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),f=n[i];o||(o=l),r[a]=u,n[a]=l;let c=i,h=0;for(;c!==a;)h+=r[c++],c=c%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),l-o<e)return;const p=f&&l-f;return p?Math.round(h*1e3/p):void 0}}function Jge(t,e){let r=0,n=1e3/e,a,i;const o=(l,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),t.apply(null,l)};return[(...l)=>{const f=Date.now(),c=f-r;c>=n?o(l,f):(a=l,i||(i=setTimeout(()=>{i=null,o(a)},n-c)))},()=>a&&o(a)]}const Vy=(t,e,r=3)=>{let n=0;const a=Zge(50,250);return Jge(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,u=o-n,l=a(u),f=o<=s;n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:u,rate:l||void 0,estimated:l&&s&&f?(s-o)/l:void 0,event:i,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(c)},r)},eR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},tR=t=>(...e)=>ye.asap(()=>t(...e)),Qge=hn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,hn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,e0e=hn.hasStandardBrowserEnv?{write(t,e,r,n,a,i){const o=[t+"="+encodeURIComponent(e)];ye.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ye.isString(n)&&o.push("path="+n),ye.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t0e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r0e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WU(t,e,r){let n=!t0e(e);return t&&n||r==!1?r0e(t,e):e}const rR=t=>t instanceof Un?{...t}:t;function Pl(t,e){e=e||{};const r={};function n(l,f,c,h){return ye.isPlainObject(l)&&ye.isPlainObject(f)?ye.merge.call({caseless:h},l,f):ye.isPlainObject(f)?ye.merge({},f):ye.isArray(f)?f.slice():f}function a(l,f,c,h){if(ye.isUndefined(f)){if(!ye.isUndefined(l))return n(void 0,l,c,h)}else return n(l,f,c,h)}function i(l,f){if(!ye.isUndefined(f))return n(void 0,f)}function o(l,f){if(ye.isUndefined(f)){if(!ye.isUndefined(l))return n(void 0,l)}else return n(void 0,f)}function s(l,f,c){if(c in e)return n(l,f);if(c in t)return n(void 0,l)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,f,c)=>a(rR(l),rR(f),c,!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(f){const c=u[f]||a,h=c(t[f],e[f],f);ye.isUndefined(h)&&c!==s||(r[f]=h)}),r}const HU=t=>{const e=Pl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=e;e.headers=o=Un.from(o),e.url=VU(WU(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(ye.isFormData(r)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...f]=u?u.split(";").map(c=>c.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...f].join("; "))}}if(hn.hasStandardBrowserEnv&&(n&&ye.isFunction(n)&&(n=n(e)),n||n!==!1&&Qge(e.url))){const l=a&&i&&e0e.read(i);l&&o.set(a,l)}return e},n0e=typeof XMLHttpRequest<"u",a0e=n0e&&function(t){return new Promise(function(r,n){const a=HU(t);let i=a.data;const o=Un.from(a.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:l}=a,f,c,h,p,v;function g(){p&&p(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function m(){if(!y)return;const _=Un.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:t,request:y};GU(function(b){r(b),g()},function(b){n(b),g()},w),y=null}"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(m)},y.onabort=function(){y&&(n(new ut("Request aborted",ut.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new ut("Network Error",ut.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||PU;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),n(new ut(x,w.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&ye.forEach(o.toJSON(),function(x,w){y.setRequestHeader(w,x)}),ye.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),s&&s!=="json"&&(y.responseType=a.responseType),l&&([h,v]=Vy(l,!0),y.addEventListener("progress",h)),u&&y.upload&&([c,p]=Vy(u),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(f=_=>{y&&(n(!_||_.type?new Hf(null,t,y):_),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const d=qge(a.url);if(d&&hn.protocols.indexOf(d)===-1){n(new ut("Unsupported protocol "+d+":",ut.ERR_BAD_REQUEST,t));return}y.send(i||null)})},i0e=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(l){if(!a){a=!0,s();const f=l instanceof Error?l:this.reason;n.abort(f instanceof ut?f:new Hf(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,i(new ut(`timeout ${e} of ms exceeded`,ut.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>ye.asap(s),u}},o0e=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},s0e=async function*(t,e){for await(const r of u0e(t))yield*o0e(r,e)},u0e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},nR=(t,e,r,n)=>{const a=s0e(t,e);let i=0,o,s=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:f}=await a.next();if(l){s(),u.close();return}let c=f.byteLength;if(r){let h=i+=c;r(h)}u.enqueue(new Uint8Array(f))}catch(l){throw s(l),l}},cancel(u){return s(u),a.return()}},{highWaterMark:2})},S1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jU=S1&&typeof ReadableStream=="function",l0e=S1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$U=(t,...e)=>{try{return!!t(...e)}catch{return!1}},c0e=jU&&$U(()=>{let t=!1;const e=new Request(hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),aR=64*1024,Nb=jU&&$U(()=>ye.isReadableStream(new Response("").body)),Py={stream:Nb&&(t=>t.body)};S1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Py[e]&&(Py[e]=ye.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ut(`Response type '${e}' is not supported`,ut.ERR_NOT_SUPPORT,n)})})})(new Response);const f0e=async t=>{if(t==null)return 0;if(ye.isBlob(t))return t.size;if(ye.isSpecCompliantForm(t))return(await new Request(hn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(t)||ye.isArrayBuffer(t))return t.byteLength;if(ye.isURLSearchParams(t)&&(t=t+""),ye.isString(t))return(await l0e(t)).byteLength},h0e=async(t,e)=>{const r=ye.toFiniteNumber(t.getContentLength());return r??f0e(e)},p0e=S1&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:u,responseType:l,headers:f,withCredentials:c="same-origin",fetchOptions:h}=HU(t);l=l?(l+"").toLowerCase():"text";let p=i0e([a,i&&i.toAbortSignal()],o),v;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(u&&c0e&&r!=="get"&&r!=="head"&&(y=await h0e(f,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),S;if(ye.isFormData(n)&&(S=w.headers.get("content-type"))&&f.setContentType(S),w.body){const[b,T]=eR(y,Vy(tR(u)));n=nR(w.body,aR,b,T)}}ye.isString(c)||(c=c?"include":"omit");const m="credentials"in Request.prototype;v=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:m?c:void 0});let d=await fetch(v);const _=Nb&&(l==="stream"||l==="response");if(Nb&&(s||_&&g)){const w={};["status","statusText","headers"].forEach(C=>{w[C]=d[C]});const S=ye.toFiniteNumber(d.headers.get("content-length")),[b,T]=s&&eR(S,Vy(tR(s),!0))||[];d=new Response(nR(d.body,aR,b,()=>{T&&T(),g&&g()}),w)}l=l||"text";let x=await Py[ye.findKey(Py,l)||"text"](d,t);return!_&&g&&g(),await new Promise((w,S)=>{GU(w,S,{data:x,headers:Un.from(d.headers),status:d.status,statusText:d.statusText,config:t,request:v})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,t,v),{cause:m.cause||m}):ut.from(m,m&&m.code,t,v)}}),Fb={http:Oge,xhr:a0e,fetch:p0e};ye.forEach(Fb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const iR=t=>`- ${t}`,v0e=t=>ye.isFunction(t)||t===null||t===!1,KU={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!v0e(r)&&(n=Fb[(o=String(r)).toLowerCase()],n===void 0))throw new ut(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(iR).join(`
`):" "+iR(i[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Fb};function Wx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hf(null,t)}function oR(t){return Wx(t),t.headers=Un.from(t.headers),t.data=Gx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KU.getAdapter(t.adapter||ld.adapter)(t).then(function(n){return Wx(t),n.data=Gx.call(t,t.transformResponse,n),n.headers=Un.from(n.headers),n},function(n){return zU(n)||(Wx(t),n&&n.response&&(n.response.data=Gx.call(t,t.transformResponse,n.response),n.response.headers=Un.from(n.response.headers))),Promise.reject(n)})}const XU="1.8.2",b1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{b1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const sR={};b1.transitional=function(e,r,n){function a(i,o){return"[Axios v"+XU+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,s)=>{if(e===!1)throw new ut(a(o," has been removed"+(r?" in "+r:"")),ut.ERR_DEPRECATED);return r&&!sR[o]&&(sR[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,s):!0}};b1.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function d0e(t,e,r){if(typeof t!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const s=t[i],u=s===void 0||o(s,i,t);if(u!==!0)throw new ut("option "+i+" must be "+u,ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ut("Unknown option "+i,ut.ERR_BAD_OPTION)}}const I0={assertOptions:d0e,validators:b1},wi=I0.validators;let yl=class{constructor(e){this.defaults=e,this.interceptors={request:new Jk,response:new Jk}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Pl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&I0.assertOptions(n,{silentJSONParsing:wi.transitional(wi.boolean),forcedJSONParsing:wi.transitional(wi.boolean),clarifyTimeoutError:wi.transitional(wi.boolean)},!1),a!=null&&(ye.isFunction(a)?r.paramsSerializer={serialize:a}:I0.assertOptions(a,{encode:wi.function,serialize:wi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),I0.assertOptions(r,{baseUrl:wi.spelling("baseURL"),withXsrfToken:wi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ye.merge(i.common,i[r.method]);i&&ye.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Un.concat(o,i);const s=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let f,c=0,h;if(!u){const v=[oR.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,l),h=v.length,f=Promise.resolve(r);c<h;)f=f.then(v[c++],v[c++]);return f}h=s.length;let p=r;for(c=0;c<h;){const v=s[c++],g=s[c++];try{p=v(p)}catch(y){g.call(this,y);break}}try{f=oR.call(this,p)}catch(v){return Promise.reject(v)}for(c=0,h=l.length;c<h;)f=f.then(l[c++],l[c++]);return f}getUri(e){e=Pl(this.defaults,e);const r=WU(e.baseURL,e.url,e.allowAbsoluteUrls);return VU(r,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){yl.prototype[e]=function(r,n){return this.request(Pl(n||{},{method:e,url:r,data:(n||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,s){return this.request(Pl(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yl.prototype[e]=r(),yl.prototype[e+"Form"]=r(!0)});let g0e=class YU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{n.subscribe(s),i=s}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,s){n.reason||(n.reason=new Hf(i,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new YU(function(a){e=a}),cancel:e}}};function y0e(t){return function(r){return t.apply(null,r)}}function m0e(t){return ye.isObject(t)&&t.isAxiosError===!0}const Bb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bb).forEach(([t,e])=>{Bb[e]=t});function qU(t){const e=new yl(t),r=DU(yl.prototype.request,e);return ye.extend(r,yl.prototype,e,{allOwnKeys:!0}),ye.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return qU(Pl(t,a))},r}const hr=qU(ld);hr.Axios=yl;hr.CanceledError=Hf;hr.CancelToken=g0e;hr.isCancel=zU;hr.VERSION=XU;hr.toFormData=w1;hr.AxiosError=ut;hr.Cancel=hr.CanceledError;hr.all=function(e){return Promise.all(e)};hr.spread=y0e;hr.isAxiosError=m0e;hr.mergeConfig=Pl;hr.AxiosHeaders=Un;hr.formToJSON=t=>UU(ye.isHTMLForm(t)?new FormData(t):t);hr.getAdapter=KU.getAdapter;hr.HttpStatusCode=Bb;hr.default=hr;const{Axios:lNe,AxiosError:cNe,CanceledError:fNe,isCancel:hNe,CancelToken:pNe,VERSION:vNe,all:dNe,Cancel:gNe,isAxiosError:yNe,spread:mNe,toFormData:_Ne,AxiosHeaders:xNe,HttpStatusCode:wNe,formToJSON:SNe,getAdapter:bNe,mergeConfig:TNe}=hr;var V0={exports:{}},_0e=V0.exports,uR;function x0e(){return uR||(uR=1,function(t,e){(function(r,n){t.exports=n()})(_0e,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:s})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(1&o&&(i=a(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var u in i)a.d(s,u,(function(l){return i[l]}).bind(null,u));return s},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=184)}([function(r,n,a){function i(o){for(var s in o)n.hasOwnProperty(s)||(n[s]=o[s])}Object.defineProperty(n,"__esModule",{value:!0}),i(a(240)),i(a(251)),i(a(175)),i(a(107)),i(a(29)),i(a(73)),i(a(106)),i(a(30)),i(a(252)),i(a(52)),i(a(97)),i(a(253)),i(a(37)),i(a(51)),i(a(173)),i(a(176)),i(a(172)),i(a(108)),i(a(254)),i(a(255)),i(a(256)),i(a(72)),i(a(177)),i(a(105)),i(a(17)),i(a(257)),i(a(12)),i(a(174))},function(r,n,a){var i=this&&this.__values||function(_){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&_[x],S=0;if(w)return w.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&S>=_.length&&(_=void 0),{value:_&&_[S++],done:!_}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(212);n.FixedSizeSet=o.FixedSizeSet;var s=a(213);n.ObjectCache=s.ObjectCache;var u=a(214);n.CompareCache=u.CompareCache;var l=a(215);n.Lazy=l.Lazy;var f=a(216);function c(_,x,w){if(m(_))_.forEach(function(b,T){return x.call(w,T,b)});else for(var S in _)_.hasOwnProperty(S)&&x.call(w,S,_[S])}function h(_){var x,w;if(p(_))return _;if(g(_)){var S=[];try{for(var b=i(_),T=b.next();!T.done;T=b.next()){var C=T.value;S.push(h(C))}}catch(E){x={error:E}}finally{try{T&&!T.done&&(w=b.return)&&w.call(b)}finally{if(x)throw x.error}}return S}if(v(_)){S={};for(var M in _)if(_.hasOwnProperty(M)){var D=_[M];S[M]=h(D)}return S}return _}function p(_){return!!_&&Object.prototype.toString.call(_)==="[object Function]"}function v(_){var x=typeof _;return!!_&&(x==="function"||x==="object")}function g(_){return Array.isArray(_)}function y(_){return _ instanceof Set}function m(_){return _ instanceof Map}function d(_){if(v(_)){var x=Object.getPrototypeOf(_),w=x.constructor;return x&&w&&typeof w=="function"&&w instanceof w&&Function.prototype.toString.call(w)===Function.prototype.toString.call(Object)}return!1}n.StringWalker=f.StringWalker,n.applyMixin=function(_,x){for(var w=[],S=2;S<arguments.length;S++)w[S-2]=arguments[S];Object.getOwnPropertyNames(x.prototype).forEach(function(b){if(b!=="constructor"){if(w.indexOf(b)!==-1){var T=Object.getOwnPropertyDescriptor(_.prototype,b);T&&Object.defineProperty(_.prototype,"_"+b,T)}var C=Object.getOwnPropertyDescriptor(x.prototype,b);C&&Object.defineProperty(_.prototype,b,C)}})},n.applyDefaults=function _(x,w,S){S===void 0&&(S=!1);var b=h(x||{});return c(w,function(T,C){d(C)?b[T]=_(b[T],C,S):(S||b[T]===void 0)&&(b[T]=C)}),b},n.forEachArray=function(_,x,w){_.forEach(x,w)},n.forEachObject=c,n.arrayLength=function(_){return y(_)?_.size:_.length},n.objectLength=function(_){return m(_)?_.size:Object.keys(_).length},n.getObjectValue=function(_,x){return m(_)?_.get(x):_[x]},n.removeObjectValue=function(_,x){m(_)?_.delete(x):delete _[x]},n.clone=h,n.isBoolean=function(_){return typeof _=="boolean"},n.isNumber=function(_){return typeof _=="number"},n.isString=function(_){return typeof _=="string"},n.isFunction=p,n.isObject=v,n.isArray=g,n.isSet=y,n.isMap=m,n.isEmpty=function(_){if(g(_))return!_.length;if(y(_)||m(_))return!_.size;if(v(_)){for(var x in _)if(_.hasOwnProperty(x))return!1;return!0}return!1},n.isPlainObject=d,n.isIterable=function(_){return _&&typeof _[Symbol.iterator]=="function"},n.getValue=function(_){return p(_.valueOf)?_.valueOf():_},n.utf8Encode=function(_){for(var x=new Uint8Array(4*_.length),w=0,S=0;S<_.length;S++){var b=_.charCodeAt(S);if(b<128)x[w++]=b;else{if(b<2048)x[w++]=b>>6|192;else{if(b>55295&&b<56320){if(++S>=_.length)throw new Error("Incomplete surrogate pair.");var T=_.charCodeAt(S);if(T<56320||T>57343)throw new Error("Invalid surrogate character.");b=65536+((1023&b)<<10)+(1023&T),x[w++]=b>>18|240,x[w++]=b>>12&63|128}else x[w++]=b>>12|224;x[w++]=b>>6&63|128}x[w++]=63&b|128}}return x.subarray(0,w)},n.utf8Decode=function(_){for(var x="",w=0;w<_.length;){var S=_[w++];if(S>127)if(S>191&&S<224){if(w>=_.length)throw new Error("Incomplete 2-byte sequence.");S=(31&S)<<6|63&_[w++]}else if(S>223&&S<240){if(w+1>=_.length)throw new Error("Incomplete 3-byte sequence.");S=(15&S)<<12|(63&_[w++])<<6|63&_[w++]}else{if(!(S>239&&S<248))throw new Error("Unknown multi-byte start.");if(w+2>=_.length)throw new Error("Incomplete 4-byte sequence.");S=(7&S)<<18|(63&_[w++])<<12|(63&_[w++])<<6|63&_[w++]}if(S<=65535)x+=String.fromCharCode(S);else{if(!(S<=1114111))throw new Error("Code point exceeds UTF-16 limit.");S-=65536,x+=String.fromCharCode(S>>10|55296),x+=String.fromCharCode(1023&S|56320)}}return x}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),function(i){i[i.Before=0]="Before",i[i.Equal=1]="Equal",i[i.After=2]="After"}(n.BoundaryPosition||(n.BoundaryPosition={})),function(i){i[i.None=0]="None",i[i.Capturing=1]="Capturing",i[i.AtTarget=2]="AtTarget",i[i.Bubbling=3]="Bubbling"}(n.EventPhase||(n.EventPhase={})),function(i){i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=3]="Text",i[i.CData=4]="CData",i[i.EntityReference=5]="EntityReference",i[i.Entity=6]="Entity",i[i.ProcessingInstruction=7]="ProcessingInstruction",i[i.Comment=8]="Comment",i[i.Document=9]="Document",i[i.DocumentType=10]="DocumentType",i[i.DocumentFragment=11]="DocumentFragment",i[i.Notation=12]="Notation"}(n.NodeType||(n.NodeType={})),function(i){i[i.Disconnected=1]="Disconnected",i[i.Preceding=2]="Preceding",i[i.Following=4]="Following",i[i.Contains=8]="Contains",i[i.ContainedBy=16]="ContainedBy",i[i.ImplementationSpecific=32]="ImplementationSpecific"}(n.Position||(n.Position={})),function(i){i[i.Accept=1]="Accept",i[i.Reject=2]="Reject",i[i.Skip=3]="Skip"}(n.FilterResult||(n.FilterResult={})),function(i){i[i.All=4294967295]="All",i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=4]="Text",i[i.CDataSection=8]="CDataSection",i[i.EntityReference=16]="EntityReference",i[i.Entity=32]="Entity",i[i.ProcessingInstruction=64]="ProcessingInstruction",i[i.Comment=128]="Comment",i[i.Document=256]="Document",i[i.DocumentType=512]="DocumentType",i[i.DocumentFragment=1024]="DocumentFragment",i[i.Notation=2048]="Notation"}(n.WhatToShow||(n.WhatToShow={})),function(i){i[i.StartToStart=0]="StartToStart",i[i.StartToEnd=1]="StartToEnd",i[i.EndToEnd=2]="EndToEnd",i[i.EndToStart=3]="EndToStart"}(n.HowToCompare||(n.HowToCompare={}))},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(241);n.Cast=i.Cast;var o=a(150);n.Guard=o.Guard;var s=a(242);n.EmptySet=s.EmptySet},function(r,n,a){var i=a(11),o=a(55).f,s=a(21),u=a(25),l=a(80),f=a(119),c=a(123);r.exports=function(h,p){var v,g,y,m,d,_=h.target,x=h.global,w=h.stat;if(v=x?i:w?i[_]||l(_,{}):(i[_]||{}).prototype)for(g in p){if(m=p[g],y=h.noTargetGet?(d=o(v,g))&&d.value:v[g],!c(x?g:_+(w?".":"#")+g,h.forced)&&y!==void 0){if(typeof m==typeof y)continue;f(m,y)}(h.sham||y&&y.sham)&&s(m,"sham",!0),u(v,g,m,h)}}},function(r,n,a){var i=a(11),o=a(81),s=a(14),u=a(58),l=a(86),f=a(124),c=o("wks"),h=i.Symbol,p=f?h:h&&h.withoutSetter||u;r.exports=function(v){return s(c,v)||(l&&s(h,v)?c[v]=h[v]:c[v]=p("Symbol."+v)),c[v]}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=a(29),s=function(){function u(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new i.CompareCache,this._rangeList=new i.FixedSizeSet}return u.prototype.setFeatures=function(l){if(l===void 0&&(l=!0),i.isObject(l))for(var f in l)this._features[f]=l[f]||!1;else for(var f in this._features)this._features[f]=l},Object.defineProperty(u.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"window",{get:function(){return this._window===null&&(this._window=o.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(u,"instance",{get:function(){return u._instance||(u._instance=new u),u._instance},enumerable:!0,configurable:!0}),u}();n.dom=s.instance},function(r,n,a){var i=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var _={};if(d!=null)for(var x in d)Object.hasOwnProperty.call(d,x)&&(_[x]=d[x]);return _.default=d,_};Object.defineProperty(n,"__esModule",{value:!0});var o=i(a(228));n.base64=o;var s=i(a(146));n.byte=s;var u=i(a(147));n.byteSequence=u;var l=i(a(96));n.codePoint=l;var f=i(a(232));n.json=f;var c=i(a(233));n.list=c;var h=i(a(234));n.map=h;var p=i(a(235));n.namespace=p;var v=i(a(236));n.queue=v;var g=i(a(237));n.set=g;var y=i(a(238));n.stack=y;var m=i(a(239));n.string=m},function(r,n){r.exports=function(a){try{return!!a()}catch{return!0}}},function(r,n,a){var i,o=this&&this.__extends||(i=function(P,B){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,H){W.__proto__=H}||function(W,H){for(var $ in H)H.hasOwnProperty($)&&(W[$]=H[$])})(P,B)},function(P,B){function W(){this.constructor=P}i(P,B),P.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(P){function B(W,H){H===void 0&&(H="");var $=P.call(this,H)||this;return $.name=W,$}return o(B,P),B}(Error);n.DOMException=s;var u=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"DOMStringSizeError",W)||this}return o(B,P),B}(s);n.DOMStringSizeError=u;var l=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"WrongDocumentError","The object is in the wrong document. "+W)||this}return o(B,P),B}(s);n.WrongDocumentError=l;var f=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NoDataAllowedError",W)||this}return o(B,P),B}(s);n.NoDataAllowedError=f;var c=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NoModificationAllowedError","The object can not be modified. "+W)||this}return o(B,P),B}(s);n.NoModificationAllowedError=c;var h=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NotSupportedError","The operation is not supported. "+W)||this}return o(B,P),B}(s);n.NotSupportedError=h;var p=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InUseAttributeError",W)||this}return o(B,P),B}(s);n.InUseAttributeError=p;var v=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InvalidStateError","The object is in an invalid state. "+W)||this}return o(B,P),B}(s);n.InvalidStateError=v;var g=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InvalidModificationError","The object can not be modified in this way. "+W)||this}return o(B,P),B}(s);n.InvalidModificationError=g;var y=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+W)||this}return o(B,P),B}(s);n.NamespaceError=y;var m=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InvalidAccessError","The object does not support the operation or argument. "+W)||this}return o(B,P),B}(s);n.InvalidAccessError=m;var d=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"ValidationError",W)||this}return o(B,P),B}(s);n.ValidationError=d;var _=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"TypeMismatchError",W)||this}return o(B,P),B}(s);n.TypeMismatchError=_;var x=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"SecurityError","The operation is insecure. "+W)||this}return o(B,P),B}(s);n.SecurityError=x;var w=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NetworkError","A network error occurred. "+W)||this}return o(B,P),B}(s);n.NetworkError=w;var S=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"AbortError","The operation was aborted. "+W)||this}return o(B,P),B}(s);n.AbortError=S;var b=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"URLMismatchError","The given URL does not match another URL. "+W)||this}return o(B,P),B}(s);n.URLMismatchError=b;var T=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"QuotaExceededError","The quota has been exceeded. "+W)||this}return o(B,P),B}(s);n.QuotaExceededError=T;var C=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"TimeoutError","The operation timed out. "+W)||this}return o(B,P),B}(s);n.TimeoutError=C;var M=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+W)||this}return o(B,P),B}(s);n.InvalidNodeTypeError=M;var D=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"DataCloneError","The object can not be cloned. "+W)||this}return o(B,P),B}(s);n.DataCloneError=D;var E=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+W)||this}return o(B,P),B}(s);n.NotImplementedError=E;var k=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+W)||this}return o(B,P),B}(s);n.HierarchyRequestError=k;var O=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"NotFoundError","The object can not be found here. "+W)||this}return o(B,P),B}(s);n.NotFoundError=O;var A=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"IndexSizeError","The index is not in the allowed range. "+W)||this}return o(B,P),B}(s);n.IndexSizeError=A;var I=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"SyntaxError","The string did not match the expected pattern. "+W)||this}return o(B,P),B}(s);n.SyntaxError=I;var U=function(P){function B(W){return W===void 0&&(W=""),P.call(this,"InvalidCharacterError","The string contains invalid characters. "+W)||this}return o(B,P),B}(s);n.InvalidCharacterError=U},function(r,n,a){var i=a(53),o=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];r.exports=function(u,l){var f,c;if(l=l||{},Object.keys(l).forEach(function(h){if(o.indexOf(h)===-1)throw new i('Unknown option "'+h+'" is met in definition of "'+u+'" YAML type.')}),this.tag=u,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(h){return h},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.defaultStyle=l.defaultStyle||null,this.styleAliases=(f=l.styleAliases||null,c={},f!==null&&Object.keys(f).forEach(function(h){f[h].forEach(function(p){c[String(p)]=h})}),c),s.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+u+'" YAML type.')}},function(r,n,a){(function(i){var o=function(s){return s&&s.Math==Math&&s};r.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||Function("return this")()}).call(this,a(78))},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.idl_defineConst=function(i,o,s){Object.defineProperty(i,o,{writable:!1,enumerable:!0,configurable:!1,value:s})}},function(r,n){r.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(r,n){var a={}.hasOwnProperty;r.exports=function(i,o){return a.call(i,o)}},function(r,n,a){var i=a(16),o=a(115),s=a(18),u=a(56),l=Object.defineProperty;n.f=i?l:function(f,c,h){if(s(f),c=u(c,!0),s(h),o)try{return l(f,c,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(f[c]=h.value),f}},function(r,n,a){var i=a(8);r.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(r,n,a){var i=this&&this.__values||function(_){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&_[x],S=0;if(w)return w.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&S>=_.length&&(_=void 0),{value:_&&_[S++],done:!_}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(3),s=a(2);function u(_,x,w){if(w===void 0&&(w=!1),w&&o.Guard.isElementNode(x)&&o.Guard.isShadowRoot(x.shadowRoot)&&x.shadowRoot._firstChild)return x.shadowRoot._firstChild;if(x._firstChild)return x._firstChild;if(x===_)return null;if(x._nextSibling)return x._nextSibling;for(var S=x._parent;S&&S!==_;){if(S._nextSibling)return S._nextSibling;S=S._parent}return null}function l(){var _;return(_={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},_}function f(_,x,w,S){x===void 0&&(x=!1),w===void 0&&(w=!1);for(var b=x?_:u(_,_,w);b&&S&&!S(b);)b=u(_,b,w);return b}function c(_,x,w,S,b){S===void 0&&(S=!1);for(var T=u(_,x,S);T&&b&&!b(T);)T=u(_,T,S);return T}function h(_,x,w,S){var b;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||_._children.size!==0?((b={})[Symbol.iterator]=function(){var T=x?_:u(_,_,w);return{next:function(){for(;T&&S&&!S(T);)T=u(_,T,w);if(T===null)return{done:!0,value:null};var C={done:!1,value:T};return T=u(_,T,w),C}}},b):l()}function p(_,x,w){x===void 0&&(x=!1);for(var S=x?_:_._parent;S&&w&&!w(S);)S=S._parent;return S}function v(_,x,w,S){for(var b=x._parent;b&&S&&!S(b);)b=b._parent;return b}function g(_){return o.Guard.isDocumentTypeNode(_)?0:o.Guard.isCharacterDataNode(_)?_._data.length:_._children.size}function y(_,x){if(x===void 0&&(x=!1),x){var w=y(_,!1);return o.Guard.isShadowRoot(w)?y(w._host,!0):w}return _._parent?y(_._parent):_}function m(_,x,w,S){w===void 0&&(w=!1),S===void 0&&(S=!1);for(var b=w?_:S&&o.Guard.isShadowRoot(_)?_._host:_._parent;b!==null;){if(b===x)return!0;b=S&&o.Guard.isShadowRoot(b)?b._host:b._parent}return!1}function d(_){for(var x=y(_),w=0,S=f(x);S!==null;){if(w++,S===_)return w;S=c(x,S)}return-1}n.tree_getFirstDescendantNode=f,n.tree_getNextDescendantNode=c,n.tree_getDescendantNodes=h,n.tree_getDescendantElements=function(_,x,w,S){var b;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||_._children.size!==0?((b={})[Symbol.iterator]=function(){var T=h(_,x,w,function(M){return o.Guard.isElementNode(M)})[Symbol.iterator](),C=T.next().value;return{next:function(){for(;C&&S&&!S(C);)C=T.next().value;if(C===null)return{done:!0,value:null};var M={done:!1,value:C};return C=T.next().value,M}}},b):l()},n.tree_getSiblingNodes=function(_,x,w){var S;return x===void 0&&(x=!1),_._parent&&_._parent._children.size!==0?((S={})[Symbol.iterator]=function(){var b=_._parent?_._parent._firstChild:null;return{next:function(){for(;b&&(w&&!w(b)||!x&&b===_);)b=b._nextSibling;if(b===null)return{done:!0,value:null};var T={done:!1,value:b};return b=b._nextSibling,T}}},S):l()},n.tree_getFirstAncestorNode=p,n.tree_getNextAncestorNode=v,n.tree_getAncestorNodes=function(_,x,w){var S;return x===void 0&&(x=!1),x||_._parent?((S={})[Symbol.iterator]=function(){var b=p(_,x,w);return{next:function(){if(b===null)return{done:!0,value:null};var T={done:!1,value:b};return b=v(0,b,x,w),T}}},S):l()},n.tree_getCommonAncestor=function(_,x){if(_===x)return _._parent;for(var w=[],S=[],b=p(_,!0);b!==null;)w.push(b),b=v(0,b);for(var T=p(x,!0);T!==null;)S.push(T),T=v(0,T);for(var C=w.length,M=S.length,D=null,E=Math.min(C,M);E>0;E--){var k=w[--C];if(k!==S[--M])break;D=k}return D},n.tree_getFollowingNode=function(_,x){if(x._firstChild)return x._firstChild;if(x._nextSibling)return x._nextSibling;for(;;){var w=x._parent;if(w===null||w===_)return null;if(w._nextSibling)return w._nextSibling;x=w}},n.tree_getPrecedingNode=function(_,x){return x===_?null:x._previousSibling?(x=x._previousSibling)._lastChild?x._lastChild:x:x._parent},n.tree_isConstrained=function _(x){var w,S,b,T,C,M;switch(x._nodeType){case s.NodeType.Document:var D=!1,E=!1;try{for(var k=i(x._children),O=k.next();!O.done;O=k.next())switch(O.value._nodeType){case s.NodeType.ProcessingInstruction:case s.NodeType.Comment:break;case s.NodeType.DocumentType:if(D||E)return!1;D=!0;break;case s.NodeType.Element:if(E)return!1;E=!0;break;default:return!1}}catch(B){w={error:B}}finally{try{O&&!O.done&&(S=k.return)&&S.call(k)}finally{if(w)throw w.error}}break;case s.NodeType.DocumentFragment:case s.NodeType.Element:try{for(var A=i(x._children),I=A.next();!I.done;I=A.next())switch(I.value._nodeType){case s.NodeType.Element:case s.NodeType.Text:case s.NodeType.ProcessingInstruction:case s.NodeType.CData:case s.NodeType.Comment:break;default:return!1}}catch(B){b={error:B}}finally{try{I&&!I.done&&(T=A.return)&&T.call(A)}finally{if(b)throw b.error}}break;case s.NodeType.DocumentType:case s.NodeType.Text:case s.NodeType.ProcessingInstruction:case s.NodeType.CData:case s.NodeType.Comment:return!x.hasChildNodes()}try{for(var U=i(x._children),P=U.next();!P.done;P=U.next())if(!_(P.value))return!1}catch(B){C={error:B}}finally{try{P&&!P.done&&(M=U.return)&&M.call(U)}finally{if(C)throw C.error}}return!0},n.tree_nodeLength=g,n.tree_isEmpty=function(_){return g(_)===0},n.tree_rootNode=y,n.tree_isDescendantOf=function(_,x,w,S){w===void 0&&(w=!1),S===void 0&&(S=!1);for(var b=f(_,w,S);b!==null;){if(b===x)return!0;b=c(_,b,w,S)}return!1},n.tree_isAncestorOf=m,n.tree_isHostIncludingAncestorOf=function _(x,w,S){if(S===void 0&&(S=!1),m(x,w,S))return!0;var b=y(x);return!(!o.Guard.isDocumentFragmentNode(b)||b._host===null||!_(b._host,w,S))},n.tree_isSiblingOf=function(_,x,w){return w===void 0&&(w=!1),_!==x?_._parent!==null&&_._parent===x._parent:!!w},n.tree_isPreceding=function(_,x){var w=d(_),S=d(x);return w!==-1&&S!==-1&&y(_)===y(x)&&S<w},n.tree_isFollowing=function(_,x){var w=d(_),S=d(x);return w!==-1&&S!==-1&&y(_)===y(x)&&S>w},n.tree_isParentOf=function(_,x){return _._parent===x},n.tree_isChildOf=function(_,x){return x._parent===_},n.tree_previousSibling=function(_){return _._previousSibling},n.tree_nextSibling=function(_){return _._nextSibling},n.tree_firstChild=function(_){return _._firstChild},n.tree_lastChild=function(_){return _._lastChild},n.tree_treePosition=d,n.tree_index=function(_){for(var x=0;_._previousSibling!==null;)x++,_=_._previousSibling;return x},n.tree_retarget=function(_,x){for(;;){if(!_||!o.Guard.isNode(_))return _;var w=y(_);if(!o.Guard.isShadowRoot(w)||x&&o.Guard.isNode(x)&&m(w,x,!0,!0))return _;_=w.host}}},function(r,n,a){var i=a(13);r.exports=function(o){if(!i(o))throw TypeError(String(o)+" is not an object");return o}},function(r,n,a){var i=a(24),o=a(130),s=a(49),u=a(43),l=a(88),f=u.set,c=u.getterFor("Array Iterator");r.exports=l(Array,"Array",function(h,p){f(this,{type:"Array Iterator",target:i(h),index:0,kind:p})},function(){var h=c(this),p=h.target,v=h.kind,g=h.index++;return!p||g>=p.length?(h.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:g,done:!1}:v=="values"?{value:p[g],done:!1}:{value:[g,p[g]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(r,n,a){var i=a(90),o=a(25),s=a(202);i||o(Object.prototype,"toString",s,{unsafe:!0})},function(r,n,a){var i=a(16),o=a(15),s=a(40);r.exports=i?function(u,l,f){return o.f(u,l,s(1,f))}:function(u,l,f){return u[l]=f,u}},function(r,n,a){var i=a(137).charAt,o=a(43),s=a(88),u=o.set,l=o.getterFor("String Iterator");s(String,"String",function(f){u(this,{type:"String Iterator",string:String(f),index:0})},function(){var f,c=l(this),h=c.string,p=c.index;return p>=h.length?{value:void 0,done:!0}:(f=i(h,p),c.index+=f.length,{value:f,done:!1})})},function(r,n,a){var i=a(11),o=a(203),s=a(19),u=a(21),l=a(5),f=l("iterator"),c=l("toStringTag"),h=s.values;for(var p in o){var v=i[p],g=v&&v.prototype;if(g){if(g[f]!==h)try{u(g,f,h)}catch{g[f]=h}if(g[c]||u(g,c,p),o[p]){for(var y in s)if(g[y]!==s[y])try{u(g,y,s[y])}catch{g[y]=s[y]}}}}},function(r,n,a){var i=a(41),o=a(35);r.exports=function(s){return i(o(s))}},function(r,n,a){var i=a(11),o=a(21),s=a(14),u=a(80),l=a(117),f=a(43),c=f.get,h=f.enforce,p=String(String).split("String");(r.exports=function(v,g,y,m){var d=!!m&&!!m.unsafe,_=!!m&&!!m.enumerable,x=!!m&&!!m.noTargetGet;typeof y=="function"&&(typeof g!="string"||s(y,"name")||o(y,"name",g),h(y).source=p.join(typeof g=="string"?g:"")),v!==i?(d?!x&&v[g]&&(_=!0):delete v[g],_?v[g]=y:o(v,g,y)):_?v[g]=y:u(g,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||l(this)})},function(r,n,a){var i=a(47),o=Math.min;r.exports=function(s){return s>0?o(i(s),9007199254740991):0}},function(r,n,a){var i=a(35);r.exports=function(o){return Object(i(o))}},function(r,n,a){var i=a(16),o=a(8),s=a(14),u=Object.defineProperty,l={},f=function(c){throw c};r.exports=function(c,h){if(s(l,c))return l[c];h||(h={});var p=[][c],v=!!s(h,"ACCESSORS")&&h.ACCESSORS,g=s(h,0)?h[0]:f,y=s(h,1)?h[1]:void 0;return l[c]=!!p&&!o(function(){if(v&&!i)return!0;var m={length:-1};v?u(m,1,{enumerable:!0,get:f}):m[1]=1,p.call(m,g,y)})}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(148),o=a(149),s=a(151),u=a(98),l=a(153),f=a(154),c=a(155),h=a(99),p=a(100),v=a(156),g=a(157),y=a(101),m=a(158),d=a(159),_=a(160),x=a(161),w=a(162),S=a(163),b=a(164),T=a(165),C=a(166),M=a(167),D=a(168),E=a(169),k=a(170);n.create_domImplementation=function(O){return i.DOMImplementationImpl._create(O)},n.create_window=function(){return o.WindowImpl._create()},n.create_xmlDocument=function(){return new s.XMLDocumentImpl},n.create_document=function(){return new u.DocumentImpl},n.create_abortController=function(){return new l.AbortControllerImpl},n.create_abortSignal=function(){return f.AbortSignalImpl._create()},n.create_documentType=function(O,A,I,U){return c.DocumentTypeImpl._create(O,A,I,U)},n.create_element=function(O,A,I,U){return h.ElementImpl._create(O,A,I,U)},n.create_htmlElement=function(O,A,I,U){return h.ElementImpl._create(O,A,I,U)},n.create_htmlUnknownElement=function(O,A,I,U){return h.ElementImpl._create(O,A,I,U)},n.create_documentFragment=function(O){return p.DocumentFragmentImpl._create(O)},n.create_shadowRoot=function(O,A){return v.ShadowRootImpl._create(O,A)},n.create_attr=function(O,A){return g.AttrImpl._create(O,A)},n.create_text=function(O,A){return y.TextImpl._create(O,A)},n.create_cdataSection=function(O,A){return m.CDATASectionImpl._create(O,A)},n.create_comment=function(O,A){return d.CommentImpl._create(O,A)},n.create_processingInstruction=function(O,A,I){return _.ProcessingInstructionImpl._create(O,A,I)},n.create_htmlCollection=function(O,A){return A===void 0&&(A=function(){return!0}),x.HTMLCollectionImpl._create(O,A)},n.create_nodeList=function(O){return w.NodeListImpl._create(O)},n.create_nodeListStatic=function(O,A){return S.NodeListStaticImpl._create(O,A)},n.create_namedNodeMap=function(O){return b.NamedNodeMapImpl._create(O)},n.create_range=function(O,A){return T.RangeImpl._create(O,A)},n.create_nodeIterator=function(O,A,I){return C.NodeIteratorImpl._create(O,A,I)},n.create_treeWalker=function(O,A){return M.TreeWalkerImpl._create(O,A)},n.create_nodeFilter=function(){return D.NodeFilterImpl._create()},n.create_mutationRecord=function(O,A,I,U,P,B,W,H,$){return E.MutationRecordImpl._create(O,A,I,U,P,B,W,H,$)},n.create_domTokenList=function(O,A){return k.DOMTokenListImpl._create(O,A)}},function(r,n,a){var i=this&&this.__values||function(g){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&g[y],d=0;if(m)return m.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&d>=g.length&&(g=void 0),{value:g&&g[d++],done:!g}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(17),u=a(3),l=a(72),f=new Map;function c(g,y){if(y!==g._root&&s.tree_isAncestorOf(g._reference,y,!0)){if(g._pointerBeforeReference)for(;;){var m=s.tree_getFollowingNode(g._root,y);if(m!==null&&s.tree_isDescendantOf(g._root,m,!0)&&!s.tree_isDescendantOf(y,m,!0))return void(g._reference=m);if(m===null)return void(g._pointerBeforeReference=!1)}if(y._previousSibling===null)y._parent!==null&&(g._reference=y._parent);else{for(var d=y._previousSibling,_=s.tree_getFirstDescendantNode(y._previousSibling,!0,!1);_!==null;)_!==null&&(d=_),_=s.tree_getNextDescendantNode(y._previousSibling,_,!0,!1);g._reference=d}}}function h(g,y,m,d,_){if(u.Guard.isSlot(g)&&y==="name"&&_===null){if(d===m||d===null&&m===""||d===""&&m===null)return;g._name=d===null||d===""?"":d,l.shadowTree_assignSlotablesForATree(s.tree_rootNode(g))}}function p(g,y,m,d,_){if(u.Guard.isSlotable(g)&&y==="slot"&&_===null){if(d===m||d===null&&m===""||d===""&&m===null)return;g._name=d===null||d===""?"":d,l.shadowTree_isAssigned(g)&&l.shadowTree_assignSlotables(g._assignedSlot),l.shadowTree_assignASlot(g)}}function v(g,y,m,d){y==="id"&&d===null&&(g._uniqueIdentifier=m||void 0)}n.dom_runRemovingSteps=function(g,y){},n.dom_runCloningSteps=function(g,y,m,d){},n.dom_runAdoptingSteps=function(g,y){},n.dom_runAttributeChangeSteps=function(g,y,m,d,_){var x,w;o.dom.features.slots&&(p.call(g,g,y,m,d,_),h.call(g,g,y,m,d,_)),v.call(g,g,y,d,_);try{for(var S=i(g._attributeChangeSteps),b=S.next();!b.done;b=S.next())b.value.call(g,g,y,m,d,_)}catch(T){x={error:T}}finally{try{b&&!b.done&&(w=S.return)&&w.call(S)}finally{if(x)throw x.error}}},n.dom_runInsertionSteps=function(g){},n.dom_runNodeIteratorPreRemovingSteps=function(g,y){c.call(g,g,y)},n.dom_hasSupportedTokens=function(g){return f.has(g)},n.dom_getSupportedTokens=function(g){return f.get(g)||new Set},n.dom_runEventConstructingSteps=function(g){},n.dom_runChildTextContentChangeSteps=function(g){}},function(r,n,a){var i=a(4),o=a(11),s=a(46),u=a(44),l=a(16),f=a(86),c=a(124),h=a(8),p=a(14),v=a(59),g=a(13),y=a(18),m=a(27),d=a(24),_=a(56),x=a(40),w=a(60),S=a(61),b=a(82),T=a(190),C=a(85),M=a(55),D=a(15),E=a(79),k=a(21),O=a(25),A=a(81),I=a(57),U=a(45),P=a(58),B=a(5),W=a(125),H=a(126),$=a(62),q=a(43),Q=a(36).forEach,Y=I("hidden"),ie=B("toPrimitive"),J=q.set,ae=q.getterFor("Symbol"),re=Object.prototype,V=o.Symbol,R=s("JSON","stringify"),F=M.f,N=D.f,L=T.f,G=E.f,z=A("symbols"),j=A("op-symbols"),K=A("string-to-symbol-registry"),Z=A("symbol-to-string-registry"),ne=A("wks"),ue=o.QObject,se=!ue||!ue.prototype||!ue.prototype.findChild,he=l&&h(function(){return w(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a!=7})?function(de,we,Se){var ke=F(re,we);ke&&delete re[we],N(de,we,Se),ke&&de!==re&&N(re,we,ke)}:N,le=function(de,we){var Se=z[de]=w(V.prototype);return J(Se,{type:"Symbol",tag:de,description:we}),l||(Se.description=we),Se},ce=c?function(de){return typeof de=="symbol"}:function(de){return Object(de)instanceof V},me=function(de,we,Se){de===re&&me(j,we,Se),y(de);var ke=_(we,!0);return y(Se),p(z,ke)?(Se.enumerable?(p(de,Y)&&de[Y][ke]&&(de[Y][ke]=!1),Se=w(Se,{enumerable:x(0,!1)})):(p(de,Y)||N(de,Y,x(1,{})),de[Y][ke]=!0),he(de,ke,Se)):N(de,ke,Se)},ee=function(de,we){y(de);var Se=d(we),ke=S(Se).concat(fe(Se));return Q(ke,function(Ve){l&&!_e.call(Se,Ve)||me(de,Ve,Se[Ve])}),de},_e=function(de){var we=_(de,!0),Se=G.call(this,we);return!(this===re&&p(z,we)&&!p(j,we))&&(!(Se||!p(this,we)||!p(z,we)||p(this,Y)&&this[Y][we])||Se)},Oe=function(de,we){var Se=d(de),ke=_(we,!0);if(Se!==re||!p(z,ke)||p(j,ke)){var Ve=F(Se,ke);return!Ve||!p(z,ke)||p(Se,Y)&&Se[Y][ke]||(Ve.enumerable=!0),Ve}},Ee=function(de){var we=L(d(de)),Se=[];return Q(we,function(ke){p(z,ke)||p(U,ke)||Se.push(ke)}),Se},fe=function(de){var we=de===re,Se=L(we?j:d(de)),ke=[];return Q(Se,function(Ve){!p(z,Ve)||we&&!p(re,Ve)||ke.push(z[Ve])}),ke};f||(O((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var de=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,we=P(de),Se=function(ke){this===re&&Se.call(j,ke),p(this,Y)&&p(this[Y],we)&&(this[Y][we]=!1),he(this,we,x(1,ke))};return l&&se&&he(re,we,{configurable:!0,set:Se}),le(we,de)}).prototype,"toString",function(){return ae(this).tag}),O(V,"withoutSetter",function(de){return le(P(de),de)}),E.f=_e,D.f=me,M.f=Oe,b.f=T.f=Ee,C.f=fe,W.f=function(de){return le(B(de),de)},l&&(N(V.prototype,"description",{configurable:!0,get:function(){return ae(this).description}}),u||O(re,"propertyIsEnumerable",_e,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:V}),Q(S(ne),function(de){H(de)}),i({target:"Symbol",stat:!0,forced:!f},{for:function(de){var we=String(de);if(p(K,we))return K[we];var Se=V(we);return K[we]=Se,Z[Se]=we,Se},keyFor:function(de){if(!ce(de))throw TypeError(de+" is not a symbol");if(p(Z,de))return Z[de]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(de,we){return we===void 0?w(de):ee(w(de),we)},defineProperty:me,defineProperties:ee,getOwnPropertyDescriptor:Oe}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ee,getOwnPropertySymbols:fe}),i({target:"Object",stat:!0,forced:h(function(){C.f(1)})},{getOwnPropertySymbols:function(de){return C.f(m(de))}}),R&&i({target:"JSON",stat:!0,forced:!f||h(function(){var de=V();return R([de])!="[null]"||R({a:de})!="{}"||R(Object(de))!="{}"})},{stringify:function(de,we,Se){for(var ke,Ve=[de],Fe=1;arguments.length>Fe;)Ve.push(arguments[Fe++]);if(ke=we,(g(we)||de!==void 0)&&!ce(de))return v(we)||(we=function(tt,Je){if(typeof ke=="function"&&(Je=ke.call(this,tt,Je)),!ce(Je))return Je}),Ve[1]=we,R.apply(null,Ve)}}),V.prototype[ie]||k(V.prototype,ie,V.prototype.valueOf),$(V,"Symbol"),U[Y]=!0},function(r,n,a){var i=a(4),o=a(16),s=a(11),u=a(14),l=a(13),f=a(15).f,c=a(119),h=s.Symbol;if(o&&typeof h=="function"&&(!("description"in h.prototype)||h().description!==void 0)){var p={},v=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof v?new h(_):_===void 0?h():h(_);return _===""&&(p[x]=!0),x};c(v,h);var g=v.prototype=h.prototype;g.constructor=v;var y=g.toString,m=String(h("test"))=="Symbol(test)",d=/^Symbol\((.*)\)[^)]+$/;f(g,"description",{configurable:!0,get:function(){var _=l(this)?this.valueOf():this,x=y.call(_);if(u(p,_))return"";var w=m?x.slice(7,-1):x.replace(d,"$1");return w===""?void 0:w}}),i({global:!0,forced:!0},{Symbol:v})}},function(r,n,a){a(126)("iterator")},function(r,n,a){var i,o=this&&this.__extends||(i=function(m,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var w in x)x.hasOwnProperty(w)&&(_[w]=x[w])})(m,d)},function(m,d){function _(){this.constructor=m}i(m,d),m.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),s=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&m[d],x=0;if(_)return _.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(6),l=a(2),f=a(70),c=a(3),h=a(9),p=a(0),v=a(152),g=a(12),y=function(m){function d(){var _=m.call(this)||this;return _._parent=null,_._firstChild=null,_._lastChild=null,_._previousSibling=null,_._nextSibling=null,_}return o(d,m),Object.defineProperty(d.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=p.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||u.dom.window._associatedDocument},set:function(_){this._nodeDocumentOverride=_},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeName",{get:function(){return c.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:c.Guard.isAttrNode(this)?this._qualifiedName:c.Guard.isExclusiveTextNode(this)?"#text":c.Guard.isCDATASectionNode(this)?"#cdata-section":c.Guard.isProcessingInstructionNode(this)?this._target:c.Guard.isCommentNode(this)?"#comment":c.Guard.isDocumentNode(this)?"#document":c.Guard.isDocumentTypeNode(this)?this._name:c.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"baseURI",{get:function(){return v.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isConnected",{get:function(){return c.Guard.isElementNode(this)&&p.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ownerDocument",{get:function(){return this._nodeType===l.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),d.prototype.getRootNode=function(_){return p.tree_rootNode(this,!!_&&_.composed)},Object.defineProperty(d.prototype,"parentNode",{get:function(){return this._nodeType===l.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"parentElement",{get:function(){return this._parent&&c.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),d.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(d.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeValue",{get:function(){return c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(_){_===null&&(_=""),c.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,_):c.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,this._data.length,_)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"textContent",{get:function(){return c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?p.text_descendantTextContent(this):c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(_){_===null&&(_=""),c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?p.node_stringReplaceAll(_,this):c.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,_):c.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,p.tree_nodeLength(this),_)},enumerable:!0,configurable:!0}),d.prototype.normalize=function(){for(var _,x,w,S,b=[],T=p.tree_getFirstDescendantNode(this,!1,!1,function(Q){return c.Guard.isExclusiveTextNode(Q)});T!==null;)b.push(T),T=p.tree_getNextDescendantNode(this,T,!1,!1,function(Q){return c.Guard.isExclusiveTextNode(Q)});for(var C=0;C<b.length;C++){var M=b[C];if(M._parent!==null){var D=p.tree_nodeLength(M);if(D!==0){var E=[],k="";try{for(var O=(_=void 0,s(p.text_contiguousExclusiveTextNodes(M))),A=O.next();!A.done;A=O.next()){var I=A.value;E.push(I),k+=I._data}}catch(Q){_={error:Q}}finally{try{A&&!A.done&&(x=O.return)&&x.call(O)}finally{if(_)throw _.error}}if(p.characterData_replaceData(M,D,0,k),u.dom.rangeList.size!==0)for(var U=M._nextSibling;U!==null&&c.Guard.isExclusiveTextNode(U);){var P=U,B=p.tree_index(P);try{for(var W=(w=void 0,s(u.dom.rangeList)),H=W.next();!H.done;H=W.next()){var $=H.value;$._start[0]===P&&($._start[0]=M,$._start[1]+=D),$._end[0]===P&&($._end[0]=M,$._end[1]+=D),$._start[0]===P._parent&&$._start[1]===B&&($._start[0]=M,$._start[1]=D),$._end[0]===P._parent&&$._end[1]===B&&($._end[0]=M,$._end[1]=D)}}catch(Q){w={error:Q}}finally{try{H&&!H.done&&(S=W.return)&&S.call(W)}finally{if(w)throw w.error}}D+=p.tree_nodeLength(U),U=U._nextSibling}for(var q=0;q<E.length;q++)(I=E[q])._parent!==null&&p.mutation_remove(I,I._parent)}else p.mutation_remove(M,M._parent)}}},d.prototype.cloneNode=function(_){if(_===void 0&&(_=!1),c.Guard.isShadowRoot(this))throw new h.NotSupportedError;return p.node_clone(this,null,_)},d.prototype.isEqualNode=function(_){return _===void 0&&(_=null),_!==null&&p.node_equals(this,_)},d.prototype.isSameNode=function(_){return _===void 0&&(_=null),this===_},d.prototype.compareDocumentPosition=function(_){if(_===this)return 0;var x=_,w=this,S=null,b=null;if(c.Guard.isAttrNode(x)&&(x=(S=x)._element),c.Guard.isAttrNode(w)&&(w=(b=w)._element,S&&x&&x===w))for(var T=0;T<w._attributeList.length;T++){var C=w._attributeList[T];if(p.node_equals(C,S))return l.Position.ImplementationSpecific|l.Position.Preceding;if(p.node_equals(C,b))return l.Position.ImplementationSpecific|l.Position.Following}return x===null||w===null||p.tree_rootNode(x)!==p.tree_rootNode(w)?l.Position.Disconnected|l.Position.ImplementationSpecific|(u.dom.compareCache.check(this,_)?l.Position.Preceding:l.Position.Following):!S&&p.tree_isAncestorOf(w,x)||b&&x===w?l.Position.Contains|l.Position.Preceding:!b&&p.tree_isDescendantOf(w,x)||S&&x===w?l.Position.ContainedBy|l.Position.Following:p.tree_isPreceding(w,x)?l.Position.Preceding:l.Position.Following},d.prototype.contains=function(_){return _!==null&&p.tree_isDescendantOf(this,_,!0)},d.prototype.lookupPrefix=function(_){return _?c.Guard.isElementNode(this)?p.node_locateANamespacePrefix(this,_):c.Guard.isDocumentNode(this)?this.documentElement===null?null:p.node_locateANamespacePrefix(this.documentElement,_):c.Guard.isDocumentTypeNode(this)||c.Guard.isDocumentFragmentNode(this)?null:c.Guard.isAttrNode(this)?this._element===null?null:p.node_locateANamespacePrefix(this._element,_):this._parent!==null&&c.Guard.isElementNode(this._parent)?p.node_locateANamespacePrefix(this._parent,_):null:null},d.prototype.lookupNamespaceURI=function(_){return p.node_locateANamespace(this,_||null)},d.prototype.isDefaultNamespace=function(_){return _||(_=null),p.node_locateANamespace(this,null)===_},d.prototype.insertBefore=function(_,x){return p.mutation_preInsert(_,this,x)},d.prototype.appendChild=function(_){return p.mutation_append(_,this)},d.prototype.replaceChild=function(_,x){return p.mutation_replace(x,_,this)},d.prototype.removeChild=function(_){return p.mutation_preRemove(_,this)},d.prototype._getTheParent=function(_){return c.Guard.isSlotable(this)&&p.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},d.ELEMENT_NODE=1,d.ATTRIBUTE_NODE=2,d.TEXT_NODE=3,d.CDATA_SECTION_NODE=4,d.ENTITY_REFERENCE_NODE=5,d.ENTITY_NODE=6,d.PROCESSING_INSTRUCTION_NODE=7,d.COMMENT_NODE=8,d.DOCUMENT_NODE=9,d.DOCUMENT_TYPE_NODE=10,d.DOCUMENT_FRAGMENT_NODE=11,d.NOTATION_NODE=12,d.DOCUMENT_POSITION_DISCONNECTED=1,d.DOCUMENT_POSITION_PRECEDING=2,d.DOCUMENT_POSITION_FOLLOWING=4,d.DOCUMENT_POSITION_CONTAINS=8,d.DOCUMENT_POSITION_CONTAINED_BY=16,d.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,d}(f.EventTargetImpl);n.NodeImpl=y,y.prototype._children=new c.EmptySet,g.idl_defineConst(y.prototype,"ELEMENT_NODE",1),g.idl_defineConst(y.prototype,"ATTRIBUTE_NODE",2),g.idl_defineConst(y.prototype,"TEXT_NODE",3),g.idl_defineConst(y.prototype,"CDATA_SECTION_NODE",4),g.idl_defineConst(y.prototype,"ENTITY_REFERENCE_NODE",5),g.idl_defineConst(y.prototype,"ENTITY_NODE",6),g.idl_defineConst(y.prototype,"PROCESSING_INSTRUCTION_NODE",7),g.idl_defineConst(y.prototype,"COMMENT_NODE",8),g.idl_defineConst(y.prototype,"DOCUMENT_NODE",9),g.idl_defineConst(y.prototype,"DOCUMENT_TYPE_NODE",10),g.idl_defineConst(y.prototype,"DOCUMENT_FRAGMENT_NODE",11),g.idl_defineConst(y.prototype,"NOTATION_NODE",12),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_PRECEDING",2),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_FOLLOWING",4),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINS",8),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),g.idl_defineConst(y.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(r,n){r.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(r,n,a){var i=a(87),o=a(41),s=a(27),u=a(26),l=a(128),f=[].push,c=function(h){var p=h==1,v=h==2,g=h==3,y=h==4,m=h==6,d=h==5||m;return function(_,x,w,S){for(var b,T,C=s(_),M=o(C),D=i(x,w,3),E=u(M.length),k=0,O=S||l,A=p?O(_,E):v?O(_,0):void 0;E>k;k++)if((d||k in M)&&(T=D(b=M[k],k,C),h)){if(p)A[k]=T;else if(T)switch(h){case 3:return!0;case 5:return b;case 6:return k;case 2:f.call(A,b)}else if(y)return!1}return m?-1:g||y?y:A}};r.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(r,n,a){var i=this&&this.__values||function(C){var M=typeof Symbol=="function"&&Symbol.iterator,D=M&&C[M],E=0;if(D)return D.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&E>=C.length&&(C=void 0),{value:C&&C[E++],done:!C}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(C,M){var D=typeof Symbol=="function"&&C[Symbol.iterator];if(!D)return C;var E,k,O=D.call(C),A=[];try{for(;(M===void 0||M-- >0)&&!(E=O.next()).done;)A.push(E.value)}catch(I){k={error:I}}finally{try{E&&!E.done&&(D=O.return)&&D.call(O)}finally{if(k)throw k.error}}return A},s=this&&this.__spread||function(){for(var C=[],M=0;M<arguments.length;M++)C=C.concat(o(arguments[M]));return C};Object.defineProperty(n,"__esModule",{value:!0});var u=a(6),l=a(9),f=a(2),c=a(3),h=a(1),p=a(7),v=a(73),g=a(17),y=a(172),m=a(72),d=a(51),_=a(30),x=a(106);function w(C,M,D){var E,k,O,A,I,U,P,B,W=M._nodeType,H=C._nodeType,$=D?D._nodeType:null;if(W!==f.NodeType.Document&&W!==f.NodeType.DocumentFragment&&W!==f.NodeType.Element)throw new l.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+M.nodeName+".");if(g.tree_isHostIncludingAncestorOf(M,C,!0))throw new l.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+C.nodeName+", parent node is "+M.nodeName+".");if(D!==null&&D._parent!==M)throw new l.NotFoundError("The reference child node cannot be found under parent node. Child node is "+D.nodeName+", parent node is "+M.nodeName+".");if(H!==f.NodeType.DocumentFragment&&H!==f.NodeType.DocumentType&&H!==f.NodeType.Element&&H!==f.NodeType.Text&&H!==f.NodeType.ProcessingInstruction&&H!==f.NodeType.CData&&H!==f.NodeType.Comment)throw new l.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+C.nodeName+".");if(H===f.NodeType.Text&&W===f.NodeType.Document)throw new l.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+C.nodeName+".");if(H===f.NodeType.DocumentType&&W!==f.NodeType.Document)throw new l.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+M.nodeName+".");if(W===f.NodeType.Document){if(H===f.NodeType.DocumentFragment){var q=0;try{for(var Q=i(C._children),Y=Q.next();!Y.done;Y=Q.next()){var ie=Y.value;if(ie._nodeType===f.NodeType.Element)q++;else if(ie._nodeType===f.NodeType.Text)throw new l.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ie.nodeName+".")}}catch(G){E={error:G}}finally{try{Y&&!Y.done&&(k=Q.return)&&k.call(Q)}finally{if(E)throw E.error}}if(q>1)throw new l.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+q+" element nodes.");if(q===1){try{for(var J=i(M._children),ae=J.next();!ae.done;ae=J.next())if(ae.value._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("The document node already has a document element node.")}catch(G){O={error:G}}finally{try{ae&&!ae.done&&(A=J.return)&&A.call(J)}finally{if(O)throw O.error}}if(D){if($===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var re=D._nextSibling;re;){if(re._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");re=re._nextSibling}}}}else if(H===f.NodeType.Element){try{for(var V=i(M._children),R=V.next();!R.done;R=V.next())if(R.value._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Document already has a document element node. Node is "+C.nodeName+".")}catch(G){I={error:G}}finally{try{R&&!R.done&&(U=V.return)&&U.call(V)}finally{if(I)throw I.error}}if(D){if($===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+C.nodeName+".");for(re=D._nextSibling;re;){if(re._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+C.nodeName+".");re=re._nextSibling}}}else if(H===f.NodeType.DocumentType){try{for(var F=i(M._children),N=F.next();!N.done;N=F.next())if(N.value._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Document already has a document type node. Node is "+C.nodeName+".")}catch(G){P={error:G}}finally{try{N&&!N.done&&(B=F.return)&&B.call(F)}finally{if(P)throw P.error}}if(D)for(var L=D._previousSibling;L;){if(L._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+C.nodeName+".");L=L._previousSibling}else for(L=M._firstChild;L;){if(L._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+C.nodeName+".");L=L._nextSibling}}}}function S(C,M,D){w(C,M,D);var E=D;return E===C&&(E=C._nextSibling),x.document_adopt(C,M._nodeDocument),b(C,M,E),C}function b(C,M,D,E){var k,O;if(D!==null||C._nodeType===f.NodeType.DocumentFragment){var A=C._nodeType===f.NodeType.DocumentFragment?C._children.size:1;if(D!==null&&u.dom.rangeList.size!==0){var I=g.tree_index(D);try{for(var U=i(u.dom.rangeList),P=U.next();!P.done;P=U.next()){var B=P.value;B._start[0]===M&&B._start[1]>I&&(B._start[1]+=A),B._end[0]===M&&B._end[1]>I&&(B._end[1]+=A)}}catch(ae){k={error:ae}}finally{try{P&&!P.done&&(O=U.return)&&O.call(U)}finally{if(k)throw k.error}}}var W=C._nodeType===f.NodeType.DocumentFragment?new(Array.bind.apply(Array,s([void 0],C._children))):[C];if(C._nodeType===f.NodeType.DocumentFragment)for(;C._firstChild;)T(C._firstChild,C,!0);u.dom.features.mutationObservers&&C._nodeType===f.NodeType.DocumentFragment&&d.observer_queueTreeMutationRecord(C,[],W,null,null);for(var H=D?D._previousSibling:M._lastChild,$=D===null?-1:g.tree_index(D),q=0;q<W.length;q++){var Q=W[q];if(c.Guard.isElementNode(Q)&&(c.Guard.isDocumentNode(M)&&(M._documentElement=Q),Q._nodeDocument._hasNamespaces||Q._namespace===null&&Q._namespacePrefix===null||(Q._nodeDocument._hasNamespaces=!0)),Q._parent=M,D===null?p.set.append(M._children,Q):(p.set.insert(M._children,Q,$),$++),M._firstChild===null)Q._previousSibling=null,Q._nextSibling=null,M._firstChild=Q,M._lastChild=Q;else{var Y=D?D._previousSibling:M._lastChild,ie=D||null;Q._previousSibling=Y,Q._nextSibling=ie,Y&&(Y._nextSibling=Q),ie&&(ie._previousSibling=Q),Y||(M._firstChild=Q),ie||(M._lastChild=Q)}u.dom.features.slots&&M._shadowRoot!==null&&c.Guard.isSlotable(Q)&&m.shadowTree_assignASlot(Q),u.dom.features.steps&&c.Guard.isTextNode(Q)&&_.dom_runChildTextContentChangeSteps(M),u.dom.features.slots&&c.Guard.isShadowRoot(g.tree_rootNode(M))&&c.Guard.isSlot(M)&&h.isEmpty(M._assignedNodes)&&m.shadowTree_signalASlotChange(M),u.dom.features.slots&&m.shadowTree_assignSlotablesForATree(g.tree_rootNode(Q));for(var J=g.tree_getFirstDescendantNode(Q,!0,!0);J!==null;)u.dom.features.steps&&_.dom_runInsertionSteps(J),u.dom.features.customElements&&c.Guard.isElementNode(J)&&m.shadowTree_isConnected(J)&&(c.Guard.isCustomElementNode(J)?v.customElement_enqueueACustomElementCallbackReaction(J,"connectedCallback",[]):v.customElement_tryToUpgrade(J)),J=g.tree_getNextDescendantNode(Q,J,!0,!0)}u.dom.features.mutationObservers&&(E||d.observer_queueTreeMutationRecord(M,W,[],H,D))}else(function(ae,re,V){var R=re._lastChild;if(c.Guard.isElementNode(ae)&&(c.Guard.isDocumentNode(re)&&(re._documentElement=ae),ae._nodeDocument._hasNamespaces||ae._namespace===null&&ae._namespacePrefix===null||(ae._nodeDocument._hasNamespaces=!0)),ae._parent=re,re._children.add(ae),re._firstChild===null)ae._previousSibling=null,ae._nextSibling=null,re._firstChild=ae,re._lastChild=ae;else{var F=re._lastChild;ae._previousSibling=F,ae._nextSibling=null,F&&(F._nextSibling=ae),F||(re._firstChild=ae),re._lastChild=ae}u.dom.features.slots&&re._shadowRoot!==null&&c.Guard.isSlotable(ae)&&m.shadowTree_assignASlot(ae),u.dom.features.steps&&c.Guard.isTextNode(ae)&&_.dom_runChildTextContentChangeSteps(re),u.dom.features.slots&&c.Guard.isShadowRoot(g.tree_rootNode(re))&&c.Guard.isSlot(re)&&h.isEmpty(re._assignedNodes)&&m.shadowTree_signalASlotChange(re),u.dom.features.slots&&m.shadowTree_assignSlotablesForATree(g.tree_rootNode(ae)),u.dom.features.steps&&_.dom_runInsertionSteps(ae),u.dom.features.customElements&&c.Guard.isElementNode(ae)&&m.shadowTree_isConnected(ae)&&(c.Guard.isCustomElementNode(ae)?v.customElement_enqueueACustomElementCallbackReaction(ae,"connectedCallback",[]):v.customElement_tryToUpgrade(ae)),u.dom.features.mutationObservers&&(V||d.observer_queueTreeMutationRecord(re,[ae],[],R,null))})(C,M,E)}function T(C,M,D){var E,k,O,A,I,U,P,B;if(u.dom.rangeList.size!==0){var W=g.tree_index(C);try{for(var H=i(u.dom.rangeList),$=H.next();!$.done;$=H.next()){var q=$.value;g.tree_isDescendantOf(C,q._start[0],!0)&&(q._start=[M,W]),g.tree_isDescendantOf(C,q._end[0],!0)&&(q._end=[M,W]),q._start[0]===M&&q._start[1]>W&&q._start[1]--,q._end[0]===M&&q._end[1]>W&&q._end[1]--}}catch(K){E={error:K}}finally{try{$&&!$.done&&(k=H.return)&&k.call(H)}finally{if(E)throw E.error}}try{for(var Q=i(u.dom.rangeList),Y=Q.next();!Y.done;Y=Q.next())(q=Y.value)._start[0]===M&&q._start[1]>W&&(q._start[1]-=1),q._end[0]===M&&q._end[1]>W&&(q._end[1]-=1)}catch(K){O={error:K}}finally{try{Y&&!Y.done&&(A=Q.return)&&A.call(Q)}finally{if(O)throw O.error}}}if(u.dom.features.steps)try{for(var ie=i(y.nodeIterator_iteratorList()),J=ie.next();!J.done;J=ie.next()){var ae=J.value;ae._root._nodeDocument===C._nodeDocument&&_.dom_runNodeIteratorPreRemovingSteps(ae,C)}}catch(K){I={error:K}}finally{try{J&&!J.done&&(U=ie.return)&&U.call(ie)}finally{if(I)throw I.error}}var re=C._previousSibling,V=C._nextSibling;c.Guard.isDocumentNode(M)&&c.Guard.isElementNode(C)&&(M._documentElement=null),C._parent=null,M._children.delete(C);var R=C._previousSibling,F=C._nextSibling;C._previousSibling=null,C._nextSibling=null,R&&(R._nextSibling=F),F&&(F._previousSibling=R),R||(M._firstChild=F),F||(M._lastChild=R),u.dom.features.slots&&c.Guard.isSlotable(C)&&C._assignedSlot!==null&&m.shadowTree_isAssigned(C)&&m.shadowTree_assignSlotables(C._assignedSlot),u.dom.features.slots&&c.Guard.isShadowRoot(g.tree_rootNode(M))&&c.Guard.isSlot(M)&&h.isEmpty(M._assignedNodes)&&m.shadowTree_signalASlotChange(M),u.dom.features.slots&&g.tree_getFirstDescendantNode(C,!0,!1,function(K){return c.Guard.isSlot(K)})!==null&&(m.shadowTree_assignSlotablesForATree(g.tree_rootNode(M)),m.shadowTree_assignSlotablesForATree(C)),u.dom.features.steps&&_.dom_runRemovingSteps(C,M),u.dom.features.customElements&&c.Guard.isCustomElementNode(C)&&v.customElement_enqueueACustomElementCallbackReaction(C,"disconnectedCallback",[]);for(var N=g.tree_getFirstDescendantNode(C,!1,!0);N!==null;)u.dom.features.steps&&_.dom_runRemovingSteps(N,C),u.dom.features.customElements&&c.Guard.isCustomElementNode(N)&&v.customElement_enqueueACustomElementCallbackReaction(N,"disconnectedCallback",[]),N=g.tree_getNextDescendantNode(C,N,!1,!0);if(u.dom.features.mutationObservers)for(var L=g.tree_getFirstAncestorNode(M,!0);L!==null;){try{for(var G=(P=void 0,i(L._registeredObserverList)),z=G.next();!z.done;z=G.next()){var j=z.value;j.options.subtree&&C._registeredObserverList.push({observer:j.observer,options:j.options,source:j})}}catch(K){P={error:K}}finally{try{z&&!z.done&&(B=G.return)&&B.call(G)}finally{if(P)throw P.error}}L=g.tree_getNextAncestorNode(M,L,!0)}u.dom.features.mutationObservers&&(D||d.observer_queueTreeMutationRecord(M,[],[C],re,V)),u.dom.features.steps&&c.Guard.isTextNode(C)&&_.dom_runChildTextContentChangeSteps(M)}n.mutation_ensurePreInsertionValidity=w,n.mutation_preInsert=S,n.mutation_insert=b,n.mutation_append=function(C,M){return S(C,M,null)},n.mutation_replace=function(C,M,D){var E,k,O,A,I,U,P,B;if(D._nodeType!==f.NodeType.Document&&D._nodeType!==f.NodeType.DocumentFragment&&D._nodeType!==f.NodeType.Element)throw new l.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+D.nodeName+".");if(g.tree_isHostIncludingAncestorOf(D,M,!0))throw new l.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+M.nodeName+", parent node is "+D.nodeName+".");if(C._parent!==D)throw new l.NotFoundError("The reference child node cannot be found under parent node. Child node is "+C.nodeName+", parent node is "+D.nodeName+".");if(M._nodeType!==f.NodeType.DocumentFragment&&M._nodeType!==f.NodeType.DocumentType&&M._nodeType!==f.NodeType.Element&&M._nodeType!==f.NodeType.Text&&M._nodeType!==f.NodeType.ProcessingInstruction&&M._nodeType!==f.NodeType.CData&&M._nodeType!==f.NodeType.Comment)throw new l.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+M.nodeName+".");if(M._nodeType===f.NodeType.Text&&D._nodeType===f.NodeType.Document)throw new l.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+M.nodeName+".");if(M._nodeType===f.NodeType.DocumentType&&D._nodeType!==f.NodeType.Document)throw new l.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+D.nodeName+".");if(D._nodeType===f.NodeType.Document){if(M._nodeType===f.NodeType.DocumentFragment){var W=0;try{for(var H=i(M._children),$=H.next();!$.done;$=H.next()){var q=$.value;if(q._nodeType===f.NodeType.Element)W++;else if(q._nodeType===f.NodeType.Text)throw new l.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+q.nodeName+".")}}catch(j){E={error:j}}finally{try{$&&!$.done&&(k=H.return)&&k.call(H)}finally{if(E)throw E.error}}if(W>1)throw new l.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+W+" element nodes.");if(W===1){try{for(var Q=i(D._children),Y=Q.next();!Y.done;Y=Q.next())if((R=Y.value)._nodeType===f.NodeType.Element&&R!==C)throw new l.HierarchyRequestError("The document node already has a document element node.")}catch(j){O={error:j}}finally{try{Y&&!Y.done&&(A=Q.return)&&A.call(Q)}finally{if(O)throw O.error}}for(var ie=C._nextSibling;ie;){if(ie._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");ie=ie._nextSibling}}}else if(M._nodeType===f.NodeType.Element){try{for(var J=i(D._children),ae=J.next();!ae.done;ae=J.next())if((R=ae.value)._nodeType===f.NodeType.Element&&R!==C)throw new l.HierarchyRequestError("Document already has a document element node. Node is "+M.nodeName+".")}catch(j){I={error:j}}finally{try{ae&&!ae.done&&(U=J.return)&&U.call(J)}finally{if(I)throw I.error}}for(ie=C._nextSibling;ie;){if(ie._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+M.nodeName+".");ie=ie._nextSibling}}else if(M._nodeType===f.NodeType.DocumentType){try{for(var re=i(D._children),V=re.next();!V.done;V=re.next()){var R;if((R=V.value)._nodeType===f.NodeType.DocumentType&&R!==C)throw new l.HierarchyRequestError("Document already has a document type node. Node is "+M.nodeName+".")}}catch(j){P={error:j}}finally{try{V&&!V.done&&(B=re.return)&&B.call(re)}finally{if(P)throw P.error}}for(var F=C._previousSibling;F;){if(F._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+M.nodeName+".");F=F._previousSibling}}}var N=C._nextSibling;N===M&&(N=M._nextSibling);var L=C._previousSibling;x.document_adopt(M,D._nodeDocument);var G=[];C._parent!==null&&(G.push(C),T(C,C._parent,!0));var z=[];return M._nodeType===f.NodeType.DocumentFragment?z=Array.from(M._children):z.push(M),b(M,D,N,!0),u.dom.features.mutationObservers&&d.observer_queueTreeMutationRecord(D,z,G,L,N),C},n.mutation_replaceAll=function(C,M){var D,E;C!==null&&x.document_adopt(C,M._nodeDocument);var k=Array.from(M._children),O=[];C&&C._nodeType===f.NodeType.DocumentFragment?O=Array.from(C._children):C!==null&&O.push(C);try{for(var A=i(k),I=A.next();!I.done;I=A.next())T(I.value,M,!0)}catch(U){D={error:U}}finally{try{I&&!I.done&&(E=A.return)&&E.call(A)}finally{if(D)throw D.error}}C!==null&&b(C,M,null,!0),u.dom.features.mutationObservers&&d.observer_queueTreeMutationRecord(M,O,k,null,null)},n.mutation_preRemove=function(C,M){if(C._parent!==M)throw new l.NotFoundError("The child node cannot be found under parent node. Child node is "+C.nodeName+", parent node is "+M.nodeName+".");return T(C,M),C},n.mutation_remove=T},function(r,n,a){function i(o){return o==null}r.exports.isNothing=i,r.exports.isObject=function(o){return typeof o=="object"&&o!==null},r.exports.toArray=function(o){return Array.isArray(o)?o:i(o)?[]:[o]},r.exports.repeat=function(o,s){var u,l="";for(u=0;u<s;u+=1)l+=o;return l},r.exports.isNegativeZero=function(o){return o===0&&Number.NEGATIVE_INFINITY===1/o},r.exports.extend=function(o,s){var u,l,f,c;if(s)for(u=0,l=(c=Object.keys(s)).length;u<l;u+=1)o[f=c[u]]=s[f];return o}},function(r,n,a){var i=a(38),o=a(53),s=a(10);function u(f,c,h){var p=[];return f.include.forEach(function(v){h=u(v,c,h)}),f[c].forEach(function(v){h.forEach(function(g,y){g.tag===v.tag&&g.kind===v.kind&&p.push(y)}),h.push(v)}),h.filter(function(v,g){return p.indexOf(g)===-1})}function l(f){this.include=f.include||[],this.implicit=f.implicit||[],this.explicit=f.explicit||[],this.implicit.forEach(function(c){if(c.loadKind&&c.loadKind!=="scalar")throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=u(this,"implicit",[]),this.compiledExplicit=u(this,"explicit",[]),this.compiledTypeMap=function(){var c,h,p={scalar:{},sequence:{},mapping:{},fallback:{}};function v(g){p[g.kind][g.tag]=p.fallback[g.tag]=g}for(c=0,h=arguments.length;c<h;c+=1)arguments[c].forEach(v);return p}(this.compiledImplicit,this.compiledExplicit)}l.DEFAULT=null,l.create=function(){var f,c;switch(arguments.length){case 1:f=l.DEFAULT,c=arguments[0];break;case 2:f=arguments[0],c=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(f=i.toArray(f),c=i.toArray(c),!f.every(function(h){return h instanceof l}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!c.every(function(h){return h instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new l({include:f,explicit:c})},r.exports=l},function(r,n){r.exports=function(a,i){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:i}}},function(r,n,a){var i=a(8),o=a(42),s="".split;r.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return o(u)=="String"?s.call(u,""):Object(u)}:Object},function(r,n){var a={}.toString;r.exports=function(i){return a.call(i).slice(8,-1)}},function(r,n,a){var i,o,s,u=a(186),l=a(11),f=a(13),c=a(21),h=a(14),p=a(57),v=a(45),g=l.WeakMap;if(u){var y=new g,m=y.get,d=y.has,_=y.set;i=function(w,S){return _.call(y,w,S),S},o=function(w){return m.call(y,w)||{}},s=function(w){return d.call(y,w)}}else{var x=p("state");v[x]=!0,i=function(w,S){return c(w,x,S),S},o=function(w){return h(w,x)?w[x]:{}},s=function(w){return h(w,x)}}r.exports={set:i,get:o,has:s,enforce:function(w){return s(w)?o(w):i(w,{})},getterFor:function(w){return function(S){var b;if(!f(S)||(b=o(S)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return b}}}},function(r,n){r.exports=!1},function(r,n){r.exports={}},function(r,n,a){var i=a(120),o=a(11),s=function(u){return typeof u=="function"?u:void 0};r.exports=function(u,l){return arguments.length<2?s(i[u])||s(o[u]):i[u]&&i[u][l]||o[u]&&o[u][l]}},function(r,n){var a=Math.ceil,i=Math.floor;r.exports=function(o){return isNaN(o=+o)?0:(o>0?i:a)(o)}},function(r,n,a){var i=a(8);r.exports=function(o,s){var u=[][o];return!!u&&i(function(){u.call(null,s||function(){throw 1},1)})}},function(r,n){r.exports={}},function(r,n,a){a(31),a(32),a(33),a(220),a(64),a(19),a(65),a(20),a(68),a(66),a(92),a(144),a(22),a(94),a(23);var i=this&&this.__values||function(v){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&v[g],m=0;if(y)return y.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(v,g){var y=typeof Symbol=="function"&&v[Symbol.iterator];if(!y)return v;var m,d,_=y.call(v),x=[];try{for(;(g===void 0||g-- >0)&&!(m=_.next()).done;)x.push(m.value)}catch(w){d={error:w}}finally{try{m&&!m.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}return x},s=this&&this.__spread||function(){for(var v=[],g=0;g<arguments.length;g++)v=v.concat(o(arguments[g]));return v};Object.defineProperty(n,"__esModule",{value:!0});var u=a(2),l=a(69),f=a(95),c=a(7),h=a(0),p=function(){function v(g){this.level=0,this._builderOptions=g}return v.prototype.declaration=function(g,y,m){},v.prototype.docType=function(g,y,m){},v.prototype.comment=function(g){},v.prototype.text=function(g){},v.prototype.instruction=function(g,y){},v.prototype.cdata=function(g){},v.prototype.openTagBegin=function(g){},v.prototype.openTagEnd=function(g,y,m){},v.prototype.closeTag=function(g){},v.prototype.attributes=function(g){var y,m;try{for(var d=i(g),_=d.next();!_.done;_=d.next()){var x=_.value;this.attribute(x[1]===null?x[2]:x[1]+":"+x[2],x[3])}}catch(w){y={error:w}}finally{try{_&&!_.done&&(m=d.return)&&m.call(d)}finally{if(y)throw y.error}}},v.prototype.attribute=function(g,y){},v.prototype.beginElement=function(g){},v.prototype.endElement=function(g){},v.prototype.serializeNode=function(g,y){var m=g._nodeDocument!==void 0&&g._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=g,m){var d=new f.NamespacePrefixMap;d.set("xml",c.namespace.XML),this._serializeNodeNS(g,null,d,{value:1},y)}else this._serializeNode(g,y)},v.prototype._serializeNodeNS=function(g,y,m,d,_){switch(this.currentNode=g,g.nodeType){case u.NodeType.Element:this._serializeElementNS(g,y,m,d,_);break;case u.NodeType.Document:this._serializeDocumentNS(g,y,m,d,_);break;case u.NodeType.Comment:this._serializeComment(g,_);break;case u.NodeType.Text:this._serializeText(g,_);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(g,y,m,d,_);break;case u.NodeType.DocumentType:this._serializeDocumentType(g,_);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(g,_);break;case u.NodeType.CData:this._serializeCData(g,_);break;default:throw new Error("Unknown node type: "+g.nodeType)}},v.prototype._serializeNode=function(g,y){switch(this.currentNode=g,g.nodeType){case u.NodeType.Element:this._serializeElement(g,y);break;case u.NodeType.Document:this._serializeDocument(g,y);break;case u.NodeType.Comment:this._serializeComment(g,y);break;case u.NodeType.Text:this._serializeText(g,y);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragment(g,y);break;case u.NodeType.DocumentType:this._serializeDocumentType(g,y);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(g,y);break;case u.NodeType.CData:this._serializeCData(g,y);break;default:throw new Error("Unknown node type: "+g.nodeType)}},v.prototype._serializeElementNS=function(g,y,m,d,_){var x,w,S=[];if(_&&(g.localName.indexOf(":")!==-1||!h.xml_isName(g.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var b="",T=!1,C=!1,M=m.copy(),D={},E=this._recordNamespaceInformation(g,M,D),k=y,O=g.namespaceURI;if(k===O)E!==null&&(C=!0),b=O===c.namespace.XML?"xml:"+g.localName:g.localName,this.beginElement(b),this.openTagBegin(b);else{var A=g.prefix,I=null;if(A===null&&O===E||(I=M.get(A,O)),A==="xmlns"){if(_)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");I=A}I!==null?(b=I+":"+g.localName,E!==null&&E!==c.namespace.XML&&(k=E||null),this.beginElement(b),this.openTagBegin(b)):A!==null?(A in D&&(A=this._generatePrefix(O,M,d)),M.set(A,O),b+=A+":"+g.localName,this.beginElement(b),this.openTagBegin(b),S.push([null,"xmlns",A,this._serializeAttributeValue(O,_)]),E!==null&&(k=E||null)):E===null||E!==null&&E!==O?(C=!0,b+=g.localName,k=O,this.beginElement(b),this.openTagBegin(b),S.push([null,null,"xmlns",this._serializeAttributeValue(O,_)])):(b+=g.localName,k=O,this.beginElement(b),this.openTagBegin(b))}S.push.apply(S,s(this._serializeAttributesNS(g,M,d,D,C,_))),this.attributes(S);var U=O===c.namespace.HTML;if(U&&g.childNodes.length===0&&v._VoidElementNames.has(g.localName)?(this.openTagEnd(b,!0,!0),this.endElement(b),T=!0):U||g.childNodes.length!==0?this.openTagEnd(b,!1,!1):(this.openTagEnd(b,!0,!1),this.endElement(b),T=!0),!T){if(!(U&&g.localName==="template"))try{for(var P=i(g.childNodes),B=P.next();!B.done;B=P.next()){var W=B.value;this.level++,this._serializeNodeNS(W,k,M,d,_),this.level--}}catch(H){x={error:H}}finally{try{B&&!B.done&&(w=P.return)&&w.call(P)}finally{if(x)throw x.error}}this.closeTag(b),this.endElement(b)}},v.prototype._serializeElement=function(g,y){var m,d;if(y&&(g.localName.indexOf(":")!==-1||!h.xml_isName(g.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var _=!1,x=g.localName;this.beginElement(x),this.openTagBegin(x);var w=this._serializeAttributes(g,y);if(this.attributes(w),g.hasChildNodes()?this.openTagEnd(x,!1,!1):(this.openTagEnd(x,!0,!1),this.endElement(x),_=!0),!_){try{for(var S=i(g._children),b=S.next();!b.done;b=S.next()){var T=b.value;this.level++,this._serializeNode(T,y),this.level--}}catch(C){m={error:C}}finally{try{b&&!b.done&&(d=S.return)&&d.call(S)}finally{if(m)throw m.error}}this.closeTag(x),this.endElement(x)}},v.prototype._serializeDocumentNS=function(g,y,m,d,_){var x,w;if(_&&g.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var S=i(g.childNodes),b=S.next();!b.done;b=S.next()){var T=b.value;this._serializeNodeNS(T,y,m,d,_)}}catch(C){x={error:C}}finally{try{b&&!b.done&&(w=S.return)&&w.call(S)}finally{if(x)throw x.error}}},v.prototype._serializeDocument=function(g,y){var m,d;if(y&&g.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var _=i(g._children),x=_.next();!x.done;x=_.next()){var w=x.value;this._serializeNode(w,y)}}catch(S){m={error:S}}finally{try{x&&!x.done&&(d=_.return)&&d.call(_)}finally{if(m)throw m.error}}},v.prototype._serializeComment=function(g,y){if(y&&(!h.xml_isLegalChar(g.data)||g.data.indexOf("--")!==-1||g.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(g.data)},v.prototype._serializeText=function(g,y){if(y&&!h.xml_isLegalChar(g.data))throw new Error("Text data contains invalid characters (well-formed required).");var m=g.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(m)},v.prototype._serializeDocumentFragmentNS=function(g,y,m,d,_){var x,w;try{for(var S=i(g.childNodes),b=S.next();!b.done;b=S.next()){var T=b.value;this._serializeNodeNS(T,y,m,d,_)}}catch(C){x={error:C}}finally{try{b&&!b.done&&(w=S.return)&&w.call(S)}finally{if(x)throw x.error}}},v.prototype._serializeDocumentFragment=function(g,y){var m,d;try{for(var _=i(g._children),x=_.next();!x.done;x=_.next()){var w=x.value;this._serializeNode(w,y)}}catch(S){m={error:S}}finally{try{x&&!x.done&&(d=_.return)&&d.call(_)}finally{if(m)throw m.error}}},v.prototype._serializeDocumentType=function(g,y){if(y&&!h.xml_isPubidChar(g.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!h.xml_isLegalChar(g.systemId)||g.systemId.indexOf('"')!==-1&&g.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(g.name,g.publicId,g.systemId)},v.prototype._serializeProcessingInstruction=function(g,y){if(y&&(g.target.indexOf(":")!==-1||/^xml$/i.test(g.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!h.xml_isLegalChar(g.data)||g.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(g.target,g.data)},v.prototype._serializeCData=function(g,y){if(y&&g.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(g.data)},v.prototype._serializeAttributesNS=function(g,y,m,d,_,x){var w,S,b=[],T=x?new l.LocalNameSet:void 0;try{for(var C=i(g.attributes),M=C.next();!M.done;M=C.next()){var D=M.value;if(x||_||D.namespaceURI!==null){if(x&&T&&T.has(D.namespaceURI,D.localName))throw new Error("Element contains duplicate attributes (well-formed required).");x&&T&&T.set(D.namespaceURI,D.localName);var E=D.namespaceURI,k=null;if(E!==null)if(k=y.get(D.prefix,E),E===c.namespace.XMLNS){if(D.value===c.namespace.XML||D.prefix===null&&_||D.prefix!==null&&(!(D.localName in d)||d[D.localName]!==D.value)&&y.has(D.localName,D.value))continue;if(x&&D.value===c.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(x&&D.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");D.prefix==="xmlns"&&(k="xmlns")}else k===null&&(k=D.prefix===null||y.hasPrefix(D.prefix)&&!y.has(D.prefix,E)?this._generatePrefix(E,y,m):D.prefix,b.push([null,"xmlns",k,this._serializeAttributeValue(E,x)]));if(x&&(D.localName.indexOf(":")!==-1||!h.xml_isName(D.localName)||D.localName==="xmlns"&&E===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");b.push([E,k,D.localName,this._serializeAttributeValue(D.value,x)])}else b.push([null,null,D.localName,this._serializeAttributeValue(D.value,x)])}}catch(O){w={error:O}}finally{try{M&&!M.done&&(S=C.return)&&S.call(C)}finally{if(w)throw w.error}}return b},v.prototype._serializeAttributes=function(g,y){var m,d,_=[],x=y?{}:void 0;try{for(var w=i(g.attributes),S=w.next();!S.done;S=w.next()){var b=S.value;if(y){if(y&&x&&b.localName in x)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&x&&(x[b.localName]=!0),y&&(b.localName.indexOf(":")!==-1||!h.xml_isName(b.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");_.push([null,null,b.localName,this._serializeAttributeValue(b.value,y)])}else _.push([null,null,b.localName,this._serializeAttributeValue(b.value,y)])}}catch(T){m={error:T}}finally{try{S&&!S.done&&(d=w.return)&&d.call(w)}finally{if(m)throw m.error}}return _},v.prototype._recordNamespaceInformation=function(g,y,m){var d,_,x=null;try{for(var w=i(g.attributes),S=w.next();!S.done;S=w.next()){var b=S.value,T=b.namespaceURI,C=b.prefix;if(T===c.namespace.XMLNS){if(C===null){x=b.value;continue}var M=b.localName,D=b.value;if(D===c.namespace.XML||(D===""&&(D=null),y.has(M,D)))continue;y.set(M,D),m[M]=D||""}}}catch(E){d={error:E}}finally{try{S&&!S.done&&(_=w.return)&&_.call(w)}finally{if(d)throw d.error}}return x},v.prototype._generatePrefix=function(g,y,m){var d="ns"+m.value.toString();return m.value++,y.set(d,g),d},v.prototype._serializeAttributeValue=function(g,y){if(y&&g!==null&&!h.xml_isLegalChar(g))throw new Error("Invalid characters in attribute value.");return g===null?"":g.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},v._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),v}();n.BaseWriter=p},function(r,n,a){var i=this&&this.__values||function(y){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&y[m],_=0;if(d)return d.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&_>=y.length&&(y=void 0),{value:y&&y[_++],done:!y}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(y,m){var d=typeof Symbol=="function"&&y[Symbol.iterator];if(!d)return y;var _,x,w=d.call(y),S=[];try{for(;(m===void 0||m-- >0)&&!(_=w.next()).done;)S.push(_.value)}catch(b){x={error:b}}finally{try{_&&!_.done&&(d=w.return)&&d.call(w)}finally{if(x)throw x.error}}return S};Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),u=a(3),l=a(7),f=a(29),c=a(17),h=a(97);function p(){var y=s.dom.window;y._mutationObserverMicrotaskQueued||(y._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){v()}))}function v(){var y,m,d,_,x=s.dom.window;x._mutationObserverMicrotaskQueued=!1;var w=l.set.clone(x._mutationObservers),S=l.set.clone(x._signalSlots);l.set.empty(x._signalSlots);var b=function(k){var O=l.list.clone(k._recordQueue);l.list.empty(k._recordQueue);for(var A=0;A<k._nodeList.length;A++){var I=k._nodeList[A];l.list.remove(I._registeredObserverList,function(U){return u.Guard.isTransientRegisteredObserver(U)&&U.observer===k})}if(!l.list.isEmpty(O))try{k._callback.call(k,O,k)}catch{}};try{for(var T=i(w),C=T.next();!C.done;C=T.next())b(C.value)}catch(k){y={error:k}}finally{try{C&&!C.done&&(m=T.return)&&m.call(T)}finally{if(y)throw y.error}}if(s.dom.features.slots)try{for(var M=i(S),D=M.next();!D.done;D=M.next()){var E=D.value;h.event_fireAnEvent("slotchange",E,void 0,{bubbles:!0})}}catch(k){d={error:k}}finally{try{D&&!D.done&&(_=M.return)&&_.call(M)}finally{if(d)throw d.error}}}function g(y,m,d,_,x,w,S,b,T){for(var C,M,D=new Map,E=c.tree_getFirstAncestorNode(m,!0);E!==null;){for(var k=0;k<E._registeredObserverList.length;k++){var O=E._registeredObserverList[k],A=O.options;if((E===m||A.subtree)&&(y!=="attributes"||A.attributes)&&(y!=="attributes"||!A.attributeFilter||A.attributeFilter.indexOf(d||"")&&_===null)&&(y!=="characterData"||A.characterData)&&(y!=="childList"||A.childList)){var I=O.observer;D.has(I)||D.set(I,null),(y==="attributes"&&A.attributeOldValue||y==="characterData"&&A.characterDataOldValue)&&D.set(I,x)}}E=c.tree_getNextAncestorNode(m,E,!0)}try{for(var U=i(D),P=U.next();!P.done;P=U.next()){var B=o(P.value,2),W=B[0],H=B[1],$=f.create_mutationRecord(y,m,f.create_nodeListStatic(m,w),f.create_nodeListStatic(m,S),b,T,d,_,H);W._recordQueue.push($)}}catch(q){C={error:q}}finally{try{P&&!P.done&&(M=U.return)&&M.call(U)}finally{if(C)throw C.error}}p()}n.observer_queueAMutationObserverMicrotask=p,n.observer_notifyMutationObservers=v,n.observer_queueMutationRecord=g,n.observer_queueTreeMutationRecord=function(y,m,d,_,x){g("childList",y,null,null,null,m,d,_,x)},n.observer_queueAttributeMutationRecord=function(y,m,d,_){g("attributes",y,m,d,_,[],[],null,null)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=a(7),s=a(3),u=a(9),l=a(29),f=a(73),c=a(51),h=a(30),p=a(37),v=a(106);function g(w,S,b){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,w._localName,w._namespace,w._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(S)&&f.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[w._localName,w._value,b,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(S,w._localName,w._value,b,w._namespace),w._value=b}function y(w,S){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,w._localName,w._namespace,null),i.dom.features.customElements&&s.Guard.isCustomElementNode(S)&&f.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[w._localName,null,w._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(S,w._localName,null,w._value,w._namespace),S._attributeList._asArray().push(w),w._element=S,S._nodeDocument._hasNamespaces||w._namespace===null&&w._namespacePrefix===null&&w._localName!=="xmlns"||(S._nodeDocument._hasNamespaces=!0)}function m(w,S){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,w._localName,w._namespace,w._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(S)&&f.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[w._localName,w._value,null,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(S,w._localName,w._value,null,w._namespace);var b=S._attributeList._asArray().indexOf(w);S._attributeList._asArray().splice(b,1),w._element=null}function d(w,S,b){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(b,w._localName,w._namespace,w._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(b)&&f.customElement_enqueueACustomElementCallbackReaction(b,"attributeChangedCallback",[w._localName,w._value,S._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(b,w._localName,w._value,S._value,w._namespace);var T=b._attributeList._asArray().indexOf(w);T!==-1&&(b._attributeList._asArray()[T]=S),w._element=null,S._element=b,b._nodeDocument._hasNamespaces||S._namespace===null&&S._namespacePrefix===null&&S._localName!=="xmlns"||(b._nodeDocument._hasNamespaces=!0)}function _(w,S){return S._namespace===o.namespace.HTML&&S._nodeDocument._type==="html"&&(w=w.toLowerCase()),S._attributeList._asArray().find(function(b){return b._qualifiedName===w})||null}function x(w,S,b){var T=w||null;return b._attributeList._asArray().find(function(C){return C._namespace===T&&C._localName===S})||null}n.element_has=function(w,S){return S._attributeList._asArray().indexOf(w)!==-1},n.element_change=g,n.element_append=y,n.element_remove=m,n.element_replace=d,n.element_getAnAttributeByName=_,n.element_getAnAttributeByNamespaceAndLocalName=x,n.element_getAnAttributeValue=function(w,S,b){b===void 0&&(b="");var T=x(b,S,w);return T===null?"":T._value},n.element_setAnAttribute=function(w,S){if(w._element!==null&&w._element!==S)throw new u.InUseAttributeError("This attribute already exists in the document: "+w._qualifiedName+" as a child of "+w._element._qualifiedName+".");var b=x(w._namespace||"",w._localName,S);return b===w?w:(b!==null?d(b,w,S):y(w,S),b)},n.element_setAnAttributeValue=function(w,S,b,T,C){T===void 0&&(T=null),C===void 0&&(C=null);var M=x(C||"",S,w);if(M===null){var D=l.create_attr(w._nodeDocument,S);return D._namespace=C,D._namespacePrefix=T,D._value=b,void y(D,w)}g(M,w,b)},n.element_removeAnAttributeByName=function(w,S){var b=_(w,S);return b!==null&&m(b,S),b},n.element_removeAnAttributeByNamespaceAndLocalName=function(w,S,b){var T=x(w,S,b);return T!==null&&m(T,b),T},n.element_createAnElement=function(w,S,b,T,C,M){T===void 0&&(T=null),C===void 0&&(C=null),M===void 0&&(M=!1);var D=null;if(!i.dom.features.customElements)return(D=l.create_element(w,S,b,T))._customElementState="uncustomized",D._customElementDefinition=null,D._is=C,D;var E=f.customElement_lookUpACustomElementDefinition(w,b,S,C);if(E!==null&&E.name!==E.localName)(D=new(v.document_elementInterface(S,o.namespace.HTML)))._localName=S,D._namespace=o.namespace.HTML,D._namespacePrefix=T,D._customElementState="undefined",D._customElementDefinition=null,D._is=C,D._nodeDocument=w,M?f.customElement_upgrade(E,D):f.customElement_enqueueACustomElementUpgradeReaction(D,E);else if(E!==null)if(M)try{var k=new E.constructor;if(console.assert(k._customElementState!==void 0),console.assert(k._customElementDefinition!==void 0),console.assert(k._namespace===o.namespace.HTML),k._attributeList.length!==0)throw new u.NotSupportedError("Custom element already has attributes.");if(k._children.size!==0)throw new u.NotSupportedError("Custom element already has child nodes.");if(k._parent!==null)throw new u.NotSupportedError("Custom element already has a parent node.");if(k._nodeDocument!==w)throw new u.NotSupportedError("Custom element is already in a document.");if(k._localName!==S)throw new u.NotSupportedError("Custom element has a different local name.");k._namespacePrefix=T,k._is=null}catch{(D=l.create_htmlUnknownElement(w,S,o.namespace.HTML,T))._customElementState="failed",D._customElementDefinition=null,D._is=null}else(D=l.create_htmlElement(w,S,o.namespace.HTML,T))._customElementState="undefined",D._customElementDefinition=null,D._is=null,f.customElement_enqueueACustomElementUpgradeReaction(D,E);else(D=new(v.document_elementInterface(S,b)))._localName=S,D._namespace=b,D._namespacePrefix=T,D._customElementState="uncustomized",D._customElementDefinition=null,D._is=C,D._nodeDocument=w,b!==o.namespace.HTML||C===null&&!f.customElement_isValidCustomElementName(S)||(D._customElementState="undefined");if(D===null)throw new Error("Unable to create element.");return D},n.element_insertAdjacent=function(w,S,b){switch(S.toLowerCase()){case"beforebegin":return w._parent===null?null:p.mutation_preInsert(b,w._parent,w);case"afterbegin":return p.mutation_preInsert(b,w,w._firstChild);case"beforeend":return p.mutation_preInsert(b,w,null);case"afterend":return w._parent===null?null:p.mutation_preInsert(b,w._parent,w._nextSibling);default:throw new u.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(r,n,a){function i(o,s){Error.call(this),this.name="YAMLException",this.reason=o,this.mark=s,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(o){var s=this.name+": ";return s+=this.reason||"(unknown reason)",!o&&this.mark&&(s+=" "+this.mark.toString()),s},r.exports=i},function(r,n,a){var i=a(39);r.exports=new i({include:[a(181)],implicit:[a(293),a(294)],explicit:[a(295),a(296),a(297),a(298)]})},function(r,n,a){var i=a(16),o=a(79),s=a(40),u=a(24),l=a(56),f=a(14),c=a(115),h=Object.getOwnPropertyDescriptor;n.f=i?h:function(p,v){if(p=u(p),v=l(v,!0),c)try{return h(p,v)}catch{}if(f(p,v))return s(!o.f.call(p,v),p[v])}},function(r,n,a){var i=a(13);r.exports=function(o,s){if(!i(o))return o;var u,l;if(s&&typeof(u=o.toString)=="function"&&!i(l=u.call(o))||typeof(u=o.valueOf)=="function"&&!i(l=u.call(o))||!s&&typeof(u=o.toString)=="function"&&!i(l=u.call(o)))return l;throw TypeError("Can't convert object to primitive value")}},function(r,n,a){var i=a(81),o=a(58),s=i("keys");r.exports=function(u){return s[u]||(s[u]=o(u))}},function(r,n){var a=0,i=Math.random();r.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++a+i).toString(36)}},function(r,n,a){var i=a(42);r.exports=Array.isArray||function(o){return i(o)=="Array"}},function(r,n,a){var i,o=a(18),s=a(188),u=a(84),l=a(45),f=a(189),c=a(116),h=a(57),p=h("IE_PROTO"),v=function(){},g=function(m){return"<script>"+m+"<\/script>"},y=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}var m,d;y=i?function(x){x.write(g("")),x.close();var w=x.parentWindow.Object;return x=null,w}(i):((d=c("iframe")).style.display="none",f.appendChild(d),d.src="javascript:",(m=d.contentWindow.document).open(),m.write(g("document.F=Object")),m.close(),m.F);for(var _=u.length;_--;)delete y.prototype[u[_]];return y()};l[p]=!0,r.exports=Object.create||function(m,d){var _;return m!==null?(v.prototype=o(m),_=new v,v.prototype=null,_[p]=m):_=y(),d===void 0?_:s(_,d)}},function(r,n,a){var i=a(121),o=a(84);r.exports=Object.keys||function(s){return i(s,o)}},function(r,n,a){var i=a(15).f,o=a(14),s=a(5)("toStringTag");r.exports=function(u,l,f){u&&!o(u=f?u:u.prototype,s)&&i(u,s,{configurable:!0,value:l})}},function(r,n,a){var i=a(8),o=a(5),s=a(129),u=o("species");r.exports=function(l){return s>=51||!i(function(){var f=[];return(f.constructor={})[u]=function(){return{foo:1}},f[l](Boolean).foo!==1})}},function(r,n,a){var i=a(4),o=a(122).indexOf,s=a(48),u=a(28),l=[].indexOf,f=!!l&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),h=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!c||!h},{indexOf:function(p){return f?l.apply(this,arguments)||0:o(this,p,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(16),o=a(15).f,s=Function.prototype,u=s.toString,l=/^\s*function ([^ (]*)/;i&&!("name"in s)&&o(s,"name",{configurable:!0,get:function(){try{return u.call(this).match(l)[1]}catch{return""}}})},function(r,n,a){var i=a(25),o=a(18),s=a(8),u=a(136),l=RegExp.prototype,f=l.toString,c=s(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),h=f.name!="toString";(c||h)&&i(RegExp.prototype,"toString",function(){var p=o(this),v=String(p.source),g=p.flags;return"/"+v+"/"+String(g===void 0&&p instanceof RegExp&&!("flags"in l)?u.call(p):g)},{unsafe:!0})},function(r,n,a){a(31),a(32),a(33),a(19),a(138),a(20),a(66),a(22),a(23);var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),s=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(1),l=a(2),f=function(c){function h(p,v){var g=c.call(this,p)||this;return g._writerOptions=u.applyDefaults(v,{format:"object",wellFormed:!1,group:!1,verbose:!1}),g}return o(h,c),h.prototype.serialize=function(p){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(p,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},h.prototype._process=function(p,v){var g,y,m,d,_,x,w;if(p.length===0)return{};for(var S={},b=!1,T=0,C=0,M=0,D=0,E=0;E<p.length;E++){var k=p[E];switch(re=Object.keys(k)[0]){case"@":continue;case"#":T++;break;case"!":C++;break;case"?":M++;break;case"$":D++;break;default:S[re]?b=!0:S[re]=!0}}var O=this._getAttrKey(),A=this._getNodeKey(l.NodeType.Text),I=this._getNodeKey(l.NodeType.Comment),U=this._getNodeKey(l.NodeType.ProcessingInstruction),P=this._getNodeKey(l.NodeType.CData);if(T===1&&p.length===1&&u.isString(p[0]["#"]))return p[0]["#"];if(b){var B={};for(E=0;E<p.length;E++)if(k=p[E],(re=Object.keys(k)[0])==="@"){var W=k["@"];(V=Object.keys(W)).length===1?B[O+V[0]]=W[V[0]]:B[O]=k["@"]}var H=[];for(E=0;E<p.length;E++)switch(k=p[E],re=Object.keys(k)[0]){case"@":break;case"#":H.push(((g={})[A]=k["#"],g));break;case"!":H.push(((y={})[I]=k["!"],y));break;case"?":H.push(((m={})[U]=k["?"],m));break;case"$":H.push(((d={})[P]=k.$,d));break;default:if((F=k)[re].length!==0&&u.isArray(F[re][0])){for(var $=[],q=F[re],Q=0;Q<q.length;Q++)$.push(this._process(q[Q],v));H.push(((_={})[re]=$,_))}else v.verbose?H.push(((x={})[re]=[this._process(F[re],v)],x)):H.push(((w={})[re]=this._process(F[re],v),w))}return B[A]=H,B}var Y=1,ie=1,J=1,ae=1;for(B={},E=0;E<p.length;E++){var re;switch(k=p[E],re=Object.keys(k)[0]){case"@":W=k["@"];var V=Object.keys(W);if(v.group&&V.length!==1)B[O]=W;else for(var R in W)B[O+R]=W[R];break;case"#":Y=this._processSpecItem(k["#"],B,v.group,A,T,Y);break;case"!":ie=this._processSpecItem(k["!"],B,v.group,I,C,ie);break;case"?":J=this._processSpecItem(k["?"],B,v.group,U,M,J);break;case"$":ae=this._processSpecItem(k.$,B,v.group,P,D,ae);break;default:var F;if((F=k)[re].length!==0&&u.isArray(F[re][0])){$=[],q=F[re];for(var N=0;N<q.length;N++)$.push(this._process(q[N],v));B[re]=$}else v.verbose?B[re]=[this._process(F[re],v)]:B[re]=this._process(F[re],v)}}return B},h.prototype._processSpecItem=function(p,v,g,y,m,d){var _,x;if(!g&&u.isArray(p)&&m+p.length>2)try{for(var w=s(p),S=w.next();!S.done;S=w.next()){var b=S.value;v[y+(d++).toString()]=b}}catch(T){_={error:T}}finally{try{S&&!S.done&&(x=w.return)&&x.call(w)}finally{if(_)throw _.error}}else v[m>1?y+(d++).toString():y]=p;return d},h.prototype.beginElement=function(p){var v,g,y=[];if(this._currentList.length===0)this._currentList.push(((v={})[p]=y,v));else{var m=this._currentList[this._currentList.length-1];this._isElementNode(m,p)?m[p].length!==0&&u.isArray(m[p][0])?m[p].push(y):m[p]=[m[p],y]:this._currentList.push(((g={})[p]=y,g))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=y:this._listRegister.push(y),this._currentList=y},h.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},h.prototype.attribute=function(p,v){var g,y;if(this._currentList.length===0)this._currentList.push({"@":(g={},g[p]=v,g)});else{var m=this._currentList[this._currentList.length-1];this._isAttrNode(m)?m["@"][p]=v:this._currentList.push({"@":(y={},y[p]=v,y)})}},h.prototype.comment=function(p){if(this._currentList.length===0)this._currentList.push({"!":p});else{var v=this._currentList[this._currentList.length-1];this._isCommentNode(v)?u.isArray(v["!"])?v["!"].push(p):v["!"]=[v["!"],p]:this._currentList.push({"!":p})}},h.prototype.text=function(p){if(this._currentList.length===0)this._currentList.push({"#":p});else{var v=this._currentList[this._currentList.length-1];this._isTextNode(v)?u.isArray(v["#"])?v["#"].push(p):v["#"]=[v["#"],p]:this._currentList.push({"#":p})}},h.prototype.instruction=function(p,v){var g=v===""?p:p+" "+v;if(this._currentList.length===0)this._currentList.push({"?":g});else{var y=this._currentList[this._currentList.length-1];this._isInstructionNode(y)?u.isArray(y["?"])?y["?"].push(g):y["?"]=[y["?"],g]:this._currentList.push({"?":g})}},h.prototype.cdata=function(p){if(this._currentList.length===0)this._currentList.push({$:p});else{var v=this._currentList[this._currentList.length-1];this._isCDATANode(v)?u.isArray(v.$)?v.$.push(p):v.$=[v.$,p]:this._currentList.push({$:p})}},h.prototype._isAttrNode=function(p){return"@"in p},h.prototype._isTextNode=function(p){return"#"in p},h.prototype._isCommentNode=function(p){return"!"in p},h.prototype._isInstructionNode=function(p){return"?"in p},h.prototype._isCDATANode=function(p){return"$"in p},h.prototype._isElementNode=function(p,v){return v in p},h.prototype._getAttrKey=function(){return this._builderOptions.convert.att},h.prototype._getNodeKey=function(p){switch(p){case l.NodeType.Comment:return this._builderOptions.convert.comment;case l.NodeType.Text:return this._builderOptions.convert.text;case l.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case l.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},h}(a(50).BaseWriter);n.ObjectWriter=f},function(r,n,a){var i=a(4),o=a(93);i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this._items={},this._nullItems={}}return o.prototype.set=function(s,u){s===null?this._nullItems[u]=!0:(this._items[s]||(this._items[s]={}),this._items[s][u]=!0)},o.prototype.has=function(s,u){return s===null?this._nullItems[u]===!0:!!this._items[s]&&this._items[s][u]===!0},o}();n.LocalNameSet=i},function(r,n,a){var i=this&&this.__read||function(f,c){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,g=h.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=g.next()).done;)y.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=g.return)&&h.call(g)}finally{if(v)throw v.error}}return y};Object.defineProperty(n,"__esModule",{value:!0});var o=a(9),s=a(3),u=a(0),l=function(){function f(){}return Object.defineProperty(f.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),f.prototype.addEventListener=function(c,h,p){p===void 0&&(p={passive:!1,once:!1,capture:!1});var v,g=i(u.eventTarget_flattenMore(p),3),y=g[0],m=g[1],d=g[2];h&&(v=s.Guard.isEventListener(h)?h:{handleEvent:h},u.eventTarget_addEventListener(this,{type:c,callback:v,capture:y,passive:m,once:d,removed:!1}))},f.prototype.removeEventListener=function(c,h,p){p===void 0&&(p={capture:!1});var v=u.eventTarget_flatten(p);if(h)for(var g=0;g<this._eventListenerList.length;g++){var y=this._eventListenerList[g];if(y.type===c&&y.capture===v){if(s.Guard.isEventListener(h)&&y.callback===h){u.eventTarget_removeEventListener(this,y,g);break}if(h&&y.callback.handleEvent===h){u.eventTarget_removeEventListener(this,y,g);break}}}},f.prototype.dispatchEvent=function(c){if(c._dispatchFlag||!c._initializedFlag)throw new o.InvalidStateError;return c._isTrusted=!1,u.event_dispatch(c,this)},f.prototype._getTheParent=function(c){return null},f}();n.EventTargetImpl=l},function(r,n,a){var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(34),u=a(0),l=function(f){function c(h){var p=f.call(this)||this;return p._data=h,p}return o(c,f),Object.defineProperty(c.prototype,"data",{get:function(){return this._data},set:function(h){u.characterData_replaceData(this,0,this._data.length,h)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),c.prototype.substringData=function(h,p){return u.characterData_substringData(this,h,p)},c.prototype.appendData=function(h){return u.characterData_replaceData(this,this._data.length,0,h)},c.prototype.insertData=function(h,p){u.characterData_replaceData(this,h,0,p)},c.prototype.deleteData=function(h,p){u.characterData_replaceData(this,h,p,"")},c.prototype.replaceData=function(h,p,v){u.characterData_replaceData(this,h,p,v)},Object.defineProperty(c.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),c.prototype.before=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.after=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.replaceWith=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},c}(s.NodeImpl);n.CharacterDataImpl=l},function(r,n,a){var i=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&m[d],x=0;if(_)return _.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(m,d){var _=typeof Symbol=="function"&&m[Symbol.iterator];if(!_)return m;var x,w,S=_.call(m),b=[];try{for(;(d===void 0||d-- >0)&&!(x=S.next()).done;)b.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}return b},s=this&&this.__spread||function(){for(var m=[],d=0;d<arguments.length;d++)m=m.concat(o(arguments[d]));return m};Object.defineProperty(n,"__esModule",{value:!0});var u=a(6),l=a(3),f=a(1),c=a(17),h=a(51);function p(m){u.dom.window._signalSlots.add(m),h.observer_queueAMutationObserverMicrotask()}function v(m,d){d===void 0&&(d=!1);var _=l.Cast.asNode(m)._parent;if(_===null)return null;var x=_._shadowRoot||null;if(x===null||d&&x._mode!=="open")return null;for(var w=c.tree_getFirstDescendantNode(x,!1,!0,function(S){return l.Guard.isSlot(S)});w!==null;){if(w._name===m._name)return w;w=c.tree_getNextDescendantNode(x,w,!1,!0,function(S){return l.Guard.isSlot(S)})}return null}function g(m){var d,_,x=[],w=c.tree_rootNode(m);if(!l.Guard.isShadowRoot(w))return x;var S=w._host;try{for(var b=i(S._children),T=b.next();!T.done;T=b.next()){var C=T.value;l.Guard.isSlotable(C)&&v(C)===m&&x.push(C)}}catch(M){d={error:M}}finally{try{T&&!T.done&&(_=b.return)&&_.call(b)}finally{if(d)throw d.error}}return x}function y(m){var d,_,x=g(m);if(x.length===m._assignedNodes.length){for(var w=!0,S=0;S<x.length;S++)if(x[S]!==m._assignedNodes[S]){w=!1;break}w||p(m)}m._assignedNodes=x;try{for(var b=i(x),T=b.next();!T.done;T=b.next())T.value._assignedSlot=m}catch(C){d={error:C}}finally{try{T&&!T.done&&(_=b.return)&&_.call(b)}finally{if(d)throw d.error}}}n.shadowTree_signalASlotChange=p,n.shadowTree_isConnected=function(m){return l.Guard.isDocumentNode(c.tree_rootNode(m,!0))},n.shadowTree_isAssigned=function(m){return m._assignedSlot!==null},n.shadowTree_findASlot=v,n.shadowTree_findSlotables=g,n.shadowTree_findFlattenedSlotables=function m(d){var _,x,w,S,b=[],T=c.tree_rootNode(d);if(!l.Guard.isShadowRoot(T))return b;var C=g(d);if(f.isEmpty(C))try{for(var M=i(d._children),D=M.next();!D.done;D=M.next()){var E=D.value;l.Guard.isSlotable(E)&&C.push(E)}}catch(U){_={error:U}}finally{try{D&&!D.done&&(x=M.return)&&x.call(M)}finally{if(_)throw _.error}}try{for(var k=i(C),O=k.next();!O.done;O=k.next()){var A=O.value;if(l.Guard.isSlot(A)&&l.Guard.isShadowRoot(c.tree_rootNode(A))){var I=m(A);b.push.apply(b,s(I))}else b.push(A)}}catch(U){w={error:U}}finally{try{O&&!O.done&&(S=k.return)&&S.call(k)}finally{if(w)throw w.error}}return b},n.shadowTree_assignSlotables=y,n.shadowTree_assignSlotablesForATree=function(m){for(var d=c.tree_getFirstDescendantNode(m,!0,!1,function(_){return l.Guard.isSlot(_)});d!==null;)y(d),d=c.tree_getNextDescendantNode(m,d,!0,!1,function(_){return l.Guard.isSlot(_)})},n.shadowTree_assignASlot=function(m){var d=v(m);d!==null&&y(d)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),s=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),u=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),l=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);n.customElement_isValidCustomElementName=function(f){return!!i.test(f)&&!o.has(f)},n.customElement_isValidElementName=function(f){return s.has(f)},n.customElement_isVoidElementName=function(f){return u.has(f)},n.customElement_isValidShadowHostName=function(f){return l.has(f)},n.customElement_enqueueACustomElementUpgradeReaction=function(f,c){},n.customElement_enqueueACustomElementCallbackReaction=function(f,c,h){},n.customElement_upgrade=function(f,c){},n.customElement_tryToUpgrade=function(f){},n.customElement_lookUpACustomElementDefinition=function(f,c,h,p){return null}},function(r,n,a){a(4)({target:"String",proto:!0},{repeat:a(259)})},function(r,n,a){a(278),a(68),a(179),a(94),Object.defineProperty(n,"__esModule",{value:!0});var i=a(109),o=function(){function s(u){this._builderOptions=u,u.parser&&Object.assign(this,u.parser)}return s.prototype._docType=function(u,l,f,c){return u.dtd({name:l,pubID:f,sysID:c})},s.prototype._comment=function(u,l){return u.com(l)},s.prototype._text=function(u,l){return u.txt(l)},s.prototype._instruction=function(u,l,f){return u.ins(l,f)},s.prototype._cdata=function(u,l){return u.dat(l)},s.prototype._element=function(u,l,f){return l===void 0?u.ele(f):u.ele(l,f)},s.prototype._attribute=function(u,l,f,c){return l===void 0?u.att(f,c):u.att(l,f,c)},s.prototype._sanitize=function(u){return i.sanitizeInput(u,this._builderOptions.invalidCharReplacement)},s.prototype._decodeText=function(u){return u==null?u:u.replace(/&(quot|amp|apos|lt|gt);/g,function(l,f){return s._entityTable[f]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(l,f,c){return String.fromCodePoint(parseInt(f||c,f?16:10))})},s.prototype._decodeAttributeValue=function(u){return this._decodeText(u)},s.prototype.parse=function(u,l){return this._parse(u,l)},s.prototype.docType=function(u,l,f,c){return this._docType(u,l,f,c)},s.prototype.comment=function(u,l){return this._comment(u,l)},s.prototype.text=function(u,l){return this._text(u,l)},s.prototype.instruction=function(u,l,f){return this._instruction(u,l,f)},s.prototype.cdata=function(u,l){return this._cdata(u,l)},s.prototype.element=function(u,l,f){return this._element(u,l,f)},s.prototype.attribute=function(u,l,f,c){return this._attribute(u,l,f,c)},s.prototype.sanitize=function(u){return this._sanitize(u)},s._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},s}();n.BaseReader=o},function(r,n,a){var i=a(39);r.exports=i.DEFAULT=new i({include:[a(54)],explicit:[a(299),a(300),a(301)]})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(185);n.XMLBuilderImpl=i.XMLBuilderImpl;var o=a(304);n.XMLBuilderCBImpl=o.XMLBuilderCBImpl;var s=a(183);n.builder=s.builder,n.create=s.create,n.fragment=s.fragment,n.convert=s.convert;var u=a(309);n.createCB=u.createCB,n.fragmentCB=u.fragmentCB},function(r,n){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,n,a){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!i.call({1:2},1);n.f=s?function(u){var l=o(this,u);return!!l&&l.enumerable}:i},function(r,n,a){var i=a(11),o=a(21);r.exports=function(s,u){try{o(i,s,u)}catch{i[s]=u}return u}},function(r,n,a){var i=a(44),o=a(118);(r.exports=function(s,u){return o[s]||(o[s]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(r,n,a){var i=a(121),o=a(84).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return i(s,o)}},function(r,n,a){var i=a(47),o=Math.max,s=Math.min;r.exports=function(u,l){var f=i(u);return f<0?o(f+l,0):s(f,l)}},function(r,n){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,n){n.f=Object.getOwnPropertySymbols},function(r,n,a){var i=a(8);r.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(r,n,a){var i=a(127);r.exports=function(o,s,u){if(i(o),s===void 0)return o;switch(u){case 0:return function(){return o.call(s)};case 1:return function(l){return o.call(s,l)};case 2:return function(l,f){return o.call(s,l,f)};case 3:return function(l,f,c){return o.call(s,l,f,c)}}return function(){return o.apply(s,arguments)}}},function(r,n,a){var i=a(4),o=a(195),s=a(132),u=a(133),l=a(62),f=a(21),c=a(25),h=a(5),p=a(44),v=a(49),g=a(131),y=g.IteratorPrototype,m=g.BUGGY_SAFARI_ITERATORS,d=h("iterator"),_=function(){return this};r.exports=function(x,w,S,b,T,C,M){o(S,w,b);var D,E,k,O=function(H){if(H===T&&B)return B;if(!m&&H in U)return U[H];switch(H){case"keys":case"values":case"entries":return function(){return new S(this,H)}}return function(){return new S(this)}},A=w+" Iterator",I=!1,U=x.prototype,P=U[d]||U["@@iterator"]||T&&U[T],B=!m&&P||O(T),W=w=="Array"&&U.entries||P;if(W&&(D=s(W.call(new x)),y!==Object.prototype&&D.next&&(p||s(D)===y||(u?u(D,y):typeof D[d]!="function"&&f(D,d,_)),l(D,A,!0,!0),p&&(v[A]=_))),T=="values"&&P&&P.name!=="values"&&(I=!0,B=function(){return P.call(this)}),p&&!M||U[d]===B||f(U,d,B),v[w]=B,T)if(E={values:O("values"),keys:C?B:O("keys"),entries:O("entries")},M)for(k in E)(m||I||!(k in U))&&c(U,k,E[k]);else i({target:w,proto:!0,forced:m||I},E);return E}},function(r,n,a){var i=a(4),o=a(13),s=a(59),u=a(83),l=a(26),f=a(24),c=a(134),h=a(5),p=a(63),v=a(28),g=p("slice"),y=v("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),d=[].slice,_=Math.max;i({target:"Array",proto:!0,forced:!g||!y},{slice:function(x,w){var S,b,T,C=f(this),M=l(C.length),D=u(x,M),E=u(w===void 0?M:w,M);if(s(C)&&(typeof(S=C.constructor)!="function"||S!==Array&&!s(S.prototype)?o(S)&&(S=S[m])===null&&(S=void 0):S=void 0,S===Array||S===void 0))return d.call(C,D,E);for(b=new(S===void 0?Array:S)(_(E-D,0)),T=0;D<E;D++,T++)D in C&&c(b,T,C[D]);return b.length=T,b}})},function(r,n,a){var i={};i[a(5)("toStringTag")]="z",r.exports=String(i)==="[object z]"},function(r,n,a){a(19),a(138),a(20),a(92),a(22),a(23),Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},n.XMLBuilderOptionKeys=new Set(Object.keys(n.DefaultBuilderOptions)),n.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(r,n,a){var i=a(139),o=a(143);r.exports=i("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},function(r,n,a){var i,o,s=a(136),u=a(221),l=RegExp.prototype.exec,f=String.prototype.replace,c=l,h=(i=/a/,o=/b*/g,l.call(i,"a"),l.call(o,"a"),i.lastIndex!==0||o.lastIndex!==0),p=u.UNSUPPORTED_Y||u.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0;(h||v||p)&&(c=function(g){var y,m,d,_,x=this,w=p&&x.sticky,S=s.call(x),b=x.source,T=0,C=g;return w&&((S=S.replace("y","")).indexOf("g")===-1&&(S+="g"),C=String(g).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&g[x.lastIndex-1]!==`
`)&&(b="(?: "+b+")",C=" "+C,T++),m=new RegExp("^(?:"+b+")",S)),v&&(m=new RegExp("^"+b+"$(?!\\s)",S)),h&&(y=x.lastIndex),d=l.call(w?m:x,C),w?d?(d.input=d.input.slice(T),d[0]=d[0].slice(T),d.index=x.lastIndex,x.lastIndex+=d[0].length):x.lastIndex=0:h&&d&&(x.lastIndex=x.global?d.index+d[0].length:y),v&&d&&d.length>1&&f.call(d[0],m,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(d[_]=void 0)}),d}),r.exports=c},function(r,n,a){var i=a(225),o=a(18),s=a(27),u=a(26),l=a(47),f=a(35),c=a(226),h=a(227),p=Math.max,v=Math.min,g=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;i("replace",2,function(d,_,x,w){var S=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=w.REPLACE_KEEPS_$0,T=S?"$":"$0";return[function(M,D){var E=f(this),k=M==null?void 0:M[d];return k!==void 0?k.call(M,E,D):_.call(String(E),M,D)},function(M,D){if(!S&&b||typeof D=="string"&&D.indexOf(T)===-1){var E=x(_,M,this,D);if(E.done)return E.value}var k=o(M),O=String(this),A=typeof D=="function";A||(D=String(D));var I=k.global;if(I){var U=k.unicode;k.lastIndex=0}for(var P=[];;){var B=h(k,O);if(B===null||(P.push(B),!I))break;String(B[0])===""&&(k.lastIndex=c(O,u(k.lastIndex),U))}for(var W,H="",$=0,q=0;q<P.length;q++){B=P[q];for(var Q=String(B[0]),Y=p(v(l(B.index),O.length),0),ie=[],J=1;J<B.length;J++)ie.push((W=B[J])===void 0?W:String(W));var ae=B.groups;if(A){var re=[Q].concat(ie,Y,O);ae!==void 0&&re.push(ae);var V=String(D.apply(void 0,re))}else V=C(Q,O,Y,ie,ae,D);Y>=$&&(H+=O.slice($,Y)+V,$=Y+Q.length)}return H+O.slice($)}];function C(M,D,E,k,O,A){var I=E+M.length,U=k.length,P=m;return O!==void 0&&(O=s(O),P=y),_.call(A,P,function(B,W){var H;switch(W.charAt(0)){case"$":return"$";case"&":return M;case"`":return D.slice(0,E);case"'":return D.slice(I);case"<":H=O[W.slice(1,-1)];break;default:var $=+W;if($===0)return B;if($>U){var q=g($/10);return q===0?B:q<=U?k[q-1]===void 0?W.charAt(1):k[q-1]+W.charAt(1):B}H=k[$-1]}return H===void 0?"":H})}})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this._items={},this._nullItems=[]}return o.prototype.copy=function(){var s=new o;for(var u in this._items)s._items[u]=this._items[u].slice(0);return s._nullItems=this._nullItems.slice(0),s},o.prototype.get=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;if(l===null)return null;for(var f=null,c=0;c<l.length;c++)if((f=l[c])===s)return f;return f},o.prototype.has=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;return l!==null&&l.indexOf(s)!==-1},o.prototype.hasPrefix=function(s){if(this._nullItems.indexOf(s)!==-1)return!0;for(var u in this._items)if(this._items[u].indexOf(s)!==-1)return!0;return!1},o.prototype.set=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;u!==null&&l===null?this._items[u]=[s]:l.push(s)},o}();n.NamespacePrefixMap=i},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.Surrogate=/[\uD800-\uDFFF]/,n.ScalarValue=/[\uD800-\uDFFF]/,n.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,n.ASCIICodePoint=/[\u0000-\u007F]/,n.ASCIITabOrNewLine=/[\t\n\r]/,n.ASCIIWhiteSpace=/[\t\n\f\r ]/,n.C0Control=/[\u0000-\u001F]/,n.C0ControlOrSpace=/[\u0000-\u001F ]/,n.Control=/[\u0000-\u001F\u007F-\u009F]/,n.ASCIIDigit=/[0-9]/,n.ASCIIUpperHexDigit=/[0-9A-F]/,n.ASCIILowerHexDigit=/[0-9a-f]/,n.ASCIIHexDigit=/[0-9A-Fa-f]/,n.ASCIIUpperAlpha=/[A-Z]/,n.ASCIILowerAlpha=/[a-z]/,n.ASCIIAlpha=/[A-Za-z]/,n.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(r,n,a){var i=this&&this.__values||function(D){var E=typeof Symbol=="function"&&Symbol.iterator,k=E&&D[E],O=0;if(k)return k.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&O>=D.length&&(D=void 0),{value:D&&D[O++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(D,E){var k=typeof Symbol=="function"&&D[Symbol.iterator];if(!k)return D;var O,A,I=k.call(D),U=[];try{for(;(E===void 0||E-- >0)&&!(O=I.next()).done;)U.push(O.value)}catch(P){A={error:P}}finally{try{O&&!O.done&&(k=I.return)&&k.call(I)}finally{if(A)throw A.error}}return U},s=this&&this.__spread||function(){for(var D=[],E=0;E<arguments.length;E++)D=D.concat(o(arguments[E]));return D};Object.defineProperty(n,"__esModule",{value:!0});var u=a(6),l=a(2),f=a(3),c=a(171),h=a(104),p=a(9),v=a(17),g=a(72),y=a(30);function m(D,E){E===void 0&&(E=void 0),E===void 0&&(E=null);var k=d(D,E,new Date,{});return k._isTrusted=!0,k}function d(D,E,k,O){var A=new D("");return A._initializedFlag=!0,A._timeStamp=k.getTime(),Object.assign(A,O),u.dom.features.steps&&y.dom_runEventConstructingSteps(A),A}function _(D,E,k,O){var A,I,U,P;k===void 0&&(k=!1),O===void 0&&(O={value:!1});var B=!1;D._dispatchFlag=!0;var W=E;if(k){var H=E._associatedDocument;f.Guard.isDocumentNode(H)&&(W=H)}var $=null,q=v.tree_retarget(D._relatedTarget,E);if(E!==q||E===D._relatedTarget){var Q=[];try{for(var Y=i(D._touchTargetList),ie=Y.next();!ie.done;ie=Y.next()){var J=ie.value;Q.push(v.tree_retarget(J,E))}}catch(ne){A={error:ne}}finally{try{ie&&!ie.done&&(I=Y.return)&&I.call(Y)}finally{if(A)throw A.error}}x(D,E,W,q,Q,!1);var ae=f.Guard.isMouseEvent(D)&&D._type==="click";ae&&E._activationBehavior!==void 0&&($=E);for(var re=f.Guard.isSlotable(E)&&g.shadowTree_isAssigned(E)?E:null,V=!1,R=E._getTheParent(D);R!==null&&f.Guard.isNode(R);){if(re!==null){if(!f.Guard.isSlot(R))throw new Error("Parent node of a slotable should be a slot.");re=null;var F=v.tree_rootNode(R,!0);f.Guard.isShadowRoot(F)&&F._mode==="closed"&&(V=!0)}f.Guard.isSlotable(R)&&g.shadowTree_isAssigned(R)&&(re=R),q=v.tree_retarget(D._relatedTarget,R),Q=[];try{for(var N=(U=void 0,i(D._touchTargetList)),L=N.next();!L.done;L=N.next())J=L.value,Q.push(v.tree_retarget(J,R))}catch(ne){U={error:ne}}finally{try{L&&!L.done&&(P=N.return)&&P.call(N)}finally{if(U)throw U.error}}f.Guard.isWindow(R)||f.Guard.isNode(R)&&f.Guard.isNode(E)&&v.tree_isAncestorOf(v.tree_rootNode(E,!0),R,!0,!0)?(ae&&D._bubbles&&$===null&&R._activationBehavior&&($=R),x(D,R,null,q,Q,V)):R===q?R=null:(E=R,ae&&$===null&&E._activationBehavior&&($=E),x(D,R,E,q,Q,V)),R!==null&&(R=R._getTheParent(D)),V=!1}for(var G=null,z=D._path,j=z.length-1;j>=0;j--)if((Z=z[j]).shadowAdjustedTarget!==null){G=Z;break}if(G!==null)if(f.Guard.isNode(G.shadowAdjustedTarget)&&f.Guard.isShadowRoot(v.tree_rootNode(G.shadowAdjustedTarget,!0)))B=!0;else if(f.Guard.isNode(G.relatedTarget)&&f.Guard.isShadowRoot(v.tree_rootNode(G.relatedTarget,!0)))B=!0;else for(var K=0;K<G.touchTargetList.length;K++){var Z=G.touchTargetList[K];if(f.Guard.isNode(Z)&&f.Guard.isShadowRoot(v.tree_rootNode(Z,!0))){B=!0;break}}for($!==null&&$._legacyPreActivationBehavior!==void 0&&$._legacyPreActivationBehavior(D),j=z.length-1;j>=0;j--)(Z=z[j]).shadowAdjustedTarget!==null?D._eventPhase=l.EventPhase.AtTarget:D._eventPhase=l.EventPhase.Capturing,w(Z,D,"capturing",O);for(j=0;j<z.length;j++){if((Z=z[j]).shadowAdjustedTarget!==null)D._eventPhase=l.EventPhase.AtTarget;else{if(!D._bubbles)continue;D._eventPhase=l.EventPhase.Bubbling}w(Z,D,"bubbling",O)}}return D._eventPhase=l.EventPhase.None,D._currentTarget=null,D._path=[],D._dispatchFlag=!1,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,B&&(D._target=null,D._relatedTarget=null,D._touchTargetList=[]),$!==null&&(D._canceledFlag||$._activationBehavior===void 0?$._legacyCanceledActivationBehavior!==void 0&&$._legacyCanceledActivationBehavior(D):$._activationBehavior(D)),!D._canceledFlag}function x(D,E,k,O,A,I){var U=!1;f.Guard.isNode(E)&&f.Guard.isShadowRoot(v.tree_rootNode(E))&&(U=!0);var P=!1;f.Guard.isShadowRoot(E)&&E._mode==="closed"&&(P=!0),D._path.push({invocationTarget:E,invocationTargetInShadowTree:U,shadowAdjustedTarget:k,relatedTarget:O,touchTargetList:A,rootOfClosedTree:P,slotInClosedTree:I})}function w(D,E,k,O){O===void 0&&(O={value:!1});for(var A=E._path,I=-1,U=0;U<A.length;U++)if(A[U]===D){I=U;break}if(I!==-1){var P=A[I];(P.shadowAdjustedTarget!==null||I>0&&(P=A[I-1]).shadowAdjustedTarget!==null)&&(E._target=P.shadowAdjustedTarget)}if(E._relatedTarget=D.relatedTarget,E._touchTargetList=D.touchTargetList,!E._stopPropagationFlag){E._currentTarget=D.invocationTarget;var B=E._currentTarget._eventListenerList,W=new(Array.bind.apply(Array,s([void 0],B)));if(!S(E,W,k,D,O)&&E._isTrusted){var H=E._type;H==="animationend"?E._type="webkitAnimationEnd":H==="animationiteration"?E._type="webkitAnimationIteration":H==="animationstart"?E._type="webkitAnimationStart":H==="transitionend"&&(E._type="webkitTransitionEnd"),S(E,W,k,D,O),E._type=H}}}function S(D,E,k,O,A){A===void 0&&(A={value:!1});for(var I=!1,U=0;U<E.length;U++){var P=E[U];if(!P.removed){if(D._type!==P.type||(I=!0,k==="capturing"&&!P.capture)||k==="bubbling"&&P.capture)continue;if(P.once&&D._currentTarget!==null){for(var B=D._currentTarget,W=-1,H=0;H<B._eventListenerList.length;H++)if(B._eventListenerList[H]===P){W=H;break}W!==-1&&B._eventListenerList.splice(W,1)}var $=void 0,q=void 0;f.Guard.isWindow($)&&(q=$._currentEvent,O.invocationTargetInShadowTree===!1&&($._currentEvent=D)),P.passive&&(D._inPassiveListenerFlag=!0);try{P.callback.handleEvent.call(D._currentTarget,D)}catch{A.value=!0}if(P.passive&&(D._inPassiveListenerFlag=!1),f.Guard.isWindow($)&&($._currentEvent=q),D._stopImmediatePropagationFlag)return I}}return I}function b(D,E){return null}function T(D,E){return null}function C(D,E){}function M(D,E){}n.event_setTheCanceledFlag=function(D){D._cancelable&&!D._inPassiveListenerFlag&&(D._canceledFlag=!0)},n.event_initialize=function(D,E,k,O){D._initializedFlag=!0,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,D._canceledFlag=!1,D._isTrusted=!1,D._target=null,D._type=E,D._bubbles=k,D._cancelable=O},n.event_createAnEvent=m,n.event_innerEventCreationSteps=d,n.event_dispatch=_,n.event_appendToAnEventPath=x,n.event_invoke=w,n.event_innerInvoke=S,n.event_fireAnEvent=function(D,E,k,O,A){k===void 0&&(k=h.EventImpl);var I=m(k);if(I._type=D,O)for(var U in O)I[U]=O[U];return _(I,E,A)},n.event_createLegacyEvent=function(D){var E=null;switch(D.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":E=c.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":E=h.EventImpl}if(E===null)throw new p.NotSupportedError("Event constructor not found for interface "+D+".");var k=new E("");return k._type="",k._timeStamp=new Date().getTime(),k._isTrusted=!1,k._initializedFlag=!1,k},n.event_getterEventHandlerIDLAttribute=function(D,E){return null},n.event_setterEventHandlerIDLAttribute=function(D,E,k){},n.event_determineTheTargetOfAnEventHandler=b,n.event_getTheCurrentValueOfAnEventHandler=T,n.event_activateAnEventHandler=C,n.event_deactivateAnEventHandler=M},function(r,n,a){var i,o=this&&this.__extends||(i=function(x,w){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var T in b)b.hasOwnProperty(T)&&(S[T]=b[T])})(x,w)},function(x,w){function S(){this.constructor=x}i(x,w),x.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),s=this&&this.__values||function(x){var w=typeof Symbol=="function"&&Symbol.iterator,S=w&&x[w],b=0;if(S)return S.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&b>=x.length&&(x=void 0),{value:x&&x[b++],done:!x}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(x,w){var S=typeof Symbol=="function"&&x[Symbol.iterator];if(!S)return x;var b,T,C=S.call(x),M=[];try{for(;(w===void 0||w-- >0)&&!(b=C.next()).done;)M.push(b.value)}catch(D){T={error:D}}finally{try{b&&!b.done&&(S=C.return)&&S.call(C)}finally{if(T)throw T.error}}return M};Object.defineProperty(n,"__esModule",{value:!0});var l=a(6),f=a(2),c=a(9),h=a(34),p=a(3),v=a(1),g=a(7),y=a(152),m=a(0),d=a(12),_=function(x){function w(){var S=x.call(this)||this;return S._children=new Set,S._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},S._contentType="application/xml",S._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},S._origin=null,S._type="xml",S._mode="no-quirks",S._documentElement=null,S._hasNamespaces=!1,S._nodeDocumentOverwrite=null,S}return o(w,x),Object.defineProperty(w.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(S){this._nodeDocumentOverwrite=S},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=m.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"URL",{get:function(){return y.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"doctype",{get:function(){var S,b;try{for(var T=s(this._children),C=T.next();!C.done;C=T.next()){var M=C.value;if(p.Guard.isDocumentTypeNode(M))return M}}catch(D){S={error:D}}finally{try{C&&!C.done&&(b=T.return)&&b.call(T)}finally{if(S)throw S.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),w.prototype.getElementsByTagName=function(S){return m.node_listOfElementsWithQualifiedName(S,this)},w.prototype.getElementsByTagNameNS=function(S,b){return m.node_listOfElementsWithNamespace(S,b,this)},w.prototype.getElementsByClassName=function(S){return m.node_listOfElementsWithClassNames(S,this)},w.prototype.createElement=function(S,b){if(!m.xml_isName(S))throw new c.InvalidCharacterError;this._type==="html"&&(S=S.toLowerCase());var T=null;b!==void 0&&(T=v.isString(b)?b:b.is);var C=this._type==="html"||this._contentType==="application/xhtml+xml"?g.namespace.HTML:null;return m.element_createAnElement(this,S,C,null,T,!0)},w.prototype.createElementNS=function(S,b,T){return m.document_internalCreateElementNS(this,S,b,T)},w.prototype.createDocumentFragment=function(){return m.create_documentFragment(this)},w.prototype.createTextNode=function(S){return m.create_text(this,S)},w.prototype.createCDATASection=function(S){if(this._type==="html")throw new c.NotSupportedError;if(S.indexOf("]]>")!==-1)throw new c.InvalidCharacterError;return m.create_cdataSection(this,S)},w.prototype.createComment=function(S){return m.create_comment(this,S)},w.prototype.createProcessingInstruction=function(S,b){if(!m.xml_isName(S))throw new c.InvalidCharacterError;if(b.indexOf("?>")!==-1)throw new c.InvalidCharacterError;return m.create_processingInstruction(this,S,b)},w.prototype.importNode=function(S,b){if(b===void 0&&(b=!1),p.Guard.isDocumentNode(S)||p.Guard.isShadowRoot(S))throw new c.NotSupportedError;return m.node_clone(S,this,b)},w.prototype.adoptNode=function(S){if(p.Guard.isDocumentNode(S))throw new c.NotSupportedError;if(p.Guard.isShadowRoot(S))throw new c.HierarchyRequestError;return m.document_adopt(S,this),S},w.prototype.createAttribute=function(S){if(!m.xml_isName(S))throw new c.InvalidCharacterError;return this._type==="html"&&(S=S.toLowerCase()),m.create_attr(this,S)},w.prototype.createAttributeNS=function(S,b){var T=u(m.namespace_validateAndExtract(S,b),3),C=T[0],M=T[1],D=T[2],E=m.create_attr(this,D);return E._namespace=C,E._namespacePrefix=M,E},w.prototype.createEvent=function(S){return m.event_createLegacyEvent(S)},w.prototype.createRange=function(){var S=m.create_range();return S._start=[this,0],S._end=[this,0],S},w.prototype.createNodeIterator=function(S,b,T){b===void 0&&(b=f.WhatToShow.All),T===void 0&&(T=null);var C=m.create_nodeIterator(S,S,!0);return C._whatToShow=b,C._iteratorCollection=m.create_nodeList(S),v.isFunction(T)?(C._filter=m.create_nodeFilter(),C._filter.acceptNode=T):C._filter=T,C},w.prototype.createTreeWalker=function(S,b,T){b===void 0&&(b=f.WhatToShow.All),T===void 0&&(T=null);var C=m.create_treeWalker(S,S);return C._whatToShow=b,v.isFunction(T)?(C._filter=m.create_nodeFilter(),C._filter.acceptNode=T):C._filter=T,C},w.prototype._getTheParent=function(S){return S._type==="load"?null:l.dom.window},w.prototype.getElementById=function(S){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(w.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),w.prototype.prepend=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.append=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelector=function(S){throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelectorAll=function(S){throw new Error("Mixin: ParentNode not implemented.")},w}(h.NodeImpl);n.DocumentImpl=_,d.idl_defineConst(_.prototype,"_nodeType",f.NodeType.Document)},function(r,n,a){var i,o=this&&this.__extends||(i=function(y,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var x in _)_.hasOwnProperty(x)&&(d[x]=_[x])})(y,m)},function(y,m){function d(){this.constructor=y}i(y,m),y.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}),s=this&&this.__values||function(y){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&y[m],_=0;if(d)return d.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&_>=y.length&&(y=void 0),{value:y&&y[_++],done:!y}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(y,m){var d=typeof Symbol=="function"&&y[Symbol.iterator];if(!d)return y;var _,x,w=d.call(y),S=[];try{for(;(m===void 0||m-- >0)&&!(_=w.next()).done;)S.push(_.value)}catch(b){x={error:b}}finally{try{_&&!_.done&&(d=w.return)&&d.call(w)}finally{if(x)throw x.error}}return S};Object.defineProperty(n,"__esModule",{value:!0});var l=a(2),f=a(34),c=a(9),h=a(7),p=a(0),v=a(12),g=function(y){function m(){var d=y.call(this)||this;return d._children=new Set,d._namespace=null,d._namespacePrefix=null,d._localName="",d._customElementState="undefined",d._customElementDefinition=null,d._is=null,d._shadowRoot=null,d._attributeList=p.create_namedNodeMap(d),d._attributeChangeSteps=[],d._name="",d._assignedSlot=null,d}return o(m,y),Object.defineProperty(m.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"id",{get:function(){return p.element_getAnAttributeValue(this,"id")},set:function(d){p.element_setAnAttributeValue(this,"id",d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"className",{get:function(){return p.element_getAnAttributeValue(this,"class")},set:function(d){p.element_setAnAttributeValue(this,"class",d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"classList",{get:function(){var d=p.element_getAnAttributeByName("class",this);return d===null&&(d=p.create_attr(this._nodeDocument,"class")),p.create_domTokenList(this,d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"slot",{get:function(){return p.element_getAnAttributeValue(this,"slot")},set:function(d){p.element_setAnAttributeValue(this,"slot",d)},enumerable:!0,configurable:!0}),m.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(m.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),m.prototype.getAttributeNames=function(){var d,_,x=[];try{for(var w=s(this._attributeList),S=w.next();!S.done;S=w.next()){var b=S.value;x.push(b._qualifiedName)}}catch(T){d={error:T}}finally{try{S&&!S.done&&(_=w.return)&&_.call(w)}finally{if(d)throw d.error}}return x},m.prototype.getAttribute=function(d){var _=p.element_getAnAttributeByName(d,this);return _?_._value:null},m.prototype.getAttributeNS=function(d,_){var x=p.element_getAnAttributeByNamespaceAndLocalName(d,_,this);return x?x._value:null},m.prototype.setAttribute=function(d,_){if(!p.xml_isName(d))throw new c.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var S=this._attributeList[w];if(S._qualifiedName===d){x=S;break}}if(x===null)return(x=p.create_attr(this._nodeDocument,d))._value=_,void p.element_append(x,this);p.element_change(x,this,_)},m.prototype.setAttributeNS=function(d,_,x){var w=u(p.namespace_validateAndExtract(d,_),3),S=w[0],b=w[1],T=w[2];p.element_setAnAttributeValue(this,T,x,b,S)},m.prototype.removeAttribute=function(d){p.element_removeAnAttributeByName(d,this)},m.prototype.removeAttributeNS=function(d,_){p.element_removeAnAttributeByNamespaceAndLocalName(d,_,this)},m.prototype.hasAttribute=function(d){this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var _=0;_<this._attributeList.length;_++)if(this._attributeList[_]._qualifiedName===d)return!0;return!1},m.prototype.toggleAttribute=function(d,_){if(!p.xml_isName(d))throw new c.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var S=this._attributeList[w];if(S._qualifiedName===d){x=S;break}}return x===null?(_===void 0||_===!0)&&((x=p.create_attr(this._nodeDocument,d))._value="",p.element_append(x,this),!0):_!==void 0&&_!==!1||(p.element_removeAnAttributeByName(d,this),!1)},m.prototype.hasAttributeNS=function(d,_){for(var x=d||null,w=0;w<this._attributeList.length;w++){var S=this._attributeList[w];if(S._namespace===x&&S._localName===_)return!0}return!1},m.prototype.getAttributeNode=function(d){return p.element_getAnAttributeByName(d,this)},m.prototype.getAttributeNodeNS=function(d,_){return p.element_getAnAttributeByNamespaceAndLocalName(d,_,this)},m.prototype.setAttributeNode=function(d){return p.element_setAnAttribute(d,this)},m.prototype.setAttributeNodeNS=function(d){return p.element_setAnAttribute(d,this)},m.prototype.removeAttributeNode=function(d){for(var _=!1,x=0;x<this._attributeList.length;x++)if(this._attributeList[x]===d){_=!0;break}if(!_)throw new c.NotFoundError;return p.element_remove(d,this),d},m.prototype.attachShadow=function(d){if(this._namespace!==h.namespace.HTML)throw new c.NotSupportedError;if(!p.customElement_isValidCustomElementName(this._localName)&&!p.customElement_isValidShadowHostName(this._localName))throw new c.NotSupportedError;if(p.customElement_isValidCustomElementName(this._localName)||this._is!==null){var _=p.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(_!==null&&_.disableShadow===!0)throw new c.NotSupportedError}if(this._shadowRoot!==null)throw new c.NotSupportedError;var x=p.create_shadowRoot(this._nodeDocument,this);return x._mode=d.mode,this._shadowRoot=x,x},Object.defineProperty(m.prototype,"shadowRoot",{get:function(){var d=this._shadowRoot;return d===null||d.mode==="closed"?null:d},enumerable:!0,configurable:!0}),m.prototype.closest=function(d){throw new c.NotImplementedError},m.prototype.matches=function(d){throw new c.NotImplementedError},m.prototype.webkitMatchesSelector=function(d){return this.matches(d)},m.prototype.getElementsByTagName=function(d){return p.node_listOfElementsWithQualifiedName(d,this)},m.prototype.getElementsByTagNameNS=function(d,_){return p.node_listOfElementsWithNamespace(d,_,this)},m.prototype.getElementsByClassName=function(d){return p.node_listOfElementsWithClassNames(d,this)},m.prototype.insertAdjacentElement=function(d,_){return p.element_insertAdjacent(this,d,_)},m.prototype.insertAdjacentText=function(d,_){var x=p.create_text(this._nodeDocument,_);p.element_insertAdjacent(this,d,x)},Object.defineProperty(m.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"_htmlUppercasedQualifiedName",{get:function(){var d=this._qualifiedName;return this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toUpperCase()),d},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),m.prototype.prepend=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];throw new Error("Mixin: ParentNode not implemented.")},m.prototype.append=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];throw new Error("Mixin: ParentNode not implemented.")},m.prototype.querySelector=function(d){throw new Error("Mixin: ParentNode not implemented.")},m.prototype.querySelectorAll=function(d){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(m.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),m.prototype.before=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.after=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.replaceWith=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(m.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),m._create=function(d,_,x,w){x===void 0&&(x=null),w===void 0&&(w=null);var S=new m;return S._localName=_,S._namespace=x,S._namespacePrefix=w,S._nodeDocument=d,S},m}(f.NodeImpl);n.ElementImpl=g,v.idl_defineConst(g.prototype,"_nodeType",l.NodeType.Element)},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(34),l=a(12),f=function(c){function h(p){p===void 0&&(p=null);var v=c.call(this)||this;return v._children=new Set,v._host=p,v}return o(h,c),h.prototype.getElementById=function(p){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(h.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),h.prototype.prepend=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.append=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelector=function(p){throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelectorAll=function(p){throw new Error("Mixin: ParentNode not implemented.")},h._create=function(p,v){v===void 0&&(v=null);var g=new h(v);return g._nodeDocument=p,g},h}(u.NodeImpl);n.DocumentFragmentImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.DocumentFragment)},function(r,n,a){var i,o=this&&this.__extends||(i=function(p,v){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var m in y)y.hasOwnProperty(m)&&(g[m]=y[m])})(p,v)},function(p,v){function g(){this.constructor=p}i(p,v),p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}),s=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&p[v],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(2),l=a(71),f=a(0),c=a(12),h=function(p){function v(g){g===void 0&&(g="");var y=p.call(this,g)||this;return y._name="",y._assignedSlot=null,y}return o(v,p),Object.defineProperty(v.prototype,"wholeText",{get:function(){var g,y,m="";try{for(var d=s(f.text_contiguousTextNodes(this,!0)),_=d.next();!_.done;_=d.next())m+=_.value._data}catch(x){g={error:x}}finally{try{_&&!_.done&&(y=d.return)&&y.call(d)}finally{if(g)throw g.error}}return m},enumerable:!0,configurable:!0}),v.prototype.splitText=function(g){return f.text_split(this,g)},Object.defineProperty(v.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),v._create=function(g,y){y===void 0&&(y="");var m=new v(y);return m._nodeDocument=g,m},v}(l.CharacterDataImpl);n.TextImpl=h,c.idl_defineConst(h.prototype,"_nodeType",u.NodeType.Text)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){}return Object.defineProperty(o.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),o}();n.AbstractRangeImpl=i},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=function(){function s(u){this._activeFlag=!1,this._root=u,this._whatToShow=i.WhatToShow.All,this._filter=null}return Object.defineProperty(s.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),s}();n.TraverserImpl=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=a(0),s=a(12),u=function(){function l(f,c){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=i.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=f,c&&(this._bubbles=c.bubbles||!1,this._cancelable=c.cancelable||!1,this._composedFlag=c.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(l.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),l.prototype.composedPath=function(){var f=[],c=this._path;if(c.length===0)return f;var h=this._currentTarget;if(h===null)throw new Error("Event currentTarget is null.");f.push(h);for(var p=0,v=0,g=c.length-1;g>=0;){if(c[g].rootOfClosedTree&&v++,c[g].invocationTarget===h){p=g;break}c[g].slotInClosedTree&&v--,g--}var y=v,m=v;for(g=p-1;g>=0;)c[g].rootOfClosedTree&&y++,y<=m&&f.unshift(c[g].invocationTarget),c[g].slotInClosedTree&&--y<m&&(m=y),g--;for(y=v,m=v,g=p+1;g<c.length;)c[g].slotInClosedTree&&y++,y<=m&&f.push(c[g].invocationTarget),c[g].rootOfClosedTree&&--y<m&&(m=y),g++;return f},Object.defineProperty(l.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),l.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(l.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(f){f&&this.stopPropagation()},enumerable:!0,configurable:!0}),l.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(l.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(f){f||o.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),l.prototype.preventDefault=function(){o.event_setTheCanceledFlag(this)},Object.defineProperty(l.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),l.prototype.initEvent=function(f,c,h){c===void 0&&(c=!1),h===void 0&&(h=!1),this._dispatchFlag||o.event_initialize(this,f,c,h)},l.NONE=0,l.CAPTURING_PHASE=1,l.AT_TARGET=2,l.BUBBLING_PHASE=3,l}();n.EventImpl=u,s.idl_defineConst(u.prototype,"NONE",0),s.idl_defineConst(u.prototype,"CAPTURING_PHASE",1),s.idl_defineConst(u.prototype,"AT_TARGET",2),s.idl_defineConst(u.prototype,"BUBBLING_PHASE",3)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=a(9);n.traversal_filter=function(s,u){if(s._activeFlag)throw new o.InvalidStateError;var l=1<<u._nodeType-1;if((s.whatToShow&l)==0)return i.FilterResult.Skip;if(!s.filter)return i.FilterResult.Accept;s._activeFlag=!0;var f=i.FilterResult.Reject;try{f=s.filter.acceptNode(u)}catch(c){throw s._activeFlag=!1,c}return s._activeFlag=!1,f}},function(r,n,a){var i=this&&this.__read||function(m,d){var _=typeof Symbol=="function"&&m[Symbol.iterator];if(!_)return m;var x,w,S=_.call(m),b=[];try{for(;(d===void 0||d-- >0)&&!(x=S.next()).done;)b.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}return b},o=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&m[d],x=0;if(_)return _.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),u=a(3),l=a(1),f=a(99),c=a(73),h=a(17),p=a(173),v=a(30),g=a(52),y=a(37);n.document_elementInterface=function(m,d){return f.ElementImpl},n.document_internalCreateElementNS=function(m,d,_,x){var w=i(p.namespace_validateAndExtract(d,_),3),S=w[0],b=w[1],T=w[2],C=null;return x!==void 0&&(C=l.isString(x)?x:x.is),g.element_createAnElement(m,T,S,b,C,!0)},n.document_adopt=function(m,d){var _,x;if(m._nodeDocument!==d||m._parent!==null){var w=m._nodeDocument;if(m._parent&&y.mutation_remove(m,m._parent),d!==w)for(var S=h.tree_getFirstDescendantNode(m,!0,!0);S!==null;){if(S._nodeDocument=d,u.Guard.isElementNode(S))try{for(var b=(_=void 0,o(S._attributeList._asArray())),T=b.next();!T.done;T=b.next())T.value._nodeDocument=d}catch(C){_={error:C}}finally{try{T&&!T.done&&(x=b.return)&&x.call(b)}finally{if(_)throw _.error}}s.dom.features.customElements&&u.Guard.isElementNode(S)&&S._customElementState==="custom"&&c.customElement_enqueueACustomElementCallbackReaction(S,"adoptedCallback",[w,d]),s.dom.features.steps&&v.dom_runAdoptingSteps(S,w),S=h.tree_getNextDescendantNode(m,S,!0,!0)}}}},function(r,n,a){var i=this&&this.__values||function(h){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&h[p],g=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&g>=h.length&&(h=void 0),{value:h&&h[g++],done:!h}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(3),u=a(9),l=a(17),f=a(51),c=a(30);n.characterData_replaceData=function(h,p,v,g){var y,m,d=l.tree_nodeLength(h);if(p>d)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+d+", Node is "+h.nodeName+".");p+v>d&&(v=d-p),o.dom.features.mutationObservers&&f.observer_queueMutationRecord("characterData",h,null,null,h._data,[],[],null,null);var _=h._data.substring(0,p)+g+h._data.substring(p+v);h._data=_;try{for(var x=i(o.dom.rangeList),w=x.next();!w.done;w=x.next()){var S=w.value;S._start[0]===h&&S._start[1]>p&&S._start[1]<=p+v&&(S._start[1]=p),S._end[0]===h&&S._end[1]>p&&S._end[1]<=p+v&&(S._end[1]=p),S._start[0]===h&&S._start[1]>p+v&&(S._start[1]+=g.length-v),S._end[0]===h&&S._end[1]>p+v&&(S._end[1]+=g.length-v)}}catch(b){y={error:b}}finally{try{w&&!w.done&&(m=x.return)&&m.call(x)}finally{if(y)throw y.error}}o.dom.features.steps&&s.Guard.isTextNode(h)&&h._parent!==null&&c.dom_runChildTextContentChangeSteps(h._parent)},n.characterData_substringData=function(h,p,v){var g=l.tree_nodeLength(h);if(p>g)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+g+", Node is "+h.nodeName+".");return p+v>g?h._data.substr(p):h._data.substr(p,v)}},function(r,n,a){var i=this&&this.__read||function(c,h){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var v,g,y=p.call(c),m=[];try{for(;(h===void 0||h-- >0)&&!(v=y.next()).done;)m.push(v.value)}catch(d){g={error:d}}finally{try{v&&!v.done&&(p=y.return)&&p.call(y)}finally{if(g)throw g.error}}return m},o=this&&this.__spread||function(){for(var c=[],h=0;h<arguments.length;h++)c=c.concat(i(arguments[h]));return c},s=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(7);function l(c){var h=u.string.splitAStringOnASCIIWhitespace(c);return new Set(h)}function f(c){return o(c).join(" ")}n.orderedSet_parse=l,n.orderedSet_serialize=f,n.orderedSet_sanitize=function(c){return f(l(c))},n.orderedSet_contains=function(c,h,p){var v,g,y,m;try{for(var d=s(h),_=d.next();!_.done;_=d.next()){var x=_.value,w=!1;try{for(var S=(y=void 0,s(c)),b=S.next();!b.done;b=S.next()){var T=b.value;if(p){if(T===x){w=!0;break}}else if(T.toUpperCase()===x.toUpperCase()){w=!0;break}}}catch(C){y={error:C}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(y)throw y.error}}if(!w)return!1}}catch(C){v={error:C}}finally{try{_&&!_.done&&(g=d.return)&&g.call(d)}finally{if(v)throw v.error}}return!0}},function(r,n,a){a(179),Object.defineProperty(n,"__esModule",{value:!0});var i=a(262),o=a(110),s=a(1);o.dom.setFeatures(!1),n.createDocument=function(){var u=new i.DOMImplementation().createDocument(null,"root",null);return u.documentElement&&u.removeChild(u.documentElement),u},n.sanitizeInput=function(u,l){if(u==null)return u;if(l===void 0)return u+"";var f="";u+="";for(var c=0;c<u.length;c++){var h=u.charCodeAt(c);if(h===9||h===10||h===13||h>=32&&h<=55295||h>=57344&&h<=65533)f+=u.charAt(c);else if(h>=55296&&h<=56319&&c<u.length-1){var p=u.charCodeAt(c+1);p>=56320&&p<=57343?(h=1024*(h-55296)+p-56320+65536,f+=String.fromCodePoint(h),c++):f+=s.isString(l)?l:l(u.charAt(c),c,u)}else f+=s.isString(l)?l:l(u.charAt(c),c,u)}return f}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=a(153);n.AbortController=o.AbortControllerImpl;var s=a(154);n.AbortSignal=s.AbortSignalImpl;var u=a(102);n.AbstractRange=u.AbstractRangeImpl;var l=a(157);n.Attr=l.AttrImpl;var f=a(158);n.CDATASection=f.CDATASectionImpl;var c=a(71);n.CharacterData=c.CharacterDataImpl;var h=a(263),p=a(159);n.Comment=p.CommentImpl;var v=a(171);n.CustomEvent=v.CustomEventImpl;var g=a(100);n.DocumentFragment=g.DocumentFragmentImpl;var y=a(98);n.Document=y.DocumentImpl;var m=a(264),d=a(155);n.DocumentType=d.DocumentTypeImpl;var _=a(6);n.dom=_.dom;var x=a(148);n.DOMImplementation=x.DOMImplementationImpl;var w=a(170);n.DOMTokenList=w.DOMTokenListImpl;var S=a(99);n.Element=S.ElementImpl;var b=a(104);n.Event=b.EventImpl;var T=a(70);n.EventTarget=T.EventTargetImpl;var C=a(161);n.HTMLCollection=C.HTMLCollectionImpl;var M=a(265);n.MutationObserver=M.MutationObserverImpl;var D=a(169);n.MutationRecord=D.MutationRecordImpl;var E=a(164);n.NamedNodeMap=E.NamedNodeMapImpl;var k=a(168);n.NodeFilter=k.NodeFilterImpl;var O=a(34);n.Node=O.NodeImpl;var A=a(166);n.NodeIterator=A.NodeIteratorImpl;var I=a(162);n.NodeList=I.NodeListImpl;var U=a(163);n.NodeListStatic=U.NodeListStaticImpl;var P=a(266),B=a(267),W=a(268),H=a(160);n.ProcessingInstruction=H.ProcessingInstructionImpl;var $=a(165);n.Range=$.RangeImpl;var q=a(156);n.ShadowRoot=q.ShadowRootImpl;var Q=a(269),Y=a(270);n.StaticRange=Y.StaticRangeImpl;var ie=a(101);n.Text=ie.TextImpl;var J=a(103);n.Traverser=J.TraverserImpl;var ae=a(167);n.TreeWalker=ae.TreeWalkerImpl;var re=a(149);n.Window=re.WindowImpl;var V=a(151);n.XMLDocument=V.XMLDocumentImpl,i.applyMixin(S.ElementImpl,h.ChildNodeImpl),i.applyMixin(c.CharacterDataImpl,h.ChildNodeImpl),i.applyMixin(d.DocumentTypeImpl,h.ChildNodeImpl),i.applyMixin(y.DocumentImpl,m.DocumentOrShadowRootImpl),i.applyMixin(q.ShadowRootImpl,m.DocumentOrShadowRootImpl),i.applyMixin(S.ElementImpl,P.NonDocumentTypeChildNodeImpl),i.applyMixin(c.CharacterDataImpl,P.NonDocumentTypeChildNodeImpl),i.applyMixin(y.DocumentImpl,B.NonElementParentNodeImpl),i.applyMixin(g.DocumentFragmentImpl,B.NonElementParentNodeImpl),i.applyMixin(y.DocumentImpl,W.ParentNodeImpl),i.applyMixin(g.DocumentFragmentImpl,W.ParentNodeImpl),i.applyMixin(S.ElementImpl,W.ParentNodeImpl),i.applyMixin(ie.TextImpl,Q.SlotableImpl),i.applyMixin(S.ElementImpl,Q.SlotableImpl)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),function(i){i[i.EOF=0]="EOF",i[i.Declaration=1]="Declaration",i[i.DocType=2]="DocType",i[i.Element=3]="Element",i[i.Text=4]="Text",i[i.CDATA=5]="CDATA",i[i.PI=6]="PI",i[i.Comment=7]="Comment",i[i.ClosingTag=8]="ClosingTag"}(n.TokenType||(n.TokenType={}))},function(r,n,a){a(64),a(20),a(66);var i,o=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])})(l,f)},function(l,f){function c(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),u=function(l){function f(){return l!==null&&l.apply(this,arguments)||this}return o(f,l),f.prototype._parse=function(c,h){var p=this,v=this._builderOptions,g=null;return s.isFunction(h)?g=this.parse(c,h.apply(this)):s.isArray(h)||s.isSet(h)?s.forEachArray(h,function(y){return g=p.parse(c,y)},this):s.isMap(h)||s.isObject(h)?s.forEachObject(h,function(y,m){if(s.isFunction(m)&&(m=m.apply(p)),v.ignoreConverters||y.indexOf(v.convert.att)!==0)if(v.ignoreConverters||y.indexOf(v.convert.text)!==0)if(v.ignoreConverters||y.indexOf(v.convert.cdata)!==0)if(v.ignoreConverters||y.indexOf(v.convert.comment)!==0)if(v.ignoreConverters||y.indexOf(v.convert.ins)!==0){if(!((s.isArray(m)||s.isSet(m))&&s.isEmpty(m))){if((s.isMap(m)||s.isObject(m))&&s.isEmpty(m))g=p.element(c,void 0,p.sanitize(y))||g;else if(v.keepNullNodes||m!=null)if(s.isArray(m)||s.isSet(m))s.forEachArray(m,function(S){var b={};b[y]=S,g=p.parse(c,b)},p);else if(s.isMap(m)||s.isObject(m))(d=p.element(c,void 0,p.sanitize(y)))&&(g=d,p.parse(d,m));else if(m!=null&&m!==""){var d;(d=p.element(c,void 0,p.sanitize(y)))&&(g=d,p.text(d,p._decodeText(p.sanitize(m))))}else g=p.element(c,void 0,p.sanitize(y))||g}}else if(s.isString(m)){var _=m.indexOf(" "),x=_===-1?m:m.substr(0,_),w=_===-1?"":m.substr(_+1);g=p.instruction(c,p.sanitize(x),p.sanitize(w))||g}else s.isArray(m)||s.isSet(m)?s.forEachArray(m,function(S){var b=S.indexOf(" "),T=b===-1?S:S.substr(0,b),C=b===-1?"":S.substr(b+1);g=p.instruction(c,p.sanitize(T),p.sanitize(C))||g},p):s.forEachObject(m,function(S,b){return g=p.instruction(c,p.sanitize(S),p.sanitize(b))||g},p);else s.isArray(m)||s.isSet(m)?s.forEachArray(m,function(S){return g=p.comment(c,p.sanitize(S))||g},p):g=p.comment(c,p.sanitize(m))||g;else s.isArray(m)||s.isSet(m)?s.forEachArray(m,function(S){return g=p.cdata(c,p.sanitize(S))||g},p):g=p.cdata(c,p.sanitize(m))||g;else g=s.isMap(m)||s.isObject(m)?p.parse(c,m):p.text(c,p._decodeText(p.sanitize(m)))||g;else if(y===v.convert.att){if(s.isArray(m)||s.isSet(m))throw new Error("Invalid attribute: "+m.toString()+". "+c._debugInfo());s.forEachObject(m,function(S,b){g=p.attribute(c,void 0,p.sanitize(S),p._decodeAttributeValue(p.sanitize(b)))||g})}else g=p.attribute(c,void 0,p.sanitize(y.substr(v.convert.att.length)),p._decodeAttributeValue(p.sanitize(m)))||g},this):(v.keepNullNodes||h!=null)&&(g=this.text(c,this._decodeText(this.sanitize(h)))||g),g||c},f}(a(75).BaseReader);n.ObjectReader=u},function(r,n,a){var i=a(39);r.exports=new i({explicit:[a(286),a(287),a(288)]})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(o){this.level=0,this._builderOptions=o,this._writerOptions=o};n.BaseCBWriter=i},function(r,n,a){var i=a(16),o=a(8),s=a(116);r.exports=!i&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(r,n,a){var i=a(11),o=a(13),s=i.document,u=o(s)&&o(s.createElement);r.exports=function(l){return u?s.createElement(l):{}}},function(r,n,a){var i=a(118),o=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(s){return o.call(s)}),r.exports=i.inspectSource},function(r,n,a){var i=a(11),o=a(80),s=i["__core-js_shared__"]||o("__core-js_shared__",{});r.exports=s},function(r,n,a){var i=a(14),o=a(187),s=a(55),u=a(15);r.exports=function(l,f){for(var c=o(f),h=u.f,p=s.f,v=0;v<c.length;v++){var g=c[v];i(l,g)||h(l,g,p(f,g))}}},function(r,n,a){var i=a(11);r.exports=i},function(r,n,a){var i=a(14),o=a(24),s=a(122).indexOf,u=a(45);r.exports=function(l,f){var c,h=o(l),p=0,v=[];for(c in h)!i(u,c)&&i(h,c)&&v.push(c);for(;f.length>p;)i(h,c=f[p++])&&(~s(v,c)||v.push(c));return v}},function(r,n,a){var i=a(24),o=a(26),s=a(83),u=function(l){return function(f,c,h){var p,v=i(f),g=o(v.length),y=s(h,g);if(l&&c!=c){for(;g>y;)if((p=v[y++])!=p)return!0}else for(;g>y;y++)if((l||y in v)&&v[y]===c)return l||y||0;return!l&&-1}};r.exports={includes:u(!0),indexOf:u(!1)}},function(r,n,a){var i=a(8),o=/#|\.prototype\./,s=function(h,p){var v=l[u(h)];return v==c||v!=f&&(typeof p=="function"?i(p):!!p)},u=s.normalize=function(h){return String(h).replace(o,".").toLowerCase()},l=s.data={},f=s.NATIVE="N",c=s.POLYFILL="P";r.exports=s},function(r,n,a){var i=a(86);r.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(r,n,a){var i=a(5);n.f=i},function(r,n,a){var i=a(120),o=a(14),s=a(125),u=a(15).f;r.exports=function(l){var f=i.Symbol||(i.Symbol={});o(f,l)||u(f,l,{value:s.f(l)})}},function(r,n){r.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(r,n,a){var i=a(13),o=a(59),s=a(5)("species");r.exports=function(u,l){var f;return o(u)&&(typeof(f=u.constructor)!="function"||f!==Array&&!o(f.prototype)?i(f)&&(f=f[s])===null&&(f=void 0):f=void 0),new(f===void 0?Array:f)(l===0?0:l)}},function(r,n,a){var i,o,s=a(11),u=a(193),l=s.process,f=l&&l.versions,c=f&&f.v8;c?o=(i=c.split("."))[0]+i[1]:u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(o=i[1]),r.exports=o&&+o},function(r,n,a){var i=a(5),o=a(60),s=a(15),u=i("unscopables"),l=Array.prototype;l[u]==null&&s.f(l,u,{configurable:!0,value:o(null)}),r.exports=function(f){l[u][f]=!0}},function(r,n,a){var i,o,s,u=a(132),l=a(21),f=a(14),c=a(5),h=a(44),p=c("iterator"),v=!1;[].keys&&("next"in(s=[].keys())?(o=u(u(s)))!==Object.prototype&&(i=o):v=!0),i==null&&(i={}),h||f(i,p)||l(i,p,function(){return this}),r.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},function(r,n,a){var i=a(14),o=a(27),s=a(57),u=a(196),l=s("IE_PROTO"),f=Object.prototype;r.exports=u?Object.getPrototypeOf:function(c){return c=o(c),i(c,l)?c[l]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?f:null}},function(r,n,a){var i=a(18),o=a(197);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,u=!1,l={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(l,[]),u=l instanceof Array}catch{}return function(f,c){return i(f),o(c),u?s.call(f,c):f.__proto__=c,f}}():void 0)},function(r,n,a){var i=a(56),o=a(15),s=a(40);r.exports=function(u,l,f){var c=i(l);c in u?o.f(u,c,s(0,f)):u[c]=f}},function(r,n,a){var i=a(90),o=a(42),s=a(5)("toStringTag"),u=o(function(){return arguments}())=="Arguments";r.exports=i?o:function(l){var f,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=function(p,v){try{return p[v]}catch{}}(f=Object(l),s))=="string"?c:u?o(f):(h=o(f))=="Object"&&typeof f.callee=="function"?"Arguments":h}},function(r,n,a){var i=a(18);r.exports=function(){var o=i(this),s="";return o.global&&(s+="g"),o.ignoreCase&&(s+="i"),o.multiline&&(s+="m"),o.dotAll&&(s+="s"),o.unicode&&(s+="u"),o.sticky&&(s+="y"),s}},function(r,n,a){var i=a(47),o=a(35),s=function(u){return function(l,f){var c,h,p=String(o(l)),v=i(f),g=p.length;return v<0||v>=g?u?"":void 0:(c=p.charCodeAt(v))<55296||c>56319||v+1===g||(h=p.charCodeAt(v+1))<56320||h>57343?u?p.charAt(v):c:u?p.slice(v,v+2):h-56320+(c-55296<<10)+65536}};r.exports={codeAt:s(!1),charAt:s(!0)}},function(r,n,a){var i=a(4),o=a(27),s=a(61);i({target:"Object",stat:!0,forced:a(8)(function(){s(1)})},{keys:function(u){return s(o(u))}})},function(r,n,a){var i=a(4),o=a(11),s=a(123),u=a(25),l=a(140),f=a(141),c=a(142),h=a(13),p=a(8),v=a(208),g=a(62),y=a(209);r.exports=function(m,d,_){var x=m.indexOf("Map")!==-1,w=m.indexOf("Weak")!==-1,S=x?"set":"add",b=o[m],T=b&&b.prototype,C=b,M={},D=function(U){var P=T[U];u(T,U,U=="add"?function(B){return P.call(this,B===0?0:B),this}:U=="delete"?function(B){return!(w&&!h(B))&&P.call(this,B===0?0:B)}:U=="get"?function(B){return w&&!h(B)?void 0:P.call(this,B===0?0:B)}:U=="has"?function(B){return!(w&&!h(B))&&P.call(this,B===0?0:B)}:function(B,W){return P.call(this,B===0?0:B,W),this})};if(s(m,typeof b!="function"||!(w||T.forEach&&!p(function(){new b().entries().next()}))))C=_.getConstructor(d,m,x,S),l.REQUIRED=!0;else if(s(m,!0)){var E=new C,k=E[S](w?{}:-0,1)!=E,O=p(function(){E.has(1)}),A=v(function(U){new b(U)}),I=!w&&p(function(){for(var U=new b,P=5;P--;)U[S](P,P);return!U.has(-0)});A||((C=d(function(U,P){c(U,C,m);var B=y(new b,U,C);return P!=null&&f(P,B[S],B,x),B})).prototype=T,T.constructor=C),(O||I)&&(D("delete"),D("has"),x&&D("get")),(I||k)&&D(S),w&&T.clear&&delete T.clear}return M[m]=C,i({global:!0,forced:C!=b},M),g(C,m),w||_.setStrong(C,m,x),C}},function(r,n,a){var i=a(45),o=a(13),s=a(14),u=a(15).f,l=a(58),f=a(204),c=l("meta"),h=0,p=Object.isExtensible||function(){return!0},v=function(y){u(y,c,{value:{objectID:"O"+ ++h,weakData:{}}})},g=r.exports={REQUIRED:!1,fastKey:function(y,m){if(!o(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!s(y,c)){if(!p(y))return"F";if(!m)return"E";v(y)}return y[c].objectID},getWeakData:function(y,m){if(!s(y,c)){if(!p(y))return!0;if(!m)return!1;v(y)}return y[c].weakData},onFreeze:function(y){return f&&g.REQUIRED&&p(y)&&!s(y,c)&&v(y),y}};i[c]=!0},function(r,n,a){var i=a(18),o=a(205),s=a(26),u=a(87),l=a(206),f=a(207),c=function(h,p){this.stopped=h,this.result=p};(r.exports=function(h,p,v,g,y){var m,d,_,x,w,S,b,T=u(p,v,g?2:1);if(y)m=h;else{if(typeof(d=l(h))!="function")throw TypeError("Target is not iterable");if(o(d)){for(_=0,x=s(h.length);x>_;_++)if((w=g?T(i(b=h[_])[0],b[1]):T(h[_]))&&w instanceof c)return w;return new c(!1)}m=d.call(h)}for(S=m.next;!(b=S.call(m)).done;)if(typeof(w=f(m,T,b.value,g))=="object"&&w&&w instanceof c)return w;return new c(!1)}).stop=function(h){return new c(!0,h)}},function(r,n){r.exports=function(a,i,o){if(!(a instanceof i))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return a}},function(r,n,a){var i=a(15).f,o=a(60),s=a(210),u=a(87),l=a(142),f=a(141),c=a(88),h=a(211),p=a(16),v=a(140).fastKey,g=a(43),y=g.set,m=g.getterFor;r.exports={getConstructor:function(d,_,x,w){var S=d(function(M,D){l(M,S,_),y(M,{type:_,index:o(null),first:void 0,last:void 0,size:0}),p||(M.size=0),D!=null&&f(D,M[w],M,x)}),b=m(_),T=function(M,D,E){var k,O,A=b(M),I=C(M,D);return I?I.value=E:(A.last=I={index:O=v(D,!0),key:D,value:E,previous:k=A.last,next:void 0,removed:!1},A.first||(A.first=I),k&&(k.next=I),p?A.size++:M.size++,O!=="F"&&(A.index[O]=I)),M},C=function(M,D){var E,k=b(M),O=v(D);if(O!=="F")return k.index[O];for(E=k.first;E;E=E.next)if(E.key==D)return E};return s(S.prototype,{clear:function(){for(var M=b(this),D=M.index,E=M.first;E;)E.removed=!0,E.previous&&(E.previous=E.previous.next=void 0),delete D[E.index],E=E.next;M.first=M.last=void 0,p?M.size=0:this.size=0},delete:function(M){var D=b(this),E=C(this,M);if(E){var k=E.next,O=E.previous;delete D.index[E.index],E.removed=!0,O&&(O.next=k),k&&(k.previous=O),D.first==E&&(D.first=k),D.last==E&&(D.last=O),p?D.size--:this.size--}return!!E},forEach:function(M){for(var D,E=b(this),k=u(M,arguments.length>1?arguments[1]:void 0,3);D=D?D.next:E.first;)for(k(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(M){return!!C(this,M)}}),s(S.prototype,x?{get:function(M){var D=C(this,M);return D&&D.value},set:function(M,D){return T(this,M===0?0:M,D)}}:{add:function(M){return T(this,M=M===0?0:M,M)}}),p&&i(S.prototype,"size",{get:function(){return b(this).size}}),S},setStrong:function(d,_,x){var w=_+" Iterator",S=m(_),b=m(w);c(d,_,function(T,C){y(this,{type:w,target:T,state:S(T),kind:C,last:void 0})},function(){for(var T=b(this),C=T.kind,M=T.last;M&&M.removed;)M=M.previous;return T.target&&(T.last=M=M?M.next:T.state.first)?C=="keys"?{value:M.key,done:!1}:C=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}:(T.target=void 0,{value:void 0,done:!0})},x?"entries":"values",!x,!0),h(_)}}},function(r,n,a){var i,o=a(4),s=a(55).f,u=a(26),l=a(222),f=a(35),c=a(224),h=a(44),p="".endsWith,v=Math.min,g=c("endsWith");o({target:"String",proto:!0,forced:!!(h||g||(i=s(String.prototype,"endsWith"),!i||i.writable))&&!g},{endsWith:function(y){var m=String(f(this));l(y);var d=arguments.length>1?arguments[1]:void 0,_=u(m.length),x=d===void 0?_:v(u(d),_),w=String(y);return p?p.call(m,w,x):m.slice(x-w.length,x)===w}})},function(r,n,a){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=a(229),s=a(230),u=a(231);function l(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(V,R){if(l()<R)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(V=new Uint8Array(R)).__proto__=c.prototype:(V===null&&(V=new c(R)),V.length=R),V}function c(V,R,F){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(V,R,F);if(typeof V=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,V)}return h(this,V,R,F)}function h(V,R,F,N){if(typeof R=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer?function(L,G,z,j){if(G.byteLength,z<0||G.byteLength<z)throw new RangeError("'offset' is out of bounds");if(G.byteLength<z+(j||0))throw new RangeError("'length' is out of bounds");return G=z===void 0&&j===void 0?new Uint8Array(G):j===void 0?new Uint8Array(G,z):new Uint8Array(G,z,j),c.TYPED_ARRAY_SUPPORT?(L=G).__proto__=c.prototype:L=g(L,G),L}(V,R,F,N):typeof R=="string"?function(L,G,z){if(typeof z=="string"&&z!==""||(z="utf8"),!c.isEncoding(z))throw new TypeError('"encoding" must be a valid string encoding');var j=0|m(G,z),K=(L=f(L,j)).write(G,z);return K!==j&&(L=L.slice(0,K)),L}(V,R,F):function(L,G){if(c.isBuffer(G)){var z=0|y(G.length);return(L=f(L,z)).length===0||G.copy(L,0,0,z),L}if(G){if(typeof ArrayBuffer<"u"&&G.buffer instanceof ArrayBuffer||"length"in G)return typeof G.length!="number"||(j=G.length)!=j?f(L,0):g(L,G);if(G.type==="Buffer"&&u(G.data))return g(L,G.data)}var j;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(V,R)}function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be a number');if(V<0)throw new RangeError('"size" argument must not be negative')}function v(V,R){if(p(R),V=f(V,R<0?0:0|y(R)),!c.TYPED_ARRAY_SUPPORT)for(var F=0;F<R;++F)V[F]=0;return V}function g(V,R){var F=R.length<0?0:0|y(R.length);V=f(V,F);for(var N=0;N<F;N+=1)V[N]=255&R[N];return V}function y(V){if(V>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|V}function m(V,R){if(c.isBuffer(V))return V.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(V)||V instanceof ArrayBuffer))return V.byteLength;typeof V!="string"&&(V=""+V);var F=V.length;if(F===0)return 0;for(var N=!1;;)switch(R){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":case void 0:return J(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return ae(V).length;default:if(N)return J(V).length;R=(""+R).toLowerCase(),N=!0}}function d(V,R,F){var N=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0)<=(R>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return I(this,R,F);case"utf8":case"utf-8":return k(this,R,F);case"ascii":return O(this,R,F);case"latin1":case"binary":return A(this,R,F);case"base64":return E(this,R,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,R,F);default:if(N)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),N=!0}}function _(V,R,F){var N=V[R];V[R]=V[F],V[F]=N}function x(V,R,F,N,L){if(V.length===0)return-1;if(typeof F=="string"?(N=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,isNaN(F)&&(F=L?0:V.length-1),F<0&&(F=V.length+F),F>=V.length){if(L)return-1;F=V.length-1}else if(F<0){if(!L)return-1;F=0}if(typeof R=="string"&&(R=c.from(R,N)),c.isBuffer(R))return R.length===0?-1:w(V,R,F,N,L);if(typeof R=="number")return R&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(V,R,F):Uint8Array.prototype.lastIndexOf.call(V,R,F):w(V,[R],F,N,L);throw new TypeError("val must be string, number or Buffer")}function w(V,R,F,N,L){var G,z=1,j=V.length,K=R.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(V.length<2||R.length<2)return-1;z=2,j/=2,K/=2,F/=2}function Z(he,le){return z===1?he[le]:he.readUInt16BE(le*z)}if(L){var ne=-1;for(G=F;G<j;G++)if(Z(V,G)===Z(R,ne===-1?0:G-ne)){if(ne===-1&&(ne=G),G-ne+1===K)return ne*z}else ne!==-1&&(G-=G-ne),ne=-1}else for(F+K>j&&(F=j-K),G=F;G>=0;G--){for(var ue=!0,se=0;se<K;se++)if(Z(V,G+se)!==Z(R,se)){ue=!1;break}if(ue)return G}return-1}function S(V,R,F,N){F=Number(F)||0;var L=V.length-F;N?(N=Number(N))>L&&(N=L):N=L;var G=R.length;if(G%2!=0)throw new TypeError("Invalid hex string");N>G/2&&(N=G/2);for(var z=0;z<N;++z){var j=parseInt(R.substr(2*z,2),16);if(isNaN(j))return z;V[F+z]=j}return z}function b(V,R,F,N){return re(J(R,V.length-F),V,F,N)}function T(V,R,F,N){return re(function(L){for(var G=[],z=0;z<L.length;++z)G.push(255&L.charCodeAt(z));return G}(R),V,F,N)}function C(V,R,F,N){return T(V,R,F,N)}function M(V,R,F,N){return re(ae(R),V,F,N)}function D(V,R,F,N){return re(function(L,G){for(var z,j,K,Z=[],ne=0;ne<L.length&&!((G-=2)<0);++ne)z=L.charCodeAt(ne),j=z>>8,K=z%256,Z.push(K),Z.push(j);return Z}(R,V.length-F),V,F,N)}function E(V,R,F){return R===0&&F===V.length?o.fromByteArray(V):o.fromByteArray(V.slice(R,F))}function k(V,R,F){F=Math.min(V.length,F);for(var N=[],L=R;L<F;){var G,z,j,K,Z=V[L],ne=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(L+ue<=F)switch(ue){case 1:Z<128&&(ne=Z);break;case 2:(192&(G=V[L+1]))==128&&(K=(31&Z)<<6|63&G)>127&&(ne=K);break;case 3:G=V[L+1],z=V[L+2],(192&G)==128&&(192&z)==128&&(K=(15&Z)<<12|(63&G)<<6|63&z)>2047&&(K<55296||K>57343)&&(ne=K);break;case 4:G=V[L+1],z=V[L+2],j=V[L+3],(192&G)==128&&(192&z)==128&&(192&j)==128&&(K=(15&Z)<<18|(63&G)<<12|(63&z)<<6|63&j)>65535&&K<1114112&&(ne=K)}ne===null?(ne=65533,ue=1):ne>65535&&(ne-=65536,N.push(ne>>>10&1023|55296),ne=56320|1023&ne),N.push(ne),L+=ue}return function(se){var he=se.length;if(he<=4096)return String.fromCharCode.apply(String,se);for(var le="",ce=0;ce<he;)le+=String.fromCharCode.apply(String,se.slice(ce,ce+=4096));return le}(N)}n.Buffer=c,n.SlowBuffer=function(V){return+V!=V&&(V=0),c.alloc(+V)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42&&typeof V.subarray=="function"&&V.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=l(),c.poolSize=8192,c._augment=function(V){return V.__proto__=c.prototype,V},c.from=function(V,R,F){return h(null,V,R,F)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(V,R,F){return function(N,L,G,z){return p(L),L<=0?f(N,L):G!==void 0?typeof z=="string"?f(N,L).fill(G,z):f(N,L).fill(G):f(N,L)}(null,V,R,F)},c.allocUnsafe=function(V){return v(null,V)},c.allocUnsafeSlow=function(V){return v(null,V)},c.isBuffer=function(V){return!(V==null||!V._isBuffer)},c.compare=function(V,R){if(!c.isBuffer(V)||!c.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(V===R)return 0;for(var F=V.length,N=R.length,L=0,G=Math.min(F,N);L<G;++L)if(V[L]!==R[L]){F=V[L],N=R[L];break}return F<N?-1:N<F?1:0},c.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(V,R){if(!u(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return c.alloc(0);var F;if(R===void 0)for(R=0,F=0;F<V.length;++F)R+=V[F].length;var N=c.allocUnsafe(R),L=0;for(F=0;F<V.length;++F){var G=V[F];if(!c.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(N,L),L+=G.length}return N},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<V;R+=2)_(this,R,R+1);return this},c.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<V;R+=4)_(this,R,R+3),_(this,R+1,R+2);return this},c.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<V;R+=8)_(this,R,R+7),_(this,R+1,R+6),_(this,R+2,R+5),_(this,R+3,R+4);return this},c.prototype.toString=function(){var V=0|this.length;return V===0?"":arguments.length===0?k(this,0,V):d.apply(this,arguments)},c.prototype.equals=function(V){if(!c.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||c.compare(this,V)===0},c.prototype.inspect=function(){var V="",R=n.INSPECT_MAX_BYTES;return this.length>0&&(V=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(V+=" ... ")),"<Buffer "+V+">"},c.prototype.compare=function(V,R,F,N,L){if(!c.isBuffer(V))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),F===void 0&&(F=V?V.length:0),N===void 0&&(N=0),L===void 0&&(L=this.length),R<0||F>V.length||N<0||L>this.length)throw new RangeError("out of range index");if(N>=L&&R>=F)return 0;if(N>=L)return-1;if(R>=F)return 1;if(this===V)return 0;for(var G=(L>>>=0)-(N>>>=0),z=(F>>>=0)-(R>>>=0),j=Math.min(G,z),K=this.slice(N,L),Z=V.slice(R,F),ne=0;ne<j;++ne)if(K[ne]!==Z[ne]){G=K[ne],z=Z[ne];break}return G<z?-1:z<G?1:0},c.prototype.includes=function(V,R,F){return this.indexOf(V,R,F)!==-1},c.prototype.indexOf=function(V,R,F){return x(this,V,R,F,!0)},c.prototype.lastIndexOf=function(V,R,F){return x(this,V,R,F,!1)},c.prototype.write=function(V,R,F,N){if(R===void 0)N="utf8",F=this.length,R=0;else if(F===void 0&&typeof R=="string")N=R,F=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R|=0,isFinite(F)?(F|=0,N===void 0&&(N="utf8")):(N=F,F=void 0)}var L=this.length-R;if((F===void 0||F>L)&&(F=L),V.length>0&&(F<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var G=!1;;)switch(N){case"hex":return S(this,V,R,F);case"utf8":case"utf-8":return b(this,V,R,F);case"ascii":return T(this,V,R,F);case"latin1":case"binary":return C(this,V,R,F);case"base64":return M(this,V,R,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,V,R,F);default:if(G)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),G=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(V,R,F){var N="";F=Math.min(V.length,F);for(var L=R;L<F;++L)N+=String.fromCharCode(127&V[L]);return N}function A(V,R,F){var N="";F=Math.min(V.length,F);for(var L=R;L<F;++L)N+=String.fromCharCode(V[L]);return N}function I(V,R,F){var N=V.length;(!R||R<0)&&(R=0),(!F||F<0||F>N)&&(F=N);for(var L="",G=R;G<F;++G)L+=ie(V[G]);return L}function U(V,R,F){for(var N=V.slice(R,F),L="",G=0;G<N.length;G+=2)L+=String.fromCharCode(N[G]+256*N[G+1]);return L}function P(V,R,F){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+R>F)throw new RangeError("Trying to access beyond buffer length")}function B(V,R,F,N,L,G){if(!c.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>L||R<G)throw new RangeError('"value" argument is out of bounds');if(F+N>V.length)throw new RangeError("Index out of range")}function W(V,R,F,N){R<0&&(R=65535+R+1);for(var L=0,G=Math.min(V.length-F,2);L<G;++L)V[F+L]=(R&255<<8*(N?L:1-L))>>>8*(N?L:1-L)}function H(V,R,F,N){R<0&&(R=4294967295+R+1);for(var L=0,G=Math.min(V.length-F,4);L<G;++L)V[F+L]=R>>>8*(N?L:3-L)&255}function $(V,R,F,N,L,G){if(F+N>V.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function q(V,R,F,N,L){return L||$(V,0,F,4),s.write(V,R,F,N,23,4),F+4}function Q(V,R,F,N,L){return L||$(V,0,F,8),s.write(V,R,F,N,52,8),F+8}c.prototype.slice=function(V,R){var F,N=this.length;if((V=~~V)<0?(V+=N)<0&&(V=0):V>N&&(V=N),(R=R===void 0?N:~~R)<0?(R+=N)<0&&(R=0):R>N&&(R=N),R<V&&(R=V),c.TYPED_ARRAY_SUPPORT)(F=this.subarray(V,R)).__proto__=c.prototype;else{var L=R-V;F=new c(L,void 0);for(var G=0;G<L;++G)F[G]=this[G+V]}return F},c.prototype.readUIntLE=function(V,R,F){V|=0,R|=0,F||P(V,R,this.length);for(var N=this[V],L=1,G=0;++G<R&&(L*=256);)N+=this[V+G]*L;return N},c.prototype.readUIntBE=function(V,R,F){V|=0,R|=0,F||P(V,R,this.length);for(var N=this[V+--R],L=1;R>0&&(L*=256);)N+=this[V+--R]*L;return N},c.prototype.readUInt8=function(V,R){return R||P(V,1,this.length),this[V]},c.prototype.readUInt16LE=function(V,R){return R||P(V,2,this.length),this[V]|this[V+1]<<8},c.prototype.readUInt16BE=function(V,R){return R||P(V,2,this.length),this[V]<<8|this[V+1]},c.prototype.readUInt32LE=function(V,R){return R||P(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},c.prototype.readUInt32BE=function(V,R){return R||P(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},c.prototype.readIntLE=function(V,R,F){V|=0,R|=0,F||P(V,R,this.length);for(var N=this[V],L=1,G=0;++G<R&&(L*=256);)N+=this[V+G]*L;return N>=(L*=128)&&(N-=Math.pow(2,8*R)),N},c.prototype.readIntBE=function(V,R,F){V|=0,R|=0,F||P(V,R,this.length);for(var N=R,L=1,G=this[V+--N];N>0&&(L*=256);)G+=this[V+--N]*L;return G>=(L*=128)&&(G-=Math.pow(2,8*R)),G},c.prototype.readInt8=function(V,R){return R||P(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},c.prototype.readInt16LE=function(V,R){R||P(V,2,this.length);var F=this[V]|this[V+1]<<8;return 32768&F?4294901760|F:F},c.prototype.readInt16BE=function(V,R){R||P(V,2,this.length);var F=this[V+1]|this[V]<<8;return 32768&F?4294901760|F:F},c.prototype.readInt32LE=function(V,R){return R||P(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},c.prototype.readInt32BE=function(V,R){return R||P(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},c.prototype.readFloatLE=function(V,R){return R||P(V,4,this.length),s.read(this,V,!0,23,4)},c.prototype.readFloatBE=function(V,R){return R||P(V,4,this.length),s.read(this,V,!1,23,4)},c.prototype.readDoubleLE=function(V,R){return R||P(V,8,this.length),s.read(this,V,!0,52,8)},c.prototype.readDoubleBE=function(V,R){return R||P(V,8,this.length),s.read(this,V,!1,52,8)},c.prototype.writeUIntLE=function(V,R,F,N){V=+V,R|=0,F|=0,N||B(this,V,R,F,Math.pow(2,8*F)-1,0);var L=1,G=0;for(this[R]=255&V;++G<F&&(L*=256);)this[R+G]=V/L&255;return R+F},c.prototype.writeUIntBE=function(V,R,F,N){V=+V,R|=0,F|=0,N||B(this,V,R,F,Math.pow(2,8*F)-1,0);var L=F-1,G=1;for(this[R+L]=255&V;--L>=0&&(G*=256);)this[R+L]=V/G&255;return R+F},c.prototype.writeUInt8=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,1,255,0),c.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),this[R]=255&V,R+1},c.prototype.writeUInt16LE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[R]=255&V,this[R+1]=V>>>8):W(this,V,R,!0),R+2},c.prototype.writeUInt16BE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[R]=V>>>8,this[R+1]=255&V):W(this,V,R,!1),R+2},c.prototype.writeUInt32LE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[R+3]=V>>>24,this[R+2]=V>>>16,this[R+1]=V>>>8,this[R]=255&V):H(this,V,R,!0),R+4},c.prototype.writeUInt32BE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[R]=V>>>24,this[R+1]=V>>>16,this[R+2]=V>>>8,this[R+3]=255&V):H(this,V,R,!1),R+4},c.prototype.writeIntLE=function(V,R,F,N){if(V=+V,R|=0,!N){var L=Math.pow(2,8*F-1);B(this,V,R,F,L-1,-L)}var G=0,z=1,j=0;for(this[R]=255&V;++G<F&&(z*=256);)V<0&&j===0&&this[R+G-1]!==0&&(j=1),this[R+G]=(V/z>>0)-j&255;return R+F},c.prototype.writeIntBE=function(V,R,F,N){if(V=+V,R|=0,!N){var L=Math.pow(2,8*F-1);B(this,V,R,F,L-1,-L)}var G=F-1,z=1,j=0;for(this[R+G]=255&V;--G>=0&&(z*=256);)V<0&&j===0&&this[R+G+1]!==0&&(j=1),this[R+G]=(V/z>>0)-j&255;return R+F},c.prototype.writeInt8=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,1,127,-128),c.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),V<0&&(V=255+V+1),this[R]=255&V,R+1},c.prototype.writeInt16LE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[R]=255&V,this[R+1]=V>>>8):W(this,V,R,!0),R+2},c.prototype.writeInt16BE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[R]=V>>>8,this[R+1]=255&V):W(this,V,R,!1),R+2},c.prototype.writeInt32LE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[R]=255&V,this[R+1]=V>>>8,this[R+2]=V>>>16,this[R+3]=V>>>24):H(this,V,R,!0),R+4},c.prototype.writeInt32BE=function(V,R,F){return V=+V,R|=0,F||B(this,V,R,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),c.TYPED_ARRAY_SUPPORT?(this[R]=V>>>24,this[R+1]=V>>>16,this[R+2]=V>>>8,this[R+3]=255&V):H(this,V,R,!1),R+4},c.prototype.writeFloatLE=function(V,R,F){return q(this,V,R,!0,F)},c.prototype.writeFloatBE=function(V,R,F){return q(this,V,R,!1,F)},c.prototype.writeDoubleLE=function(V,R,F){return Q(this,V,R,!0,F)},c.prototype.writeDoubleBE=function(V,R,F){return Q(this,V,R,!1,F)},c.prototype.copy=function(V,R,F,N){if(F||(F=0),N||N===0||(N=this.length),R>=V.length&&(R=V.length),R||(R=0),N>0&&N<F&&(N=F),N===F||V.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("sourceStart out of bounds");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),V.length-R<N-F&&(N=V.length-R+F);var L,G=N-F;if(this===V&&F<R&&R<N)for(L=G-1;L>=0;--L)V[L+R]=this[L+F];else if(G<1e3||!c.TYPED_ARRAY_SUPPORT)for(L=0;L<G;++L)V[L+R]=this[L+F];else Uint8Array.prototype.set.call(V,this.subarray(F,F+G),R);return G},c.prototype.fill=function(V,R,F,N){if(typeof V=="string"){if(typeof R=="string"?(N=R,R=0,F=this.length):typeof F=="string"&&(N=F,F=this.length),V.length===1){var L=V.charCodeAt(0);L<256&&(V=L)}if(N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N)}else typeof V=="number"&&(V&=255);if(R<0||this.length<R||this.length<F)throw new RangeError("Out of range index");if(F<=R)return this;var G;if(R>>>=0,F=F===void 0?this.length:F>>>0,V||(V=0),typeof V=="number")for(G=R;G<F;++G)this[G]=V;else{var z=c.isBuffer(V)?V:J(new c(V,N).toString()),j=z.length;for(G=0;G<F-R;++G)this[G+R]=z[G%j]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function ie(V){return V<16?"0"+V.toString(16):V.toString(16)}function J(V,R){var F;R=R||1/0;for(var N=V.length,L=null,G=[],z=0;z<N;++z){if((F=V.charCodeAt(z))>55295&&F<57344){if(!L){if(F>56319){(R-=3)>-1&&G.push(239,191,189);continue}if(z+1===N){(R-=3)>-1&&G.push(239,191,189);continue}L=F;continue}if(F<56320){(R-=3)>-1&&G.push(239,191,189),L=F;continue}F=65536+(L-55296<<10|F-56320)}else L&&(R-=3)>-1&&G.push(239,191,189);if(L=null,F<128){if((R-=1)<0)break;G.push(F)}else if(F<2048){if((R-=2)<0)break;G.push(F>>6|192,63&F|128)}else if(F<65536){if((R-=3)<0)break;G.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;G.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return G}function ae(V){return o.toByteArray(function(R){if((R=function(F){return F.trim?F.trim():F.replace(/^\s+|\s+$/g,"")}(R).replace(Y,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(V))}function re(V,R,F,N){for(var L=0;L<N&&!(L+F>=R.length||L>=V.length);++L)R[L+F]=V[L];return L}}).call(this,a(78))},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.isASCIIByte=function(i){return i>=0&&i<=127}},function(r,n,a){var i=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var f,c,h=l.call(s),p=[];try{for(;(u===void 0||u-- >0)&&!(f=h.next()).done;)p.push(f.value)}catch(v){c={error:v}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(c)throw c.error}}return p},o=this&&this.__spread||function(){for(var s=[],u=0;u<arguments.length;u++)s=s.concat(i(arguments[u]));return s};Object.defineProperty(n,"__esModule",{value:!0}),n.length=function(s){return s.length},n.byteLowercase=function(s){for(var u=0;u<s.length;u++){var l=s[u];l>=65&&l<=90&&(s[u]=l+32)}},n.byteUppercase=function(s){for(var u=0;u<s.length;u++){var l=s[u];l>=97&&l<=122&&(s[u]=l-32)}},n.byteCaseInsensitiveMatch=function(s,u){if(s.length!==u.length)return!1;for(var l=0;l<s.length;l++){var f=s[l],c=u[l];if(f>=65&&f<=90&&(f+=32),c>=65&&c<=90&&(c+=32),f!==c)return!1}return!0},n.startsWith=function(s,u){for(var l=0;;){if(l>=s.length)return!1;if(l>=u.length)return!0;if(s[l]!==u[l])return!1;l++}},n.byteLessThan=function(s,u){for(var l=0;;){if(l>=s.length)return!1;if(l>=u.length)return!0;var f=s[l],c=u[l];if(f<c)return!0;if(f>c)return!1;l++}},n.isomorphicDecode=function(s){return String.fromCodePoint.apply(String,o(s))}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=a(7),s=a(0),u=a(12),l=function(){function f(c){this._associatedDocument=c||i.dom.window.document}return f.prototype.createDocumentType=function(c,h,p){return s.namespace_validate(c),s.create_documentType(this._associatedDocument,c,h,p)},f.prototype.createDocument=function(c,h,p){p===void 0&&(p=null);var v=s.create_xmlDocument(),g=null;return h&&(g=s.document_internalCreateElementNS(v,c,h)),p&&v.appendChild(p),g&&v.appendChild(g),v._origin=this._associatedDocument._origin,c===o.namespace.HTML?v._contentType="application/xhtml+xml":c===o.namespace.SVG?v._contentType="image/svg+xml":v._contentType="application/xml",v},f.prototype.createHTMLDocument=function(c){var h=s.create_document();h._type="html",h._contentType="text/html",h.appendChild(s.create_documentType(h,"html","",""));var p=s.element_createAnElement(h,"html",o.namespace.HTML);h.appendChild(p);var v=s.element_createAnElement(h,"head",o.namespace.HTML);if(p.appendChild(v),c!==void 0){var g=s.element_createAnElement(h,"title",o.namespace.HTML);v.appendChild(g);var y=s.create_text(h,c);g.appendChild(y)}var m=s.element_createAnElement(h,"body",o.namespace.HTML);return p.appendChild(m),h._origin=this._associatedDocument._origin,h},f.prototype.hasFeature=function(){return!0},f._create=function(c){return new f(c)},f}();n.DOMImplementationImpl=l,u.idl_defineConst(l.prototype,"_ID","@oozcitak/dom")},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(70),u=a(1),l=a(0),f=function(c){function h(){var p=c.call(this)||this;return p._signalSlots=new Set,p._mutationObserverMicrotaskQueued=!1,p._mutationObservers=new Set,p._iteratorList=new u.FixedSizeSet,p._associatedDocument=l.create_document(),p}return o(h,c),Object.defineProperty(h.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),h._create=function(){return new h},h}(s.EventTargetImpl);n.WindowImpl=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=function(){function s(){}return s.isNode=function(u){return!!u&&u._nodeType!==void 0},s.isDocumentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Document},s.isDocumentTypeNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.DocumentType},s.isDocumentFragmentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.DocumentFragment},s.isAttrNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Attribute},s.isCharacterDataNode=function(u){if(!s.isNode(u))return!1;var l=u._nodeType;return l===i.NodeType.Text||l===i.NodeType.ProcessingInstruction||l===i.NodeType.Comment||l===i.NodeType.CData},s.isTextNode=function(u){return s.isNode(u)&&(u._nodeType===i.NodeType.Text||u._nodeType===i.NodeType.CData)},s.isExclusiveTextNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Text},s.isCDATASectionNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.CData},s.isCommentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Comment},s.isProcessingInstructionNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.ProcessingInstruction},s.isElementNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Element},s.isCustomElementNode=function(u){return s.isElementNode(u)&&u._customElementState==="custom"},s.isShadowRoot=function(u){return!!u&&u.host!==void 0},s.isMouseEvent=function(u){return!!u&&u.screenX!==void 0&&u.screenY!=null},s.isSlotable=function(u){return!!u&&u._name!==void 0&&u._assignedSlot!==void 0&&(s.isTextNode(u)||s.isElementNode(u))},s.isSlot=function(u){return!!u&&u._name!==void 0&&u._assignedNodes!==void 0&&s.isElementNode(u)},s.isWindow=function(u){return!!u&&u.navigator!==void 0},s.isEventListener=function(u){return!!u&&u.handleEvent!==void 0},s.isRegisteredObserver=function(u){return!!u&&u.observer!==void 0&&u.options!==void 0},s.isTransientRegisteredObserver=function(u){return!!u&&u.source!==void 0&&s.isRegisteredObserver(u)},s}();n.Guard=o},function(r,n,a){var i,o=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(u){function l(){return u.call(this)||this}return o(l,u),l}(a(98).DocumentImpl);n.XMLDocumentImpl=s},function(r,n,a){var i=this&&this.__values||function(N){var L=typeof Symbol=="function"&&Symbol.iterator,G=L&&N[L],z=0;if(G)return G.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&z>=N.length&&(N=void 0),{value:N&&N[z++],done:!N}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(N,L){var G=typeof Symbol=="function"&&N[Symbol.iterator];if(!G)return N;var z,j,K=G.call(N),Z=[];try{for(;(L===void 0||L-- >0)&&!(z=K.next()).done;)Z.push(z.value)}catch(ne){j={error:ne}}finally{try{z&&!z.done&&(G=K.return)&&G.call(K)}finally{if(j)throw j.error}}return Z};Object.defineProperty(n,"__esModule",{value:!0});var s,u=a(1),l=a(243),f=a(7),c=a(244),h={ftp:21,file:null,http:80,https:443,ws:80,wss:443},p=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,d=/[\0\t\f\r #%/:?@\[\\\]]/;function _(N){s!==void 0&&s.call(null,"Validation Error: "+N)}function x(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function w(N){return N in h}function S(N){return w(N.scheme)}function b(N){return h[N]||null}function T(N){return N.username!==""||N.password!==""}function C(N,L){var G,z;L===void 0&&(L=!1);var j=N.scheme+":";if(N.host!==null?(j+="//",T(N)&&(j+=N.username,N.password!==""&&(j+=":"+N.password),j+="@"),j+=M(N.host),N.port!==null&&(j+=":"+N.port)):N.host===null&&N.scheme==="file"&&(j+="//"),N._cannotBeABaseURLFlag)j+=N.path[0];else try{for(var K=i(N.path),Z=K.next();!Z.done;Z=K.next())j+="/"+Z.value}catch(ne){G={error:ne}}finally{try{Z&&!Z.done&&(z=K.return)&&z.call(K)}finally{if(G)throw G.error}}return N.query!==null&&(j+="?"+N.query),L||N.fragment===null||(j+="#"+N.fragment),j}function M(N){return u.isNumber(N)?D(N):u.isArray(N)?"["+E(N)+"]":N}function D(N){for(var L="",G=N,z=1;z<=4;z++)L=(G%256).toString()+L,z!==4&&(L="."+L),G=Math.floor(G/256);return L}function E(N){for(var L="",G=null,z=-1,j=0,K=0,Z=0;Z<8;Z++)if(N[Z]===0){j=1;for(var ne=Z+1;ne<8&&N[ne]===0;ne++)j++;j>K&&(K=j,z=Z)}K>1&&(G=z);for(var ue=!1,se=0;se<8;se++)ue&&N[se]===0||(ue&&(ue=!1),G!==se?(L+=N[se].toString(16),se!==7&&(L+=":")):(L+=se===0?"::":":",ue=!0));return L}function k(N,L,G,z,j){var K,Z,ne,ue;if(z===void 0){z={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var se=/^[\u0000-\u001F\u0020]+/,he=/[\u0000-\u001F\u0020]+$/;(se.test(N)||he.test(N))&&_("Input string contains leading or trailing control characters or space."),N=(N=N.replace(se,"")).replace(he,"")}var le=/[\u0009\u000A\u000D]/g;le.test(N)&&_("Input string contains tab or newline characters."),N=N.replace(le,"");var ce=j===void 0?l.ParserState.SchemeStart:j;L===void 0&&(L=null);for(var me=G===void 0||G==="replacement"||G==="UTF-16BE"||G==="UTF-16LE"?"UTF-8":G,ee="",_e=!1,Oe=!1,Ee=!1,fe=new u.StringWalker(N);;){switch(ce){case l.ParserState.SchemeStart:if(f.codePoint.ASCIIAlpha.test(fe.c()))ee+=fe.c().toLowerCase(),ce=l.ParserState.Scheme;else{if(j!==void 0)return _("Invalid scheme start character."),null;ce=l.ParserState.NoScheme,fe.pointer--}break;case l.ParserState.Scheme:if(f.codePoint.ASCIIAlphanumeric.test(fe.c())||fe.c()==="+"||fe.c()==="-"||fe.c()===".")ee+=fe.c().toLowerCase();else{if(fe.c()!==":"){if(j===void 0){ee="",ce=l.ParserState.NoScheme,fe.pointer=0;continue}return _("Invalid input string."),null}if(j!==void 0&&(w(z.scheme)&&!w(ee)||!w(z.scheme)&&w(ee)||(T(z)||z.port!==null)&&ee==="file"||z.scheme==="file"&&(z.host===""||z.host===null)))return z;if(z.scheme=ee,j!==void 0)return z.port===b(z.scheme)&&(z.port=null),z;ee="",z.scheme==="file"?(fe.remaining().startsWith("//")||_("Invalid file URL scheme, '//' expected."),ce=l.ParserState.File):S(z)&&L!==null&&L.scheme===z.scheme?ce=l.ParserState.SpecialRelativeOrAuthority:S(z)?ce=l.ParserState.SpecialAuthoritySlashes:fe.remaining().startsWith("/")?(ce=l.ParserState.PathOrAuthority,fe.pointer++):(z._cannotBeABaseURLFlag=!0,z.path.push(""),ce=l.ParserState.CannotBeABaseURLPath)}break;case l.ParserState.NoScheme:if(L===null||L._cannotBeABaseURLFlag&&fe.c()!=="#")return _("Invalid input string."),null;L._cannotBeABaseURLFlag&&fe.c()==="#"?(z.scheme=L.scheme,z.path=f.list.clone(L.path),z.query=L.query,z.fragment="",z._cannotBeABaseURLFlag=!0,ce=l.ParserState.Fragment):L.scheme!=="file"?(ce=l.ParserState.Relative,fe.pointer--):(ce=l.ParserState.File,fe.pointer--);break;case l.ParserState.SpecialRelativeOrAuthority:fe.c()==="/"&&fe.remaining().startsWith("/")?(ce=l.ParserState.SpecialAuthorityIgnoreSlashes,fe.pointer++):(_("Invalid input string."),ce=l.ParserState.Relative,fe.pointer--);break;case l.ParserState.PathOrAuthority:fe.c()==="/"?ce=l.ParserState.Authority:(ce=l.ParserState.Path,fe.pointer--);break;case l.ParserState.Relative:if(L===null)throw new Error("Invalid parser state. Base URL is null.");switch(z.scheme=L.scheme,fe.c()){case"":z.username=L.username,z.password=L.password,z.host=L.host,z.port=L.port,z.path=f.list.clone(L.path),z.query=L.query;break;case"/":ce=l.ParserState.RelativeSlash;break;case"?":z.username=L.username,z.password=L.password,z.host=L.host,z.port=L.port,z.path=f.list.clone(L.path),z.query="",ce=l.ParserState.Query;break;case"#":z.username=L.username,z.password=L.password,z.host=L.host,z.port=L.port,z.path=f.list.clone(L.path),z.query=L.query,z.fragment="",ce=l.ParserState.Fragment;break;default:S(z)&&fe.c()==="\\"?(_("Invalid input string."),ce=l.ParserState.RelativeSlash):(z.username=L.username,z.password=L.password,z.host=L.host,z.port=L.port,z.path=f.list.clone(L.path),z.path.length!==0&&z.path.splice(z.path.length-1,1),ce=l.ParserState.Path,fe.pointer--)}break;case l.ParserState.RelativeSlash:if(!S(z)||fe.c()!=="/"&&fe.c()!=="\\")if(fe.c()==="/")ce=l.ParserState.Authority;else{if(L===null)throw new Error("Invalid parser state. Base URL is null.");z.username=L.username,z.password=L.password,z.host=L.host,z.port=L.port,ce=l.ParserState.Path,fe.pointer--}else fe.c()==="\\"&&_("Invalid input string."),ce=l.ParserState.SpecialAuthorityIgnoreSlashes;break;case l.ParserState.SpecialAuthoritySlashes:fe.c()==="/"&&fe.remaining().startsWith("/")?(ce=l.ParserState.SpecialAuthorityIgnoreSlashes,fe.pointer++):(_("Expected '//'."),ce=l.ParserState.SpecialAuthorityIgnoreSlashes,fe.pointer--);break;case l.ParserState.SpecialAuthorityIgnoreSlashes:fe.c()!=="/"&&fe.c()!=="\\"?(ce=l.ParserState.Authority,fe.pointer--):_("Unexpected '/' or '\\'.");break;case l.ParserState.Authority:if(fe.c()==="@"){_("Unexpected '@'."),_e&&(ee="%40"+ee),_e=!0;try{for(var de=(K=void 0,i(ee)),we=de.next();!we.done;we=de.next()){var Se=we.value;if(Se!==":"||Ee){var ke=re(Se,y);Ee?z.password+=ke:z.username+=ke}else Ee=!0}}catch(xr){K={error:xr}}finally{try{we&&!we.done&&(Z=de.return)&&Z.call(de)}finally{if(K)throw K.error}}ee=""}else if(fe.c()===""||fe.c()==="/"||fe.c()==="?"||fe.c()==="#"||S(z)&&fe.c()==="\\"){if(_e&&ee==="")return _("Invalid input string."),null;fe.pointer-=ee.length+1,ee="",ce=l.ParserState.Host}else ee+=fe.c();break;case l.ParserState.Host:case l.ParserState.Hostname:if(j!==void 0&&z.scheme==="file")fe.pointer--,ce=l.ParserState.FileHost;else if(fe.c()!==":"||Oe)if(fe.c()===""||fe.c()==="/"||fe.c()==="?"||fe.c()==="#"||S(z)&&fe.c()==="\\"){if(fe.pointer--,S(z)&&ee==="")return _("Invalid input string."),null;if(j!==void 0&&ee===""&&(T(z)||z.port!==null))return _("Invalid input string."),z;if((Fe=W(ee,!S(z)))===null)return null;if(z.host=Fe,ee="",ce=l.ParserState.PathStart,j!==void 0)return z}else fe.c()==="["&&(Oe=!0),fe.c()==="]"&&(Oe=!1),ee+=fe.c();else{if(ee==="")return _("Invalid input string."),null;if((Fe=W(ee,!S(z)))===null)return null;if(z.host=Fe,ee="",ce=l.ParserState.Port,j===l.ParserState.Hostname)return z}break;case l.ParserState.Port:if(f.codePoint.ASCIIDigit.test(fe.c()))ee+=fe.c();else{if(!(fe.c()===""||fe.c()==="/"||fe.c()==="?"||fe.c()==="#"||S(z)&&fe.c()==="\\"||j))return _("Invalid input string."),null;if(ee!==""&&ee!==""){var Ve=parseInt(ee,10);if(Ve>Math.pow(2,16)-1)return _("Invalid port number."),null;z.port=Ve===b(z.scheme)?null:Ve,ee=""}if(j!==void 0)return z;ce=l.ParserState.PathStart,fe.pointer--}break;case l.ParserState.File:if(z.scheme="file",fe.c()==="/"||fe.c()==="\\")fe.c()==="\\"&&_("Invalid input string."),ce=l.ParserState.FileSlash;else if(L!==null&&L.scheme==="file")switch(fe.c()){case"":z.host=L.host,z.path=f.list.clone(L.path),z.query=L.query;break;case"?":z.host=L.host,z.path=f.list.clone(L.path),z.query="",ce=l.ParserState.Query;break;case"#":z.host=L.host,z.path=f.list.clone(L.path),z.query=L.query,z.fragment="",ce=l.ParserState.Fragment;break;default:B(fe.substring())?_("Unexpected windows drive letter in input string."):(z.host=L.host,z.path=f.list.clone(L.path),I(z)),ce=l.ParserState.Path,fe.pointer--}else ce=l.ParserState.Path,fe.pointer--;break;case l.ParserState.FileSlash:fe.c()==="/"||fe.c()==="\\"?(fe.c()==="\\"&&_("Invalid input string."),ce=l.ParserState.FileHost):(L===null||L.scheme!=="file"||B(fe.substring())||(U(L.path[0])?z.path.push(L.path[0]):z.host=L.host),ce=l.ParserState.Path,fe.pointer--);break;case l.ParserState.FileHost:if(fe.c()===""||fe.c()==="/"||fe.c()==="\\"||fe.c()==="?"||fe.c()==="#")if(fe.pointer--,j===void 0&&P(ee))_("Unexpected windows drive letter in input string."),ce=l.ParserState.Path;else if(ee===""){if(z.host="",j!==void 0)return z;ce=l.ParserState.PathStart}else{var Fe;if((Fe=W(ee,!S(z)))===null)return null;if(Fe==="localhost"&&(Fe=""),z.host=Fe,j!==void 0)return z;ee="",ce=l.ParserState.PathStart}else ee+=fe.c();break;case l.ParserState.PathStart:S(z)?(fe.c()==="\\"&&_("Invalid input string."),ce=l.ParserState.Path,fe.c()!=="/"&&fe.c()!=="\\"&&fe.pointer--):j===void 0&&fe.c()==="?"?(z.query="",ce=l.ParserState.Query):j===void 0&&fe.c()==="#"?(z.fragment="",ce=l.ParserState.Fragment):fe.c()!==""&&(ce=l.ParserState.Path,fe.c()!=="/"&&fe.pointer--);break;case l.ParserState.Path:if(fe.c()===""||fe.c()==="/"||S(z)&&fe.c()==="\\"||j===void 0&&(fe.c()==="?"||fe.c()==="#")){if(S(z)&&fe.c()==="\\"&&_("Invalid input string."),A(ee))I(z),fe.c()==="/"||S(z)&&fe.c()==="\\"||z.path.push("");else if(!O(ee)||fe.c()==="/"||S(z)&&fe.c()==="\\"){if(!O(ee)){if(z.scheme==="file"&&z.path.length===0&&P(ee)){z.host!==null&&z.host!==""&&(_("Invalid input string."),z.host="");var tt=Array.from(ee);ee=tt.slice(0,1)+":"+tt.slice(2)}z.path.push(ee)}}else z.path.push("");if(ee="",z.scheme==="file"&&(fe.c()===""||fe.c()==="?"||fe.c()==="#"))for(;z.path.length>1&&z.path[0]==="";)_("Invalid input string."),z.path.splice(0,1);fe.c()==="?"&&(z.query="",ce=l.ParserState.Query),fe.c()==="#"&&(z.fragment="",ce=l.ParserState.Fragment)}else m.test(fe.c())||fe.c()==="%"||_("Character is not a URL code point or a percent encoded character."),fe.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(fe.remaining())||_("Percent encoded character must be followed by two hex digits."),ee+=re(fe.c(),g);break;case l.ParserState.CannotBeABaseURLPath:fe.c()==="?"?(z.query="",ce=l.ParserState.Query):fe.c()==="#"?(z.fragment="",ce=l.ParserState.Fragment):(fe.c()===""||m.test(fe.c())||fe.c()==="%"||_("Character is not a URL code point or a percent encoded character."),fe.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(fe.remaining())||_("Percent encoded character must be followed by two hex digits."),fe.c()!==""&&(z.path[0]+=re(fe.c(),p)));break;case l.ParserState.Query:if(me==="UTF-8"||S(z)&&z.scheme!=="ws"&&z.scheme!=="wss"||(me="UTF-8"),j===void 0&&fe.c()==="#")z.fragment="",ce=l.ParserState.Fragment;else if(fe.c()!==""){if(m.test(fe.c())||fe.c()==="%"||_("Character is not a URL code point or a percent encoded character."),fe.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(fe.remaining())||_("Percent encoded character must be followed by two hex digits."),me.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Je=u.utf8Encode(fe.c());if(Je.length>=3&&Je[0]===38&&Je[1]===35&&Je[Je.length-1]===59)Je=Je.subarray(2,Je.length-1),z.query+="%26%23"+f.byteSequence.isomorphicDecode(Je)+"%3B";else try{for(var ir=(ne=void 0,i(Je)),vr=ir.next();!vr.done;vr=ir.next()){var _t=vr.value;_t<33||_t>126||_t===34||_t===35||_t===60||_t===62||_t===39&&S(z)?z.query+=ie(_t):z.query+=String.fromCharCode(_t)}}catch(xr){ne={error:xr}}finally{try{vr&&!vr.done&&(ue=ir.return)&&ue.call(ir)}finally{if(ne)throw ne.error}}}break;case l.ParserState.Fragment:fe.c()===""||(fe.c()==="\0"?_("NULL character in input string."):(m.test(fe.c())||fe.c()==="%"||_("Unexpected character in fragment string."),fe.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(fe.remaining())||_("Unexpected character in fragment string."),z.fragment+=re(fe.c(),v)))}if(fe.eof)break;fe.pointer++}return z}function O(N){return N==="."||N.toLowerCase()==="%2e"}function A(N){var L=N.toLowerCase();return L===".."||L===".%2e"||L==="%2e."||L==="%2e%2e"}function I(N){var L=N.path;L.length!==0&&(N.scheme==="file"&&L.length===1&&U(L[0])||N.path.splice(N.path.length-1,1))}function U(N){return N.length>=2&&f.codePoint.ASCIIAlpha.test(N[0])&&N[1]===":"}function P(N){return N.length>=2&&f.codePoint.ASCIIAlpha.test(N[0])&&(N[1]===":"||N[1]==="|")}function B(N){return N.length>=2&&P(N)&&(N.length===2||N[2]==="/"||N[2]==="\\"||N[2]==="?"||N[2]==="#")}function W(N,L){if(L===void 0&&(L=!1),N.startsWith("["))return N.endsWith("]")?q(N.substring(1,N.length-1)):(_("Expected ']' after '['."),null);if(L)return Q(N);var G=F(u.utf8Decode(ae(N)));if(G===null||d.test(G))return _("Invalid domain."),null;var z=$(G);return z===null||u.isNumber(z)?z:G}function H(N,L){L===void 0&&(L={value:!1});var G=10;return N.startsWith("0x")||N.startsWith("0X")?(L.value=!0,N=N.substr(2),G=16):N.length>=2&&N[0]==="0"&&(L.value=!0,N=N.substr(1),G=8),N===""?0:(G===10?/^[0-9]+$/:G===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(N)?parseInt(N,G):null}function $(N){var L,G,z,j,K={value:!1},Z=N.split(".");if(Z[Z.length-1]===""&&(K.value=!0,Z.length>1&&Z.pop()),Z.length>4)return N;var ne=[];try{for(var ue=i(Z),se=ue.next();!se.done;se=ue.next()){var he=se.value;if(he===""||(Oe=H(he,K))===null)return N;ne.push(Oe)}}catch(Ee){L={error:Ee}}finally{try{se&&!se.done&&(G=ue.return)&&G.call(ue)}finally{if(L)throw L.error}}K.value&&_("Invalid IP v4 address.");for(var le=0;le<ne.length;le++)if(ne[le]>255&&(_("Invalid IP v4 address."),le<ne.length-1))return null;if(ne[ne.length-1]>=Math.pow(256,5-ne.length))return _("Invalid IP v4 address."),null;var ce=ne[ne.length-1];ne.pop();var me=0;try{for(var ee=i(ne),_e=ee.next();!_e.done;_e=ee.next()){var Oe;ce+=(Oe=_e.value)*Math.pow(256,3-me),me++}}catch(Ee){z={error:Ee}}finally{try{_e&&!_e.done&&(j=ee.return)&&j.call(ee)}finally{if(z)throw z.error}}return ce}function q(N){var L,G=[0,0,0,0,0,0,0,0],z=0,j=null,K=new u.StringWalker(N);if(K.c()===":"){if(!K.remaining().startsWith(":"))return _("Invalid IP v6 address."),null;K.pointer+=2,j=z+=1}for(;K.c()!=="";){if(z===8)return _("Invalid IP v6 address."),null;if(K.c()!==":"){for(var Z=0,ne=0;ne<4&&f.codePoint.ASCIIHexDigit.test(K.c());)Z=16*Z+parseInt(K.c(),16),K.pointer++,ne++;if(K.c()==="."){if(ne===0||(K.pointer-=ne,z>6))return _("Invalid IP v6 address."),null;for(var ue=0;K.c()!=="";){var se=null;if(ue>0){if(!(K.c()==="."&&ue<4))return _("Invalid IP v6 address."),null;K.pointer++}if(!f.codePoint.ASCIIDigit.test(K.c()))return _("Invalid IP v6 address."),null;for(;f.codePoint.ASCIIDigit.test(K.c());){var he=parseInt(K.c(),10);if(se===null)se=he;else{if(se===0)return _("Invalid IP v6 address."),null;se=10*se+he}if(se>255)return _("Invalid IP v6 address."),null;K.pointer++}if(se===null)return _("Invalid IP v6 address."),null;G[z]=256*G[z]+se,++ue!==2&&ue!==4||z++}if(ue!==4)return _("Invalid IP v6 address."),null;break}if(K.c()===":"){if(K.pointer++,K.c()==="")return _("Invalid IP v6 address."),null}else if(K.c()!=="")return _("Invalid IP v6 address."),null;G[z]=Z,z++}else{if(j!==null)return _("Invalid IP v6 address."),null;K.pointer++,j=++z}}if(j!==null){var le=z-j;for(z=7;z!==0&&le>0;)L=o([G[j+le-1],G[z]],2),G[z]=L[0],G[j+le-1]=L[1],z--,le--}else if(j===null&&z!==8)return _("Invalid IP v6 address."),null;return G}function Q(N){var L,G;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(N))return _("Invalid host string."),null;var z="";try{for(var j=i(N),K=j.next();!K.done;K=j.next())z+=re(K.value,p)}catch(Z){L={error:Z}}finally{try{K&&!K.done&&(G=j.return)&&G.call(j)}finally{if(L)throw L.error}}return z}function Y(N){return null}function ie(N){return"%"+("00"+N.toString(16).toUpperCase()).slice(-2)}function J(N){for(var L=function(ne){return ne>=48&&ne<=57||ne>=65&&ne<=70||ne>=97&&ne<=102},G=new Uint8Array(N.length),z=0,j=0;j<N.length;j++){var K=N[j];if(K!==37)G[z]=K,z++;else if(K===37&&j>=N.length-2)G[z]=K,z++;else if(K!==37||L(N[j+1])&&L(N[j+2])){var Z=parseInt(u.utf8Decode(Uint8Array.of(N[j+1],N[j+2])),16);G[z]=Z,z++,j+=2}else G[z]=K,z++}return G.subarray(0,z)}function ae(N){return J(u.utf8Encode(N))}function re(N,L){var G,z;if(!L.test(N))return N;var j=u.utf8Encode(N),K="";try{for(var Z=i(j),ne=Z.next();!ne.done;ne=Z.next())K+=ie(ne.value)}catch(ue){G={error:ue}}finally{try{ne&&!ne.done&&(z=Z.return)&&z.call(Z)}finally{if(G)throw G.error}}return K}function V(N){var L,G,z,j,K=[],Z=[];try{for(var ne=i(N),ue=ne.next();!ue.done;ue=ne.next()){var se=ue.value;se===38?(K.push(Uint8Array.from(Z)),Z=[]):Z.push(se)}}catch(we){L={error:we}}finally{try{ue&&!ue.done&&(G=ne.return)&&G.call(ne)}finally{if(L)throw L.error}}Z.length!==0&&K.push(Uint8Array.from(Z));var he=[];try{for(var le=i(K),ce=le.next();!ce.done;ce=le.next()){var me=ce.value;if(me.length!==0){for(var ee=me.indexOf(61),_e=ee!==-1?me.slice(0,ee):me,Oe=ee!==-1?me.slice(ee+1):new Uint8Array,Ee=0;Ee<_e.length;Ee++)_e[Ee]===43&&(_e[Ee]=32);for(Ee=0;Ee<Oe.length;Ee++)Oe[Ee]===43&&(Oe[Ee]=32);var fe=u.utf8Decode(_e),de=u.utf8Decode(Oe);he.push([fe,de])}}}catch(we){z={error:we}}finally{try{ce&&!ce.done&&(j=le.return)&&j.call(le)}finally{if(z)throw z.error}}return he}function R(N){var L,G,z="";try{for(var j=i(N),K=j.next();!K.done;K=j.next()){var Z=K.value;z+=Z===32?"+":Z===42||Z===45||Z===46||Z>=48&&Z<=57||Z>=65&&Z<=90||Z===95||Z>=97&&Z<=122?String.fromCodePoint(Z):ie(Z)}}catch(ne){L={error:ne}}finally{try{K&&!K.done&&(G=j.return)&&G.call(j)}finally{if(L)throw L.error}}return z}function F(N,L){var G=c.domainToASCII(N);return G===""?(_("Invalid domain name."),null):G}n.setValidationErrorCallback=function(N){s=N},n.newURL=x,n.isSpecialScheme=w,n.isSpecial=S,n.defaultPort=b,n.includesCredentials=T,n.cannotHaveAUsernamePasswordPort=function(N){return N.host===null||N.host===""||N._cannotBeABaseURLFlag||N.scheme==="file"},n.urlSerializer=C,n.hostSerializer=M,n.iPv4Serializer=D,n.iPv6Serializer=E,n.urlParser=function(N,L,G){var z=k(N,L,G);return z===null?null:(z.scheme!=="blob"||(z._blobURLEntry=null),z)},n.basicURLParser=k,n.setTheUsername=function(N,L){var G,z,j="";try{for(var K=i(L),Z=K.next();!Z.done;Z=K.next())j+=re(Z.value,y)}catch(ne){G={error:ne}}finally{try{Z&&!Z.done&&(z=K.return)&&z.call(K)}finally{if(G)throw G.error}}N.username=j},n.setThePassword=function(N,L){var G,z,j="";try{for(var K=i(L),Z=K.next();!Z.done;Z=K.next())j+=re(Z.value,y)}catch(ne){G={error:ne}}finally{try{Z&&!Z.done&&(z=K.return)&&z.call(K)}finally{if(G)throw G.error}}N.password=j},n.isSingleDotPathSegment=O,n.isDoubleDotPathSegment=A,n.shorten=I,n.isNormalizedWindowsDriveLetter=U,n.isWindowsDriveLetter=P,n.startsWithAWindowsDriveLetter=B,n.hostParser=W,n.iPv4NumberParser=H,n.iPv4Parser=$,n.iPv6Parser=q,n.opaqueHostParser=Q,n.resolveABlobURL=Y,n.percentEncode=ie,n.percentDecode=J,n.stringPercentDecode=ae,n.utf8PercentEncode=re,n.hostEquals=function(N,L){return N===L},n.urlEquals=function(N,L,G){return G===void 0&&(G=!1),C(N,G)===C(L,G)},n.urlEncodedStringParser=function(N){return V(u.utf8Encode(N))},n.urlEncodedParser=V,n.urlEncodedByteSerializer=R,n.urlEncodedSerializer=function(N,L){var G,z;if((L===void 0||L==="replacement"||L==="UTF-16BE"||L==="UTF-16LE"?"UTF-8":L).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var j="";try{for(var K=i(N),Z=K.next();!Z.done;Z=K.next()){var ne=Z.value,ue=R(u.utf8Encode(ne[0])),se=ne[1];se=R(u.utf8Encode(se)),j!==""&&(j+="&"),j+=ue+"="+se}}catch(he){G={error:he}}finally{try{Z&&!Z.done&&(z=K.return)&&z.call(K)}finally{if(G)throw G.error}}return j},n.origin=function N(L){switch(L.scheme){case"blob":L._blobURLEntry;var G=k(L.path[0]);return G===null?l.OpaqueOrigin:N(G);case"ftp":case"http":case"https":case"ws":case"wss":return[L.scheme,L.host===null?"":L.host,L.port,null];case"file":default:return l.OpaqueOrigin}},n.domainToASCII=F,n.domainToUnicode=function(N,L){var G=c.domainToUnicode(N);return G===""&&_("Invalid domain name."),G},n.asciiSerializationOfAnOrigin=function(N){if(N[0]===""&&N[1]===""&&N[2]===null&&N[3]===null)return"null";var L=N[0]+"://"+M(N[1]);return N[2]!==null&&(L+=":"+N[2].toString()),L}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=function(){function s(){this._signal=i.create_abortSignal()}return Object.defineProperty(s.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),s.prototype.abort=function(){i.abort_signalAbort(this._signal)},s}();n.AbortControllerImpl=o},function(r,n,a){var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(70),u=a(0),l=function(f){function c(){var h=f.call(this)||this;return h._abortedFlag=!1,h._abortAlgorithms=new Set,h}return o(c,f),Object.defineProperty(c.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onabort",{get:function(){return u.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(h){u.event_setterEventHandlerIDLAttribute(this,"onabort",h)},enumerable:!0,configurable:!0}),c._create=function(){return new c},c}(s.EventTargetImpl);n.AbortSignalImpl=l},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(34),l=a(12),f=function(c){function h(p,v,g){var y=c.call(this)||this;return y._name="",y._publicId="",y._systemId="",y._name=p,y._publicId=v,y._systemId=g,y}return o(h,c),Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),h.prototype.before=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.after=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.replaceWith=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},h._create=function(p,v,g,y){g===void 0&&(g=""),y===void 0&&(y="");var m=new h(v,g,y);return m._nodeDocument=p,m},h}(u.NodeImpl);n.DocumentTypeImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.DocumentType)},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(100),u=a(1),l=a(0),f=function(c){function h(p,v){var g=c.call(this)||this;return g._host=p,g._mode=v,g}return o(h,c),Object.defineProperty(h.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),h.prototype._getTheParent=function(p){return p._composedFlag||u.isEmpty(p._path)||l.tree_rootNode(p._path[0].invocationTarget)!==this?this._host:null},h._create=function(p,v){return new h(v,"closed")},h}(s.DocumentFragmentImpl);n.ShadowRootImpl=f},function(r,n,a){var i,o=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)g.hasOwnProperty(y)&&(v[y]=g[y])})(h,p)},function(h,p){function v(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(34),l=a(0),f=a(12),c=function(h){function p(v){var g=h.call(this)||this;return g._namespace=null,g._namespacePrefix=null,g._element=null,g._value="",g._localName=v,g}return o(p,h),Object.defineProperty(p.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this._value},set:function(v){l.attr_setAnExistingAttributeValue(this,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),p._create=function(v,g){var y=new p(g);return y._nodeDocument=v,y},p}(u.NodeImpl);n.AttrImpl=c,f.idl_defineConst(c.prototype,"_nodeType",s.NodeType.Attribute),f.idl_defineConst(c.prototype,"specified",!0)},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(101),u=a(2),l=a(12),f=function(c){function h(p){return c.call(this,p)||this}return o(h,c),h._create=function(p,v){v===void 0&&(v="");var g=new h(v);return g._nodeDocument=p,g},h}(s.TextImpl);n.CDATASectionImpl=f,l.idl_defineConst(f.prototype,"_nodeType",u.NodeType.CData)},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(71),l=a(12),f=function(c){function h(p){return p===void 0&&(p=""),c.call(this,p)||this}return o(h,c),h._create=function(p,v){v===void 0&&(v="");var g=new h(v);return g._nodeDocument=p,g},h}(u.CharacterDataImpl);n.CommentImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.Comment)},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(71),l=a(12),f=function(c){function h(p,v){var g=c.call(this,v)||this;return g._target=p,g}return o(h,c),Object.defineProperty(h.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),h._create=function(p,v,g){var y=new h(v,g);return y._nodeDocument=p,y},h}(u.CharacterDataImpl);n.ProcessingInstructionImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.ProcessingInstruction)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(7),o=a(0),s=a(3),u=a(1),l=function(){function f(c,h){return this._live=!0,this._root=c,this._filter=h,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){for(var c=this,h=0,p=o.tree_getFirstDescendantNode(this._root,!1,!1,function(v){return s.Guard.isElementNode(v)&&c._filter(v)});p!==null;)h++,p=o.tree_getNextDescendantNode(this._root,p,!1,!1,function(v){return s.Guard.isElementNode(v)&&c._filter(v)});return h},enumerable:!0,configurable:!0}),f.prototype.item=function(c){for(var h=this,p=0,v=o.tree_getFirstDescendantNode(this._root,!1,!1,function(g){return s.Guard.isElementNode(g)&&h._filter(g)});v!==null;){if(p===c)return v;p++,v=o.tree_getNextDescendantNode(this._root,v,!1,!1,function(g){return s.Guard.isElementNode(g)&&h._filter(g)})}return null},f.prototype.namedItem=function(c){var h=this;if(c==="")return null;for(var p=o.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return s.Guard.isElementNode(y)&&h._filter(y)});p!=null;){if(p._uniqueIdentifier===c)return p;if(p._namespace===i.namespace.HTML)for(var v=0;v<p._attributeList.length;v++){var g=p._attributeList[v];if(g._localName==="name"&&g._namespace===null&&g._namespacePrefix===null&&g._value===c)return p}p=o.tree_getNextDescendantNode(this._root,p,!1,!1,function(y){return s.Guard.isElementNode(y)&&h._filter(y)})}return null},f.prototype[Symbol.iterator]=function(){var c=this._root,h=this._filter,p=o.tree_getFirstDescendantNode(c,!1,!1,function(v){return s.Guard.isElementNode(v)&&h(v)});return{next:function(){if(p===null)return{done:!0,value:null};var v={done:!1,value:p};return p=o.tree_getNextDescendantNode(c,p,!1,!1,function(g){return s.Guard.isElementNode(g)&&h(g)}),v}}},f.prototype.get=function(c,h,p){if(!u.isString(h)||f.reservedNames.indexOf(h)!==-1)return Reflect.get(c,h,p);var v=Number(h);return isNaN(v)?c.namedItem(h)||void 0:c.item(v)||void 0},f.prototype.set=function(c,h,p,v){if(!u.isString(h)||f.reservedNames.indexOf(h)!==-1)return Reflect.set(c,h,p,v);var g=Number(h),y=isNaN(g)?c.namedItem(h)||void 0:c.item(g)||void 0;return!(!y||!y._parent)&&(o.mutation_replace(y,p,y._parent),!0)},f._create=function(c,h){return h===void 0&&(h=function(){return!0}),new f(c,h)},f.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],f}();n.HTMLCollectionImpl=l},function(r,n,a){var i=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&f[c],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(1),u=a(0),l=function(){function f(c){return this._live=!0,this._filter=null,this._length=0,this._root=c,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),f.prototype.item=function(c){if(c<0||c>this.length-1)return null;if(c<this.length/2){for(var h=0,p=this._root._firstChild;p!==null&&h!==c;)p=p._nextSibling,h++;return p}for(h=this.length-1,p=this._root._lastChild;p!==null&&h!==c;)p=p._previousSibling,h--;return p},f.prototype.keys=function(){var c;return(c={})[Symbol.iterator]=(function(){var h=0;return{next:(function(){return h===this.length?{done:!0,value:null}:{done:!1,value:h++}}).bind(this)}}).bind(this),c},f.prototype.values=function(){var c;return(c={})[Symbol.iterator]=(function(){var h=this[Symbol.iterator]();return{next:function(){return h.next()}}}).bind(this),c},f.prototype.entries=function(){var c;return(c={})[Symbol.iterator]=(function(){var h=this[Symbol.iterator](),p=0;return{next:function(){var v=h.next();return v.done?{done:!0,value:null}:{done:!1,value:[p++,v.value]}}}}).bind(this),c},f.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},f.prototype.forEach=function(c,h){var p,v;h===void 0&&(h=o.dom.window);var g=0;try{for(var y=i(this._root._children),m=y.next();!m.done;m=y.next()){var d=m.value;c.call(h,d,g++,this)}}catch(_){p={error:_}}finally{try{m&&!m.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}},f.prototype.get=function(c,h,p){if(!s.isString(h))return Reflect.get(c,h,p);var v=Number(h);return isNaN(v)?Reflect.get(c,h,p):c.item(v)||void 0},f.prototype.set=function(c,h,p,v){if(!s.isString(h))return Reflect.set(c,h,p,v);var g=Number(h);if(isNaN(g))return Reflect.set(c,h,p,v);var y=c.item(g)||void 0;return!!y&&!!y._parent&&(u.mutation_replace(y,p,y._parent),!0)},f._create=function(c){return new f(c)},f}();n.NodeListImpl=l},function(r,n,a){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&l[f],h=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(1),u=function(){function l(f){return this._live=!1,this._items=[],this._length=0,this._root=f,this._items=[],this._filter=function(c){return!0},new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),l.prototype.item=function(f){return f<0||f>this.length-1?null:this._items[f]},l.prototype.keys=function(){var f;return(f={})[Symbol.iterator]=(function(){var c=0;return{next:(function(){return c===this.length?{done:!0,value:null}:{done:!1,value:c++}}).bind(this)}}).bind(this),f},l.prototype.values=function(){var f;return(f={})[Symbol.iterator]=(function(){var c=this[Symbol.iterator]();return{next:function(){return c.next()}}}).bind(this),f},l.prototype.entries=function(){var f;return(f={})[Symbol.iterator]=(function(){var c=this[Symbol.iterator](),h=0;return{next:function(){var p=c.next();return p.done?{done:!0,value:null}:{done:!1,value:[h++,p.value]}}}}).bind(this),f},l.prototype[Symbol.iterator]=function(){var f=this._items[Symbol.iterator]();return{next:function(){return f.next()}}},l.prototype.forEach=function(f,c){var h,p;c===void 0&&(c=o.dom.window);var v=0;try{for(var g=i(this._items),y=g.next();!y.done;y=g.next()){var m=y.value;f.call(c,m,v++,this)}}catch(d){h={error:d}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(h)throw h.error}}},l.prototype.get=function(f,c,h){if(!s.isString(c))return Reflect.get(f,c,h);var p=Number(c);return isNaN(p)?Reflect.get(f,c,h):f._items[p]||void 0},l.prototype.set=function(f,c,h,p){if(!s.isString(c))return Reflect.set(f,c,h,p);var v=Number(c);return isNaN(v)?Reflect.set(f,c,h,p):v>=0&&v<f._items.length&&(f._items[v]=h,!0)},l._create=function(f,c){var h=new l(f);return h._items=c,h},l}();n.NodeListStaticImpl=u},function(r,n,a){var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(9),u=a(0),l=function(f){function c(h){var p=f.call(this)||this;return p._element=h,Object.setPrototypeOf(p,c.prototype),p}return o(c,f),c.prototype._asArray=function(){return this},c.prototype.item=function(h){return this[h]||null},c.prototype.getNamedItem=function(h){return u.element_getAnAttributeByName(h,this._element)},c.prototype.getNamedItemNS=function(h,p){return u.element_getAnAttributeByNamespaceAndLocalName(h||"",p,this._element)},c.prototype.setNamedItem=function(h){return u.element_setAnAttribute(h,this._element)},c.prototype.setNamedItemNS=function(h){return u.element_setAnAttribute(h,this._element)},c.prototype.removeNamedItem=function(h){var p=u.element_removeAnAttributeByName(h,this._element);if(p===null)throw new s.NotFoundError;return p},c.prototype.removeNamedItemNS=function(h,p){var v=u.element_removeAnAttributeByNamespaceAndLocalName(h||"",p,this._element);if(v===null)throw new s.NotFoundError;return v},c._create=function(h){return new c(h)},c}(Array);n.NamedNodeMapImpl=l},function(r,n,a){var i,o=this&&this.__extends||(i=function(y,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var x in _)_.hasOwnProperty(x)&&(d[x]=_[x])})(y,m)},function(y,m){function d(){this.constructor=y}i(y,m),y.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}),s=this&&this.__values||function(y){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&y[m],_=0;if(d)return d.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&_>=y.length&&(y=void 0),{value:y&&y[_++],done:!y}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(6),l=a(2),f=a(102),c=a(9),h=a(0),p=a(12),v=a(3),g=function(y){function m(){var d=y.call(this)||this,_=u.dom.window._associatedDocument;return d._start=[_,0],d._end=[_,0],u.dom.rangeList.add(d),d}return o(m,y),Object.defineProperty(m.prototype,"commonAncestorContainer",{get:function(){for(var d=this._start[0];!h.tree_isAncestorOf(this._end[0],d,!0);){if(d._parent===null)throw new Error("Parent node  is null.");d=d._parent}return d},enumerable:!0,configurable:!0}),m.prototype.setStart=function(d,_){h.range_setTheStart(this,d,_)},m.prototype.setEnd=function(d,_){h.range_setTheEnd(this,d,_)},m.prototype.setStartBefore=function(d){var _=d._parent;if(_===null)throw new c.InvalidNodeTypeError;h.range_setTheStart(this,_,h.tree_index(d))},m.prototype.setStartAfter=function(d){var _=d._parent;if(_===null)throw new c.InvalidNodeTypeError;h.range_setTheStart(this,_,h.tree_index(d)+1)},m.prototype.setEndBefore=function(d){var _=d._parent;if(_===null)throw new c.InvalidNodeTypeError;h.range_setTheEnd(this,_,h.tree_index(d))},m.prototype.setEndAfter=function(d){var _=d._parent;if(_===null)throw new c.InvalidNodeTypeError;h.range_setTheEnd(this,_,h.tree_index(d)+1)},m.prototype.collapse=function(d){d?this._end=this._start:this._start=this._end},m.prototype.selectNode=function(d){h.range_select(d,this)},m.prototype.selectNodeContents=function(d){if(v.Guard.isDocumentTypeNode(d))throw new c.InvalidNodeTypeError;var _=h.tree_nodeLength(d);this._start=[d,0],this._end=[d,_]},m.prototype.compareBoundaryPoints=function(d,_){if(d!==l.HowToCompare.StartToStart&&d!==l.HowToCompare.StartToEnd&&d!==l.HowToCompare.EndToEnd&&d!==l.HowToCompare.EndToStart)throw new c.NotSupportedError;if(h.range_root(this)!==h.range_root(_))throw new c.WrongDocumentError;var x,w;switch(d){case l.HowToCompare.StartToStart:x=this._start,w=_._start;break;case l.HowToCompare.StartToEnd:x=this._end,w=_._start;break;case l.HowToCompare.EndToEnd:x=this._end,w=_._end;break;case l.HowToCompare.EndToStart:x=this._start,w=_._end;break;default:throw new c.NotSupportedError}var S=h.boundaryPoint_position(x,w);return S===l.BoundaryPosition.Before?-1:S===l.BoundaryPosition.After?1:0},m.prototype.deleteContents=function(){var d,_,x,w;if(!h.range_collapsed(this)){var S=this._startNode,b=this._startOffset,T=this._endNode,C=this._endOffset;if(S===T&&v.Guard.isCharacterDataNode(S))h.characterData_replaceData(S,b,C-b,"");else{var M,D,E=[];try{for(var k=s(h.range_getContainedNodes(this)),O=k.next();!O.done;O=k.next()){var A=(B=O.value)._parent;A!==null&&h.range_isContained(A,this)||E.push(B)}}catch(W){d={error:W}}finally{try{O&&!O.done&&(_=k.return)&&_.call(k)}finally{if(d)throw d.error}}if(h.tree_isAncestorOf(T,S,!0))M=S,D=b;else{for(var I=S;I._parent!==null&&!h.tree_isAncestorOf(T,I._parent,!0);)I=I._parent;if(I._parent===null)throw new Error("Parent node is null.");M=I._parent,D=h.tree_index(I)+1}v.Guard.isCharacterDataNode(S)&&h.characterData_replaceData(S,b,h.tree_nodeLength(S)-b,"");try{for(var U=s(E),P=U.next();!P.done;P=U.next()){var B;(B=P.value)._parent&&h.mutation_remove(B,B._parent)}}catch(W){x={error:W}}finally{try{P&&!P.done&&(w=U.return)&&w.call(U)}finally{if(x)throw x.error}}v.Guard.isCharacterDataNode(T)&&h.characterData_replaceData(T,0,C,""),this._start=[M,D],this._end=[M,D]}}},m.prototype.extractContents=function(){return h.range_extract(this)},m.prototype.cloneContents=function(){return h.range_cloneTheContents(this)},m.prototype.insertNode=function(d){return h.range_insert(d,this)},m.prototype.surroundContents=function(d){var _,x;try{for(var w=s(h.range_getPartiallyContainedNodes(this)),S=w.next();!S.done;S=w.next()){var b=S.value;if(!v.Guard.isTextNode(b))throw new c.InvalidStateError}}catch(C){_={error:C}}finally{try{S&&!S.done&&(x=w.return)&&x.call(w)}finally{if(_)throw _.error}}if(v.Guard.isDocumentNode(d)||v.Guard.isDocumentTypeNode(d)||v.Guard.isDocumentFragmentNode(d))throw new c.InvalidNodeTypeError;var T=h.range_extract(this);d._children.size!==0&&h.mutation_replaceAll(null,d),h.range_insert(d,this),h.mutation_append(T,d),h.range_select(d,this)},m.prototype.cloneRange=function(){return h.create_range(this._start,this._end)},m.prototype.detach=function(){u.dom.rangeList.delete(this)},m.prototype.isPointInRange=function(d,_){if(h.tree_rootNode(d)!==h.range_root(this))return!1;if(v.Guard.isDocumentTypeNode(d))throw new c.InvalidNodeTypeError;if(_>h.tree_nodeLength(d))throw new c.IndexSizeError;var x=[d,_];return h.boundaryPoint_position(x,this._start)!==l.BoundaryPosition.Before&&h.boundaryPoint_position(x,this._end)!==l.BoundaryPosition.After},m.prototype.comparePoint=function(d,_){if(h.tree_rootNode(d)!==h.range_root(this))throw new c.WrongDocumentError;if(v.Guard.isDocumentTypeNode(d))throw new c.InvalidNodeTypeError;if(_>h.tree_nodeLength(d))throw new c.IndexSizeError;var x=[d,_];return h.boundaryPoint_position(x,this._start)===l.BoundaryPosition.Before?-1:h.boundaryPoint_position(x,this._end)===l.BoundaryPosition.After?1:0},m.prototype.intersectsNode=function(d){if(h.tree_rootNode(d)!==h.range_root(this))return!1;var _=d._parent;if(_===null)return!0;var x=h.tree_index(d);return h.boundaryPoint_position([_,x],this._end)===l.BoundaryPosition.Before&&h.boundaryPoint_position([_,x+1],this._start)===l.BoundaryPosition.After},m.prototype.toString=function(){var d,_,x="";if(this._startNode===this._endNode&&v.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);v.Guard.isTextNode(this._startNode)&&(x+=this._startNode._data.substring(this._startOffset));try{for(var w=s(h.range_getContainedNodes(this)),S=w.next();!S.done;S=w.next()){var b=S.value;v.Guard.isTextNode(b)&&(x+=b._data)}}catch(T){d={error:T}}finally{try{S&&!S.done&&(_=w.return)&&_.call(w)}finally{if(d)throw d.error}}return v.Guard.isTextNode(this._endNode)&&(x+=this._endNode._data.substring(0,this._endOffset)),x},m._create=function(d,_){var x=new m;return d&&(x._start=d),_&&(x._end=_),x},m.START_TO_START=0,m.START_TO_END=1,m.END_TO_END=2,m.END_TO_START=3,m}(f.AbstractRangeImpl);n.RangeImpl=g,p.idl_defineConst(g.prototype,"START_TO_START",0),p.idl_defineConst(g.prototype,"START_TO_END",1),p.idl_defineConst(g.prototype,"END_TO_END",2),p.idl_defineConst(g.prototype,"END_TO_START",3)},function(r,n,a){var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(103),u=a(0),l=function(f){function c(h,p,v){var g=f.call(this,h)||this;return g._iteratorCollection=void 0,g._reference=p,g._pointerBeforeReference=v,u.nodeIterator_iteratorList().add(g),g}return o(c,f),Object.defineProperty(c.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),c.prototype.nextNode=function(){return u.nodeIterator_traverse(this,!0)},c.prototype.previousNode=function(){return u.nodeIterator_traverse(this,!1)},c.prototype.detach=function(){u.nodeIterator_iteratorList().delete(this)},c._create=function(h,p,v){return new c(h,p,v)},c}(s.TraverserImpl);n.NodeIteratorImpl=l},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(2),u=a(103),l=a(0),f=function(c){function h(p,v){var g=c.call(this,p)||this;return g._current=v,g}return o(h,c),Object.defineProperty(h.prototype,"currentNode",{get:function(){return this._current},set:function(p){this._current=p},enumerable:!0,configurable:!0}),h.prototype.parentNode=function(){for(var p=this._current;p!==null&&p!==this._root;)if((p=p._parent)!==null&&l.traversal_filter(this,p)===s.FilterResult.Accept)return this._current=p,p;return null},h.prototype.firstChild=function(){return l.treeWalker_traverseChildren(this,!0)},h.prototype.lastChild=function(){return l.treeWalker_traverseChildren(this,!1)},h.prototype.nextSibling=function(){return l.treeWalker_traverseSiblings(this,!0)},h.prototype.previousNode=function(){for(var p=this._current;p!==this._root;){for(var v=p._previousSibling;v;){p=v;for(var g=l.traversal_filter(this,p);g!==s.FilterResult.Reject&&p._lastChild;)p=p._lastChild,g=l.traversal_filter(this,p);if(g===s.FilterResult.Accept)return this._current=p,p;v=p._previousSibling}if(p===this._root||p._parent===null)return null;if(p=p._parent,l.traversal_filter(this,p)===s.FilterResult.Accept)return this._current=p,p}return null},h.prototype.previousSibling=function(){return l.treeWalker_traverseSiblings(this,!1)},h.prototype.nextNode=function(){for(var p=this._current,v=s.FilterResult.Accept;;){for(;v!==s.FilterResult.Reject&&p._firstChild;)if(p=p._firstChild,(v=l.traversal_filter(this,p))===s.FilterResult.Accept)return this._current=p,p;for(var g=null,y=p;y!==null;){if(y===this._root)return null;if((g=y._nextSibling)!==null){p=g;break}y=y._parent}if((v=l.traversal_filter(this,p))===s.FilterResult.Accept)return this._current=p,p}},h._create=function(p,v){return new h(p,v)},h}(u.TraverserImpl);n.TreeWalkerImpl=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=a(12),s=function(){function u(){}return u.prototype.acceptNode=function(l){return i.FilterResult.Accept},u._create=function(){return new u},u.FILTER_ACCEPT=1,u.FILTER_REJECT=2,u.FILTER_SKIP=3,u.SHOW_ALL=4294967295,u.SHOW_ELEMENT=1,u.SHOW_ATTRIBUTE=2,u.SHOW_TEXT=4,u.SHOW_CDATA_SECTION=8,u.SHOW_ENTITY_REFERENCE=16,u.SHOW_ENTITY=32,u.SHOW_PROCESSING_INSTRUCTION=64,u.SHOW_COMMENT=128,u.SHOW_DOCUMENT=256,u.SHOW_DOCUMENT_TYPE=512,u.SHOW_DOCUMENT_FRAGMENT=1024,u.SHOW_NOTATION=2048,u}();n.NodeFilterImpl=s,o.idl_defineConst(s.prototype,"FILTER_ACCEPT",1),o.idl_defineConst(s.prototype,"FILTER_REJECT",2),o.idl_defineConst(s.prototype,"FILTER_SKIP",3),o.idl_defineConst(s.prototype,"SHOW_ALL",4294967295),o.idl_defineConst(s.prototype,"SHOW_ELEMENT",1),o.idl_defineConst(s.prototype,"SHOW_ATTRIBUTE",2),o.idl_defineConst(s.prototype,"SHOW_TEXT",4),o.idl_defineConst(s.prototype,"SHOW_CDATA_SECTION",8),o.idl_defineConst(s.prototype,"SHOW_ENTITY_REFERENCE",16),o.idl_defineConst(s.prototype,"SHOW_ENTITY",32),o.idl_defineConst(s.prototype,"SHOW_PROCESSING_INSTRUCTION",64),o.idl_defineConst(s.prototype,"SHOW_COMMENT",128),o.idl_defineConst(s.prototype,"SHOW_DOCUMENT",256),o.idl_defineConst(s.prototype,"SHOW_DOCUMENT_TYPE",512),o.idl_defineConst(s.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),o.idl_defineConst(s.prototype,"SHOW_NOTATION",2048)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(s,u,l,f,c,h,p,v,g){this._type=s,this._target=u,this._addedNodes=l,this._removedNodes=f,this._previousSibling=c,this._nextSibling=h,this._attributeName=p,this._attributeNamespace=v,this._oldValue=g}return Object.defineProperty(o.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),o._create=function(s,u,l,f,c,h,p,v,g){return new o(s,u,l,f,c,h,p,v,g)},o}();n.MutationRecordImpl=i},function(r,n,a){var i=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(9),u=a(7),l=a(0),f=function(){function c(h,p){this._element=h,this._attribute=p,this._tokenSet=new Set;var v=p._localName,g=l.element_getAnAttributeValue(h,v),y=this;this._element._attributeChangeSteps.push(function(m,d,_,x,w){d===y._attribute._localName&&w===null&&(x?y._tokenSet=l.orderedSet_parse(x):y._tokenSet.clear())}),o.dom.features.steps&&l.dom_runAttributeChangeSteps(h,v,g,g,null)}return Object.defineProperty(c.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),c.prototype.item=function(h){var p,v,g=0;try{for(var y=i(this._tokenSet),m=y.next();!m.done;m=y.next()){var d=m.value;if(g===h)return d;g++}}catch(_){p={error:_}}finally{try{m&&!m.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}return null},c.prototype.contains=function(h){return this._tokenSet.has(h)},c.prototype.add=function(){for(var h,p,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];try{for(var y=i(v),m=y.next();!m.done;m=y.next()){var d=m.value;if(d==="")throw new s.SyntaxError("Cannot add an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(d))throw new s.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(d)}}catch(_){h={error:_}}finally{try{m&&!m.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}l.tokenList_updateSteps(this)},c.prototype.remove=function(){for(var h,p,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];try{for(var y=i(v),m=y.next();!m.done;m=y.next()){var d=m.value;if(d==="")throw new s.SyntaxError("Cannot remove an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(d))throw new s.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(d)}}catch(_){h={error:_}}finally{try{m&&!m.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}l.tokenList_updateSteps(this)},c.prototype.toggle=function(h,p){if(p===void 0&&(p=void 0),h==="")throw new s.SyntaxError("Cannot toggle an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(h))throw new s.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(h)?p!==void 0&&p!==!1||(this._tokenSet.delete(h),l.tokenList_updateSteps(this),!1):(p===void 0||p===!0)&&(this._tokenSet.add(h),l.tokenList_updateSteps(this),!0)},c.prototype.replace=function(h,p){if(h===""||p==="")throw new s.SyntaxError("Cannot replace an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(h)||u.codePoint.ASCIIWhiteSpace.test(p))throw new s.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(h)&&(u.set.replace(this._tokenSet,h,p),l.tokenList_updateSteps(this),!0)},c.prototype.supports=function(h){return l.tokenList_validationSteps(this,h)},Object.defineProperty(c.prototype,"value",{get:function(){return l.tokenList_serializeSteps(this)},set:function(h){l.element_setAnAttributeValue(this._element,this._attribute._localName,h)},enumerable:!0,configurable:!0}),c.prototype[Symbol.iterator]=function(){var h=this._tokenSet[Symbol.iterator]();return{next:function(){return h.next()}}},c._create=function(h,p){return new c(h,p)},c}();n.DOMTokenListImpl=f},function(r,n,a){var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(104),u=a(0),l=function(f){function c(h,p){var v=f.call(this,h,p)||this;return v._detail=null,v._detail=p&&p.detail||null,v}return o(c,f),Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),c.prototype.initCustomEvent=function(h,p,v,g){p===void 0&&(p=!1),v===void 0&&(v=!1),g===void 0&&(g=null),this._dispatchFlag||(u.event_initialize(this,h,p,v),this._detail=g)},c}(s.EventImpl);n.CustomEventImpl=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=a(2),s=a(105),u=a(17);n.nodeIterator_traverse=function(l,f){for(var c=l._reference,h=l._pointerBeforeReference;;){if(f)if(h)h=!1;else{var p=u.tree_getFollowingNode(l._root,c);if(!p)return null;c=p}else if(h){var v=u.tree_getPrecedingNode(l.root,c);if(!v)return null;c=v}else h=!0;if(s.traversal_filter(l,c)===o.FilterResult.Accept)break}return l._reference=c,l._pointerBeforeReference=h,c},n.nodeIterator_iteratorList=function(){return i.dom.window._iteratorList}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(9),o=a(7),s=a(174);function u(l){if(!s.xml_isName(l))throw new i.InvalidCharacterError("Invalid XML name: "+l);if(!s.xml_isQName(l))throw new i.InvalidCharacterError("Invalid XML qualified name: "+l+".")}n.namespace_validate=u,n.namespace_validateAndExtract=function(l,f){l||(l=null),u(f);var c=f.split(":"),h=c.length===2?c[0]:null,p=c.length===2?c[1]:f;if(h&&l===null)throw new i.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(h==="xml"&&l!==o.namespace.XML)throw new i.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(l!==o.namespace.XMLNS&&(h==="xmlns"||f==="xmlns"))throw new i.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(l===o.namespace.XMLNS&&h!=="xmlns"&&f!=="xmlns")throw new i.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[l,h,p]},n.namespace_extractQName=function(l){u(l);var f=l.split(":");return[f.length===2?f[0]:null,f.length===2?f[1]:l]}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.xml_isName=function(i){for(var o=0;o<i.length;o++){var s=i.charCodeAt(o);if(!(s>=97&&s<=122||s>=65&&s<=90||s===58||s===95||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533)&&(o===0||!(s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256))){if(s>=55296&&s<=56319&&o<i.length-1){var u=i.charCodeAt(o+1);if(u>=56320&&u<=57343&&(o++,(s=1024*(s-55296)+u-56320+65536)>=65536&&s<=983039))continue}return!1}}return!0},n.xml_isQName=function(i){for(var o=!1,s=0;s<i.length;s++){var u=i.charCodeAt(s);if(!(u>=97&&u<=122||u>=65&&u<=90||u===95||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8204&&u<=8205||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533)&&(s===0||!(u===45||u===46||u>=48&&u<=57||u===183||u>=768&&u<=879||u>=8255&&u<=8256))){if(s===0||u!==58){if(u>=55296&&u<=56319&&s<i.length-1){var l=i.charCodeAt(s+1);if(l>=56320&&l<=57343&&(s++,(u=1024*(u-55296)+l-56320+65536)>=65536&&u<=983039))continue}return!1}if(o||s===i.length-1)return!1;o=!0}}return!0},n.xml_isLegalChar=function(i){for(var o=0;o<i.length;o++){var s=i.charCodeAt(o);if(!(s===9||s===10||s===13||s>=32&&s<=55295||s>=57344&&s<=65533)){if(s>=55296&&s<=56319&&o<i.length-1){var u=i.charCodeAt(o+1);if(u>=56320&&u<=57343&&(o++,(s=1024*(s-55296)+u-56320+65536)>=65536&&s<=1114111))continue}return!1}}return!0},n.xml_isPubidChar=function(i){for(var o=0;o<i.length;o++){var s=i.charCodeAt(o);if(!(s>=97&&s<=122||s>=65&&s<=90||s>=39&&s<=59||s===32||s===13||s===10||s>=35&&s<=37||s===33||s===61||s===63||s===64||s===95))return!1}return!0}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=a(17);n.boundaryPoint_position=function s(u,l){var f=u[0],c=u[1],h=l[0],p=l[1];if(console.assert(o.tree_rootNode(f)===o.tree_rootNode(h),"Boundary points must share the same root node."),f===h)return c===p?i.BoundaryPosition.Equal:c<p?i.BoundaryPosition.Before:i.BoundaryPosition.After;if(o.tree_isFollowing(h,f)){var v=s([h,p],[f,c]);if(v===i.BoundaryPosition.Before)return i.BoundaryPosition.After;if(v===i.BoundaryPosition.After)return i.BoundaryPosition.Before}if(o.tree_isAncestorOf(h,f)){for(var g=h;!o.tree_isChildOf(f,g);)g._parent!==null&&(g=g._parent);if(o.tree_index(g)<c)return i.BoundaryPosition.After}return i.BoundaryPosition.Before}},function(r,n,a){var i=this&&this.__values||function(v){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&v[g],m=0;if(y)return y.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(3),u=a(7),l=a(29),f=a(108),c=a(30),h=a(37),p=a(52);n.node_stringReplaceAll=function(v,g){var y=null;v!==""&&(y=l.create_text(g._nodeDocument,v)),h.mutation_replaceAll(y,g)},n.node_clone=function v(g,y,m){var d,_,x,w,S;if(y===void 0&&(y=null),m===void 0&&(m=!1),y===null&&(y=g._nodeDocument),s.Guard.isElementNode(g)){S=p.element_createAnElement(y,g._localName,g._namespace,g._namespacePrefix,g._is,!1);try{for(var b=i(g._attributeList),T=b.next();!T.done;T=b.next()){var C=v(T.value,y);p.element_append(C,S)}}catch(A){d={error:A}}finally{try{T&&!T.done&&(_=b.return)&&_.call(b)}finally{if(d)throw d.error}}}else if(s.Guard.isDocumentNode(g)){var M=l.create_document();M._encoding=g._encoding,M._contentType=g._contentType,M._URL=g._URL,M._origin=g._origin,M._type=g._type,M._mode=g._mode,S=M}else if(s.Guard.isDocumentTypeNode(g))S=l.create_documentType(y,g._name,g._publicId,g._systemId);else if(s.Guard.isAttrNode(g)){var D=l.create_attr(y,g.localName);D._namespace=g._namespace,D._namespacePrefix=g._namespacePrefix,D._value=g._value,S=D}else S=s.Guard.isExclusiveTextNode(g)?l.create_text(y,g._data):s.Guard.isCDATASectionNode(g)?l.create_cdataSection(y,g._data):s.Guard.isCommentNode(g)?l.create_comment(y,g._data):s.Guard.isProcessingInstructionNode(g)?l.create_processingInstruction(y,g._target,g._data):s.Guard.isDocumentFragmentNode(g)?l.create_documentFragment(y):Object.create(g);if(s.Guard.isDocumentNode(S)?(S._nodeDocument=S,y=S):S._nodeDocument=y,o.dom.features.steps&&c.dom_runCloningSteps(S,g,y,m),m)try{for(var E=i(g._children),k=E.next();!k.done;k=E.next()){var O=v(k.value,y,!0);h.mutation_append(O,S)}}catch(A){x={error:A}}finally{try{k&&!k.done&&(w=E.return)&&w.call(E)}finally{if(x)throw x.error}}return S},n.node_equals=function v(g,y){var m,d,_,x;if(g._nodeType!==y._nodeType)return!1;if(s.Guard.isDocumentTypeNode(g)&&s.Guard.isDocumentTypeNode(y)){if(g._name!==y._name||g._publicId!==y._publicId||g._systemId!==y._systemId)return!1}else if(s.Guard.isElementNode(g)&&s.Guard.isElementNode(y)){if(g._namespace!==y._namespace||g._namespacePrefix!==y._namespacePrefix||g._localName!==y._localName||g._attributeList.length!==y._attributeList.length)return!1}else if(s.Guard.isAttrNode(g)&&s.Guard.isAttrNode(y)){if(g._namespace!==y._namespace||g._localName!==y._localName||g._value!==y._value)return!1}else if(s.Guard.isProcessingInstructionNode(g)&&s.Guard.isProcessingInstructionNode(y)){if(g._target!==y._target||g._data!==y._data)return!1}else if(s.Guard.isCharacterDataNode(g)&&s.Guard.isCharacterDataNode(y)&&g._data!==y._data)return!1;if(s.Guard.isElementNode(g)&&s.Guard.isElementNode(y)){var w={};try{for(var S=i(g._attributeList),b=S.next();!b.done;b=S.next())w[(M=b.value)._localName]=M}catch(I){m={error:I}}finally{try{b&&!b.done&&(d=S.return)&&d.call(S)}finally{if(m)throw m.error}}try{for(var T=i(y._attributeList),C=T.next();!C.done;C=T.next()){var M,D=C.value;if(!(M=w[D._localName])||!v(M,D))return!1}}catch(I){_={error:I}}finally{try{C&&!C.done&&(x=T.return)&&x.call(T)}finally{if(_)throw _.error}}}if(g._children.size!==y._children.size)return!1;for(var E=g._children[Symbol.iterator](),k=y._children[Symbol.iterator](),O=E.next(),A=k.next();!O.done&&!A.done;){if(!v(O.value,A.value))return!1;O=E.next(),A=k.next()}return!0},n.node_listOfElementsWithQualifiedName=function(v,g){return v==="*"?l.create_htmlCollection(g):g._nodeDocument._type==="html"?l.create_htmlCollection(g,function(y){return y._namespace===u.namespace.HTML&&y._qualifiedName===v.toLowerCase()||y._namespace!==u.namespace.HTML&&y._qualifiedName===v}):l.create_htmlCollection(g,function(y){return y._qualifiedName===v})},n.node_listOfElementsWithNamespace=function(v,g,y){return v===""&&(v=null),v==="*"&&g==="*"?l.create_htmlCollection(y):v==="*"?l.create_htmlCollection(y,function(m){return m._localName===g}):g==="*"?l.create_htmlCollection(y,function(m){return m._namespace===v}):l.create_htmlCollection(y,function(m){return m._localName===g&&m._namespace===v})},n.node_listOfElementsWithClassNames=function(v,g){var y=f.orderedSet_parse(v);if(y.size===0)return l.create_htmlCollection(g,function(){return!1});var m=g._nodeDocument._mode!=="quirks";return l.create_htmlCollection(g,function(d){var _=d.classList;return f.orderedSet_contains(_._tokenSet,y,m)})},n.node_locateANamespacePrefix=function v(g,y){if(g._namespace===y&&g._namespacePrefix!==null)return g._namespacePrefix;for(var m=0;m<g._attributeList.length;m++){var d=g._attributeList[m];if(d._namespacePrefix==="xmlns"&&d._value===y)return d._localName}return g._parent&&s.Guard.isElementNode(g._parent)?v(g._parent,y):null},n.node_locateANamespace=function v(g,y){if(s.Guard.isElementNode(g)){if(g._namespace!==null&&g._namespacePrefix===y)return g._namespace;for(var m=0;m<g._attributeList.length;m++){var d=g._attributeList[m];if(d._namespace===u.namespace.XMLNS&&d._namespacePrefix==="xmlns"&&d._localName===y||y===null&&d._namespace===u.namespace.XMLNS&&d._namespacePrefix===null&&d._localName==="xmlns")return d._value||null}return g.parentElement===null?null:v(g.parentElement,y)}return s.Guard.isDocumentNode(g)?g.documentElement===null?null:v(g.documentElement,y):s.Guard.isDocumentTypeNode(g)||s.Guard.isDocumentFragmentNode(g)?null:s.Guard.isAttrNode(g)?g._element===null?null:v(g._element,y):g._parent&&s.Guard.isElementNode(g._parent)?v(g._parent,y):null}},function(r,n,a){var i=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&p[v],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(3),u=a(9),l=a(29),f=a(17),c=a(107),h=a(37);n.text_contiguousTextNodes=function(p,v){var g;return v===void 0&&(v=!1),(g={})[Symbol.iterator]=function(){for(var y=p;y&&s.Guard.isTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!v&&y===p&&(y=s.Guard.isTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var m={done:!1,value:y};return y=s.Guard.isTextNode(y._nextSibling)?y._nextSibling:null,m}}},g},n.text_contiguousExclusiveTextNodes=function(p,v){var g;return v===void 0&&(v=!1),(g={})[Symbol.iterator]=function(){for(var y=p;y&&s.Guard.isExclusiveTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!v&&y===p&&(y=s.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var m={done:!1,value:y};return y=s.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null,m}}},g},n.text_descendantTextContent=function(p){for(var v="",g=f.tree_getFirstDescendantNode(p,!1,!1,function(y){return s.Guard.isTextNode(y)});g!==null;)v+=g._data,g=f.tree_getNextDescendantNode(p,g,!1,!1,function(y){return s.Guard.isTextNode(y)});return v},n.text_split=function(p,v){var g,y,m=p._data.length;if(v>m)throw new u.IndexSizeError;var d=m-v,_=c.characterData_substringData(p,v,d),x=l.create_text(p._nodeDocument,_),w=p._parent;if(w!==null){h.mutation_insert(x,w,p._nextSibling);try{for(var S=i(o.dom.rangeList),b=S.next();!b.done;b=S.next()){var T=b.value;T._start[0]===p&&T._start[1]>v&&(T._start[0]=x,T._start[1]-=v),T._end[0]===p&&T._end[1]>v&&(T._end[0]=x,T._end[1]-=v);var C=f.tree_index(p);T._start[0]===w&&T._start[1]===C+1&&T._start[1]++,T._end[0]===w&&T._end[1]===C+1&&T._end[1]++}}catch(M){g={error:M}}finally{try{b&&!b.done&&(y=S.return)&&y.call(S)}finally{if(g)throw g.error}}}return c.characterData_replaceData(p,v,d,""),x}},function(r,n,a){var i=a(4),o=a(41),s=a(24),u=a(48),l=[].join,f=o!=Object,c=u("join",",");i({target:"Array",proto:!0,forced:f||!c},{join:function(h){return l.call(s(this),h===void 0?",":h)}})},function(r,n,a){var i=a(4),o=a(83),s=String.fromCharCode,u=String.fromCodePoint;i({target:"String",stat:!0,forced:!!u&&u.length!=1},{fromCodePoint:function(l){for(var f,c=[],h=arguments.length,p=0;h>p;){if(f=+arguments[p++],o(f,1114111)!==f)throw RangeError(f+" is not a valid code point");c.push(f<65536?s(f):s(55296+((f-=65536)>>10),f%1024+56320))}return c.join("")}})},function(r,n,a){var i=this&&this.__read||function(u,l){var f=typeof Symbol=="function"&&u[Symbol.iterator];if(!f)return u;var c,h,p=f.call(u),v=[];try{for(;(l===void 0||l-- >0)&&!(c=p.next()).done;)v.push(c.value)}catch(g){h={error:g}}finally{try{c&&!c.done&&(f=p.return)&&f.call(p)}finally{if(h)throw h.error}}return v};Object.defineProperty(n,"__esModule",{value:!0});var o=a(111),s=function(){function u(l,f){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=l,this._index=0,this._length=l.length,f&&(this._options.skipWhitespaceOnlyText=f.skipWhitespaceOnlyText||!1)}return u.prototype.nextToken=function(){if(this.eof())return{type:o.TokenType.EOF};var l=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&l.type===o.TokenType.Text&&u.isWhiteSpaceToken(l)&&(l=this.nextToken()),l},u.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?u.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},u.prototype.declaration=function(){for(var l="",f="",c="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:o.TokenType.Declaration,version:l,encoding:f,standalone:c};var h=i(this.attribute(),2),p=h[0],v=h[1];p==="version"?l=v:p==="encoding"?f=v:p==="standalone"?c=v:this.throwError("Invalid attribute name: "+p)}this.throwError("Missing declaration end symbol `?>`")},u.prototype.doctype=function(){var l="",f="";this.skipSpace();var c=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(l=this.quotedString(),f=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(f=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:o.TokenType.DocType,name:c,pubId:l,sysId:f}},u.prototype.pi=function(){var l=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:o.TokenType.PI,target:l,data:""};var f=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:o.TokenType.PI,target:l,data:f}},u.prototype.text=function(){var l=this.takeUntil("<");return{type:o.TokenType.Text,data:l}},u.prototype.comment=function(){var l=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:o.TokenType.Comment,data:l}},u.prototype.cdata=function(){var l=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:o.TokenType.CDATA,data:l}},u.prototype.openTag=function(){this.skipSpace();var l=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:o.TokenType.Element,name:l,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:o.TokenType.Element,name:l,attributes:[],selfClosing:!0};for(var f=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:o.TokenType.Element,name:l,attributes:f,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:o.TokenType.Element,name:l,attributes:f,selfClosing:!0};var c=this.attribute();f.push(c)}this.throwError("Missing opening element tag end symbol `>`")},u.prototype.closeTag=function(){this.skipSpace();var l=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:o.TokenType.ClosingTag,name:l}},u.prototype.attribute=function(){this.skipSpace();var l=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[l,this.quotedString()]},u.prototype.quotedString=function(){this.skipSpace();var l=this.take(1);u.isQuote(l)||this.throwError("Missing start quote character before quoted value");var f=this.takeUntil(l);return this.skipIfStartsWith(l)||this.throwError("Missing end quote character after quoted value"),f},u.prototype.eof=function(){return this._index>=this._length},u.prototype.skipIfStartsWith=function(l){var f=l.length;if(f===1)return this._str[this._index]===l&&(this._index++,!0);for(var c=0;c<f;c++)if(this._str[this._index+c]!==l[c])return!1;return this._index+=f,!0},u.prototype.seek=function(l){this._index+=l,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},u.prototype.skipSpace=function(){for(;!this.eof()&&u.isSpace(this._str[this._index]);)this._index++},u.prototype.take=function(l){if(l===1)return this._str[this._index++];var f=this._index;return this.seek(l),this._str.slice(f,this._index)},u.prototype.takeUntil=function(l,f){f===void 0&&(f=!1);for(var c=this._index;this._index<this._length;){var h=this._str[this._index];if(h===l||f&&u.isSpace(h))break;this._index++}return this._str.slice(c,this._index)},u.prototype.takeUntil2=function(l,f,c){c===void 0&&(c=!1);for(var h=this._index;this._index<this._length;){var p=this._str[this._index];if(p===l||p===f||c&&u.isSpace(p))break;this._index++}return this._str.slice(h,this._index)},u.prototype.takeUntilStartsWith=function(l,f){f===void 0&&(f=!1);for(var c=this._index,h=l.length;this._index<this._length;){for(var p=!0,v=0;v<h;v++){var g=this._str[this._index+v],y=l[v];if(f&&u.isSpace(g))return this._str.slice(c,this._index);if(g!==y){this._index++,p=!1;break}}if(p)return this._str.slice(c,this._index)}return this._index=this._length,this._str.slice(c)},u.prototype.skipUntil=function(l){for(;this._index<this._length&&this._str[this._index]!==l;)this._index++},u.isWhiteSpaceToken=function(l){for(var f=l.data,c=0;c<f.length;c++){var h=f[c];if(h!==" "&&h!==`
`&&h!=="\r"&&h!=="	"&&h!=="\f")return!1}return!0},u.isSpace=function(l){return l===" "||l===`
`||l==="\r"||l==="	"},u.isQuote=function(l){return l==='"'||l==="'"},u.prototype.throwError=function(l){for(var f=/\r\n|\r|\n/g,c=null,h=0,p=0,v=this._str.length;(c=f.exec(this._str))!==null&&c!==null;)if(h++,c.index<this._index&&(p=f.lastIndex),c.index>this._index){v=c.index;break}throw this.err={line:h,col:this._index-p,index:this._index,str:this._str.substring(p,v)},new Error(l+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},u.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var l=this.nextToken();return l.type===o.TokenType.EOF?{done:!0,value:null}:{done:!1,value:l}}).bind(this)}},u}();n.XMLStringLexer=s},function(r,n,a){var i=a(39);r.exports=new i({include:[a(182)]})},function(r,n,a){var i=a(39);r.exports=new i({include:[a(113)],implicit:[a(289),a(290),a(291),a(292)]})},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(91),o=a(1),s=a(3),u=a(77),l=a(109);function f(v,g){var y=h(v===void 0||c(v)?v:i.DefaultBuilderOptions),m=c(v)?g:v,d=l.createDocument();p(d,y);var _=new u.XMLBuilderImpl(d);return m!==void 0&&_.ele(m),_}function c(v){if(!o.isPlainObject(v))return!1;for(var g in v)if(v.hasOwnProperty(g)&&!i.XMLBuilderOptionKeys.has(g))return!1;return!0}function h(v){v===void 0&&(v={});var g=o.applyDefaults(v,i.DefaultBuilderOptions);if(g.convert.att.length===0||g.convert.ins.length===0||g.convert.text.length===0||g.convert.cdata.length===0||g.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return g}function p(v,g,y){var m=v;m._xmlBuilderOptions=g,m._isFragment=y}n.builder=function(v,g){var y=h(c(v)?v:i.DefaultBuilderOptions),m=s.Guard.isNode(v)||o.isArray(v)?v:g;if(m===void 0)throw new Error("Invalid arguments.");if(o.isArray(m)){for(var d=[],_=0;_<m.length;_++){var x=new u.XMLBuilderImpl(m[_]);x.set(y),d.push(x)}return d}var w=new u.XMLBuilderImpl(m);return w.set(y),w},n.create=f,n.fragment=function(v,g){var y=h(v===void 0||c(v)?v:i.DefaultBuilderOptions),m=c(v)?g:v,d=l.createDocument();p(d,y,!0);var _=new u.XMLBuilderImpl(d.createDocumentFragment());return m!==void 0&&_.ele(m),_},n.convert=function(v,g,y){var m,d,_;return c(v)&&g!==void 0?(m=v,d=g,_=y):(m=i.DefaultBuilderOptions,d=v,_=g||void 0),f(m,d).end(_)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(77);n.builder=i.builder,n.create=i.create,n.fragment=i.fragment,n.convert=i.convert,n.createCB=i.createCB,n.fragmentCB=i.fragmentCB},function(r,n,a){a(31),a(32),a(33),a(191),a(192),a(194),a(64),a(19),a(198),a(199),a(89),a(201),a(65),a(20),a(66),a(22),a(23);var i=this&&this.__read||function(m,d){var _=typeof Symbol=="function"&&m[Symbol.iterator];if(!_)return m;var x,w,S=_.call(m),b=[];try{for(;(d===void 0||d-- >0)&&!(x=S.next()).done;)b.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}return b},o=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&m[d],x=0;if(_)return _.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=a(91),u=a(1),l=a(217),f=a(2),c=a(3),h=a(0),p=a(109),v=a(7),g=a(276),y=function(){function m(d){this._domNode=d}return Object.defineProperty(m.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),m.prototype.set=function(d){return this._options=u.applyDefaults(u.applyDefaults(this._options,d,!0),s.DefaultBuilderOptions),this},m.prototype.ele=function(d,_,x){var w,S,b,T,C,M;if(u.isObject(d))return new g.ObjectReader(this._options).parse(this,d);if(d!==null&&/^\s*</.test(d))return new g.XMLReader(this._options).parse(this,d);if(d!==null&&/^\s*[\{\[]/.test(d))return new g.JSONReader(this._options).parse(this,d);if(d!==null&&/^(\s*|(#.*)|(%.*))*---/.test(d))return new g.YAMLReader(this._options).parse(this,d);if((d===null||u.isString(d))&&u.isString(_))T=(w=i([d,_,x],3))[0],C=w[1],M=w[2];else{if(d===null)throw new Error("Element name cannot be null. "+this._debugInfo());T=(S=i([void 0,d,u.isObject(_)?_:void 0],3))[0],C=S[1],M=S[2]}if(M&&(M=u.getValue(M)),T=(b=i(this._extractNamespace(p.sanitizeInput(T,this._options.invalidCharReplacement),p.sanitizeInput(C,this._options.invalidCharReplacement),!0),2))[0],C=b[1],T===void 0){var D=i(h.namespace_extractQName(C),1)[0];T=this.node.lookupNamespaceURI(D)}var E=T!=null?this._doc.createElementNS(T,C):this._doc.createElement(C);this.node.appendChild(E);var k=new m(E),O=this._doc.doctype;if(E===this._doc.documentElement&&O!==null){var A=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,O.publicId,O.systemId);this._doc.replaceChild(A,O)}return M&&!u.isEmpty(M)&&k.att(M),k},m.prototype.remove=function(){var d=this.up();return d.node.removeChild(this.node),d},m.prototype.att=function(d,_,x){var w,S,b,T,C,M,D=this;if(u.isMap(d)||u.isObject(d))return u.forEachObject(d,function(P,B){return D.att(P,B)},this),this;if(d!=null&&(d=u.getValue(d+"")),_!=null&&(_=u.getValue(_+"")),x!=null&&(x=u.getValue(x+"")),d!==null&&!u.isString(d)||!u.isString(_)||x!==null&&!u.isString(x)){if(!u.isString(d)||_!=null&&!u.isString(_))throw new Error("Attribute name and value not specified. "+this._debugInfo());T=(S=i([void 0,d,_],3))[0],C=S[1],M=S[2]}else T=(w=i([d,_,x],3))[0],C=w[1],M=w[2];if(this._options.keepNullAttributes&&M==null)M="";else if(M==null)return this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var E=this.node;T=(b=i(this._extractNamespace(T,C,!1),2))[0],C=b[1],C=p.sanitizeInput(C,this._options.invalidCharReplacement),T=p.sanitizeInput(T,this._options.invalidCharReplacement),M=p.sanitizeInput(M,this._options.invalidCharReplacement);var k=i(h.namespace_extractQName(C),2),O=k[0],A=k[1],I=i(h.namespace_extractQName(E.prefix?E.prefix+":"+E.localName:E.localName),1)[0],U=null;return O==="xmlns"?(T=v.namespace.XMLNS,E.namespaceURI===null&&I===A&&(U=M)):O===null&&A==="xmlns"&&I===null&&(T=v.namespace.XMLNS,U=M),U!==null&&(this._updateNamespace(U),E=this.node),T!==void 0?E.setAttributeNS(T,C,M):E.setAttribute(C,M),this},m.prototype.removeAtt=function(d,_){var x,w,S=this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(d=u.getValue(d),_!==void 0&&(_=u.getValue(_)),d!==null&&_===void 0)w=d;else{if(d!==null&&!u.isString(d)||_===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());x=d,w=_}return u.isArray(w)||u.isSet(w)?u.forEachArray(w,function(b){return x===void 0?S.removeAtt(b):S.removeAtt(x,b)},this):x!==void 0?(w=p.sanitizeInput(w,this._options.invalidCharReplacement),x=p.sanitizeInput(x,this._options.invalidCharReplacement),this.node.removeAttributeNS(x,w)):(w=p.sanitizeInput(w,this._options.invalidCharReplacement),this.node.removeAttribute(w)),this},m.prototype.txt=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var _=this._doc.createTextNode(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(_),this},m.prototype.com=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var _=this._doc.createComment(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(_),this},m.prototype.dat=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var _=this._doc.createCDATASection(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(_),this},m.prototype.ins=function(d,_){var x=this;if(_===void 0&&(_=""),_==null){if(!this._options.keepNullNodes)return this;_=""}if(u.isArray(d)||u.isSet(d))u.forEachArray(d,function(S){var b=(S+="").indexOf(" "),T=b===-1?S:S.substr(0,b),C=b===-1?"":S.substr(b+1);x.ins(T,C)},this);else if(u.isMap(d)||u.isObject(d))u.forEachObject(d,function(S,b){return x.ins(S,b)},this);else{var w=this._doc.createProcessingInstruction(p.sanitizeInput(d,this._options.invalidCharReplacement),p.sanitizeInput(_,this._options.invalidCharReplacement));this.node.appendChild(w)}return this},m.prototype.dec=function(d){return this._options.version=d.version||"1.0",this._options.encoding=d.encoding,this._options.standalone=d.standalone,this},m.prototype.dtd=function(d){var _=p.sanitizeInput(d&&d.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),x=p.sanitizeInput(d&&d.pubID||"",this._options.invalidCharReplacement),w=p.sanitizeInput(d&&d.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&_!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var S=this._doc.implementation.createDocumentType(_,x,w);return this._doc.doctype!==null?this._doc.replaceChild(S,this._doc.doctype):this._doc.insertBefore(S,this._doc.documentElement),this},m.prototype.import=function(d){var _,x,w=this._domNode,S=this._doc,b=d.node;if(c.Guard.isDocumentNode(b)){var T=b.documentElement;if(T===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var C=S.importNode(T,!0);w.appendChild(C);var M=i(h.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],D=w.lookupNamespaceURI(M);new m(C)._updateNamespace(D)}else if(c.Guard.isDocumentFragmentNode(b))try{for(var E=o(b.childNodes),k=E.next();!k.done;k=E.next()){var O=k.value;C=S.importNode(O,!0),w.appendChild(C),c.Guard.isElementNode(C)&&(M=i(h.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],D=w.lookupNamespaceURI(M),new m(C)._updateNamespace(D))}}catch(A){_={error:A}}finally{try{k&&!k.done&&(x=E.return)&&x.call(E)}finally{if(_)throw _.error}}else C=S.importNode(b,!0),w.appendChild(C),c.Guard.isElementNode(C)&&(M=i(h.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],D=w.lookupNamespaceURI(M),new m(C)._updateNamespace(D));return this},m.prototype.doc=function(){if(this._doc._isFragment){for(var d=this.node;d&&d.nodeType!==f.NodeType.DocumentFragment;)d=d.parentNode;if(d===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new m(d)}return new m(this._doc)},m.prototype.root=function(){var d=this._doc.documentElement;if(!d)throw new Error("Document root element is null. "+this._debugInfo());return new m(d)},m.prototype.up=function(){var d=this._domNode.parentNode;if(!d)throw new Error("Parent node is null. "+this._debugInfo());return new m(d)},m.prototype.prev=function(){var d=this._domNode.previousSibling;if(!d)throw new Error("Previous sibling node is null. "+this._debugInfo());return new m(d)},m.prototype.next=function(){var d=this._domNode.nextSibling;if(!d)throw new Error("Next sibling node is null. "+this._debugInfo());return new m(d)},m.prototype.first=function(){var d=this._domNode.firstChild;if(!d)throw new Error("First child node is null. "+this._debugInfo());return new m(d)},m.prototype.last=function(){var d=this._domNode.lastChild;if(!d)throw new Error("Last child node is null. "+this._debugInfo());return new m(d)},m.prototype.each=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);for(var S=this._getFirstDescendantNode(this._domNode,_,x);S[0];){var b=this._getNextDescendantNode(this._domNode,S[0],x,S[1],S[2]);d.call(w,new m(S[0]),S[1],S[2]),S=b}return this},m.prototype.map=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);var S=[];return this.each(function(b,T,C){return S.push(d.call(w,b,T,C))},_,x),S},m.prototype.reduce=function(d,_,x,w,S){x===void 0&&(x=!1),w===void 0&&(w=!1);var b=_;return this.each(function(T,C,M){return b=d.call(S,b,T,C,M)},x,w),b},m.prototype.find=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);for(var S=this._getFirstDescendantNode(this._domNode,_,x);S[0];){var b=new m(S[0]);if(d.call(w,b,S[1],S[2]))return b;S=this._getNextDescendantNode(this._domNode,S[0],x,S[1],S[2])}},m.prototype.filter=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);var S=[];return this.each(function(b,T,C){d.call(w,b,T,C)&&S.push(b)},_,x),S},m.prototype.every=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);for(var S=this._getFirstDescendantNode(this._domNode,_,x);S[0];){var b=new m(S[0]);if(!d.call(w,b,S[1],S[2]))return!1;S=this._getNextDescendantNode(this._domNode,S[0],x,S[1],S[2])}return!0},m.prototype.some=function(d,_,x,w){_===void 0&&(_=!1),x===void 0&&(x=!1);for(var S=this._getFirstDescendantNode(this._domNode,_,x);S[0];){var b=new m(S[0]);if(d.call(w,b,S[1],S[2]))return!0;S=this._getNextDescendantNode(this._domNode,S[0],x,S[1],S[2])}return!1},m.prototype.toArray=function(d,_){d===void 0&&(d=!1),_===void 0&&(_=!1);var x=[];return this.each(function(w){return x.push(w)},d,_),x},m.prototype.toString=function(d){return(d=d||{}).format===void 0&&(d.format="xml"),this._serialize(d)},m.prototype.toObject=function(d){return(d=d||{}).format===void 0&&(d.format="object"),this._serialize(d)},m.prototype.end=function(d){return(d=d||{}).format===void 0&&(d.format="xml"),this.doc()._serialize(d)},m.prototype._getFirstDescendantNode=function(d,_,x){return _?[this._domNode,0,0]:x?this._getNextDescendantNode(d,d,x,0,0):[this._domNode.firstChild,0,1]},m.prototype._getNextDescendantNode=function(d,_,x,w,S){if(!x)return d===_?[_.firstChild,0,S+1]:[_.nextSibling,w+1,S];if(_.firstChild)return[_.firstChild,0,S+1];if(_===d)return[null,-1,-1];if(_.nextSibling)return[_.nextSibling,w+1,S];for(var b=_.parentNode;b&&b!==d;){if(b.nextSibling)return[b.nextSibling,h.tree_index(b.nextSibling),S-1];b=b.parentNode,S--}return[null,-1,-1]},m.prototype._serialize=function(d){if(d.format==="xml")return new l.XMLWriter(this._options,d).serialize(this.node);if(d.format==="map")return new l.MapWriter(this._options,d).serialize(this.node);if(d.format==="object")return new l.ObjectWriter(this._options,d).serialize(this.node);if(d.format==="json")return new l.JSONWriter(this._options,d).serialize(this.node);if(d.format==="yaml")return new l.YAMLWriter(this._options,d).serialize(this.node);throw new Error("Invalid writer format: "+d.format+". "+this._debugInfo())},m.prototype._extractNamespace=function(d,_,x){var w=_.indexOf("@");if(w>0&&(d===void 0&&(d=_.slice(w+1)),_=_.slice(0,w)),d===void 0)d=x?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(d!==null&&d[0]==="@"){var S=d.slice(1);if((d=this._options.namespaceAlias[S])===void 0)throw new Error("Namespace alias `"+S+"` is not defined. "+this._debugInfo())}return[d,_]},m.prototype._updateNamespace=function(d){var _,x,w,S,b=this._domNode;if(c.Guard.isElementNode(b)&&d!==null&&b.namespaceURI!==d){var T=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),2),C=T[0],M=T[1],D=h.create_element(this._doc,M,d,C);try{for(var E=o(b.attributes),k=E.next();!k.done;k=E.next()){var O=k.value,A=O.prefix?O.prefix+":"+O.localName:O.localName,I=i(h.namespace_extractQName(A),1)[0],U=O.namespaceURI;U===null&&I!==null&&(U=b.lookupNamespaceURI(I)),U===null?D.setAttribute(A,O.value):D.setAttributeNS(U,A,O.value)}}catch(Q){_={error:Q}}finally{try{k&&!k.done&&(x=E.return)&&x.call(E)}finally{if(_)throw _.error}}var P=b.parentNode;if(P===null)throw new Error("Parent node is null."+this._debugInfo());P.replaceChild(D,b),this._domNode=D;try{for(var B=o(b.childNodes),W=B.next();!W.done;W=B.next()){var H=W.value.cloneNode(!0);if(D.appendChild(H),c.Guard.isElementNode(H)){var $=i(h.namespace_extractQName(H.prefix?H.prefix+":"+H.localName:H.localName),1)[0],q=D.lookupNamespaceURI($);new m(H)._updateNamespace(q)}}}catch(Q){w={error:Q}}finally{try{W&&!W.done&&(S=B.return)&&S.call(B)}finally{if(w)throw w.error}}}},Object.defineProperty(m.prototype,"_doc",{get:function(){var d=this.node;if(c.Guard.isDocumentNode(d))return d;var _=d.ownerDocument;if(!_)throw new Error("Owner document is null. "+this._debugInfo());return _},enumerable:!0,configurable:!0}),m.prototype._debugInfo=function(d){var _=this.node,x=_.parentNode;d=d||_.nodeName;var w=x?x.nodeName:"";return w?"node: <"+d+">, parent: <"+w+">":"node: <"+d+">"},Object.defineProperty(m.prototype,"_options",{get:function(){var d=this._doc;if(d._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return d._xmlBuilderOptions},set:function(d){this._doc._xmlBuilderOptions=d},enumerable:!0,configurable:!0}),m}();n.XMLBuilderImpl=y},function(r,n,a){var i=a(11),o=a(117),s=i.WeakMap;r.exports=typeof s=="function"&&/native code/.test(o(s))},function(r,n,a){var i=a(46),o=a(82),s=a(85),u=a(18);r.exports=i("Reflect","ownKeys")||function(l){var f=o.f(u(l)),c=s.f;return c?f.concat(c(l)):f}},function(r,n,a){var i=a(16),o=a(15),s=a(18),u=a(61);r.exports=i?Object.defineProperties:function(l,f){s(l);for(var c,h=u(f),p=h.length,v=0;p>v;)o.f(l,c=h[v++],f[c]);return l}},function(r,n,a){var i=a(46);r.exports=i("document","documentElement")},function(r,n,a){var i=a(24),o=a(82).f,s={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(l){return u&&s.call(l)=="[object Window]"?function(f){try{return o(f)}catch{return u.slice()}}(l):o(i(l))}},function(r,n,a){var i=a(4),o=a(36).every,s=a(48),u=a(28),l=s("every"),f=u("every");i({target:"Array",proto:!0,forced:!l||!f},{every:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(4),o=a(36).filter,s=a(63),u=a(28),l=s("filter"),f=u("filter");i({target:"Array",proto:!0,forced:!l||!f},{filter:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(46);r.exports=i("navigator","userAgent")||""},function(r,n,a){var i=a(4),o=a(36).find,s=a(130),u=a(28),l=!0,f=u("find");"find"in[]&&Array(1).find(function(){l=!1}),i({target:"Array",proto:!0,forced:l||!f},{find:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(r,n,a){var i=a(131).IteratorPrototype,o=a(60),s=a(40),u=a(62),l=a(49),f=function(){return this};r.exports=function(c,h,p){var v=h+" Iterator";return c.prototype=o(i,{next:s(1,p)}),u(c,v,!1,!0),l[v]=f,c}},function(r,n,a){var i=a(8);r.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},function(r,n,a){var i=a(13);r.exports=function(o){if(!i(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},function(r,n,a){var i=a(4),o=a(36).map,s=a(63),u=a(28),l=s("map"),f=u("map");i({target:"Array",proto:!0,forced:!l||!f},{map:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(4),o=a(200).left,s=a(48),u=a(28),l=s("reduce"),f=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!l||!f},{reduce:function(c){return o(this,c,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(127),o=a(27),s=a(41),u=a(26),l=function(f){return function(c,h,p,v){i(h);var g=o(c),y=s(g),m=u(g.length),d=f?m-1:0,_=f?-1:1;if(p<2)for(;;){if(d in y){v=y[d],d+=_;break}if(d+=_,f?d<0:m<=d)throw TypeError("Reduce of empty array with no initial value")}for(;f?d>=0:m>d;d+=_)d in y&&(v=h(v,y[d],d,g));return v}};r.exports={left:l(!1),right:l(!0)}},function(r,n,a){var i=a(4),o=a(36).some,s=a(48),u=a(28),l=s("some"),f=u("some");i({target:"Array",proto:!0,forced:!l||!f},{some:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}})},function(r,n,a){var i=a(90),o=a(135);r.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},function(r,n){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(r,n,a){var i=a(8);r.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(r,n,a){var i=a(5),o=a(49),s=i("iterator"),u=Array.prototype;r.exports=function(l){return l!==void 0&&(o.Array===l||u[s]===l)}},function(r,n,a){var i=a(135),o=a(49),s=a(5)("iterator");r.exports=function(u){if(u!=null)return u[s]||u["@@iterator"]||o[i(u)]}},function(r,n,a){var i=a(18);r.exports=function(o,s,u,l){try{return l?s(i(u)[0],u[1]):s(u)}catch(c){var f=o.return;throw f!==void 0&&i(f.call(o)),c}}},function(r,n,a){var i=a(5)("iterator"),o=!1;try{var s=0,u={next:function(){return{done:!!s++}},return:function(){o=!0}};u[i]=function(){return this},Array.from(u,function(){throw 2})}catch{}r.exports=function(l,f){if(!f&&!o)return!1;var c=!1;try{var h={};h[i]=function(){return{next:function(){return{done:c=!0}}}},l(h)}catch{}return c}},function(r,n,a){var i=a(13),o=a(133);r.exports=function(s,u,l){var f,c;return o&&typeof(f=u.constructor)=="function"&&f!==l&&i(c=f.prototype)&&c!==l.prototype&&o(s,c),s}},function(r,n,a){var i=a(25);r.exports=function(o,s,u){for(var l in s)i(o,l,s[l],u);return o}},function(r,n,a){var i=a(46),o=a(15),s=a(5),u=a(16),l=s("species");r.exports=function(f){var c=i(f),h=o.f;u&&c&&!c[l]&&h(c,l,{configurable:!0,get:function(){return this}})}},function(r,n,a){var i=this&&this.__generator||function(u,l){var f,c,h,p,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(m){return function(d){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,c&&(h=2&d[0]?c.return:d[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,d[1])).done)return h;switch(c=0,h&&(d=[2&d[0],h.value]),d[0]){case 0:case 1:h=d;break;case 4:return v.label++,{value:d[1],done:!1};case 5:v.label++,c=d[1],d=[0];continue;case 7:d=v.ops.pop(),v.trys.pop();continue;default:if(h=v.trys,!((h=h.length>0&&h[h.length-1])||d[0]!==6&&d[0]!==2)){v=0;continue}if(d[0]===3&&(!h||d[1]>h[0]&&d[1]<h[3])){v.label=d[1];break}if(d[0]===6&&v.label<h[1]){v.label=h[1],h=d;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(d);break}h[2]&&v.ops.pop(),v.trys.pop();continue}d=l.call(u,v)}catch(_){d=[6,_],c=0}finally{f=h=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([y,m])}}},o=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(l){l===void 0&&(l=1e3),this._items=new Set,this._limit=l}return u.prototype.add=function(l){if(this._items.add(l),this._items.size>this._limit){var f=this._items.values().next();f.done||this._items.delete(f.value)}return this},u.prototype.delete=function(l){return this._items.delete(l)},u.prototype.has=function(l){return this._items.has(l)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(l,f){var c=this;this._items.forEach(function(h){return l.call(f,h,h,c)})},u.prototype.keys=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.keys())];case 1:return l.sent(),[2]}})},u.prototype.values=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.values())];case 1:return l.sent(),[2]}})},u.prototype.entries=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.entries())];case 1:return l.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items)];case 1:return l.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),u}();n.FixedSizeSet=s},function(r,n,a){var i=this&&this.__generator||function(u,l){var f,c,h,p,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(m){return function(d){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,c&&(h=2&d[0]?c.return:d[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,d[1])).done)return h;switch(c=0,h&&(d=[2&d[0],h.value]),d[0]){case 0:case 1:h=d;break;case 4:return v.label++,{value:d[1],done:!1};case 5:v.label++,c=d[1],d=[0];continue;case 7:d=v.ops.pop(),v.trys.pop();continue;default:if(h=v.trys,!((h=h.length>0&&h[h.length-1])||d[0]!==6&&d[0]!==2)){v=0;continue}if(d[0]===3&&(!h||d[1]>h[0]&&d[1]<h[3])){v.label=d[1];break}if(d[0]===6&&v.label<h[1]){v.label=h[1],h=d;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(d);break}h[2]&&v.ops.pop(),v.trys.pop();continue}d=l.call(u,v)}catch(_){d=[6,_],c=0}finally{f=h=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([y,m])}}},o=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(l){l===void 0&&(l=1e3),this._items=new Map,this._limit=l}return u.prototype.get=function(l){return this._items.get(l)},u.prototype.set=function(l,f){if(this._items.set(l,f),this._items.size>this._limit){var c=this._items.keys().next();c.done||this._items.delete(c.value)}},u.prototype.delete=function(l){return this._items.delete(l)},u.prototype.has=function(l){return this._items.has(l)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(l,f){this._items.forEach(function(c,h){return l.call(f,h,c)})},u.prototype.keys=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.keys())];case 1:return l.sent(),[2]}})},u.prototype.values=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.values())];case 1:return l.sent(),[2]}})},u.prototype.entries=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items.entries())];case 1:return l.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return i(this,function(l){switch(l.label){case 0:return[5,o(this._items)];case 1:return l.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),u}();n.ObjectCache=s},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(s){s===void 0&&(s=1e3),this._items=new Map,this._limit=s}return o.prototype.check=function(s,u){if(this._items.get(s)===u)return!0;if(this._items.get(u)===s)return!1;var l=Math.random()<.5;if(l?this._items.set(s,u):this._items.set(u,s),this._items.size>this._limit){var f=this._items.keys().next();f.done||this._items.delete(f.value)}return l},o}();n.CompareCache=i},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(s){this._initialized=!1,this._value=void 0,this._initFunc=s}return Object.defineProperty(o.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),o}();n.Lazy=i},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(s){this._pointer=0,this._chars=Array.from(s),this._length=this._chars.length}return Object.defineProperty(o.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),o.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var s=this._chars[this._pointer].codePointAt(0);this._codePoint=s!==void 0?s:-1}return this._codePoint},o.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},o.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},o.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(o.prototype,"pointer",{get:function(){return this._pointer},set:function(s){s!==this._pointer&&(this._pointer=s,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),o}();n.StringWalker=i},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(218);n.MapWriter=i.MapWriter;var o=a(258);n.XMLWriter=o.XMLWriter;var s=a(67);n.ObjectWriter=s.ObjectWriter;var u=a(260);n.JSONWriter=u.JSONWriter;var l=a(261);n.YAMLWriter=l.YAMLWriter},function(r,n,a){a(19),a(219),a(20),a(22),a(23);var i,o=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,c)},function(f,c){function h(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),u=a(67),l=function(f){function c(h,p){var v=f.call(this,h)||this;return v._writerOptions=s.applyDefaults(p,{format:"map",wellFormed:!1,group:!1,verbose:!1}),v}return o(c,f),c.prototype.serialize=function(h){var p=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),v=new u.ObjectWriter(this._builderOptions,p).serialize(h);return this._convertObject(v)},c.prototype._convertObject=function(h){if(s.isArray(h)){for(var p=0;p<h.length;p++)h[p]=this._convertObject(h[p]);return h}if(s.isObject(h)){var v=new Map;for(var g in h)v.set(g,this._convertObject(h[g]));return v}return h},c}(a(50).BaseWriter);n.MapWriter=l},function(r,n,a){var i=a(139),o=a(143);r.exports=i("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},function(r,n,a){var i=a(4),o=a(8),s=a(59),u=a(13),l=a(27),f=a(26),c=a(134),h=a(128),p=a(63),v=a(5),g=a(129),y=v("isConcatSpreadable"),m=g>=51||!o(function(){var x=[];return x[y]=!1,x.concat()[0]!==x}),d=p("concat"),_=function(x){if(!u(x))return!1;var w=x[y];return w!==void 0?!!w:s(x)};i({target:"Array",proto:!0,forced:!m||!d},{concat:function(x){var w,S,b,T,C,M=l(this),D=h(M,0),E=0;for(w=-1,b=arguments.length;w<b;w++)if(_(C=w===-1?M:arguments[w])){if(E+(T=f(C.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(S=0;S<T;S++,E++)S in C&&c(D,E,C[S])}else{if(E>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(D,E++,C)}return D.length=E,D}})},function(r,n,a){var i=a(8);function o(s,u){return RegExp(s,u)}n.UNSUPPORTED_Y=i(function(){var s=o("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),n.BROKEN_CARET=i(function(){var s=o("^r","gy");return s.lastIndex=2,s.exec("str")!=null})},function(r,n,a){var i=a(223);r.exports=function(o){if(i(o))throw TypeError("The method doesn't accept regular expressions");return o}},function(r,n,a){var i=a(13),o=a(42),s=a(5)("match");r.exports=function(u){var l;return i(u)&&((l=u[s])!==void 0?!!l:o(u)=="RegExp")}},function(r,n,a){var i=a(5)("match");r.exports=function(o){var s=/./;try{"/./"[o](s)}catch{try{return s[i]=!1,"/./"[o](s)}catch{}}return!1}},function(r,n,a){a(68);var i=a(25),o=a(8),s=a(5),u=a(93),l=a(21),f=s("species"),c=!o(function(){var y=/./;return y.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(y,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",p=s("replace"),v=!!/./[p]&&/./[p]("a","$0")==="",g=!o(function(){var y=/(?:)/,m=y.exec;y.exec=function(){return m.apply(this,arguments)};var d="ab".split(y);return d.length!==2||d[0]!=="a"||d[1]!=="b"});r.exports=function(y,m,d,_){var x=s(y),w=!o(function(){var D={};return D[x]=function(){return 7},""[y](D)!=7}),S=w&&!o(function(){var D=!1,E=/a/;return y==="split"&&((E={}).constructor={},E.constructor[f]=function(){return E},E.flags="",E[x]=/./[x]),E.exec=function(){return D=!0,null},E[x](""),!D});if(!w||!S||y==="replace"&&(!c||!h||v)||y==="split"&&!g){var b=/./[x],T=d(x,""[y],function(D,E,k,O,A){return E.exec===u?w&&!A?{done:!0,value:b.call(E,k,O)}:{done:!0,value:D.call(k,E,O)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),C=T[0],M=T[1];i(String.prototype,y,C),i(RegExp.prototype,x,m==2?function(D,E){return M.call(D,this,E)}:function(D){return M.call(D,this)})}_&&l(RegExp.prototype[x],"sham",!0)}},function(r,n,a){var i=a(137).charAt;r.exports=function(o,s,u){return s+(u?i(o,s).length:1)}},function(r,n,a){var i=a(42),o=a(93);r.exports=function(s,u){var l=s.exec;if(typeof l=="function"){var f=l.call(s,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(s,u)}},function(r,n,a){(function(i){Object.defineProperty(n,"__esModule",{value:!0});var o=a(96);n.forgivingBase64Encode=function(s){return i.from(s).toString("base64")},n.forgivingBase64Decode=function(s){return s===""?"":((s=s.replace(o.ASCIIWhiteSpace,"")).length%4==0&&(s.endsWith("==")?s=s.substr(0,s.length-2):s.endsWith("=")&&(s=s.substr(0,s.length-1))),s.length%4==1?null:/[0-9A-Za-z+/]/.test(s)?i.from(s,"base64").toString("utf8"):null)}}).call(this,a(145).Buffer)},function(r,n,a){n.byteLength=function(p){var v=c(p),g=v[0],y=v[1];return 3*(g+y)/4-y},n.toByteArray=function(p){var v,g,y=c(p),m=y[0],d=y[1],_=new s(function(S,b,T){return 3*(b+T)/4-T}(0,m,d)),x=0,w=d>0?m-4:m;for(g=0;g<w;g+=4)v=o[p.charCodeAt(g)]<<18|o[p.charCodeAt(g+1)]<<12|o[p.charCodeAt(g+2)]<<6|o[p.charCodeAt(g+3)],_[x++]=v>>16&255,_[x++]=v>>8&255,_[x++]=255&v;return d===2&&(v=o[p.charCodeAt(g)]<<2|o[p.charCodeAt(g+1)]>>4,_[x++]=255&v),d===1&&(v=o[p.charCodeAt(g)]<<10|o[p.charCodeAt(g+1)]<<4|o[p.charCodeAt(g+2)]>>2,_[x++]=v>>8&255,_[x++]=255&v),_},n.fromByteArray=function(p){for(var v,g=p.length,y=g%3,m=[],d=0,_=g-y;d<_;d+=16383)m.push(h(p,d,d+16383>_?_:d+16383));return y===1?(v=p[g-1],m.push(i[v>>2]+i[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],m.push(i[v>>10]+i[v>>4&63]+i[v<<2&63]+"=")),m.join("")};for(var i=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=u.length;l<f;++l)i[l]=u[l],o[u.charCodeAt(l)]=l;function c(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");return g===-1&&(g=v),[g,g===v?0:4-g%4]}function h(p,v,g){for(var y,m,d=[],_=v;_<g;_+=3)y=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(255&p[_+2]),d.push(i[(m=y)>>18&63]+i[m>>12&63]+i[m>>6&63]+i[63&m]);return d.join("")}o[45]=62,o[95]=63},function(r,n){n.read=function(a,i,o,s,u){var l,f,c=8*u-s-1,h=(1<<c)-1,p=h>>1,v=-7,g=o?u-1:0,y=o?-1:1,m=a[i+g];for(g+=y,l=m&(1<<-v)-1,m>>=-v,v+=c;v>0;l=256*l+a[i+g],g+=y,v-=8);for(f=l&(1<<-v)-1,l>>=-v,v+=s;v>0;f=256*f+a[i+g],g+=y,v-=8);if(l===0)l=1-p;else{if(l===h)return f?NaN:1/0*(m?-1:1);f+=Math.pow(2,s),l-=p}return(m?-1:1)*f*Math.pow(2,l-s)},n.write=function(a,i,o,s,u,l){var f,c,h,p=8*l-u-1,v=(1<<p)-1,g=v>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=s?0:l-1,d=s?1:-1,_=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,f=v):(f=Math.floor(Math.log(i)/Math.LN2),i*(h=Math.pow(2,-f))<1&&(f--,h*=2),(i+=f+g>=1?y/h:y*Math.pow(2,1-g))*h>=2&&(f++,h/=2),f+g>=v?(c=0,f=v):f+g>=1?(c=(i*h-1)*Math.pow(2,u),f+=g):(c=i*Math.pow(2,g-1)*Math.pow(2,u),f=0));u>=8;a[o+m]=255&c,m+=d,c/=256,u-=8);for(f=f<<u|c,p+=u;p>0;a[o+m]=255&f,m+=d,f/=256,p-=8);a[o+m-d]|=128*_}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(i){return a.call(i)=="[object Array]"}},function(r,n,a){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(1);function s(u){var l,f;if(u===null||o.isString(u)||o.isNumber(u))return u;if(o.isArray(u)){var c=new Array;try{for(var h=i(u),p=h.next();!p.done;p=h.next()){var v=p.value;c.push(s(v))}}catch(m){l={error:m}}finally{try{p&&!p.done&&(f=h.return)&&f.call(h)}finally{if(l)throw l.error}}return c}if(o.isObject(u)){c=new Map;for(var g in u)if(u.hasOwnProperty(g)){var y=u[g];c.set(g,s(y))}return c}return u}n.parseJSONFromBytes=function(u){var l=o.utf8Decode(u);return JSON.parse.call(void 0,l)},n.serializeJSONToBytes=function(u){var l=JSON.stringify.call(void 0,u);return o.utf8Encode(l)},n.parseJSONIntoInfraValues=function(u){return s(JSON.parse.call(void 0,u))},n.convertAJSONDerivedJavaScriptValueToAnInfraValue=s},function(r,n,a){var i=this&&this.__generator||function(f,c){var h,p,v,g,y={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(d){return function(_){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;y;)try{if(h=1,p&&(v=2&x[0]?p.return:x[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,x[1])).done)return v;switch(p=0,v&&(x=[2&x[0],v.value]),x[0]){case 0:case 1:v=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,p=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(v=y.trys,!((v=v.length>0&&v[v.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){y.label=x[1];break}if(x[0]===6&&y.label<v[1]){y.label=v[1],v=x;break}if(v&&y.label<v[2]){y.label=v[2],y.ops.push(x);break}v[2]&&y.ops.pop(),y.trys.pop();continue}x=c.call(f,y)}catch(w){x=[6,w],p=0}finally{h=v=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([d,_])}}},o=this&&this.__read||function(f,c){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,g=h.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=g.next()).done;)y.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=g.return)&&h.call(g)}finally{if(v)throw v.error}}return y},s=this&&this.__spread||function(){for(var f=[],c=0;c<arguments.length;c++)f=f.concat(o(arguments[c]));return f},u=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&f[c],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var l=a(1);n.append=function(f,c){f.push(c)},n.extend=function(f,c){f.push.apply(f,s(c))},n.prepend=function(f,c){f.unshift(c)},n.replace=function(f,c,h){var p,v,g=0;try{for(var y=u(f),m=y.next();!m.done;m=y.next()){var d=m.value;if(l.isFunction(c))c.call(null,d)&&(f[g]=h);else if(d===c)return void(f[g]=h);g++}}catch(_){p={error:_}}finally{try{m&&!m.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}},n.insert=function(f,c,h){f.splice(h,0,c)},n.remove=function(f,c){for(var h=f.length;h--;){var p=f[h];if(l.isFunction(c))c.call(null,p)&&f.splice(h,1);else if(p===c)return void f.splice(h,1)}},n.empty=function(f){f.length=0},n.contains=function(f,c){var h,p;try{for(var v=u(f),g=v.next();!g.done;g=v.next()){var y=g.value;if(l.isFunction(c)){if(c.call(null,y))return!0}else if(y===c)return!0}}catch(m){h={error:m}}finally{try{g&&!g.done&&(p=v.return)&&p.call(v)}finally{if(h)throw h.error}}return!1},n.size=function(f,c){var h,p;if(c===void 0)return f.length;var v=0;try{for(var g=u(f),y=g.next();!y.done;y=g.next()){var m=y.value;c.call(null,m)&&v++}}catch(d){h={error:d}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(h)throw h.error}}return v},n.isEmpty=function(f){return f.length===0},n.forEach=function(f,c){var h,p,v,g,y,m;return i(this,function(d){switch(d.label){case 0:return c!==void 0?[3,2]:[5,u(f)];case 1:return d.sent(),[3,9];case 2:d.trys.push([2,7,8,9]),h=u(f),p=h.next(),d.label=3;case 3:return p.done?[3,6]:(v=p.value,c.call(null,v)?[4,v]:[3,5]);case 4:d.sent(),d.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return g=d.sent(),y={error:g},[3,9];case 8:try{p&&!p.done&&(m=h.return)&&m.call(h)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},n.clone=function(f){return new(Array.bind.apply(Array,s([void 0],f)))},n.sortInAscendingOrder=function(f,c){return f.sort(function(h,p){return c.call(null,h,p)?-1:1})},n.sortInDescendingOrder=function(f,c){return f.sort(function(h,p){return c.call(null,h,p)?1:-1})}},function(r,n,a){var i=this&&this.__generator||function(f,c){var h,p,v,g,y={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(d){return function(_){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;y;)try{if(h=1,p&&(v=2&x[0]?p.return:x[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,x[1])).done)return v;switch(p=0,v&&(x=[2&x[0],v.value]),x[0]){case 0:case 1:v=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,p=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(v=y.trys,!((v=v.length>0&&v[v.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){y.label=x[1];break}if(x[0]===6&&y.label<v[1]){y.label=v[1],v=x;break}if(v&&y.label<v[2]){y.label=v[2],y.ops.push(x);break}v[2]&&y.ops.pop(),y.trys.pop();continue}x=c.call(f,y)}catch(w){x=[6,w],p=0}finally{h=v=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([d,_])}}},o=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&f[c],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(f,c){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,g=h.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=g.next()).done;)y.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=g.return)&&h.call(g)}finally{if(v)throw v.error}}return y},u=this&&this.__spread||function(){for(var f=[],c=0;c<arguments.length;c++)f=f.concat(s(arguments[c]));return f};Object.defineProperty(n,"__esModule",{value:!0});var l=a(1);n.get=function(f,c){return f.get(c)},n.set=function(f,c,h){f.set(c,h)},n.remove=function(f,c){var h,p,v,g;if(l.isFunction(c)){var y=[];try{for(var m=o(f),d=m.next();!d.done;d=m.next()){var _=d.value;c.call(null,_)&&y.push(_[0])}}catch(b){h={error:b}}finally{try{d&&!d.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}try{for(var x=o(y),w=x.next();!w.done;w=x.next()){var S=w.value;f.delete(S)}}catch(b){v={error:b}}finally{try{w&&!w.done&&(g=x.return)&&g.call(x)}finally{if(v)throw v.error}}}else f.delete(c)},n.contains=function(f,c){var h,p;if(l.isFunction(c)){try{for(var v=o(f),g=v.next();!g.done;g=v.next()){var y=g.value;if(c.call(null,y))return!0}}catch(m){h={error:m}}finally{try{g&&!g.done&&(p=v.return)&&p.call(v)}finally{if(h)throw h.error}}return!1}return f.has(c)},n.keys=function(f){return new Set(f.keys())},n.values=function(f){return u(f.values())},n.size=function(f,c){var h,p;if(c===void 0)return f.size;var v=0;try{for(var g=o(f),y=g.next();!y.done;y=g.next()){var m=y.value;c.call(null,m)&&v++}}catch(d){h={error:d}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(h)throw h.error}}return v},n.isEmpty=function(f){return f.size===0},n.forEach=function(f,c){var h,p,v,g,y,m;return i(this,function(d){switch(d.label){case 0:return c!==void 0?[3,2]:[5,o(f)];case 1:return d.sent(),[3,9];case 2:d.trys.push([2,7,8,9]),h=o(f),p=h.next(),d.label=3;case 3:return p.done?[3,6]:(v=p.value,c.call(null,v)?[4,v]:[3,5]);case 4:d.sent(),d.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return g=d.sent(),y={error:g},[3,9];case 8:try{p&&!p.done&&(m=h.return)&&m.call(h)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},n.clone=function(f){return new Map(f)},n.sortInAscendingOrder=function(f,c){var h=new(Array.bind.apply(Array,u([void 0],f)));return h.sort(function(p,v){return c.call(null,p,v)?-1:1}),new Map(h)},n.sortInDescendingOrder=function(f,c){var h=new(Array.bind.apply(Array,u([void 0],f)));return h.sort(function(p,v){return c.call(null,p,v)?1:-1}),new Map(h)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.HTML="http://www.w3.org/1999/xhtml",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/",n.MathML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLink="http://www.w3.org/1999/xlink"},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.enqueue=function(i,o){i.push(o)},n.dequeue=function(i){return i.shift()||null}},function(r,n,a){var i=this&&this.__generator||function(c,h){var p,v,g,y,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(_){return function(x){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,v&&(g=2&w[0]?v.return:w[0]?v.throw||((g=v.return)&&g.call(v),0):v.next)&&!(g=g.call(v,w[1])).done)return g;switch(v=0,g&&(w=[2&w[0],g.value]),w[0]){case 0:case 1:g=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,v=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(g=m.trys,!((g=g.length>0&&g[g.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){m.label=w[1];break}if(w[0]===6&&m.label<g[1]){m.label=g[1],g=w;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(w);break}g[2]&&m.ops.pop(),m.trys.pop();continue}w=h.call(c,m)}catch(S){w=[6,S],v=0}finally{p=g=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([_,x])}}},o=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(c,h){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var v,g,y=p.call(c),m=[];try{for(;(h===void 0||h-- >0)&&!(v=y.next()).done;)m.push(v.value)}catch(d){g={error:d}}finally{try{v&&!v.done&&(p=y.return)&&p.call(y)}finally{if(g)throw g.error}}return m},u=this&&this.__spread||function(){for(var c=[],h=0;h<arguments.length;h++)c=c.concat(s(arguments[h]));return c};Object.defineProperty(n,"__esModule",{value:!0});var l=a(1);function f(c,h){var p,v;try{for(var g=o(c),y=g.next();!y.done;y=g.next()){var m=y.value;if(!h.has(m))return!1}}catch(d){p={error:d}}finally{try{y&&!y.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}return!0}n.append=function(c,h){c.add(h)},n.extend=function(c,h){h.forEach(c.add,c)},n.prepend=function(c,h){var p=new Set(c);c.clear(),c.add(h),p.forEach(c.add,c)},n.replace=function(c,h,p){var v,g,y=new Set;try{for(var m=o(c),d=m.next();!d.done;d=m.next()){var _=d.value;l.isFunction(h)?h.call(null,_)?y.add(p):y.add(_):_===h?y.add(p):y.add(_)}}catch(x){v={error:x}}finally{try{d&&!d.done&&(g=m.return)&&g.call(m)}finally{if(v)throw v.error}}c.clear(),y.forEach(c.add,c)},n.insert=function(c,h,p){var v,g,y=new Set,m=0;try{for(var d=o(c),_=d.next();!_.done;_=d.next()){var x=_.value;m===p&&y.add(h),y.add(x),m++}}catch(w){v={error:w}}finally{try{_&&!_.done&&(g=d.return)&&g.call(d)}finally{if(v)throw v.error}}c.clear(),y.forEach(c.add,c)},n.remove=function(c,h){var p,v,g,y;if(l.isFunction(h)){var m=[];try{for(var d=o(c),_=d.next();!_.done;_=d.next()){var x=_.value;h.call(null,x)&&m.push(x)}}catch(T){p={error:T}}finally{try{_&&!_.done&&(v=d.return)&&v.call(d)}finally{if(p)throw p.error}}try{for(var w=o(m),S=w.next();!S.done;S=w.next()){var b=S.value;c.delete(b)}}catch(T){g={error:T}}finally{try{S&&!S.done&&(y=w.return)&&y.call(w)}finally{if(g)throw g.error}}}else c.delete(h)},n.empty=function(c){c.clear()},n.contains=function(c,h){var p,v;if(!l.isFunction(h))return c.has(h);try{for(var g=o(c),y=g.next();!y.done;y=g.next()){var m=y.value;if(h.call(null,m))return!0}}catch(d){p={error:d}}finally{try{y&&!y.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}return!1},n.size=function(c,h){var p,v;if(h===void 0)return c.size;var g=0;try{for(var y=o(c),m=y.next();!m.done;m=y.next()){var d=m.value;h.call(null,d)&&g++}}catch(_){p={error:_}}finally{try{m&&!m.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}return g},n.isEmpty=function(c){return c.size===0},n.forEach=function(c,h){var p,v,g,y,m,d;return i(this,function(_){switch(_.label){case 0:return h!==void 0?[3,2]:[5,o(c)];case 1:return _.sent(),[3,9];case 2:_.trys.push([2,7,8,9]),p=o(c),v=p.next(),_.label=3;case 3:return v.done?[3,6]:(g=v.value,h.call(null,g)?[4,g]:[3,5]);case 4:_.sent(),_.label=5;case 5:return v=p.next(),[3,3];case 6:return[3,9];case 7:return y=_.sent(),m={error:y},[3,9];case 8:try{v&&!v.done&&(d=p.return)&&d.call(p)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},n.clone=function(c){return new Set(c)},n.sortInAscendingOrder=function(c,h){var p=new(Array.bind.apply(Array,u([void 0],c)));return p.sort(function(v,g){return h.call(null,v,g)?-1:1}),new Set(p)},n.sortInDescendingOrder=function(c,h){var p=new(Array.bind.apply(Array,u([void 0],c)));return p.sort(function(v,g){return h.call(null,v,g)?1:-1}),new Set(p)},n.isSubsetOf=f,n.isSupersetOf=function(c,h){return f(h,c)},n.intersection=function(c,h){var p,v,g=new Set;try{for(var y=o(c),m=y.next();!m.done;m=y.next()){var d=m.value;h.has(d)&&g.add(d)}}catch(_){p={error:_}}finally{try{m&&!m.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}return g},n.union=function(c,h){var p=new Set(c);return h.forEach(p.add,p),p},n.range=function(c,h){for(var p=new Set,v=c;v<=h;v++)p.add(v);return p}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.push=function(i,o){i.push(o)},n.pop=function(i){return i.pop()||null}},function(r,n,a){var i=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&m[d],x=0;if(_)return _.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(96),s=a(147),u=a(146),l=a(1);function f(m,d){for(var _=0;;){var x=_<m.length?m.charCodeAt(_):null,w=_<d.length?d.charCodeAt(_):null;if(x===null)return!0;if(x!==w)return!1;_++}}function c(m){var d,_,x=Array.from(m),w=new Uint8Array(x.length),S=0;try{for(var b=i(m),T=b.next();!T.done;T=b.next()){var C=T.value.codePointAt(0);console.assert(C!==void 0&&C<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),C!==void 0&&C<=255&&(w[S++]=C)}}catch(M){d={error:M}}finally{try{T&&!T.done&&(_=b.return)&&_.call(b)}finally{if(d)throw d.error}}return w}function h(m){return/^[\u0000-\u007F]*$/.test(m)}function p(m){var d,_,x="";try{for(var w=i(m),S=w.next();!S.done;S=w.next()){var b=S.value,T=b.codePointAt(0);x+=T!==void 0&&T>=65&&T<=90?String.fromCodePoint(T+32):b}}catch(C){d={error:C}}finally{try{S&&!S.done&&(_=w.return)&&_.call(w)}finally{if(d)throw d.error}}return x}function v(m){return m.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function g(m,d,_){if(!l.isArray(d))return g(m,Array.from(d),_);for(var x="";_.position<d.length&&m.call(null,d[_.position]);)x+=d[_.position],_.position++;return x}function y(m,d){g(function(_){return o.ASCIIWhiteSpace.test(_)},m,d)}n.isCodeUnitPrefix=f,n.isCodeUnitLessThan=function(m,d){if(f(d,m))return!1;if(f(m,d))return!0;for(var _=0;_<Math.min(m.length,d.length);_++){var x=m.charCodeAt(_),w=d.charCodeAt(_);if(x!==w)return x<w}return!1},n.isomorphicEncode=c,n.isASCIIString=h,n.asciiLowercase=p,n.asciiUppercase=function(m){var d,_,x="";try{for(var w=i(m),S=w.next();!S.done;S=w.next()){var b=S.value,T=b.codePointAt(0);x+=T!==void 0&&T>=97&&T<=122?String.fromCodePoint(T-32):b}}catch(C){d={error:C}}finally{try{S&&!S.done&&(_=w.return)&&_.call(w)}finally{if(d)throw d.error}}return x},n.asciiCaseInsensitiveMatch=function(m,d){return p(m)===p(d)},n.asciiEncode=function(m){return console.assert(h(m),"asciiEncode requires an ASCII string."),c(m)},n.asciiDecode=function(m){var d,_;try{for(var x=i(m),w=x.next();!w.done;w=x.next()){var S=w.value;console.assert(u.isASCIIByte(S),"asciiDecode requires an ASCII byte sequence.")}}catch(b){d={error:b}}finally{try{w&&!w.done&&(_=x.return)&&_.call(x)}finally{if(d)throw d.error}}return s.isomorphicDecode(m)},n.stripNewlines=function(m){return m.replace(/[\n\r]/g,"")},n.normalizeNewlines=function(m){return m.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},n.stripLeadingAndTrailingASCIIWhitespace=v,n.stripAndCollapseASCIIWhitespace=function(m){return v(m.replace(/[\t\n\f\r ]{2,}/g," "))},n.collectASequenceOfCodePoints=g,n.skipASCIIWhitespace=y,n.strictlySplit=function m(d,_){if(!l.isArray(d))return m(Array.from(d),_);var x={position:0},w=[],S=g(function(b){return _!==b},d,x);for(w.push(S);x.position<d.length;)console.assert(d[x.position]===_,"strictlySplit found no delimiter in input string."),x.position++,S=g(function(b){return _!==b},d,x),w.push(S);return w},n.splitAStringOnASCIIWhitespace=function m(d){if(!l.isArray(d))return m(Array.from(d));var _={position:0},x=[];for(y(d,_);_.position<d.length;){var w=g(function(S){return!o.ASCIIWhiteSpace.test(S)},d,_);x.push(w),y(d,_)}return x},n.splitAStringOnCommas=function m(d){if(!l.isArray(d))return m(Array.from(d));for(var _={position:0},x=[];_.position<d.length;){var w=g(function(S){return S!==","},d,_);x.push(v(w)),_.position<d.length&&(console.assert(d[_.position]===",","splitAStringOnCommas found no delimiter in input string."),_.position++)}return x},n.concatenate=function(m,d){return d===void 0&&(d=""),m.length===0?"":m.join(d)}},function(r,n,a){var i=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],f=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(97);n.abort_add=function(s,u){u._abortedFlag||u._abortAlgorithms.add(s)},n.abort_remove=function(s,u){u._abortAlgorithms.delete(s)},n.abort_signalAbort=function(s){var u,l;if(!s._abortedFlag){s._abortedFlag=!0;try{for(var f=i(s._abortAlgorithms),c=f.next();!c.done;c=f.next())c.value.call(s)}catch(h){u={error:h}}finally{try{c&&!c.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}s._abortAlgorithms.clear(),o.event_fireAnEvent("abort",s)}}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(150),o=function(){function s(){}return s.asNode=function(u){if(i.Guard.isNode(u))return u;throw new Error("Invalid object. Node expected.")},s}();n.Cast=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(){}return Object.defineProperty(s.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),s.prototype.add=function(u){throw new Error("Cannot add to an empty set.")},s.prototype.clear=function(){},s.prototype.delete=function(u){return!1},s.prototype.forEach=function(u,l){},s.prototype.has=function(u){return!1},s.prototype[Symbol.iterator]=function(){return new o},s.prototype.entries=function(){return new o},s.prototype.keys=function(){return new o},s.prototype.values=function(){return new o},Object.defineProperty(s.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),s}();n.EmptySet=i;var o=function(){function s(){}return s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){return{done:!0,value:null}},s}()},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),function(i){i[i.SchemeStart=0]="SchemeStart",i[i.Scheme=1]="Scheme",i[i.NoScheme=2]="NoScheme",i[i.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",i[i.PathOrAuthority=4]="PathOrAuthority",i[i.Relative=5]="Relative",i[i.RelativeSlash=6]="RelativeSlash",i[i.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",i[i.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",i[i.Authority=9]="Authority",i[i.Host=10]="Host",i[i.Hostname=11]="Hostname",i[i.Port=12]="Port",i[i.File=13]="File",i[i.FileSlash=14]="FileSlash",i[i.FileHost=15]="FileHost",i[i.PathStart=16]="PathStart",i[i.Path=17]="Path",i[i.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",i[i.Query=19]="Query",i[i.Fragment=20]="Fragment"}(n.ParserState||(n.ParserState={})),n.OpaqueOrigin=["","",null,null]},function(r,n,a){var i=a(245),o=a(247);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=w,n.resolve=function(S,b){return w(S,!1,!0).resolve(b)},n.resolveObject=function(S,b){return S?w(S,!1,!0).resolveObject(b):b},n.format=function(S){return o.isString(S)&&(S=w(S)),S instanceof s?S.format():s.prototype.format.call(S)},n.Url=s;var u=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),h=["'"].concat(c),p=["%","/","?",";","#"].concat(h),v=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=a(248);function w(S,b,T){if(S&&o.isObject(S)&&S instanceof s)return S;var C=new s;return C.parse(S,b,T),C}s.prototype.parse=function(S,b,T){if(!o.isString(S))throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var C=S.indexOf("?"),M=C!==-1&&C<S.indexOf("#")?"?":"#",D=S.split(M);D[0]=D[0].replace(/\\/g,"/");var E=S=D.join(M);if(E=E.trim(),!T&&S.split("#").length===1){var k=f.exec(E);if(k)return this.path=E,this.href=E,this.pathname=k[1],k[2]?(this.search=k[2],this.query=b?x.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var O=u.exec(E);if(O){var A=(O=O[0]).toLowerCase();this.protocol=A,E=E.substr(O.length)}if(T||O||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var I=E.substr(0,2)==="//";!I||O&&d[O]||(E=E.substr(2),this.slashes=!0)}if(!d[O]&&(I||O&&!_[O])){for(var U,P,B=-1,W=0;W<v.length;W++)(H=E.indexOf(v[W]))!==-1&&(B===-1||H<B)&&(B=H);for((P=B===-1?E.lastIndexOf("@"):E.lastIndexOf("@",B))!==-1&&(U=E.slice(0,P),E=E.slice(P+1),this.auth=decodeURIComponent(U)),B=-1,W=0;W<p.length;W++){var H;(H=E.indexOf(p[W]))!==-1&&(B===-1||H<B)&&(B=H)}B===-1&&(B=E.length),this.host=E.slice(0,B),E=E.slice(B),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var q=this.hostname.split(/\./),Q=(W=0,q.length);W<Q;W++){var Y=q[W];if(Y&&!Y.match(g)){for(var ie="",J=0,ae=Y.length;J<ae;J++)Y.charCodeAt(J)>127?ie+="x":ie+=Y[J];if(!ie.match(g)){var re=q.slice(0,W),V=q.slice(W+1),R=Y.match(y);R&&(re.push(R[1]),V.unshift(R[2])),V.length&&(E="/"+V.join(".")+E),this.hostname=re.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=i.toASCII(this.hostname));var F=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+F,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),E[0]!=="/"&&(E="/"+E))}if(!m[A])for(W=0,Q=h.length;W<Q;W++){var L=h[W];if(E.indexOf(L)!==-1){var G=encodeURIComponent(L);G===L&&(G=escape(L)),E=E.split(L).join(G)}}var z=E.indexOf("#");z!==-1&&(this.hash=E.substr(z),E=E.slice(0,z));var j=E.indexOf("?");if(j!==-1?(this.search=E.substr(j),this.query=E.substr(j+1),b&&(this.query=x.parse(this.query)),E=E.slice(0,j)):b&&(this.search="",this.query={}),E&&(this.pathname=E),_[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var K=this.search||"";this.path=F+K}return this.href=this.format(),this},s.prototype.format=function(){var S=this.auth||"";S&&(S=(S=encodeURIComponent(S)).replace(/%3A/i,":"),S+="@");var b=this.protocol||"",T=this.pathname||"",C=this.hash||"",M=!1,D="";this.host?M=S+this.host:this.hostname&&(M=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(M+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(D=x.stringify(this.query));var E=this.search||D&&"?"+D||"";return b&&b.substr(-1)!==":"&&(b+=":"),this.slashes||(!b||_[b])&&M!==!1?(M="//"+(M||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):M||(M=""),C&&C.charAt(0)!=="#"&&(C="#"+C),E&&E.charAt(0)!=="?"&&(E="?"+E),b+M+(T=T.replace(/[?#]/g,function(k){return encodeURIComponent(k)}))+(E=E.replace("#","%23"))+C},s.prototype.resolve=function(S){return this.resolveObject(w(S,!1,!0)).format()},s.prototype.resolveObject=function(S){if(o.isString(S)){var b=new s;b.parse(S,!1,!0),S=b}for(var T=new s,C=Object.keys(this),M=0;M<C.length;M++){var D=C[M];T[D]=this[D]}if(T.hash=S.hash,S.href==="")return T.href=T.format(),T;if(S.slashes&&!S.protocol){for(var E=Object.keys(S),k=0;k<E.length;k++){var O=E[k];O!=="protocol"&&(T[O]=S[O])}return _[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(S.protocol&&S.protocol!==T.protocol){if(!_[S.protocol]){for(var A=Object.keys(S),I=0;I<A.length;I++){var U=A[I];T[U]=S[U]}return T.href=T.format(),T}if(T.protocol=S.protocol,S.host||d[S.protocol])T.pathname=S.pathname;else{for(var P=(S.pathname||"").split("/");P.length&&!(S.host=P.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),P[0]!==""&&P.unshift(""),P.length<2&&P.unshift(""),T.pathname=P.join("/")}if(T.search=S.search,T.query=S.query,T.host=S.host||"",T.auth=S.auth,T.hostname=S.hostname||S.host,T.port=S.port,T.pathname||T.search){var B=T.pathname||"",W=T.search||"";T.path=B+W}return T.slashes=T.slashes||S.slashes,T.href=T.format(),T}var H=T.pathname&&T.pathname.charAt(0)==="/",$=S.host||S.pathname&&S.pathname.charAt(0)==="/",q=$||H||T.host&&S.pathname,Q=q,Y=T.pathname&&T.pathname.split("/")||[],ie=(P=S.pathname&&S.pathname.split("/")||[],T.protocol&&!_[T.protocol]);if(ie&&(T.hostname="",T.port=null,T.host&&(Y[0]===""?Y[0]=T.host:Y.unshift(T.host)),T.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(P[0]===""?P[0]=S.host:P.unshift(S.host)),S.host=null),q=q&&(P[0]===""||Y[0]==="")),$)T.host=S.host||S.host===""?S.host:T.host,T.hostname=S.hostname||S.hostname===""?S.hostname:T.hostname,T.search=S.search,T.query=S.query,Y=P;else if(P.length)Y||(Y=[]),Y.pop(),Y=Y.concat(P),T.search=S.search,T.query=S.query;else if(!o.isNullOrUndefined(S.search))return ie&&(T.hostname=T.host=Y.shift(),(R=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=R.shift(),T.host=T.hostname=R.shift())),T.search=S.search,T.query=S.query,o.isNull(T.pathname)&&o.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T;if(!Y.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var J=Y.slice(-1)[0],ae=(T.host||S.host||Y.length>1)&&(J==="."||J==="..")||J==="",re=0,V=Y.length;V>=0;V--)(J=Y[V])==="."?Y.splice(V,1):J===".."?(Y.splice(V,1),re++):re&&(Y.splice(V,1),re--);if(!q&&!Q)for(;re--;re)Y.unshift("..");!q||Y[0]===""||Y[0]&&Y[0].charAt(0)==="/"||Y.unshift(""),ae&&Y.join("/").substr(-1)!=="/"&&Y.push("");var R,F=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";return ie&&(T.hostname=T.host=F?"":Y.length?Y.shift():"",(R=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=R.shift(),T.host=T.hostname=R.shift())),(q=q||T.host&&Y.length)&&!F&&Y.unshift(""),Y.length?T.pathname=Y.join("/"):(T.pathname=null,T.path=null),o.isNull(T.pathname)&&o.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=S.auth||T.auth,T.slashes=T.slashes||S.slashes,T.href=T.format(),T},s.prototype.parseHost=function(){var S=this.host,b=l.exec(S);b&&((b=b[0])!==":"&&(this.port=b.substr(1)),S=S.substr(0,S.length-b.length)),S&&(this.hostname=S)}},function(r,n,a){(function(i,o){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(u){n&&n.nodeType,i&&i.nodeType;var l=typeof o=="object"&&o;l.global!==l&&l.window!==l&&l.self;var f,c=2147483647,h=/^xn--/,p=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,m=String.fromCharCode;function d(D){throw new RangeError(g[D])}function _(D,E){for(var k=D.length,O=[];k--;)O[k]=E(D[k]);return O}function x(D,E){var k=D.split("@"),O="";return k.length>1&&(O=k[0]+"@",D=k[1]),O+_((D=D.replace(v,".")).split("."),E).join(".")}function w(D){for(var E,k,O=[],A=0,I=D.length;A<I;)(E=D.charCodeAt(A++))>=55296&&E<=56319&&A<I?(64512&(k=D.charCodeAt(A++)))==56320?O.push(((1023&E)<<10)+(1023&k)+65536):(O.push(E),A--):O.push(E);return O}function S(D){return _(D,function(E){var k="";return E>65535&&(k+=m((E-=65536)>>>10&1023|55296),E=56320|1023&E),k+=m(E)}).join("")}function b(D,E){return D+22+75*(D<26)-((E!=0)<<5)}function T(D,E,k){var O=0;for(D=k?y(D/700):D>>1,D+=y(D/E);D>455;O+=36)D=y(D/35);return y(O+36*D/(D+38))}function C(D){var E,k,O,A,I,U,P,B,W,H,$,q=[],Q=D.length,Y=0,ie=128,J=72;for((k=D.lastIndexOf("-"))<0&&(k=0),O=0;O<k;++O)D.charCodeAt(O)>=128&&d("not-basic"),q.push(D.charCodeAt(O));for(A=k>0?k+1:0;A<Q;){for(I=Y,U=1,P=36;A>=Q&&d("invalid-input"),((B=($=D.charCodeAt(A++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:36)>=36||B>y((c-Y)/U))&&d("overflow"),Y+=B*U,!(B<(W=P<=J?1:P>=J+26?26:P-J));P+=36)U>y(c/(H=36-W))&&d("overflow"),U*=H;J=T(Y-I,E=q.length+1,I==0),y(Y/E)>c-ie&&d("overflow"),ie+=y(Y/E),Y%=E,q.splice(Y++,0,ie)}return S(q)}function M(D){var E,k,O,A,I,U,P,B,W,H,$,q,Q,Y,ie,J=[];for(q=(D=w(D)).length,E=128,k=0,I=72,U=0;U<q;++U)($=D[U])<128&&J.push(m($));for(O=A=J.length,A&&J.push("-");O<q;){for(P=c,U=0;U<q;++U)($=D[U])>=E&&$<P&&(P=$);for(P-E>y((c-k)/(Q=O+1))&&d("overflow"),k+=(P-E)*Q,E=P,U=0;U<q;++U)if(($=D[U])<E&&++k>c&&d("overflow"),$==E){for(B=k,W=36;!(B<(H=W<=I?1:W>=I+26?26:W-I));W+=36)ie=B-H,Y=36-H,J.push(m(b(H+ie%Y,0))),B=y(ie/Y);J.push(m(b(B,0))),I=T(k,Q,O==A),k=0,++O}++k,++E}return J.join("")}f={version:"1.4.1",ucs2:{decode:w,encode:S},decode:C,encode:M,toASCII:function(D){return x(D,function(E){return p.test(E)?"xn--"+M(E):E})},toUnicode:function(D){return x(D,function(E){return h.test(E)?C(E.slice(4).toLowerCase()):E})}},(s=(function(){return f}).call(n,a,n,i))===void 0||(i.exports=s)})()}).call(this,a(246)(r),a(78))},function(r,n){r.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(r,n,a){r.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(r,n,a){n.decode=n.parse=a(249),n.encode=n.stringify=a(250)},function(r,n,a){function i(s,u){return Object.prototype.hasOwnProperty.call(s,u)}r.exports=function(s,u,l,f){u=u||"&",l=l||"=";var c={};if(typeof s!="string"||s.length===0)return c;var h=/\+/g;s=s.split(u);var p=1e3;f&&typeof f.maxKeys=="number"&&(p=f.maxKeys);var v=s.length;p>0&&v>p&&(v=p);for(var g=0;g<v;++g){var y,m,d,_,x=s[g].replace(h,"%20"),w=x.indexOf(l);w>=0?(y=x.substr(0,w),m=x.substr(w+1)):(y=x,m=""),d=decodeURIComponent(y),_=decodeURIComponent(m),i(c,d)?o(c[d])?c[d].push(_):c[d]=[c[d],_]:c[d]=_}return c};var o=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},function(r,n,a){var i=function(l){switch(typeof l){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}};r.exports=function(l,f,c,h){return f=f||"&",c=c||"=",l===null&&(l=void 0),typeof l=="object"?s(u(l),function(p){var v=encodeURIComponent(i(p))+c;return o(l[p])?s(l[p],function(g){return v+encodeURIComponent(i(g))}).join(f):v+encodeURIComponent(i(l[p]))}).join(f):h?encodeURIComponent(i(h))+c+encodeURIComponent(i(l)):""};var o=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function s(l,f){if(l.map)return l.map(f);for(var c=[],h=0;h<l.length;h++)c.push(f(l[h],h));return c}var u=Object.keys||function(l){var f=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&f.push(c);return f}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(52);n.attr_setAnExistingAttributeValue=function(o,s){o._element===null?o._value=s:i.element_change(o,o._element,s)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(108),o=a(30),s=a(52);n.tokenList_validationSteps=function(u,l){if(!o.dom_hasSupportedTokens(u._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+u._attribute._localName+"'.");return o.dom_getSupportedTokens(u._attribute._localName).has(l.toLowerCase())},n.tokenList_updateSteps=function(u){(u._element.hasAttribute(u._attribute._localName)||u._tokenSet.size!==0)&&s.element_setAnAttributeValue(u._element,u._attribute._localName,i.orderedSet_serialize(u._tokenSet))},n.tokenList_serializeSteps=function(u){return s.element_getAnAttributeValue(u._element,u._attribute._localName)}},function(r,n,a){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(1);function s(u){return o.isBoolean(u)?u:u.capture||!1}n.eventTarget_flatten=s,n.eventTarget_flattenMore=function(u){var l=s(u),f=!1,c=!1;return o.isBoolean(u)||(f=u.once||!1,c=u.passive||!1),[l,c,f]},n.eventTarget_addEventListener=function(u,l){if(l.callback!==null){for(var f=0;f<u._eventListenerList.length;f++){var c=u._eventListenerList[f];if(c.type===l.type&&c.callback.handleEvent===l.callback.handleEvent&&c.capture===l.capture)return}u._eventListenerList.push(l)}},n.eventTarget_removeEventListener=function(u,l,f){l.removed=!0,u._eventListenerList.splice(f,1)},n.eventTarget_removeAllEventListeners=function(u){var l,f;try{for(var c=i(u._eventListenerList),h=c.next();!h.done;h=c.next())h.value.removed=!0}catch(p){l={error:p}}finally{try{h&&!h.done&&(f=c.return)&&f.call(c)}finally{if(l)throw l.error}}u._eventListenerList.length=0}},function(r,n,a){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(1),s=a(29);n.parentNode_convertNodesIntoANode=function(u,l){for(var f,c,h=null,p=0;p<u.length;p++){var v=u[p];if(o.isString(v)){var g=s.create_text(l,v);u[p]=g}}if(u.length===1)h=u[0];else{var y=h=s.create_documentFragment(l);try{for(var m=i(u),d=m.next();!d.done;d=m.next())v=d.value,y.appendChild(v)}catch(_){f={error:_}}finally{try{d&&!d.done&&(c=m.return)&&c.call(m)}finally{if(f)throw f.error}}}return h}},function(r,n,a){var i=this&&this.__values||function(b){var T=typeof Symbol=="function"&&Symbol.iterator,C=T&&b[T],M=0;if(C)return C.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&M>=b.length&&(b=void 0),{value:b&&b[M++],done:!b}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(b,T){var C=typeof Symbol=="function"&&b[Symbol.iterator];if(!C)return b;var M,D,E=C.call(b),k=[];try{for(;(T===void 0||T-- >0)&&!(M=E.next()).done;)k.push(M.value)}catch(O){D={error:O}}finally{try{M&&!M.done&&(C=E.return)&&C.call(E)}finally{if(D)throw D.error}}return k},s=this&&this.__spread||function(){for(var b=[],T=0;T<arguments.length;T++)b=b.concat(o(arguments[T]));return b};Object.defineProperty(n,"__esModule",{value:!0});var u=a(2),l=a(9),f=a(3),c=a(29),h=a(17),p=a(175),v=a(107),g=a(176),y=a(37),m=a(177);function d(b){return b._startNode===b._endNode&&b._startOffset===b._endOffset}function _(b){return h.tree_rootNode(b._startNode)}function x(b,T){return h.tree_rootNode(b)===_(T)&&p.boundaryPoint_position([b,0],T._start)===u.BoundaryPosition.After&&p.boundaryPoint_position([b,h.tree_nodeLength(b)],T._end)===u.BoundaryPosition.Before}function w(b,T){var C=h.tree_isAncestorOf(T._startNode,b,!0),M=h.tree_isAncestorOf(T._endNode,b,!0);return C&&!M||!C&&M}function S(b){var T,C,M,D,E,k,O=c.create_documentFragment(b._startNode._nodeDocument);if(d(b))return O;var A=b._startNode,I=b._startOffset,U=b._endNode,P=b._endOffset;if(A===U&&f.Guard.isCharacterDataNode(A))return(N=g.node_clone(A))._data=v.characterData_substringData(A,I,P-I),y.mutation_append(N,O),v.characterData_replaceData(A,I,P-I,""),O;for(var B=A;!h.tree_isAncestorOf(U,B,!0);){if(B._parent===null)throw new Error("Parent node  is null.");B=B._parent}var W=null;if(!h.tree_isAncestorOf(U,A,!0))try{for(var H=i(B._children),$=H.next();!$.done;$=H.next())if(w(ie=$.value,b)){W=ie;break}}catch(K){T={error:K}}finally{try{$&&!$.done&&(C=H.return)&&C.call(H)}finally{if(T)throw T.error}}var q=null;if(!h.tree_isAncestorOf(A,U,!0))for(var Q=s(B._children),Y=Q.length-1;Y>0;Y--){var ie;if(w(ie=Q[Y],b)){q=ie;break}}var J,ae,re=[];try{for(var V=i(B._children),R=V.next();!R.done;R=V.next())if(x(j=R.value,b)){if(f.Guard.isDocumentTypeNode(j))throw new l.HierarchyRequestError;re.push(j)}}catch(K){M={error:K}}finally{try{R&&!R.done&&(D=V.return)&&D.call(V)}finally{if(M)throw M.error}}if(h.tree_isAncestorOf(U,A,!0))J=A,ae=I;else{for(var F=A;F._parent!==null&&!h.tree_isAncestorOf(U,F._parent);)F=F._parent;if(F._parent===null)throw new Error("Parent node is null.");J=F._parent,ae=1+h.tree_index(F)}if(f.Guard.isCharacterDataNode(W))(N=g.node_clone(A))._data=v.characterData_substringData(A,I,h.tree_nodeLength(A)-I),y.mutation_append(N,O),v.characterData_replaceData(A,I,h.tree_nodeLength(A)-I,"");else if(W!==null){var N=g.node_clone(W);y.mutation_append(N,O);var L=S(c.create_range([A,I],[W,h.tree_nodeLength(W)]));y.mutation_append(L,N)}try{for(var G=i(re),z=G.next();!z.done;z=G.next()){var j=z.value;y.mutation_append(j,O)}}catch(K){E={error:K}}finally{try{z&&!z.done&&(k=G.return)&&k.call(G)}finally{if(E)throw E.error}}return f.Guard.isCharacterDataNode(q)?((N=g.node_clone(U))._data=v.characterData_substringData(U,0,P),y.mutation_append(N,O),v.characterData_replaceData(U,0,P,"")):q!==null&&(N=g.node_clone(q),y.mutation_append(N,O),L=S(c.create_range([q,0],[U,P])),y.mutation_append(L,N)),b._start=[J,ae],b._end=[J,ae],O}n.range_collapsed=d,n.range_root=_,n.range_isContained=x,n.range_isPartiallyContained=w,n.range_setTheStart=function(b,T,C){if(f.Guard.isDocumentTypeNode(T))throw new l.InvalidNodeTypeError;if(C>h.tree_nodeLength(T))throw new l.IndexSizeError;var M=[T,C];_(b)===h.tree_rootNode(T)&&p.boundaryPoint_position(M,b._end)!==u.BoundaryPosition.After||(b._end=M),b._start=M},n.range_setTheEnd=function(b,T,C){if(f.Guard.isDocumentTypeNode(T))throw new l.InvalidNodeTypeError;if(C>h.tree_nodeLength(T))throw new l.IndexSizeError;var M=[T,C];_(b)===h.tree_rootNode(T)&&p.boundaryPoint_position(M,b._start)!==u.BoundaryPosition.Before||(b._start=M),b._end=M},n.range_select=function(b,T){var C=b._parent;if(C===null)throw new l.InvalidNodeTypeError;var M=h.tree_index(b);T._start=[C,M],T._end=[C,M+1]},n.range_extract=S,n.range_cloneTheContents=function b(T){var C,M,D,E,k,O,A=c.create_documentFragment(T._startNode._nodeDocument);if(d(T))return A;var I=T._startNode,U=T._startOffset,P=T._endNode,B=T._endOffset;I===P&&f.Guard.isCharacterDataNode(I)&&((R=g.node_clone(I))._data=v.characterData_substringData(I,U,B-U),y.mutation_append(R,A));for(var W=I;!h.tree_isAncestorOf(P,W,!0);){if(W._parent===null)throw new Error("Parent node  is null.");W=W._parent}var H=null;if(!h.tree_isAncestorOf(P,I,!0))try{for(var $=i(W._children),q=$.next();!q.done;q=$.next())if(w(J=q.value,T)){H=J;break}}catch(z){C={error:z}}finally{try{q&&!q.done&&(M=$.return)&&M.call($)}finally{if(C)throw C.error}}var Q=null;if(!h.tree_isAncestorOf(I,P,!0))for(var Y=s(W._children),ie=Y.length-1;ie>0;ie--){var J;if(w(J=Y[ie],T)){Q=J;break}}var ae=[];try{for(var re=i(W._children),V=re.next();!V.done;V=re.next())if(x(G=V.value,T)){if(f.Guard.isDocumentTypeNode(G))throw new l.HierarchyRequestError;ae.push(G)}}catch(z){D={error:z}}finally{try{V&&!V.done&&(E=re.return)&&E.call(re)}finally{if(D)throw D.error}}if(f.Guard.isCharacterDataNode(H))(R=g.node_clone(I))._data=v.characterData_substringData(I,U,h.tree_nodeLength(I)-U),y.mutation_append(R,A);else if(H!==null){var R=g.node_clone(H);y.mutation_append(R,A);var F=b(c.create_range([I,U],[H,h.tree_nodeLength(H)]));y.mutation_append(F,R)}try{for(var N=i(ae),L=N.next();!L.done;L=N.next()){var G=L.value,R=g.node_clone(G);y.mutation_append(R,A)}}catch(z){k={error:z}}finally{try{L&&!L.done&&(O=N.return)&&O.call(N)}finally{if(k)throw k.error}}return f.Guard.isCharacterDataNode(Q)?((R=g.node_clone(P))._data=v.characterData_substringData(P,0,B),y.mutation_append(R,A)):Q!==null&&(R=g.node_clone(Q),A.append(R),F=S(c.create_range([Q,0],[P,B])),y.mutation_append(F,R)),A},n.range_insert=function(b,T){var C,M;if(f.Guard.isProcessingInstructionNode(T._startNode)||f.Guard.isCommentNode(T._startNode)||f.Guard.isTextNode(T._startNode)&&T._startNode._parent===null||T._startNode===b)throw new l.HierarchyRequestError;var D,E=null;if(f.Guard.isTextNode(T._startNode))E=T._startNode;else{var k=0;try{for(var O=i(T._startNode._children),A=O.next();!A.done;A=O.next()){var I=A.value;if(k===T._startOffset){E=I;break}k++}}catch(P){C={error:P}}finally{try{A&&!A.done&&(M=O.return)&&M.call(O)}finally{if(C)throw C.error}}}if(E===null)D=T._startNode;else{if(E._parent===null)throw new Error("Parent node is null.");D=E._parent}y.mutation_ensurePreInsertionValidity(b,D,E),f.Guard.isTextNode(T._startNode)&&(E=m.text_split(T._startNode,T._startOffset)),b===E&&(E=b._nextSibling),b._parent!==null&&y.mutation_remove(b,b._parent);var U=E===null?h.tree_nodeLength(D):h.tree_index(E);f.Guard.isDocumentFragmentNode(b)?U+=h.tree_nodeLength(b):U++,y.mutation_preInsert(b,D,E),d(T)&&(T._end=[D,U])},n.range_getContainedNodes=function(b){var T;return(T={})[Symbol.iterator]=function(){var C=b.commonAncestorContainer,M=h.tree_getFirstDescendantNode(C);return{next:function(){for(;M&&!x(M,b);)M=h.tree_getNextDescendantNode(C,M);if(M===null)return{done:!0,value:null};var D={done:!1,value:M};return M=h.tree_getNextDescendantNode(C,M),D}}},T},n.range_getPartiallyContainedNodes=function(b){var T;return(T={})[Symbol.iterator]=function(){var C=b.commonAncestorContainer,M=h.tree_getFirstDescendantNode(C);return{next:function(){for(;M&&!w(M,b);)M=h.tree_getNextDescendantNode(C,M);if(M===null)return{done:!0,value:null};var D={done:!1,value:M};return M=h.tree_getNextDescendantNode(C,M),D}}},T}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(9);n.selectors_scopeMatchASelectorsString=function(o,s){throw new i.NotSupportedError}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(2),o=a(105);n.treeWalker_traverseChildren=function(s,u){for(var l=u?s._current._firstChild:s._current._lastChild;l!==null;){var f=o.traversal_filter(s,l);if(f===i.FilterResult.Accept)return s._current=l,l;if(f===i.FilterResult.Skip){var c=u?l._firstChild:l._lastChild;if(c!==null){l=c;continue}}for(;l!==null;){var h=u?l._nextSibling:l._previousSibling;if(h!==null){l=h;break}var p=l._parent;if(p===null||p===s._root||p===s._current)return null;l=p}}return null},n.treeWalker_traverseSiblings=function(s,u){var l=s._current;if(l===s._root)return null;for(;;){for(var f=u?l._nextSibling:l._previousSibling;f!==null;){l=f;var c=o.traversal_filter(s,l);if(c===i.FilterResult.Accept)return s._current=l,l;f=u?l._firstChild:l._lastChild,c!==i.FilterResult.Reject&&f!==null||(f=u?l._nextSibling:l._previousSibling)}if((l=l._parent)===null||l===s._root||o.traversal_filter(s,l)===i.FilterResult.Accept)return null}}},function(r,n,a){a(89),a(74);var i,o=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)g.hasOwnProperty(y)&&(v[y]=g[y])})(h,p)},function(h,p){function v(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),u=a(2),l=a(50),f=a(3),c=function(h){function p(v,g){var y=h.call(this,v)||this;return y._indentation={},y._lengthToLastNewline=0,y._writerOptions=s.applyDefaults(g,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),y}return o(p,h),p.prototype.serialize=function(v){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},v.nodeType!==u.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(v,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},p.prototype.declaration=function(v,g,y){this._beginLine(),this._refs.markup+='<?xml version="'+v+'"',g!==void 0&&(this._refs.markup+=' encoding="'+g+'"'),y!==void 0&&(this._refs.markup+=' standalone="'+(y?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},p.prototype.docType=function(v,g,y){this._beginLine(),this._refs.markup+=g&&y?"<!DOCTYPE "+v+' PUBLIC "'+g+'" "'+y+'">':g?"<!DOCTYPE "+v+' PUBLIC "'+g+'">':y?"<!DOCTYPE "+v+' SYSTEM "'+y+'">':"<!DOCTYPE "+v+">",this._endLine()},p.prototype.openTagBegin=function(v){this._beginLine(),this._refs.markup+="<"+v},p.prototype.openTagEnd=function(v,g,y){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!g&&!y){for(var m=!0,d=!0,_=this.currentNode.firstChild,x=0,w=0;_;){if(f.Guard.isExclusiveTextNode(_))w++;else{if(!f.Guard.isCDATASectionNode(_)){m=!1,d=!1;break}x++}_.data!==""&&(d=!1),_=_.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&m&&(x<=1&&w===0||x===0),this._refs.emptyNode=d}(y||g||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+v+">":this._refs.markup+=y?" />":g||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},p.prototype.closeTag=function(v){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+v+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},p.prototype.attribute=function(v,g){var y=v+'="'+g+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+y.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+y):this._refs.markup+=" "+y},p.prototype.text=function(v){v!==""&&(this._beginLine(),this._refs.markup+=v,this._endLine())},p.prototype.cdata=function(v){v!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+v+"]]>",this._endLine())},p.prototype.comment=function(v){this._beginLine(),this._refs.markup+="<!--"+v+"-->",this._endLine()},p.prototype.instruction=function(v,g){this._beginLine(),this._refs.markup+="<?"+(g===""?v:v+" "+g)+"?>",this._endLine()},p.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},p.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},p.prototype._indent=function(v){if(v<=0)return"";if(this._indentation[v]!==void 0)return this._indentation[v];var g=this._writerOptions.indent.repeat(v);return this._indentation[v]=g,g},p}(l.BaseWriter);n.XMLWriter=c},function(r,n,a){var i=a(47),o=a(35);r.exports="".repeat||function(s){var u=String(o(this)),l="",f=i(s);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;f>0;(f>>>=1)&&(u+=u))1&f&&(l+=u);return l}},function(r,n,a){a(31),a(32),a(33),a(19),a(178),a(20),a(22),a(23);var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),s=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(67),l=a(1),f=function(c){function h(p,v){var g=c.call(this,p)||this;return g._writerOptions=l.applyDefaults(v,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),g}return o(h,c),h.prototype.serialize=function(p){var v=l.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),g=new u.ObjectWriter(this._builderOptions,v).serialize(p);return this._beginLine(this._writerOptions,0)+this._convertObject(g,this._writerOptions)},h.prototype._convertObject=function(p,v,g){var y,m,d=this;g===void 0&&(g=0);var _="",x=this._isLeafNode(p);if(l.isArray(p)){_+="[";var w=p.length,S=0;try{for(var b=s(p),T=b.next();!T.done;T=b.next()){var C=T.value;_+=this._endLine(v,g+1)+this._beginLine(v,g+1)+this._convertObject(C,v,g+1),S<w-1&&(_+=","),S++}}catch(E){y={error:E}}finally{try{T&&!T.done&&(m=b.return)&&m.call(b)}finally{if(y)throw y.error}}_+=this._endLine(v,g)+this._beginLine(v,g),_+="]"}else if(l.isObject(p)){_+="{";var M=l.objectLength(p),D=0;l.forEachObject(p,function(E,k){x&&v.prettyPrint?_+=" ":_+=d._endLine(v,g+1)+d._beginLine(v,g+1),_+=d._key(E),v.prettyPrint&&(_+=" "),_+=d._convertObject(k,v,g+1),D<M-1&&(_+=","),D++},this),x&&v.prettyPrint?_+=" ":_+=this._endLine(v,g)+this._beginLine(v,g),_+="}"}else _+=this._val(p);return _},h.prototype._beginLine=function(p,v){if(!p.prettyPrint)return"";var g=p.offset+v+1;return g>0?new Array(g).join(p.indent):""},h.prototype._endLine=function(p,v){return p.prettyPrint?p.newline:""},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h.prototype._isLeafNode=function(p){return this._descendantCount(p)<=1},h.prototype._descendantCount=function(p,v){var g=this;return v===void 0&&(v=0),l.isArray(p)?l.forEachArray(p,function(y){return v+=g._descendantCount(y,v)},this):l.isObject(p)?l.forEachObject(p,function(y,m){return v+=g._descendantCount(m,v)},this):v++,v},h}(a(50).BaseWriter);n.JSONWriter=f},function(r,n,a){a(31),a(32),a(33),a(19),a(178),a(89),a(20),a(22),a(23);var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),s=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&c[h],v=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var u=a(67),l=a(1),f=function(c){function h(p,v){var g=c.call(this,p)||this;if(g._writerOptions=l.applyDefaults(v,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),g._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(g._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return g}return o(h,c),h.prototype.serialize=function(p){var v=l.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),g=new u.ObjectWriter(this._builderOptions,v).serialize(p),y=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(g,this._writerOptions,0);return y.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(y=y.slice(0,-this._writerOptions.newline.length)),y},h.prototype._convertObject=function(p,v,g,y){var m,d,_=this;y===void 0&&(y=!1);var x="";if(l.isArray(p))try{for(var w=s(p),S=w.next();!S.done;S=w.next()){var b=S.value;x+=this._beginLine(v,g,!0),l.isObject(b)?l.isEmpty(b)?x+='""'+this._endLine(v):x+=this._convertObject(b,v,g,!0):x+=this._val(b)+this._endLine(v)}}catch(T){m={error:T}}finally{try{S&&!S.done&&(d=w.return)&&d.call(w)}finally{if(m)throw m.error}}else l.forEachObject(p,function(T,C){y?(x+=_._key(T),y=!1):x+=_._beginLine(v,g)+_._key(T),l.isObject(C)?l.isEmpty(C)?x+=' ""'+_._endLine(v):x+=_._endLine(v)+_._convertObject(C,v,g+1):x+=" "+_._val(C)+_._endLine(v)},this);return x},h.prototype._beginLine=function(p,v,g){g===void 0&&(g=!1);var y=p.offset+v+1,m=new Array(y).join(p.indent);return g?m.substr(0,m.length-2)+"-"+m.substr(-1,1):m},h.prototype._endLine=function(p){return p.newline},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h}(a(50).BaseWriter);n.YAMLWriter=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),a(110).dom.setFeatures(!0);var i=a(110);n.DOMImplementation=i.DOMImplementation;var o=a(271);n.DOMParser=o.DOMParser;var s=a(274);n.XMLSerializer=s.XMLSerializer},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(3),o=a(0),s=function(){function u(){}return u.prototype.before=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),h=c._parent;if(h!==null){for(var p=c._previousSibling,v=!0;v&&p;){v=!1;for(var g=0;g<l.length;g++){var y=l[g];if(y===p){p=p._previousSibling,v=!0;break}}}var m=o.parentNode_convertNodesIntoANode(l,c._nodeDocument);p=p===null?h._firstChild:p._nextSibling,o.mutation_preInsert(m,h,p)}},u.prototype.after=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),h=c._parent;if(h){for(var p=c._nextSibling,v=!0;v&&p;){v=!1;for(var g=0;g<l.length;g++){var y=l[g];if(y===p){p=p._nextSibling,v=!0;break}}}var m=o.parentNode_convertNodesIntoANode(l,c._nodeDocument);o.mutation_preInsert(m,h,p)}},u.prototype.replaceWith=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),h=c._parent;if(h){for(var p=c._nextSibling,v=!0;v&&p;){v=!1;for(var g=0;g<l.length;g++){var y=l[g];if(y===p){p=p._nextSibling,v=!0;break}}}var m=o.parentNode_convertNodesIntoANode(l,c._nodeDocument);c._parent===h?o.mutation_replace(c,m,h):o.mutation_preInsert(m,h,p)}},u.prototype.remove=function(){var l=i.Cast.asNode(this),f=l._parent;f&&o.mutation_remove(l,f)},u}();n.ChildNodeImpl=s},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){};n.DocumentOrShadowRootImpl=i},function(r,n,a){var i=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&f[c],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(6),s=a(3),u=a(7),l=function(){function f(c){this._nodeList=[],this._recordQueue=[],this._callback=c;var h=o.dom.window;u.set.append(h._mutationObservers,this)}return f.prototype.observe=function(c,h){var p,v;if((h=h||{childList:!1,subtree:!1}).attributeOldValue===void 0&&h.attributeFilter===void 0||h.attributes!==void 0||(h.attributes=!0),h.characterDataOldValue!==void 0&&h.characterData===void 0&&(h.characterData=!0),!h.childList&&!h.attributes&&!h.characterData)throw new TypeError;if(h.attributeOldValue&&!h.attributes)throw new TypeError;if(h.attributeFilter!==void 0&&!h.attributes)throw new TypeError;if(h.characterDataOldValue&&!h.characterData)throw new TypeError;var g=!1,y=h,m=function(w){var S,b;if(w.observer===d){g=!0;try{for(var T=(S=void 0,i(d._nodeList)),C=T.next();!C.done;C=T.next()){var M=C.value;u.list.remove(M._registeredObserverList,function(D){return s.Guard.isTransientRegisteredObserver(D)&&D.source===w})}}catch(D){S={error:D}}finally{try{C&&!C.done&&(b=T.return)&&b.call(T)}finally{if(S)throw S.error}}w.options=y}},d=this;try{for(var _=i(c._registeredObserverList),x=_.next();!x.done;x=_.next())m(x.value)}catch(w){p={error:w}}finally{try{x&&!x.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}g||(c._registeredObserverList.push({observer:this,options:h}),this._nodeList.push(c))},f.prototype.disconnect=function(){var c,h,p=this;try{for(var v=i(this._nodeList),g=v.next();!g.done;g=v.next()){var y=g.value;u.list.remove(y._registeredObserverList,function(m){return m.observer===p})}}catch(m){c={error:m}}finally{try{g&&!g.done&&(h=v.return)&&h.call(v)}finally{if(c)throw c.error}}this._recordQueue=[]},f.prototype.takeRecords=function(){var c=this._recordQueue;return this._recordQueue=[],c},f}();n.MutationObserverImpl=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(3),o=function(){function s(){}return Object.defineProperty(s.prototype,"previousElementSibling",{get:function(){for(var u=i.Cast.asNode(this)._previousSibling;u;){if(i.Guard.isElementNode(u))return u;u=u._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nextElementSibling",{get:function(){for(var u=i.Cast.asNode(this)._nextSibling;u;){if(i.Guard.isElementNode(u))return u;u=u._nextSibling}return null},enumerable:!0,configurable:!0}),s}();n.NonDocumentTypeChildNodeImpl=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(3),o=a(0),s=function(){function u(){}return u.prototype.getElementById=function(l){for(var f=o.tree_getFirstDescendantNode(i.Cast.asNode(this),!1,!1,function(c){return i.Guard.isElementNode(c)});f!==null;){if(f._uniqueIdentifier===l)return f;f=o.tree_getNextDescendantNode(i.Cast.asNode(this),f,!1,!1,function(c){return i.Guard.isElementNode(c)})}return null},u}();n.NonElementParentNodeImpl=s},function(r,n,a){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&l[f],h=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(3),s=a(0),u=function(){function l(){}return Object.defineProperty(l.prototype,"children",{get:function(){return s.create_htmlCollection(o.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstElementChild",{get:function(){for(var f=o.Cast.asNode(this)._firstChild;f;){if(o.Guard.isElementNode(f))return f;f=f._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lastElementChild",{get:function(){for(var f=o.Cast.asNode(this)._lastChild;f;){if(o.Guard.isElementNode(f))return f;f=f._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"childElementCount",{get:function(){var f,c,h=0;try{for(var p=i(o.Cast.asNode(this)._children),v=p.next();!v.done;v=p.next()){var g=v.value;o.Guard.isElementNode(g)&&h++}}catch(y){f={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(f)throw f.error}}return h},enumerable:!0,configurable:!0}),l.prototype.prepend=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var h=o.Cast.asNode(this),p=s.parentNode_convertNodesIntoANode(f,h._nodeDocument);s.mutation_preInsert(p,h,h._firstChild)},l.prototype.append=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var h=o.Cast.asNode(this),p=s.parentNode_convertNodesIntoANode(f,h._nodeDocument);s.mutation_append(p,h)},l.prototype.querySelector=function(f){var c=o.Cast.asNode(this),h=s.selectors_scopeMatchASelectorsString(f,c);return h.length===0?null:h[0]},l.prototype.querySelectorAll=function(f){var c=o.Cast.asNode(this),h=s.selectors_scopeMatchASelectorsString(f,c);return s.create_nodeListStatic(c,h)},l}();n.ParentNodeImpl=u},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=function(){function s(){}return Object.defineProperty(s.prototype,"_name",{get:function(){return this.__name||""},set:function(u){this.__name=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(u){this.__assignedSlot=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"assignedSlot",{get:function(){return i.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),s}();n.SlotableImpl=o},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(102),u=a(9),l=a(3),f=function(c){function h(p){var v=c.call(this)||this;if(l.Guard.isDocumentTypeNode(p.startContainer)||l.Guard.isAttrNode(p.startContainer)||l.Guard.isDocumentTypeNode(p.endContainer)||l.Guard.isAttrNode(p.endContainer))throw new u.InvalidNodeTypeError;return v._start=[p.startContainer,p.startOffset],v._end=[p.endContainer,p.endOffset],v}return o(h,c),h}(s.AbstractRangeImpl);n.StaticRangeImpl=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(272);n.DOMParser=i.DOMParserImpl},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=a(273),s=function(){function u(){}return u.prototype.parseFromString=function(l,f){if(f==="text/html")throw new Error("HTML parser not implemented.");try{return(c=new o.XMLParserImpl().parse(l))._contentType=f,c}catch(g){var c,h="http://www.mozilla.org/newlayout/xml/parsererror.xml",p=(c=i.create_xmlDocument()).createElementNS(h,"parsererror"),v=c.createElementNS(h,"error");return v.setAttribute("message",g.message),p.appendChild(v),c.appendChild(p),c}},u}();n.DOMParserImpl=s},function(r,n,a){var i=this&&this.__read||function(p,v){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var y,m,d=g.call(p),_=[];try{for(;(v===void 0||v-- >0)&&!(y=d.next()).done;)_.push(y.value)}catch(x){m={error:x}}finally{try{y&&!y.done&&(g=d.return)&&g.call(d)}finally{if(m)throw m.error}}return _},o=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&p[v],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var s=a(180),u=a(111),l=a(7),f=a(0),c=a(69),h=function(){function p(){}return p.prototype.parse=function(v){for(var g,y,m,d,_=new s.XMLStringLexer(v,{skipWhitespaceOnlyText:!0}),x=f.create_document(),w=x,S=_.nextToken();S.type!==u.TokenType.EOF;){switch(S.type){case u.TokenType.Declaration:var b=S;if(b.version!=="1.0")throw new Error("Invalid xml version: "+b.version);break;case u.TokenType.DocType:var T=S;if(!f.xml_isPubidChar(T.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!f.xml_isLegalChar(T.sysId)||T.sysId.indexOf('"')!==-1&&T.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");w.appendChild(x.implementation.createDocumentType(T.name,T.pubId,T.sysId));break;case u.TokenType.CDATA:var C=S;if(!f.xml_isLegalChar(C.data)||C.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");w.appendChild(x.createCDATASection(C.data));break;case u.TokenType.Comment:var M=S;if(!f.xml_isLegalChar(M.data)||M.data.indexOf("--")!==-1||M.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");w.appendChild(x.createComment(M.data));break;case u.TokenType.PI:var D=S;if(D.target.indexOf(":")!==-1||/^xml$/i.test(D.target))throw new Error("Processing instruction target contains invalid characters.");if(!f.xml_isLegalChar(D.data)||D.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");w.appendChild(x.createProcessingInstruction(D.target,D.data));break;case u.TokenType.Text:var E=S;if(!f.xml_isLegalChar(E.data))throw new Error("Text data contains invalid characters.");w.appendChild(x.createTextNode(this._decodeText(E.data)));break;case u.TokenType.Element:var k=S,O=i(f.namespace_extractQName(k.name),2),A=O[0],I=O[1];if(I.indexOf(":")!==-1||!f.xml_isName(I))throw new Error("Node local name contains invalid characters.");if(A==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var U=w.lookupNamespaceURI(A),P={};try{for(var B=(g=void 0,o(k.attributes)),W=B.next();!W.done;W=B.next()){var H=i(W.value,2),$=H[0],q=H[1];if($==="xmlns")U=q;else{var Q=i(f.namespace_extractQName($),2),Y=Q[0],ie=Q[1];Y==="xmlns"&&(ie===A&&(U=q),P[ie]=q)}}}catch(L){g={error:L}}finally{try{W&&!W.done&&(y=B.return)&&y.call(B)}finally{if(g)throw g.error}}var J=U!==null?x.createElementNS(U,k.name):x.createElement(k.name);w.appendChild(J);var ae=new c.LocalNameSet;try{for(var re=(m=void 0,o(k.attributes)),V=re.next();!V.done;V=re.next()){var R=i(V.value,2),F=($=R[0],q=R[1],i(f.namespace_extractQName($),2)),N=(Y=F[0],ie=F[1],null);if(Y==="xmlns"||Y===null&&ie==="xmlns"?N=l.namespace.XMLNS:(N=J.lookupNamespaceURI(Y))!==null&&J.isDefaultNamespace(N)?N=null:N===null&&Y!==null&&(N=P[Y]||null),ae.has(N,ie))throw new Error("Element contains duplicate attributes.");if(ae.set(N,ie),N===l.namespace.XMLNS&&q===l.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ie.indexOf(":")!==-1||!f.xml_isName(ie))throw new Error("Attribute local name contains invalid characters.");if(Y==="xmlns"&&q==="")throw new Error("Empty XML namespace is not allowed.");N!==null?J.setAttributeNS(N,$,this._decodeAttributeValue(q)):J.setAttribute($,this._decodeAttributeValue(q))}}catch(L){m={error:L}}finally{try{V&&!V.done&&(d=re.return)&&d.call(re)}finally{if(m)throw m.error}}k.selfClosing||(w=J);break;case u.TokenType.ClosingTag:if(S.name!==w.nodeName)throw new Error("Closing tag name does not match opening tag name.");w._parent&&(w=w._parent)}S=_.nextToken()}return x},p.prototype._decodeText=function(v){return v==null?v:v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p.prototype._decodeAttributeValue=function(v){return v==null?v:v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p}();n.XMLParserImpl=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(275);n.XMLSerializer=i.XMLSerializerImpl},function(r,n,a){var i=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&p[v],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=a(2),s=a(69),u=a(95),l=a(9),f=a(7),c=a(0),h=function(){function p(){}return p.prototype.serializeToString=function(v){return this._xmlSerialization(v,!1)},p.prototype._xmlSerialization=function(v,g){if(v._nodeDocument===void 0||v._nodeDocument._hasNamespaces){var y=new u.NamespacePrefixMap;y.set("xml",f.namespace.XML);try{return this._serializeNodeNS(v,null,y,{value:1},g)}catch{throw new l.InvalidStateError}}else try{return this._serializeNode(v,g)}catch{throw new l.InvalidStateError}},p.prototype._serializeNodeNS=function(v,g,y,m,d){switch(v.nodeType){case o.NodeType.Element:return this._serializeElementNS(v,g,y,m,d);case o.NodeType.Document:return this._serializeDocumentNS(v,g,y,m,d);case o.NodeType.Comment:return this._serializeComment(v,d);case o.NodeType.Text:return this._serializeText(v,d);case o.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(v,g,y,m,d);case o.NodeType.DocumentType:return this._serializeDocumentType(v,d);case o.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(v,d);case o.NodeType.CData:return this._serializeCData(v,d);default:throw new Error("Unknown node type: "+v.nodeType)}},p.prototype._serializeNode=function(v,g){switch(v.nodeType){case o.NodeType.Element:return this._serializeElement(v,g);case o.NodeType.Document:return this._serializeDocument(v,g);case o.NodeType.Comment:return this._serializeComment(v,g);case o.NodeType.Text:return this._serializeText(v,g);case o.NodeType.DocumentFragment:return this._serializeDocumentFragment(v,g);case o.NodeType.DocumentType:return this._serializeDocumentType(v,g);case o.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(v,g);case o.NodeType.CData:return this._serializeCData(v,g);default:throw new Error("Unknown node type: "+v.nodeType)}},p.prototype._serializeElementNS=function(v,g,y,m,d){var _,x;if(d&&(v.localName.indexOf(":")!==-1||!c.xml_isName(v.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var w="<",S="",b=!1,T=!1,C=y.copy(),M={},D=this._recordNamespaceInformation(v,C,M),E=g,k=v.namespaceURI;if(E===k)D!==null&&(T=!0),w+=S=k===f.namespace.XML?"xml:"+v.localName:v.localName;else{var O=v.prefix,A=null;if(O===null&&k===D||(A=C.get(O,k)),O==="xmlns"){if(d)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");A=O}A!==null?(S=A+":"+v.localName,D!==null&&D!==f.namespace.XML&&(E=D||null),w+=S):O!==null?(O in M&&(O=this._generatePrefix(k,C,m)),C.set(O,k),w+=S+=O+":"+v.localName,w+=" xmlns:"+O+'="'+this._serializeAttributeValue(k,d)+'"',D!==null&&(E=D||null)):D===null||D!==null&&D!==k?(T=!0,E=k,w+=S+=v.localName,w+=' xmlns="'+this._serializeAttributeValue(k,d)+'"'):(E=k,w+=S+=v.localName)}w+=this._serializeAttributesNS(v,C,m,M,T,d);var I=k===f.namespace.HTML;if(I&&v.childNodes.length===0&&p._VoidElementNames.has(v.localName)?(w+=" /",b=!0):I||v.childNodes.length!==0||(w+="/",b=!0),w+=">",b)return w;if(!(I&&v.localName==="template"))try{for(var U=i(v._children||v.childNodes),P=U.next();!P.done;P=U.next()){var B=P.value;w+=this._serializeNodeNS(B,E,C,m,d)}}catch(W){_={error:W}}finally{try{P&&!P.done&&(x=U.return)&&x.call(U)}finally{if(_)throw _.error}}return w+="</"+S+">"},p.prototype._serializeDocumentNS=function(v,g,y,m,d){var _,x;if(d&&v.documentElement===null)throw new Error("Missing document element (well-formed required).");var w="";try{for(var S=i(v._children||v.childNodes),b=S.next();!b.done;b=S.next()){var T=b.value;w+=this._serializeNodeNS(T,g,y,m,d)}}catch(C){_={error:C}}finally{try{b&&!b.done&&(x=S.return)&&x.call(S)}finally{if(_)throw _.error}}return w},p.prototype._serializeComment=function(v,g){if(g&&(!c.xml_isLegalChar(v.data)||v.data.indexOf("--")!==-1||v.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+v.data+"-->"},p.prototype._serializeText=function(v,g){if(g&&!c.xml_isLegalChar(v.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var y="",m=0;m<v.data.length;m++){var d=v.data[m];y+=d==="&"?"&amp;":d==="<"?"&lt;":d===">"?"&gt;":d}return y},p.prototype._serializeDocumentFragmentNS=function(v,g,y,m,d){var _,x,w="";try{for(var S=i(v._children||v.childNodes),b=S.next();!b.done;b=S.next()){var T=b.value;w+=this._serializeNodeNS(T,g,y,m,d)}}catch(C){_={error:C}}finally{try{b&&!b.done&&(x=S.return)&&x.call(S)}finally{if(_)throw _.error}}return w},p.prototype._serializeDocumentType=function(v,g){if(g&&!c.xml_isPubidChar(v.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(g&&(!c.xml_isLegalChar(v.systemId)||v.systemId.indexOf('"')!==-1&&v.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return v.publicId&&v.systemId?"<!DOCTYPE "+v.name+' PUBLIC "'+v.publicId+'" "'+v.systemId+'">':v.publicId?"<!DOCTYPE "+v.name+' PUBLIC "'+v.publicId+'">':v.systemId?"<!DOCTYPE "+v.name+' SYSTEM "'+v.systemId+'">':"<!DOCTYPE "+v.name+">"},p.prototype._serializeProcessingInstruction=function(v,g){if(g&&(v.target.indexOf(":")!==-1||/^xml$/i.test(v.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(g&&(!c.xml_isLegalChar(v.data)||v.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(v.data===""?v.target:v.target+" "+v.data)+"?>"},p.prototype._serializeCData=function(v,g){if(g&&v.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+v.data+"]]>"},p.prototype._serializeAttributesNS=function(v,g,y,m,d,_){var x,w,S="",b=_?new s.LocalNameSet:void 0;try{for(var T=i(v.attributes),C=T.next();!C.done;C=T.next()){var M=C.value;if(d||_||M.namespaceURI!==null){if(_&&b&&b.has(M.namespaceURI,M.localName))throw new Error("Element contains duplicate attributes (well-formed required).");_&&b&&b.set(M.namespaceURI,M.localName);var D=M.namespaceURI,E=null;if(D!==null)if(E=g.get(M.prefix,D),D===f.namespace.XMLNS){if(M.value===f.namespace.XML||M.prefix===null&&d||M.prefix!==null&&(!(M.localName in m)||m[M.localName]!==M.value)&&g.has(M.localName,M.value))continue;if(_&&M.value===f.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(_&&M.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");M.prefix==="xmlns"&&(E="xmlns")}else E===null&&(S+=" xmlns:"+(E=M.prefix===null||g.hasPrefix(M.prefix)&&!g.has(M.prefix,D)?this._generatePrefix(D,g,y):M.prefix)+'="'+this._serializeAttributeValue(D,_)+'"');if(S+=" ",E!==null&&(S+=E+":"),_&&(M.localName.indexOf(":")!==-1||!c.xml_isName(M.localName)||M.localName==="xmlns"&&D===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");S+=M.localName+'="'+this._serializeAttributeValue(M.value,_)+'"'}else S+=" "+M.localName+'="'+this._serializeAttributeValue(M.value,_)+'"'}}catch(k){x={error:k}}finally{try{C&&!C.done&&(w=T.return)&&w.call(T)}finally{if(x)throw x.error}}return S},p.prototype._recordNamespaceInformation=function(v,g,y){var m,d,_=null;try{for(var x=i(v.attributes),w=x.next();!w.done;w=x.next()){var S=w.value,b=S.namespaceURI,T=S.prefix;if(b===f.namespace.XMLNS){if(T===null){_=S.value;continue}var C=S.localName,M=S.value;if(M===f.namespace.XML||(M===""&&(M=null),g.has(C,M)))continue;g.set(C,M),y[C]=M||""}}}catch(D){m={error:D}}finally{try{w&&!w.done&&(d=x.return)&&d.call(x)}finally{if(m)throw m.error}}return _},p.prototype._generatePrefix=function(v,g,y){var m="ns"+y.value;return y.value++,g.set(m,v),m},p.prototype._serializeAttributeValue=function(v,g){if(g&&v!==null&&!c.xml_isLegalChar(v))throw new Error("Invalid characters in attribute value.");if(v===null)return"";for(var y="",m=0;m<v.length;m++){var d=v[m];y+=d==='"'?"&quot;":d==="&"?"&amp;":d==="<"?"&lt;":d===">"?"&gt;":d}return y},p.prototype._serializeElement=function(v,g){var y,m;if(g&&(v.localName.indexOf(":")!==-1||!c.xml_isName(v.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var d=!1,_=v.localName,x="<"+_;if(x+=this._serializeAttributes(v,g),v._children.size===0&&(x+="/",d=!0),x+=">",d)return x;try{for(var w=i(v._children),S=w.next();!S.done;S=w.next()){var b=S.value;x+=this._serializeNode(b,g)}}catch(T){y={error:T}}finally{try{S&&!S.done&&(m=w.return)&&m.call(w)}finally{if(y)throw y.error}}return x+="</"+_+">"},p.prototype._serializeDocument=function(v,g){var y,m;if(g&&v.documentElement===null)throw new Error("Missing document element (well-formed required).");var d="";try{for(var _=i(v._children),x=_.next();!x.done;x=_.next()){var w=x.value;d+=this._serializeNode(w,g)}}catch(S){y={error:S}}finally{try{x&&!x.done&&(m=_.return)&&m.call(_)}finally{if(y)throw y.error}}return d},p.prototype._serializeDocumentFragment=function(v,g){var y,m,d="";try{for(var _=i(v._children),x=_.next();!x.done;x=_.next()){var w=x.value;d+=this._serializeNode(w,g)}}catch(S){y={error:S}}finally{try{x&&!x.done&&(m=_.return)&&m.call(_)}finally{if(y)throw y.error}}return d},p.prototype._serializeAttributes=function(v,g){var y,m,d="",_=g?{}:void 0;try{for(var x=i(v.attributes),w=x.next();!w.done;w=x.next()){var S=w.value;if(g&&_&&S.localName in _)throw new Error("Element contains duplicate attributes (well-formed required).");if(g&&_&&(_[S.localName]=!0),g&&(S.localName.indexOf(":")!==-1||!c.xml_isName(S.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");d+=" "+S.localName+'="'+this._serializeAttributeValue(S.value,g)+'"'}}catch(b){y={error:b}}finally{try{w&&!w.done&&(m=x.return)&&m.call(x)}finally{if(y)throw y.error}}return d},p._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),p}();n.XMLSerializerImpl=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(277);n.XMLReader=i.XMLReader;var o=a(112);n.ObjectReader=o.ObjectReader;var s=a(280);n.JSONReader=s.JSONReader;var u=a(281);n.YAMLReader=u.YAMLReader},function(r,n,a){a(31),a(32),a(33),a(19),a(65),a(20),a(22),a(23);var i,o=this&&this.__extends||(i=function(v,g){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var d in m)m.hasOwnProperty(d)&&(y[d]=m[d])})(v,g)},function(v,g){function y(){this.constructor=v}i(v,g),v.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}),s=this&&this.__read||function(v,g){var y=typeof Symbol=="function"&&v[Symbol.iterator];if(!y)return v;var m,d,_=y.call(v),x=[];try{for(;(g===void 0||g-- >0)&&!(m=_.next()).done;)x.push(m.value)}catch(w){d={error:w}}finally{try{m&&!m.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}return x},u=this&&this.__values||function(v){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&v[g],m=0;if(y)return y.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var l=a(180),f=a(111),c=a(7),h=a(0),p=function(v){function g(){return v!==null&&v.apply(this,arguments)||this}return o(g,v),g.prototype._parse=function(y,m){for(var d,_,x,w,S=new l.XMLStringLexer(m,{skipWhitespaceOnlyText:!0}),b=y,T=y,C=S.nextToken();C.type!==f.TokenType.EOF;){switch(C.type){case f.TokenType.Declaration:var M=C,D=this.sanitize(M.version);if(D!=="1.0")throw new Error("Invalid xml version: "+D);var E={version:D};M.encoding&&(E.encoding=this.sanitize(M.encoding)),M.standalone&&(E.standalone=this.sanitize(M.standalone)==="yes"),T.set(E);break;case f.TokenType.DocType:var k=C;T=this.docType(T,this.sanitize(k.name),this.sanitize(k.pubId),this.sanitize(k.sysId))||T;break;case f.TokenType.CDATA:var O=C;T=this.cdata(T,this.sanitize(O.data))||T;break;case f.TokenType.Comment:var A=C;T=this.comment(T,this.sanitize(A.data))||T;break;case f.TokenType.PI:var I=C;T=this.instruction(T,this.sanitize(I.target),this.sanitize(I.data))||T;break;case f.TokenType.Text:var U=C;T=this.text(T,this._decodeText(this.sanitize(U.data)))||T;break;case f.TokenType.Element:var P=C,B=this.sanitize(P.name),W=s(h.namespace_extractQName(B),1)[0],H=T.node.lookupNamespaceURI(W),$={};try{for(var q=(d=void 0,u(P.attributes)),Q=q.next();!Q.done;Q=q.next()){var Y=s(Q.value,2),ie=Y[0],J=Y[1];if(ie=this.sanitize(ie),J=this.sanitize(J),ie==="xmlns")H=J;else{var ae=s(h.namespace_extractQName(ie),2),re=ae[0],V=ae[1];re==="xmlns"&&(V===W&&(H=J),$[V]=J)}}}catch(j){d={error:j}}finally{try{Q&&!Q.done&&(_=q.return)&&_.call(q)}finally{if(d)throw d.error}}var R=H!==null?this.element(T,H,B):this.element(T,void 0,B);if(R===void 0)break;T.node===y.node&&(b=R);try{for(var F=(x=void 0,u(P.attributes)),N=F.next();!N.done;N=F.next()){var L=s(N.value,2);ie=L[0],J=L[1],ie=this.sanitize(ie),J=this.sanitize(J);var G=s(h.namespace_extractQName(ie),2),z=(re=G[0],V=G[1],null);re==="xmlns"||re===null&&V==="xmlns"?z=c.namespace.XMLNS:(z=R.node.lookupNamespaceURI(re))!==null&&R.node.isDefaultNamespace(z)?z=null:z===null&&re!==null&&(z=$[re]||null),z!==null?this.attribute(R,z,ie,this._decodeAttributeValue(J)):this.attribute(R,void 0,ie,this._decodeAttributeValue(J))}}catch(j){x={error:j}}finally{try{N&&!N.done&&(w=F.return)&&w.call(F)}finally{if(x)throw x.error}}P.selfClosing||(T=R);break;case f.TokenType.ClosingTag:T.node.parentNode&&(T=T.up())}C=S.nextToken()}return b},g}(a(75).BaseReader);n.XMLReader=p},function(r,n,a){var i=a(4),o=a(279);i({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(r,n,a){var i=a(16),o=a(8),s=a(61),u=a(85),l=a(79),f=a(27),c=a(41),h=Object.assign,p=Object.defineProperty;r.exports=!h||o(function(){if(i&&h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},g={},y=Symbol();return v[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(m){g[m]=m}),h({},v)[y]!=7||s(h({},g)).join("")!="abcdefghijklmnopqrst"})?function(v,g){for(var y=f(v),m=arguments.length,d=1,_=u.f,x=l.f;m>d;)for(var w,S=c(arguments[d++]),b=_?s(S).concat(_(S)):s(S),T=b.length,C=0;T>C;)w=b[C++],i&&!x.call(S,w)||(y[w]=S[w]);return y}:h},function(r,n,a){var i,o=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])})(l,f)},function(l,f){function c(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(112),u=function(l){function f(){return l!==null&&l.apply(this,arguments)||this}return o(f,l),f.prototype._parse=function(c,h){return new s.ObjectReader(this._builderOptions).parse(c,JSON.parse(h))},f}(a(75).BaseReader);n.JSONReader=u},function(r,n,a){var i,o=this&&this.__extends||(i=function(c,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(c,h)},function(c,h){function p(){this.constructor=c}i(c,h),c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(112),u=a(75),l=a(282),f=function(c){function h(){return c!==null&&c.apply(this,arguments)||this}return o(h,c),h.prototype._parse=function(p,v){var g=l.safeLoad(v);if(g===void 0)throw new Error("Unable to parse YAML document.");return new s.ObjectReader(this._builderOptions).parse(p,g)},h}(u.BaseReader);n.YAMLReader=f},function(r,n,a){var i=a(283);r.exports=i},function(r,n,a){var i=a(284),o=a(303);function s(u){return function(){throw new Error("Function "+u+" is deprecated and cannot be used.")}}r.exports.Type=a(10),r.exports.Schema=a(39),r.exports.FAILSAFE_SCHEMA=a(113),r.exports.JSON_SCHEMA=a(182),r.exports.CORE_SCHEMA=a(181),r.exports.DEFAULT_SAFE_SCHEMA=a(54),r.exports.DEFAULT_FULL_SCHEMA=a(76),r.exports.load=i.load,r.exports.loadAll=i.loadAll,r.exports.safeLoad=i.safeLoad,r.exports.safeLoadAll=i.safeLoadAll,r.exports.dump=o.dump,r.exports.safeDump=o.safeDump,r.exports.YAMLException=a(53),r.exports.MINIMAL_SCHEMA=a(113),r.exports.SAFE_SCHEMA=a(54),r.exports.DEFAULT_SCHEMA=a(76),r.exports.scan=s("scan"),r.exports.parse=s("parse"),r.exports.compose=s("compose"),r.exports.addConstructor=s("addConstructor")},function(r,n,a){var i=a(38),o=a(53),s=a(285),u=a(54),l=a(76),f=Object.prototype.hasOwnProperty,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[\x85\u2028\u2029]/,p=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,g=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function y(R){return Object.prototype.toString.call(R)}function m(R){return R===10||R===13}function d(R){return R===9||R===32}function _(R){return R===9||R===32||R===10||R===13}function x(R){return R===44||R===91||R===93||R===123||R===125}function w(R){var F;return 48<=R&&R<=57?R-48:97<=(F=32|R)&&F<=102?F-97+10:-1}function S(R){return R===48?"\0":R===97?"\x07":R===98?"\b":R===116||R===9?"	":R===110?`
`:R===118?"\v":R===102?"\f":R===114?"\r":R===101?"\x1B":R===32?" ":R===34?'"':R===47?"/":R===92?"\\":R===78?"":R===95?" ":R===76?"\u2028":R===80?"\u2029":""}function b(R){return R<=65535?String.fromCharCode(R):String.fromCharCode(55296+(R-65536>>10),56320+(R-65536&1023))}for(var T=new Array(256),C=new Array(256),M=0;M<256;M++)T[M]=S(M)?1:0,C[M]=S(M);function D(R,F){this.input=R,this.filename=F.filename||null,this.schema=F.schema||l,this.onWarning=F.onWarning||null,this.legacy=F.legacy||!1,this.json=F.json||!1,this.listener=F.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=R.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function E(R,F){return new o(F,new s(R.filename,R.input,R.position,R.line,R.position-R.lineStart))}function k(R,F){throw E(R,F)}function O(R,F){R.onWarning&&R.onWarning.call(null,E(R,F))}var A={YAML:function(R,F,N){var L,G,z;R.version!==null&&k(R,"duplication of %YAML directive"),N.length!==1&&k(R,"YAML directive accepts exactly one argument"),(L=/^([0-9]+)\.([0-9]+)$/.exec(N[0]))===null&&k(R,"ill-formed argument of the YAML directive"),G=parseInt(L[1],10),z=parseInt(L[2],10),G!==1&&k(R,"unacceptable YAML version of the document"),R.version=N[0],R.checkLineBreaks=z<2,z!==1&&z!==2&&O(R,"unsupported YAML version of the document")},TAG:function(R,F,N){var L,G;N.length!==2&&k(R,"TAG directive accepts exactly two arguments"),L=N[0],G=N[1],v.test(L)||k(R,"ill-formed tag handle (first argument) of the TAG directive"),f.call(R.tagMap,L)&&k(R,'there is a previously declared suffix for "'+L+'" tag handle'),g.test(G)||k(R,"ill-formed tag prefix (second argument) of the TAG directive"),R.tagMap[L]=G}};function I(R,F,N,L){var G,z,j,K;if(F<N){if(K=R.input.slice(F,N),L)for(G=0,z=K.length;G<z;G+=1)(j=K.charCodeAt(G))===9||32<=j&&j<=1114111||k(R,"expected valid JSON character");else c.test(K)&&k(R,"the stream contains non-printable characters");R.result+=K}}function U(R,F,N,L){var G,z,j,K;for(i.isObject(N)||k(R,"cannot merge mappings; the provided source object is unacceptable"),j=0,K=(G=Object.keys(N)).length;j<K;j+=1)z=G[j],f.call(F,z)||(F[z]=N[z],L[z]=!0)}function P(R,F,N,L,G,z,j,K){var Z,ne;if(Array.isArray(G))for(Z=0,ne=(G=Array.prototype.slice.call(G)).length;Z<ne;Z+=1)Array.isArray(G[Z])&&k(R,"nested arrays are not supported inside keys"),typeof G=="object"&&y(G[Z])==="[object Object]"&&(G[Z]="[object Object]");if(typeof G=="object"&&y(G)==="[object Object]"&&(G="[object Object]"),G=String(G),F===null&&(F={}),L==="tag:yaml.org,2002:merge")if(Array.isArray(z))for(Z=0,ne=z.length;Z<ne;Z+=1)U(R,F,z[Z],N);else U(R,F,z,N);else R.json||f.call(N,G)||!f.call(F,G)||(R.line=j||R.line,R.position=K||R.position,k(R,"duplicated mapping key")),F[G]=z,delete N[G];return F}function B(R){var F;(F=R.input.charCodeAt(R.position))===10?R.position++:F===13?(R.position++,R.input.charCodeAt(R.position)===10&&R.position++):k(R,"a line break is expected"),R.line+=1,R.lineStart=R.position}function W(R,F,N){for(var L=0,G=R.input.charCodeAt(R.position);G!==0;){for(;d(G);)G=R.input.charCodeAt(++R.position);if(F&&G===35)do G=R.input.charCodeAt(++R.position);while(G!==10&&G!==13&&G!==0);if(!m(G))break;for(B(R),G=R.input.charCodeAt(R.position),L++,R.lineIndent=0;G===32;)R.lineIndent++,G=R.input.charCodeAt(++R.position)}return N!==-1&&L!==0&&R.lineIndent<N&&O(R,"deficient indentation"),L}function H(R){var F,N=R.position;return!((F=R.input.charCodeAt(N))!==45&&F!==46||F!==R.input.charCodeAt(N+1)||F!==R.input.charCodeAt(N+2)||(N+=3,(F=R.input.charCodeAt(N))!==0&&!_(F)))}function $(R,F){F===1?R.result+=" ":F>1&&(R.result+=i.repeat(`
`,F-1))}function q(R,F){var N,L,G=R.tag,z=R.anchor,j=[],K=!1;for(R.anchor!==null&&(R.anchorMap[R.anchor]=j),L=R.input.charCodeAt(R.position);L!==0&&L===45&&_(R.input.charCodeAt(R.position+1));)if(K=!0,R.position++,W(R,!0,-1)&&R.lineIndent<=F)j.push(null),L=R.input.charCodeAt(R.position);else if(N=R.line,ie(R,F,3,!1,!0),j.push(R.result),W(R,!0,-1),L=R.input.charCodeAt(R.position),(R.line===N||R.lineIndent>F)&&L!==0)k(R,"bad indentation of a sequence entry");else if(R.lineIndent<F)break;return!!K&&(R.tag=G,R.anchor=z,R.kind="sequence",R.result=j,!0)}function Q(R){var F,N,L,G,z=!1,j=!1;if((G=R.input.charCodeAt(R.position))!==33)return!1;if(R.tag!==null&&k(R,"duplication of a tag property"),(G=R.input.charCodeAt(++R.position))===60?(z=!0,G=R.input.charCodeAt(++R.position)):G===33?(j=!0,N="!!",G=R.input.charCodeAt(++R.position)):N="!",F=R.position,z){do G=R.input.charCodeAt(++R.position);while(G!==0&&G!==62);R.position<R.length?(L=R.input.slice(F,R.position),G=R.input.charCodeAt(++R.position)):k(R,"unexpected end of the stream within a verbatim tag")}else{for(;G!==0&&!_(G);)G===33&&(j?k(R,"tag suffix cannot contain exclamation marks"):(N=R.input.slice(F-1,R.position+1),v.test(N)||k(R,"named tag handle cannot contain such characters"),j=!0,F=R.position+1)),G=R.input.charCodeAt(++R.position);L=R.input.slice(F,R.position),p.test(L)&&k(R,"tag suffix cannot contain flow indicator characters")}return L&&!g.test(L)&&k(R,"tag name cannot contain such characters: "+L),z?R.tag=L:f.call(R.tagMap,N)?R.tag=R.tagMap[N]+L:N==="!"?R.tag="!"+L:N==="!!"?R.tag="tag:yaml.org,2002:"+L:k(R,'undeclared tag handle "'+N+'"'),!0}function Y(R){var F,N;if((N=R.input.charCodeAt(R.position))!==38)return!1;for(R.anchor!==null&&k(R,"duplication of an anchor property"),N=R.input.charCodeAt(++R.position),F=R.position;N!==0&&!_(N)&&!x(N);)N=R.input.charCodeAt(++R.position);return R.position===F&&k(R,"name of an anchor node must contain at least one character"),R.anchor=R.input.slice(F,R.position),!0}function ie(R,F,N,L,G){var z,j,K,Z,ne,ue,se,he,le=1,ce=!1,me=!1;if(R.listener!==null&&R.listener("open",R),R.tag=null,R.anchor=null,R.kind=null,R.result=null,z=j=K=N===4||N===3,L&&W(R,!0,-1)&&(ce=!0,R.lineIndent>F?le=1:R.lineIndent===F?le=0:R.lineIndent<F&&(le=-1)),le===1)for(;Q(R)||Y(R);)W(R,!0,-1)?(ce=!0,K=z,R.lineIndent>F?le=1:R.lineIndent===F?le=0:R.lineIndent<F&&(le=-1)):K=!1;if(K&&(K=ce||G),le!==1&&N!==4||(se=N===1||N===2?F:F+1,he=R.position-R.lineStart,le===1?K&&(q(R,he)||function(ee,_e,Oe){var Ee,fe,de,we,Se,ke=ee.tag,Ve=ee.anchor,Fe={},tt={},Je=null,ir=null,vr=null,_t=!1,xr=!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=Fe),Se=ee.input.charCodeAt(ee.position);Se!==0;){if(Ee=ee.input.charCodeAt(ee.position+1),de=ee.line,we=ee.position,Se!==63&&Se!==58||!_(Ee)){if(!ie(ee,Oe,2,!1,!0))break;if(ee.line===de){for(Se=ee.input.charCodeAt(ee.position);d(Se);)Se=ee.input.charCodeAt(++ee.position);if(Se===58)_(Se=ee.input.charCodeAt(++ee.position))||k(ee,"a whitespace character is expected after the key-value separator within a block mapping"),_t&&(P(ee,Fe,tt,Je,ir,null),Je=ir=vr=null),xr=!0,_t=!1,fe=!1,Je=ee.tag,ir=ee.result;else{if(!xr)return ee.tag=ke,ee.anchor=Ve,!0;k(ee,"can not read an implicit mapping pair; a colon is missed")}}else{if(!xr)return ee.tag=ke,ee.anchor=Ve,!0;k(ee,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else Se===63?(_t&&(P(ee,Fe,tt,Je,ir,null),Je=ir=vr=null),xr=!0,_t=!0,fe=!0):_t?(_t=!1,fe=!0):k(ee,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),ee.position+=1,Se=Ee;if((ee.line===de||ee.lineIndent>_e)&&(ie(ee,_e,4,!0,fe)&&(_t?ir=ee.result:vr=ee.result),_t||(P(ee,Fe,tt,Je,ir,vr,de,we),Je=ir=vr=null),W(ee,!0,-1),Se=ee.input.charCodeAt(ee.position)),ee.lineIndent>_e&&Se!==0)k(ee,"bad indentation of a mapping entry");else if(ee.lineIndent<_e)break}return _t&&P(ee,Fe,tt,Je,ir,null),xr&&(ee.tag=ke,ee.anchor=Ve,ee.kind="mapping",ee.result=Fe),xr}(R,he,se))||function(ee,_e){var Oe,Ee,fe,de,we,Se,ke,Ve,Fe,tt,Je=!0,ir=ee.tag,vr=ee.anchor,_t={};if((tt=ee.input.charCodeAt(ee.position))===91)fe=93,Se=!1,Ee=[];else{if(tt!==123)return!1;fe=125,Se=!0,Ee={}}for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=Ee),tt=ee.input.charCodeAt(++ee.position);tt!==0;){if(W(ee,!0,_e),(tt=ee.input.charCodeAt(ee.position))===fe)return ee.position++,ee.tag=ir,ee.anchor=vr,ee.kind=Se?"mapping":"sequence",ee.result=Ee,!0;Je||k(ee,"missed comma between flow collection entries"),Fe=null,de=we=!1,tt===63&&_(ee.input.charCodeAt(ee.position+1))&&(de=we=!0,ee.position++,W(ee,!0,_e)),Oe=ee.line,ie(ee,_e,1,!1,!0),Ve=ee.tag,ke=ee.result,W(ee,!0,_e),tt=ee.input.charCodeAt(ee.position),!we&&ee.line!==Oe||tt!==58||(de=!0,tt=ee.input.charCodeAt(++ee.position),W(ee,!0,_e),ie(ee,_e,1,!1,!0),Fe=ee.result),Se?P(ee,Ee,_t,Ve,ke,Fe):de?Ee.push(P(ee,null,_t,Ve,ke,Fe)):Ee.push(ke),W(ee,!0,_e),(tt=ee.input.charCodeAt(ee.position))===44?(Je=!0,tt=ee.input.charCodeAt(++ee.position)):Je=!1}k(ee,"unexpected end of the stream within a flow collection")}(R,se)?me=!0:(j&&function(ee,_e){var Oe,Ee,fe,de,we,Se=1,ke=!1,Ve=!1,Fe=_e,tt=0,Je=!1;if((de=ee.input.charCodeAt(ee.position))===124)Ee=!1;else{if(de!==62)return!1;Ee=!0}for(ee.kind="scalar",ee.result="";de!==0;)if((de=ee.input.charCodeAt(++ee.position))===43||de===45)Se===1?Se=de===43?3:2:k(ee,"repeat of a chomping mode identifier");else{if(!((fe=48<=(we=de)&&we<=57?we-48:-1)>=0))break;fe===0?k(ee,"bad explicit indentation width of a block scalar; it cannot be less than one"):Ve?k(ee,"repeat of an indentation width identifier"):(Fe=_e+fe-1,Ve=!0)}if(d(de)){do de=ee.input.charCodeAt(++ee.position);while(d(de));if(de===35)do de=ee.input.charCodeAt(++ee.position);while(!m(de)&&de!==0)}for(;de!==0;){for(B(ee),ee.lineIndent=0,de=ee.input.charCodeAt(ee.position);(!Ve||ee.lineIndent<Fe)&&de===32;)ee.lineIndent++,de=ee.input.charCodeAt(++ee.position);if(!Ve&&ee.lineIndent>Fe&&(Fe=ee.lineIndent),m(de))tt++;else{if(ee.lineIndent<Fe){Se===3?ee.result+=i.repeat(`
`,ke?1+tt:tt):Se===1&&ke&&(ee.result+=`
`);break}for(Ee?d(de)?(Je=!0,ee.result+=i.repeat(`
`,ke?1+tt:tt)):Je?(Je=!1,ee.result+=i.repeat(`
`,tt+1)):tt===0?ke&&(ee.result+=" "):ee.result+=i.repeat(`
`,tt):ee.result+=i.repeat(`
`,ke?1+tt:tt),ke=!0,Ve=!0,tt=0,Oe=ee.position;!m(de)&&de!==0;)de=ee.input.charCodeAt(++ee.position);I(ee,Oe,ee.position,!1)}}return!0}(R,se)||function(ee,_e){var Oe,Ee,fe;if((Oe=ee.input.charCodeAt(ee.position))!==39)return!1;for(ee.kind="scalar",ee.result="",ee.position++,Ee=fe=ee.position;(Oe=ee.input.charCodeAt(ee.position))!==0;)if(Oe===39){if(I(ee,Ee,ee.position,!0),(Oe=ee.input.charCodeAt(++ee.position))!==39)return!0;Ee=ee.position,ee.position++,fe=ee.position}else m(Oe)?(I(ee,Ee,fe,!0),$(ee,W(ee,!1,_e)),Ee=fe=ee.position):ee.position===ee.lineStart&&H(ee)?k(ee,"unexpected end of the document within a single quoted scalar"):(ee.position++,fe=ee.position);k(ee,"unexpected end of the stream within a single quoted scalar")}(R,se)||function(ee,_e){var Oe,Ee,fe,de,we,Se,ke;if((Se=ee.input.charCodeAt(ee.position))!==34)return!1;for(ee.kind="scalar",ee.result="",ee.position++,Oe=Ee=ee.position;(Se=ee.input.charCodeAt(ee.position))!==0;){if(Se===34)return I(ee,Oe,ee.position,!0),ee.position++,!0;if(Se===92){if(I(ee,Oe,ee.position,!0),m(Se=ee.input.charCodeAt(++ee.position)))W(ee,!1,_e);else if(Se<256&&T[Se])ee.result+=C[Se],ee.position++;else if((we=(ke=Se)===120?2:ke===117?4:ke===85?8:0)>0){for(fe=we,de=0;fe>0;fe--)(we=w(Se=ee.input.charCodeAt(++ee.position)))>=0?de=(de<<4)+we:k(ee,"expected hexadecimal character");ee.result+=b(de),ee.position++}else k(ee,"unknown escape sequence");Oe=Ee=ee.position}else m(Se)?(I(ee,Oe,Ee,!0),$(ee,W(ee,!1,_e)),Oe=Ee=ee.position):ee.position===ee.lineStart&&H(ee)?k(ee,"unexpected end of the document within a double quoted scalar"):(ee.position++,Ee=ee.position)}k(ee,"unexpected end of the stream within a double quoted scalar")}(R,se)?me=!0:function(ee){var _e,Oe,Ee;if((Ee=ee.input.charCodeAt(ee.position))!==42)return!1;for(Ee=ee.input.charCodeAt(++ee.position),_e=ee.position;Ee!==0&&!_(Ee)&&!x(Ee);)Ee=ee.input.charCodeAt(++ee.position);return ee.position===_e&&k(ee,"name of an alias node must contain at least one character"),Oe=ee.input.slice(_e,ee.position),ee.anchorMap.hasOwnProperty(Oe)||k(ee,'unidentified alias "'+Oe+'"'),ee.result=ee.anchorMap[Oe],W(ee,!0,-1),!0}(R)?(me=!0,R.tag===null&&R.anchor===null||k(R,"alias node should not have any properties")):function(ee,_e,Oe){var Ee,fe,de,we,Se,ke,Ve,Fe,tt=ee.kind,Je=ee.result;if(_(Fe=ee.input.charCodeAt(ee.position))||x(Fe)||Fe===35||Fe===38||Fe===42||Fe===33||Fe===124||Fe===62||Fe===39||Fe===34||Fe===37||Fe===64||Fe===96||(Fe===63||Fe===45)&&(_(Ee=ee.input.charCodeAt(ee.position+1))||Oe&&x(Ee)))return!1;for(ee.kind="scalar",ee.result="",fe=de=ee.position,we=!1;Fe!==0;){if(Fe===58){if(_(Ee=ee.input.charCodeAt(ee.position+1))||Oe&&x(Ee))break}else if(Fe===35){if(_(ee.input.charCodeAt(ee.position-1)))break}else{if(ee.position===ee.lineStart&&H(ee)||Oe&&x(Fe))break;if(m(Fe)){if(Se=ee.line,ke=ee.lineStart,Ve=ee.lineIndent,W(ee,!1,-1),ee.lineIndent>=_e){we=!0,Fe=ee.input.charCodeAt(ee.position);continue}ee.position=de,ee.line=Se,ee.lineStart=ke,ee.lineIndent=Ve;break}}we&&(I(ee,fe,de,!1),$(ee,ee.line-Se),fe=de=ee.position,we=!1),d(Fe)||(de=ee.position+1),Fe=ee.input.charCodeAt(++ee.position)}return I(ee,fe,de,!1),!!ee.result||(ee.kind=tt,ee.result=Je,!1)}(R,se,N===1)&&(me=!0,R.tag===null&&(R.tag="?")),R.anchor!==null&&(R.anchorMap[R.anchor]=R.result)):le===0&&(me=K&&q(R,he))),R.tag!==null&&R.tag!=="!")if(R.tag==="?"){for(R.result!==null&&R.kind!=="scalar"&&k(R,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+R.kind+'"'),Z=0,ne=R.implicitTypes.length;Z<ne;Z+=1)if((ue=R.implicitTypes[Z]).resolve(R.result)){R.result=ue.construct(R.result),R.tag=ue.tag,R.anchor!==null&&(R.anchorMap[R.anchor]=R.result);break}}else f.call(R.typeMap[R.kind||"fallback"],R.tag)?(ue=R.typeMap[R.kind||"fallback"][R.tag],R.result!==null&&ue.kind!==R.kind&&k(R,"unacceptable node kind for !<"+R.tag+'> tag; it should be "'+ue.kind+'", not "'+R.kind+'"'),ue.resolve(R.result)?(R.result=ue.construct(R.result),R.anchor!==null&&(R.anchorMap[R.anchor]=R.result)):k(R,"cannot resolve a node with !<"+R.tag+"> explicit tag")):k(R,"unknown tag !<"+R.tag+">");return R.listener!==null&&R.listener("close",R),R.tag!==null||R.anchor!==null||me}function J(R){var F,N,L,G,z=R.position,j=!1;for(R.version=null,R.checkLineBreaks=R.legacy,R.tagMap={},R.anchorMap={};(G=R.input.charCodeAt(R.position))!==0&&(W(R,!0,-1),G=R.input.charCodeAt(R.position),!(R.lineIndent>0||G!==37));){for(j=!0,G=R.input.charCodeAt(++R.position),F=R.position;G!==0&&!_(G);)G=R.input.charCodeAt(++R.position);for(L=[],(N=R.input.slice(F,R.position)).length<1&&k(R,"directive name must not be less than one character in length");G!==0;){for(;d(G);)G=R.input.charCodeAt(++R.position);if(G===35){do G=R.input.charCodeAt(++R.position);while(G!==0&&!m(G));break}if(m(G))break;for(F=R.position;G!==0&&!_(G);)G=R.input.charCodeAt(++R.position);L.push(R.input.slice(F,R.position))}G!==0&&B(R),f.call(A,N)?A[N](R,N,L):O(R,'unknown document directive "'+N+'"')}W(R,!0,-1),R.lineIndent===0&&R.input.charCodeAt(R.position)===45&&R.input.charCodeAt(R.position+1)===45&&R.input.charCodeAt(R.position+2)===45?(R.position+=3,W(R,!0,-1)):j&&k(R,"directives end mark is expected"),ie(R,R.lineIndent-1,4,!1,!0),W(R,!0,-1),R.checkLineBreaks&&h.test(R.input.slice(z,R.position))&&O(R,"non-ASCII line breaks are interpreted as content"),R.documents.push(R.result),R.position===R.lineStart&&H(R)?R.input.charCodeAt(R.position)===46&&(R.position+=3,W(R,!0,-1)):R.position<R.length-1&&k(R,"end of the stream or a document separator is expected")}function ae(R,F){F=F||{},(R=String(R)).length!==0&&(R.charCodeAt(R.length-1)!==10&&R.charCodeAt(R.length-1)!==13&&(R+=`
`),R.charCodeAt(0)===65279&&(R=R.slice(1)));var N=new D(R,F),L=R.indexOf("\0");for(L!==-1&&(N.position=L,k(N,"null byte is not allowed in input")),N.input+="\0";N.input.charCodeAt(N.position)===32;)N.lineIndent+=1,N.position+=1;for(;N.position<N.length-1;)J(N);return N.documents}function re(R,F,N){F!==null&&typeof F=="object"&&N===void 0&&(N=F,F=null);var L=ae(R,N);if(typeof F!="function")return L;for(var G=0,z=L.length;G<z;G+=1)F(L[G])}function V(R,F){var N=ae(R,F);if(N.length!==0){if(N.length===1)return N[0];throw new o("expected a single document in the stream, but found more")}}r.exports.loadAll=re,r.exports.load=V,r.exports.safeLoadAll=function(R,F,N){return typeof F=="object"&&F!==null&&N===void 0&&(N=F,F=null),re(R,F,i.extend({schema:u},N))},r.exports.safeLoad=function(R,F){return V(R,i.extend({schema:u},F))}},function(r,n,a){var i=a(38);function o(s,u,l,f,c){this.name=s,this.buffer=u,this.position=l,this.line=f,this.column=c}o.prototype.getSnippet=function(s,u){var l,f,c,h,p;if(!this.buffer)return null;for(s=s||4,u=u||75,l="",f=this.position;f>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(f-1))===-1;)if(f-=1,this.position-f>u/2-1){l=" ... ",f+=5;break}for(c="",h=this.position;h<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(h))===-1;)if((h+=1)-this.position>u/2-1){c=" ... ",h-=5;break}return p=this.buffer.slice(f,h),i.repeat(" ",s)+l+p+c+`
`+i.repeat(" ",s+this.position-f+l.length)+"^"},o.prototype.toString=function(s){var u,l="";return this.name&&(l+='in "'+this.name+'" '),l+="at line "+(this.line+1)+", column "+(this.column+1),s||(u=this.getSnippet())&&(l+=`:
`+u),l},r.exports=o},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(o){return o!==null?o:""}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(o){return o!==null?o:[]}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(o){return o!==null?o:{}}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(o){if(o===null)return!0;var s=o.length;return s===1&&o==="~"||s===4&&(o==="null"||o==="Null"||o==="NULL")},construct:function(){return null},predicate:function(o){return o===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(o){if(o===null)return!1;var s=o.length;return s===4&&(o==="true"||o==="True"||o==="TRUE")||s===5&&(o==="false"||o==="False"||o==="FALSE")},construct:function(o){return o==="true"||o==="True"||o==="TRUE"},predicate:function(o){return Object.prototype.toString.call(o)==="[object Boolean]"},represent:{lowercase:function(o){return o?"true":"false"},uppercase:function(o){return o?"TRUE":"FALSE"},camelcase:function(o){return o?"True":"False"}},defaultStyle:"lowercase"})},function(r,n,a){var i=a(38),o=a(10);function s(l){return 48<=l&&l<=55}function u(l){return 48<=l&&l<=57}r.exports=new o("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(l){if(l===null)return!1;var f,c,h=l.length,p=0,v=!1;if(!h)return!1;if((f=l[p])!=="-"&&f!=="+"||(f=l[++p]),f==="0"){if(p+1===h)return!0;if((f=l[++p])==="b"){for(p++;p<h;p++)if((f=l[p])!=="_"){if(f!=="0"&&f!=="1")return!1;v=!0}return v&&f!=="_"}if(f==="x"){for(p++;p<h;p++)if((f=l[p])!=="_"){if(!(48<=(c=l.charCodeAt(p))&&c<=57||65<=c&&c<=70||97<=c&&c<=102))return!1;v=!0}return v&&f!=="_"}for(;p<h;p++)if((f=l[p])!=="_"){if(!s(l.charCodeAt(p)))return!1;v=!0}return v&&f!=="_"}if(f==="_")return!1;for(;p<h;p++)if((f=l[p])!=="_"){if(f===":")break;if(!u(l.charCodeAt(p)))return!1;v=!0}return!(!v||f==="_")&&(f!==":"||/^(:[0-5]?[0-9])+$/.test(l.slice(p)))},construct:function(l){var f,c,h=l,p=1,v=[];return h.indexOf("_")!==-1&&(h=h.replace(/_/g,"")),(f=h[0])!=="-"&&f!=="+"||(f==="-"&&(p=-1),f=(h=h.slice(1))[0]),h==="0"?0:f==="0"?h[1]==="b"?p*parseInt(h.slice(2),2):h[1]==="x"?p*parseInt(h,16):p*parseInt(h,8):h.indexOf(":")!==-1?(h.split(":").forEach(function(g){v.unshift(parseInt(g,10))}),h=0,c=1,v.forEach(function(g){h+=g*c,c*=60}),p*h):p*parseInt(h,10)},predicate:function(l){return Object.prototype.toString.call(l)==="[object Number]"&&l%1==0&&!i.isNegativeZero(l)},represent:{binary:function(l){return l>=0?"0b"+l.toString(2):"-0b"+l.toString(2).slice(1)},octal:function(l){return l>=0?"0"+l.toString(8):"-0"+l.toString(8).slice(1)},decimal:function(l){return l.toString(10)},hexadecimal:function(l){return l>=0?"0x"+l.toString(16).toUpperCase():"-0x"+l.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(r,n,a){var i=a(38),o=a(10),s=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),u=/^[-+]?[0-9]+e/;r.exports=new o("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(l){return l!==null&&!(!s.test(l)||l[l.length-1]==="_")},construct:function(l){var f,c,h,p;return c=(f=l.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,p=[],"+-".indexOf(f[0])>=0&&(f=f.slice(1)),f===".inf"?c===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:f===".nan"?NaN:f.indexOf(":")>=0?(f.split(":").forEach(function(v){p.unshift(parseFloat(v,10))}),f=0,h=1,p.forEach(function(v){f+=v*h,h*=60}),c*f):c*parseFloat(f,10)},predicate:function(l){return Object.prototype.toString.call(l)==="[object Number]"&&(l%1!=0||i.isNegativeZero(l))},represent:function(l,f){var c;if(isNaN(l))switch(f){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===l)switch(f){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===l)switch(f){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(l))return"-0.0";return c=l.toString(10),u.test(c)?c.replace("e",".e"):c},defaultStyle:"lowercase"})},function(r,n,a){var i=a(10),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");r.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(u){return u!==null&&(o.exec(u)!==null||s.exec(u)!==null)},construct:function(u){var l,f,c,h,p,v,g,y,m=0,d=null;if((l=o.exec(u))===null&&(l=s.exec(u)),l===null)throw new Error("Date resolve error");if(f=+l[1],c=+l[2]-1,h=+l[3],!l[4])return new Date(Date.UTC(f,c,h));if(p=+l[4],v=+l[5],g=+l[6],l[7]){for(m=l[7].slice(0,3);m.length<3;)m+="0";m=+m}return l[9]&&(d=6e4*(60*+l[10]+ +(l[11]||0)),l[9]==="-"&&(d=-d)),y=new Date(Date.UTC(f,c,h,p,v,g,m)),d&&y.setTime(y.getTime()-d),y},instanceOf:Date,represent:function(u){return u.toISOString()}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(o){return o==="<<"||o===null}})},function(r,n,a){var i;try{i=a(145).Buffer}catch{}var o=a(10),s=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;r.exports=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(u){if(u===null)return!1;var l,f,c=0,h=u.length,p=s;for(f=0;f<h;f++)if(!((l=p.indexOf(u.charAt(f)))>64)){if(l<0)return!1;c+=6}return c%8==0},construct:function(u){var l,f,c=u.replace(/[\r\n=]/g,""),h=c.length,p=s,v=0,g=[];for(l=0;l<h;l++)l%4==0&&l&&(g.push(v>>16&255),g.push(v>>8&255),g.push(255&v)),v=v<<6|p.indexOf(c.charAt(l));return(f=h%4*6)===0?(g.push(v>>16&255),g.push(v>>8&255),g.push(255&v)):f===18?(g.push(v>>10&255),g.push(v>>2&255)):f===12&&g.push(v>>4&255),i?i.from?i.from(g):new i(g):g},predicate:function(u){return i&&i.isBuffer(u)},represent:function(u){var l,f,c="",h=0,p=u.length,v=s;for(l=0;l<p;l++)l%3==0&&l&&(c+=v[h>>18&63],c+=v[h>>12&63],c+=v[h>>6&63],c+=v[63&h]),h=(h<<8)+u[l];return(f=p%3)===0?(c+=v[h>>18&63],c+=v[h>>12&63],c+=v[h>>6&63],c+=v[63&h]):f===2?(c+=v[h>>10&63],c+=v[h>>4&63],c+=v[h<<2&63],c+=v[64]):f===1&&(c+=v[h>>2&63],c+=v[h<<4&63],c+=v[64],c+=v[64]),c}})},function(r,n,a){var i=a(10),o=Object.prototype.hasOwnProperty,s=Object.prototype.toString;r.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(u){if(u===null)return!0;var l,f,c,h,p,v=[],g=u;for(l=0,f=g.length;l<f;l+=1){if(c=g[l],p=!1,s.call(c)!=="[object Object]")return!1;for(h in c)if(o.call(c,h)){if(p)return!1;p=!0}if(!p||v.indexOf(h)!==-1)return!1;v.push(h)}return!0},construct:function(u){return u!==null?u:[]}})},function(r,n,a){var i=a(10),o=Object.prototype.toString;r.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(s){if(s===null)return!0;var u,l,f,c,h,p=s;for(h=new Array(p.length),u=0,l=p.length;u<l;u+=1){if(f=p[u],o.call(f)!=="[object Object]"||(c=Object.keys(f)).length!==1)return!1;h[u]=[c[0],f[c[0]]]}return!0},construct:function(s){if(s===null)return[];var u,l,f,c,h,p=s;for(h=new Array(p.length),u=0,l=p.length;u<l;u+=1)f=p[u],c=Object.keys(f),h[u]=[c[0],f[c[0]]];return h}})},function(r,n,a){var i=a(10),o=Object.prototype.hasOwnProperty;r.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(s){if(s===null)return!0;var u,l=s;for(u in l)if(o.call(l,u)&&l[u]!==null)return!1;return!0},construct:function(s){return s!==null?s:{}}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(o){return o===void 0},represent:function(){return""}})},function(r,n,a){var i=a(10);r.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(o){if(o===null||o.length===0)return!1;var s=o,u=/\/([gim]*)$/.exec(o),l="";return!(s[0]==="/"&&(u&&(l=u[1]),l.length>3||s[s.length-l.length-1]!=="/"))},construct:function(o){var s=o,u=/\/([gim]*)$/.exec(o),l="";return s[0]==="/"&&(u&&(l=u[1]),s=s.slice(1,s.length-l.length-1)),new RegExp(s,l)},predicate:function(o){return Object.prototype.toString.call(o)==="[object RegExp]"},represent:function(o){var s="/"+o.source+"/";return o.global&&(s+="g"),o.multiline&&(s+="m"),o.ignoreCase&&(s+="i"),s}})},function(r,n,a){var i;try{i=a(302)}catch{typeof window<"u"&&(i=window.esprima)}var o=a(10);r.exports=new o("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(s){if(s===null)return!1;try{var u="("+s+")",l=i.parse(u,{range:!0});return l.type==="Program"&&l.body.length===1&&l.body[0].type==="ExpressionStatement"&&(l.body[0].expression.type==="ArrowFunctionExpression"||l.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(s){var u,l="("+s+")",f=i.parse(l,{range:!0}),c=[];if(f.type!=="Program"||f.body.length!==1||f.body[0].type!=="ExpressionStatement"||f.body[0].expression.type!=="ArrowFunctionExpression"&&f.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return f.body[0].expression.params.forEach(function(h){c.push(h.name)}),u=f.body[0].expression.body.range,f.body[0].expression.body.type==="BlockStatement"?new Function(c,l.slice(u[0]+1,u[1]-1)):new Function(c,"return "+l.slice(u[0],u[1]))},predicate:function(s){return Object.prototype.toString.call(s)==="[object Function]"},represent:function(s){return s.toString()}})},function(r,n,a){var i;i=function(){return function(o){var s={};function u(l){if(s[l])return s[l].exports;var f=s[l]={exports:{},id:l,loaded:!1};return o[l].call(f.exports,f,f.exports,u),f.loaded=!0,f.exports}return u.m=o,u.c=s,u.p="",u(0)}([function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(1),f=u(3),c=u(8),h=u(15);function p(g,y,m){var d=null,_=function(M,D){m&&m(M,D),d&&d.visit(M,D)},x=typeof m=="function"?_:null,w=!1;if(y){w=typeof y.comment=="boolean"&&y.comment;var S=typeof y.attachComment=="boolean"&&y.attachComment;(w||S)&&((d=new l.CommentHandler).attach=S,y.comment=!0,x=_)}var b,T=!1;y&&typeof y.sourceType=="string"&&(T=y.sourceType==="module"),b=y&&typeof y.jsx=="boolean"&&y.jsx?new f.JSXParser(g,y,x):new c.Parser(g,y,x);var C=T?b.parseModule():b.parseScript();return w&&d&&(C.comments=d.comments),b.config.tokens&&(C.tokens=b.tokens),b.config.tolerant&&(C.errors=b.errorHandler.errors),C}s.parse=p,s.parseModule=function(g,y,m){var d=y||{};return d.sourceType="module",p(g,d,m)},s.parseScript=function(g,y,m){var d=y||{};return d.sourceType="script",p(g,d,m)},s.tokenize=function(g,y,m){var d,_=new h.Tokenizer(g,y);d=[];try{for(;;){var x=_.getNextToken();if(!x)break;m&&(x=m(x)),d.push(x)}}catch(w){_.errorHandler.tolerate(w)}return _.errorHandler.tolerant&&(d.errors=_.errors()),d};var v=u(2);s.Syntax=v.Syntax,s.version="4.0.1"},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(2),f=function(){function c(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return c.prototype.insertInnerComments=function(h,p){if(h.type===l.Syntax.BlockStatement&&h.body.length===0){for(var v=[],g=this.leading.length-1;g>=0;--g){var y=this.leading[g];p.end.offset>=y.start&&(v.unshift(y.comment),this.leading.splice(g,1),this.trailing.splice(g,1))}v.length&&(h.innerComments=v)}},c.prototype.findTrailingComments=function(h){var p=[];if(this.trailing.length>0){for(var v=this.trailing.length-1;v>=0;--v){var g=this.trailing[v];g.start>=h.end.offset&&p.unshift(g.comment)}return this.trailing.length=0,p}var y=this.stack[this.stack.length-1];if(y&&y.node.trailingComments){var m=y.node.trailingComments[0];m&&m.range[0]>=h.end.offset&&(p=y.node.trailingComments,delete y.node.trailingComments)}return p},c.prototype.findLeadingComments=function(h){for(var p,v=[];this.stack.length>0&&(m=this.stack[this.stack.length-1])&&m.start>=h.start.offset;)p=m.node,this.stack.pop();if(p){for(var g=(p.leadingComments?p.leadingComments.length:0)-1;g>=0;--g){var y=p.leadingComments[g];y.range[1]<=h.start.offset&&(v.unshift(y),p.leadingComments.splice(g,1))}return p.leadingComments&&p.leadingComments.length===0&&delete p.leadingComments,v}for(g=this.leading.length-1;g>=0;--g){var m;(m=this.leading[g]).start<=h.start.offset&&(v.unshift(m.comment),this.leading.splice(g,1))}return v},c.prototype.visitNode=function(h,p){if(!(h.type===l.Syntax.Program&&h.body.length>0)){this.insertInnerComments(h,p);var v=this.findTrailingComments(p),g=this.findLeadingComments(p);g.length>0&&(h.leadingComments=g),v.length>0&&(h.trailingComments=v),this.stack.push({node:h,start:p.start.offset})}},c.prototype.visitComment=function(h,p){var v=h.type[0]==="L"?"Line":"Block",g={type:v,value:h.value};if(h.range&&(g.range=h.range),h.loc&&(g.loc=h.loc),this.comments.push(g),this.attach){var y={comment:{type:v,value:h.value,range:[p.start.offset,p.end.offset]},start:p.start.offset};h.loc&&(y.comment.loc=h.loc),h.type=v,this.leading.push(y),this.trailing.push(y)}},c.prototype.visit=function(h,p){h.type==="LineComment"||h.type==="BlockComment"?this.visitComment(h,p):this.attach&&this.visitNode(h,p)},c}();s.CommentHandler=f},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(o,s,u){var l,f=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])},function(x,w){function S(){this.constructor=x}l(x,w),x.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)});Object.defineProperty(s,"__esModule",{value:!0});var c=u(4),h=u(5),p=u(6),v=u(7),g=u(8),y=u(13),m=u(14);function d(x){var w;switch(x.type){case p.JSXSyntax.JSXIdentifier:w=x.name;break;case p.JSXSyntax.JSXNamespacedName:var S=x;w=d(S.namespace)+":"+d(S.name);break;case p.JSXSyntax.JSXMemberExpression:var b=x;w=d(b.object)+"."+d(b.property)}return w}y.TokenName[100]="JSXIdentifier",y.TokenName[101]="JSXText";var _=function(x){function w(S,b,T){return x.call(this,S,b,T)||this}return f(w,x),w.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():x.prototype.parsePrimaryExpression.call(this)},w.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},w.prototype.finishJSX=function(){this.nextToken()},w.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},w.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.scanXHTMLEntity=function(S){for(var b="&",T=!0,C=!1,M=!1,D=!1;!this.scanner.eof()&&T&&!C;){var E=this.scanner.source[this.scanner.index];if(E===S)break;if(C=E===";",b+=E,++this.scanner.index,!C)switch(b.length){case 2:M=E==="#";break;case 3:M&&(T=(D=E==="x")||c.Character.isDecimalDigit(E.charCodeAt(0)),M=M&&!D);break;default:T=(T=T&&!(M&&!c.Character.isDecimalDigit(E.charCodeAt(0))))&&!(D&&!c.Character.isHexDigit(E.charCodeAt(0)))}}if(T&&C&&b.length>2){var k=b.substr(1,b.length-2);M&&k.length>1?b=String.fromCharCode(parseInt(k.substr(1),10)):D&&k.length>2?b=String.fromCharCode(parseInt("0"+k.substr(1),16)):M||D||!m.XHTMLEntities[k]||(b=m.XHTMLEntities[k])}return b},w.prototype.lexJSX=function(){var S=this.scanner.source.charCodeAt(this.scanner.index);if(S===60||S===62||S===47||S===58||S===61||S===123||S===125)return{type:7,value:E=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(S===34||S===39){for(var b=this.scanner.index,T=this.scanner.source[this.scanner.index++],C="";!this.scanner.eof()&&(k=this.scanner.source[this.scanner.index++])!==T;)C+=k==="&"?this.scanXHTMLEntity(T):k;return{type:8,value:C,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:b,end:this.scanner.index}}if(S===46){var M=this.scanner.source.charCodeAt(this.scanner.index+1),D=this.scanner.source.charCodeAt(this.scanner.index+2),E=M===46&&D===46?"...":".";return b=this.scanner.index,this.scanner.index+=E.length,{type:7,value:E,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:b,end:this.scanner.index}}if(S===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(c.Character.isIdentifierStart(S)&&S!==92){for(b=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var k=this.scanner.source.charCodeAt(this.scanner.index);if(c.Character.isIdentifierPart(k)&&k!==92)++this.scanner.index;else{if(k!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(b,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:b,end:this.scanner.index}}return this.scanner.lex()},w.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var S=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(S)),S},w.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var S=this.scanner.index,b="";!this.scanner.eof();){var T=this.scanner.source[this.scanner.index];if(T==="{"||T==="<")break;++this.scanner.index,b+=T,c.Character.isLineTerminator(T.charCodeAt(0))&&(++this.scanner.lineNumber,T==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var C={type:101,value:b,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index};return b.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(C)),C},w.prototype.peekJSXToken=function(){var S=this.scanner.saveState();this.scanner.scanComments();var b=this.lexJSX();return this.scanner.restoreState(S),b},w.prototype.expectJSX=function(S){var b=this.nextJSXToken();b.type===7&&b.value===S||this.throwUnexpectedToken(b)},w.prototype.matchJSX=function(S){var b=this.peekJSXToken();return b.type===7&&b.value===S},w.prototype.parseJSXIdentifier=function(){var S=this.createJSXNode(),b=this.nextJSXToken();return b.type!==100&&this.throwUnexpectedToken(b),this.finalize(S,new h.JSXIdentifier(b.value))},w.prototype.parseJSXElementName=function(){var S=this.createJSXNode(),b=this.parseJSXIdentifier();if(this.matchJSX(":")){var T=b;this.expectJSX(":");var C=this.parseJSXIdentifier();b=this.finalize(S,new h.JSXNamespacedName(T,C))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var M=b;this.expectJSX(".");var D=this.parseJSXIdentifier();b=this.finalize(S,new h.JSXMemberExpression(M,D))}return b},w.prototype.parseJSXAttributeName=function(){var S,b=this.createJSXNode(),T=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=T;this.expectJSX(":");var M=this.parseJSXIdentifier();S=this.finalize(b,new h.JSXNamespacedName(C,M))}else S=T;return S},w.prototype.parseJSXStringLiteralAttribute=function(){var S=this.createJSXNode(),b=this.nextJSXToken();b.type!==8&&this.throwUnexpectedToken(b);var T=this.getTokenRaw(b);return this.finalize(S,new v.Literal(b.value,T))},w.prototype.parseJSXExpressionAttribute=function(){var S=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var b=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(S,new h.JSXExpressionContainer(b))},w.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},w.prototype.parseJSXNameValueAttribute=function(){var S=this.createJSXNode(),b=this.parseJSXAttributeName(),T=null;return this.matchJSX("=")&&(this.expectJSX("="),T=this.parseJSXAttributeValue()),this.finalize(S,new h.JSXAttribute(b,T))},w.prototype.parseJSXSpreadAttribute=function(){var S=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var b=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(S,new h.JSXSpreadAttribute(b))},w.prototype.parseJSXAttributes=function(){for(var S=[];!this.matchJSX("/")&&!this.matchJSX(">");){var b=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();S.push(b)}return S},w.prototype.parseJSXOpeningElement=function(){var S=this.createJSXNode();this.expectJSX("<");var b=this.parseJSXElementName(),T=this.parseJSXAttributes(),C=this.matchJSX("/");return C&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(S,new h.JSXOpeningElement(b,C,T))},w.prototype.parseJSXBoundaryElement=function(){var S=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var b=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(S,new h.JSXClosingElement(b))}var T=this.parseJSXElementName(),C=this.parseJSXAttributes(),M=this.matchJSX("/");return M&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(S,new h.JSXOpeningElement(T,M,C))},w.prototype.parseJSXEmptyExpression=function(){var S=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(S,new h.JSXEmptyExpression)},w.prototype.parseJSXExpressionContainer=function(){var S,b=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(S=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),S=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(b,new h.JSXExpressionContainer(S))},w.prototype.parseJSXChildren=function(){for(var S=[];!this.scanner.eof();){var b=this.createJSXChildNode(),T=this.nextJSXText();if(T.start<T.end){var C=this.getTokenRaw(T),M=this.finalize(b,new h.JSXText(T.value,C));S.push(M)}if(this.scanner.source[this.scanner.index]!=="{")break;var D=this.parseJSXExpressionContainer();S.push(D)}return S},w.prototype.parseComplexJSXElement=function(S){for(var b=[];!this.scanner.eof();){S.children=S.children.concat(this.parseJSXChildren());var T=this.createJSXChildNode(),C=this.parseJSXBoundaryElement();if(C.type===p.JSXSyntax.JSXOpeningElement){var M=C;if(M.selfClosing){var D=this.finalize(T,new h.JSXElement(M,[],null));S.children.push(D)}else b.push(S),S={node:T,opening:M,closing:null,children:[]}}if(C.type===p.JSXSyntax.JSXClosingElement){S.closing=C;var E=d(S.opening.name);if(E!==d(S.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",E),!(b.length>0))break;D=this.finalize(S.node,new h.JSXElement(S.opening,S.children,S.closing)),(S=b[b.length-1]).children.push(D),b.pop()}}return S},w.prototype.parseJSXElement=function(){var S=this.createJSXNode(),b=this.parseJSXOpeningElement(),T=[],C=null;if(!b.selfClosing){var M=this.parseComplexJSXElement({node:S,opening:b,closing:C,children:T});T=M.children,C=M.closing}return this.finalize(S,new h.JSXElement(b,T,C))},w.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var S=this.parseJSXElement();return this.finishJSX(),S},w.prototype.isStartOfExpression=function(){return x.prototype.isStartOfExpression.call(this)||this.match("<")},w}(g.Parser);s.JSXParser=_},function(o,s){Object.defineProperty(s,"__esModule",{value:!0});var u={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};s.Character={fromCodePoint:function(l){return l<65536?String.fromCharCode(l):String.fromCharCode(55296+(l-65536>>10))+String.fromCharCode(56320+(l-65536&1023))},isWhiteSpace:function(l){return l===32||l===9||l===11||l===12||l===160||l>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(l)>=0},isLineTerminator:function(l){return l===10||l===13||l===8232||l===8233},isIdentifierStart:function(l){return l===36||l===95||l>=65&&l<=90||l>=97&&l<=122||l===92||l>=128&&u.NonAsciiIdentifierStart.test(s.Character.fromCodePoint(l))},isIdentifierPart:function(l){return l===36||l===95||l>=65&&l<=90||l>=97&&l<=122||l>=48&&l<=57||l===92||l>=128&&u.NonAsciiIdentifierPart.test(s.Character.fromCodePoint(l))},isDecimalDigit:function(l){return l>=48&&l<=57},isHexDigit:function(l){return l>=48&&l<=57||l>=65&&l<=70||l>=97&&l<=102},isOctalDigit:function(l){return l>=48&&l<=55}}},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(6),f=function(w){this.type=l.JSXSyntax.JSXClosingElement,this.name=w};s.JSXClosingElement=f;var c=function(w,S,b){this.type=l.JSXSyntax.JSXElement,this.openingElement=w,this.children=S,this.closingElement=b};s.JSXElement=c;var h=function(){this.type=l.JSXSyntax.JSXEmptyExpression};s.JSXEmptyExpression=h;var p=function(w){this.type=l.JSXSyntax.JSXExpressionContainer,this.expression=w};s.JSXExpressionContainer=p;var v=function(w){this.type=l.JSXSyntax.JSXIdentifier,this.name=w};s.JSXIdentifier=v;var g=function(w,S){this.type=l.JSXSyntax.JSXMemberExpression,this.object=w,this.property=S};s.JSXMemberExpression=g;var y=function(w,S){this.type=l.JSXSyntax.JSXAttribute,this.name=w,this.value=S};s.JSXAttribute=y;var m=function(w,S){this.type=l.JSXSyntax.JSXNamespacedName,this.namespace=w,this.name=S};s.JSXNamespacedName=m;var d=function(w,S,b){this.type=l.JSXSyntax.JSXOpeningElement,this.name=w,this.selfClosing=S,this.attributes=b};s.JSXOpeningElement=d;var _=function(w){this.type=l.JSXSyntax.JSXSpreadAttribute,this.argument=w};s.JSXSpreadAttribute=_;var x=function(w,S){this.type=l.JSXSyntax.JSXText,this.value=w,this.raw=S};s.JSXText=x},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(2),f=function(ge){this.type=l.Syntax.ArrayExpression,this.elements=ge};s.ArrayExpression=f;var c=function(ge){this.type=l.Syntax.ArrayPattern,this.elements=ge};s.ArrayPattern=c;var h=function(ge,Te,rt){this.type=l.Syntax.ArrowFunctionExpression,this.id=null,this.params=ge,this.body=Te,this.generator=!1,this.expression=rt,this.async=!1};s.ArrowFunctionExpression=h;var p=function(ge,Te,rt){this.type=l.Syntax.AssignmentExpression,this.operator=ge,this.left=Te,this.right=rt};s.AssignmentExpression=p;var v=function(ge,Te){this.type=l.Syntax.AssignmentPattern,this.left=ge,this.right=Te};s.AssignmentPattern=v;var g=function(ge,Te,rt){this.type=l.Syntax.ArrowFunctionExpression,this.id=null,this.params=ge,this.body=Te,this.generator=!1,this.expression=rt,this.async=!0};s.AsyncArrowFunctionExpression=g;var y=function(ge,Te,rt){this.type=l.Syntax.FunctionDeclaration,this.id=ge,this.params=Te,this.body=rt,this.generator=!1,this.expression=!1,this.async=!0};s.AsyncFunctionDeclaration=y;var m=function(ge,Te,rt){this.type=l.Syntax.FunctionExpression,this.id=ge,this.params=Te,this.body=rt,this.generator=!1,this.expression=!1,this.async=!0};s.AsyncFunctionExpression=m;var d=function(ge){this.type=l.Syntax.AwaitExpression,this.argument=ge};s.AwaitExpression=d;var _=function(ge,Te,rt){var Yr=ge==="||"||ge==="&&";this.type=Yr?l.Syntax.LogicalExpression:l.Syntax.BinaryExpression,this.operator=ge,this.left=Te,this.right=rt};s.BinaryExpression=_;var x=function(ge){this.type=l.Syntax.BlockStatement,this.body=ge};s.BlockStatement=x;var w=function(ge){this.type=l.Syntax.BreakStatement,this.label=ge};s.BreakStatement=w;var S=function(ge,Te){this.type=l.Syntax.CallExpression,this.callee=ge,this.arguments=Te};s.CallExpression=S;var b=function(ge,Te){this.type=l.Syntax.CatchClause,this.param=ge,this.body=Te};s.CatchClause=b;var T=function(ge){this.type=l.Syntax.ClassBody,this.body=ge};s.ClassBody=T;var C=function(ge,Te,rt){this.type=l.Syntax.ClassDeclaration,this.id=ge,this.superClass=Te,this.body=rt};s.ClassDeclaration=C;var M=function(ge,Te,rt){this.type=l.Syntax.ClassExpression,this.id=ge,this.superClass=Te,this.body=rt};s.ClassExpression=M;var D=function(ge,Te){this.type=l.Syntax.MemberExpression,this.computed=!0,this.object=ge,this.property=Te};s.ComputedMemberExpression=D;var E=function(ge,Te,rt){this.type=l.Syntax.ConditionalExpression,this.test=ge,this.consequent=Te,this.alternate=rt};s.ConditionalExpression=E;var k=function(ge){this.type=l.Syntax.ContinueStatement,this.label=ge};s.ContinueStatement=k;var O=function(){this.type=l.Syntax.DebuggerStatement};s.DebuggerStatement=O;var A=function(ge,Te){this.type=l.Syntax.ExpressionStatement,this.expression=ge,this.directive=Te};s.Directive=A;var I=function(ge,Te){this.type=l.Syntax.DoWhileStatement,this.body=ge,this.test=Te};s.DoWhileStatement=I;var U=function(){this.type=l.Syntax.EmptyStatement};s.EmptyStatement=U;var P=function(ge){this.type=l.Syntax.ExportAllDeclaration,this.source=ge};s.ExportAllDeclaration=P;var B=function(ge){this.type=l.Syntax.ExportDefaultDeclaration,this.declaration=ge};s.ExportDefaultDeclaration=B;var W=function(ge,Te,rt){this.type=l.Syntax.ExportNamedDeclaration,this.declaration=ge,this.specifiers=Te,this.source=rt};s.ExportNamedDeclaration=W;var H=function(ge,Te){this.type=l.Syntax.ExportSpecifier,this.exported=Te,this.local=ge};s.ExportSpecifier=H;var $=function(ge){this.type=l.Syntax.ExpressionStatement,this.expression=ge};s.ExpressionStatement=$;var q=function(ge,Te,rt){this.type=l.Syntax.ForInStatement,this.left=ge,this.right=Te,this.body=rt,this.each=!1};s.ForInStatement=q;var Q=function(ge,Te,rt){this.type=l.Syntax.ForOfStatement,this.left=ge,this.right=Te,this.body=rt};s.ForOfStatement=Q;var Y=function(ge,Te,rt,Yr){this.type=l.Syntax.ForStatement,this.init=ge,this.test=Te,this.update=rt,this.body=Yr};s.ForStatement=Y;var ie=function(ge,Te,rt,Yr){this.type=l.Syntax.FunctionDeclaration,this.id=ge,this.params=Te,this.body=rt,this.generator=Yr,this.expression=!1,this.async=!1};s.FunctionDeclaration=ie;var J=function(ge,Te,rt,Yr){this.type=l.Syntax.FunctionExpression,this.id=ge,this.params=Te,this.body=rt,this.generator=Yr,this.expression=!1,this.async=!1};s.FunctionExpression=J;var ae=function(ge){this.type=l.Syntax.Identifier,this.name=ge};s.Identifier=ae;var re=function(ge,Te,rt){this.type=l.Syntax.IfStatement,this.test=ge,this.consequent=Te,this.alternate=rt};s.IfStatement=re;var V=function(ge,Te){this.type=l.Syntax.ImportDeclaration,this.specifiers=ge,this.source=Te};s.ImportDeclaration=V;var R=function(ge){this.type=l.Syntax.ImportDefaultSpecifier,this.local=ge};s.ImportDefaultSpecifier=R;var F=function(ge){this.type=l.Syntax.ImportNamespaceSpecifier,this.local=ge};s.ImportNamespaceSpecifier=F;var N=function(ge,Te){this.type=l.Syntax.ImportSpecifier,this.local=ge,this.imported=Te};s.ImportSpecifier=N;var L=function(ge,Te){this.type=l.Syntax.LabeledStatement,this.label=ge,this.body=Te};s.LabeledStatement=L;var G=function(ge,Te){this.type=l.Syntax.Literal,this.value=ge,this.raw=Te};s.Literal=G;var z=function(ge,Te){this.type=l.Syntax.MetaProperty,this.meta=ge,this.property=Te};s.MetaProperty=z;var j=function(ge,Te,rt,Yr,lu){this.type=l.Syntax.MethodDefinition,this.key=ge,this.computed=Te,this.value=rt,this.kind=Yr,this.static=lu};s.MethodDefinition=j;var K=function(ge){this.type=l.Syntax.Program,this.body=ge,this.sourceType="module"};s.Module=K;var Z=function(ge,Te){this.type=l.Syntax.NewExpression,this.callee=ge,this.arguments=Te};s.NewExpression=Z;var ne=function(ge){this.type=l.Syntax.ObjectExpression,this.properties=ge};s.ObjectExpression=ne;var ue=function(ge){this.type=l.Syntax.ObjectPattern,this.properties=ge};s.ObjectPattern=ue;var se=function(ge,Te,rt,Yr,lu,c_){this.type=l.Syntax.Property,this.key=Te,this.computed=rt,this.value=Yr,this.kind=ge,this.method=lu,this.shorthand=c_};s.Property=se;var he=function(ge,Te,rt,Yr){this.type=l.Syntax.Literal,this.value=ge,this.raw=Te,this.regex={pattern:rt,flags:Yr}};s.RegexLiteral=he;var le=function(ge){this.type=l.Syntax.RestElement,this.argument=ge};s.RestElement=le;var ce=function(ge){this.type=l.Syntax.ReturnStatement,this.argument=ge};s.ReturnStatement=ce;var me=function(ge){this.type=l.Syntax.Program,this.body=ge,this.sourceType="script"};s.Script=me;var ee=function(ge){this.type=l.Syntax.SequenceExpression,this.expressions=ge};s.SequenceExpression=ee;var _e=function(ge){this.type=l.Syntax.SpreadElement,this.argument=ge};s.SpreadElement=_e;var Oe=function(ge,Te){this.type=l.Syntax.MemberExpression,this.computed=!1,this.object=ge,this.property=Te};s.StaticMemberExpression=Oe;var Ee=function(){this.type=l.Syntax.Super};s.Super=Ee;var fe=function(ge,Te){this.type=l.Syntax.SwitchCase,this.test=ge,this.consequent=Te};s.SwitchCase=fe;var de=function(ge,Te){this.type=l.Syntax.SwitchStatement,this.discriminant=ge,this.cases=Te};s.SwitchStatement=de;var we=function(ge,Te){this.type=l.Syntax.TaggedTemplateExpression,this.tag=ge,this.quasi=Te};s.TaggedTemplateExpression=we;var Se=function(ge,Te){this.type=l.Syntax.TemplateElement,this.value=ge,this.tail=Te};s.TemplateElement=Se;var ke=function(ge,Te){this.type=l.Syntax.TemplateLiteral,this.quasis=ge,this.expressions=Te};s.TemplateLiteral=ke;var Ve=function(){this.type=l.Syntax.ThisExpression};s.ThisExpression=Ve;var Fe=function(ge){this.type=l.Syntax.ThrowStatement,this.argument=ge};s.ThrowStatement=Fe;var tt=function(ge,Te,rt){this.type=l.Syntax.TryStatement,this.block=ge,this.handler=Te,this.finalizer=rt};s.TryStatement=tt;var Je=function(ge,Te){this.type=l.Syntax.UnaryExpression,this.operator=ge,this.argument=Te,this.prefix=!0};s.UnaryExpression=Je;var ir=function(ge,Te,rt){this.type=l.Syntax.UpdateExpression,this.operator=ge,this.argument=Te,this.prefix=rt};s.UpdateExpression=ir;var vr=function(ge,Te){this.type=l.Syntax.VariableDeclaration,this.declarations=ge,this.kind=Te};s.VariableDeclaration=vr;var _t=function(ge,Te){this.type=l.Syntax.VariableDeclarator,this.id=ge,this.init=Te};s.VariableDeclarator=_t;var xr=function(ge,Te){this.type=l.Syntax.WhileStatement,this.test=ge,this.body=Te};s.WhileStatement=xr;var Qf=function(ge,Te){this.type=l.Syntax.WithStatement,this.object=ge,this.body=Te};s.WithStatement=Qf;var eh=function(ge,Te){this.type=l.Syntax.YieldExpression,this.argument=ge,this.delegate=Te};s.YieldExpression=eh},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(9),f=u(10),c=u(11),h=u(7),p=u(12),v=u(2),g=u(13),y=function(){function m(d,_,x){_===void 0&&(_={}),this.config={range:typeof _.range=="boolean"&&_.range,loc:typeof _.loc=="boolean"&&_.loc,source:null,tokens:typeof _.tokens=="boolean"&&_.tokens,comment:typeof _.comment=="boolean"&&_.comment,tolerant:typeof _.tolerant=="boolean"&&_.tolerant},this.config.loc&&_.source&&_.source!==null&&(this.config.source=String(_.source)),this.delegate=x,this.errorHandler=new f.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new p.Scanner(d,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return m.prototype.throwError=function(d){for(var _=[],x=1;x<arguments.length;x++)_[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),S=d.replace(/%(\d)/g,function(M,D){return l.assert(D<w.length,"Message reference must be in range"),w[D]}),b=this.lastMarker.index,T=this.lastMarker.line,C=this.lastMarker.column+1;throw this.errorHandler.createError(b,T,C,S)},m.prototype.tolerateError=function(d){for(var _=[],x=1;x<arguments.length;x++)_[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),S=d.replace(/%(\d)/g,function(M,D){return l.assert(D<w.length,"Message reference must be in range"),w[D]}),b=this.lastMarker.index,T=this.scanner.lineNumber,C=this.lastMarker.column+1;this.errorHandler.tolerateError(b,T,C,S)},m.prototype.unexpectedTokenError=function(d,_){var x,w=_||c.Messages.UnexpectedToken;if(d?(_||(w=d.type===2?c.Messages.UnexpectedEOS:d.type===3?c.Messages.UnexpectedIdentifier:d.type===6?c.Messages.UnexpectedNumber:d.type===8?c.Messages.UnexpectedString:d.type===10?c.Messages.UnexpectedTemplate:c.Messages.UnexpectedToken,d.type===4&&(this.scanner.isFutureReservedWord(d.value)?w=c.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(d.value)&&(w=c.Messages.StrictReservedWord))),x=d.value):x="ILLEGAL",w=w.replace("%0",x),d&&typeof d.lineNumber=="number"){var S=d.start,b=d.lineNumber,T=this.lastMarker.index-this.lastMarker.column,C=d.start-T+1;return this.errorHandler.createError(S,b,C,w)}return S=this.lastMarker.index,b=this.lastMarker.line,C=this.lastMarker.column+1,this.errorHandler.createError(S,b,C,w)},m.prototype.throwUnexpectedToken=function(d,_){throw this.unexpectedTokenError(d,_)},m.prototype.tolerateUnexpectedToken=function(d,_){this.errorHandler.tolerate(this.unexpectedTokenError(d,_))},m.prototype.collectComments=function(){if(this.config.comment){var d=this.scanner.scanComments();if(d.length>0&&this.delegate)for(var _=0;_<d.length;++_){var x=d[_],w=void 0;w={type:x.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(x.slice[0],x.slice[1])},this.config.range&&(w.range=x.range),this.config.loc&&(w.loc=x.loc);var S={start:{line:x.loc.start.line,column:x.loc.start.column,offset:x.range[0]},end:{line:x.loc.end.line,column:x.loc.end.column,offset:x.range[1]}};this.delegate(w,S)}}else this.scanner.scanComments()},m.prototype.getTokenRaw=function(d){return this.scanner.source.slice(d.start,d.end)},m.prototype.convertToken=function(d){var _={type:g.TokenName[d.type],value:this.getTokenRaw(d)};if(this.config.range&&(_.range=[d.start,d.end]),this.config.loc&&(_.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),d.type===9){var x=d.pattern,w=d.flags;_.regex={pattern:x,flags:w}}return _},m.prototype.nextToken=function(){var d=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var _=this.scanner.lex();return this.hasLineTerminator=d.lineNumber!==_.lineNumber,_&&this.context.strict&&_.type===3&&this.scanner.isStrictModeReservedWord(_.value)&&(_.type=4),this.lookahead=_,this.config.tokens&&_.type!==2&&this.tokens.push(this.convertToken(_)),d},m.prototype.nextRegexToken=function(){this.collectComments();var d=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(d))),this.lookahead=d,this.nextToken(),d},m.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},m.prototype.startNode=function(d,_){_===void 0&&(_=0);var x=d.start-d.lineStart,w=d.lineNumber;return x<0&&(x+=_,w--),{index:d.start,line:w,column:x}},m.prototype.finalize=function(d,_){if(this.config.range&&(_.range=[d.index,this.lastMarker.index]),this.config.loc&&(_.loc={start:{line:d.line,column:d.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(_.loc.source=this.config.source)),this.delegate){var x={start:{line:d.line,column:d.column,offset:d.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(_,x)}return _},m.prototype.expect=function(d){var _=this.nextToken();_.type===7&&_.value===d||this.throwUnexpectedToken(_)},m.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var d=this.lookahead;d.type===7&&d.value===","?this.nextToken():d.type===7&&d.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(d)):this.tolerateUnexpectedToken(d,c.Messages.UnexpectedToken)}else this.expect(",")},m.prototype.expectKeyword=function(d){var _=this.nextToken();_.type===4&&_.value===d||this.throwUnexpectedToken(_)},m.prototype.match=function(d){return this.lookahead.type===7&&this.lookahead.value===d},m.prototype.matchKeyword=function(d){return this.lookahead.type===4&&this.lookahead.value===d},m.prototype.matchContextualKeyword=function(d){return this.lookahead.type===3&&this.lookahead.value===d},m.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var d=this.lookahead.value;return d==="="||d==="*="||d==="**="||d==="/="||d==="%="||d==="+="||d==="-="||d==="<<="||d===">>="||d===">>>="||d==="&="||d==="^="||d==="|="},m.prototype.isolateCoverGrammar=function(d){var _=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=d.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=_,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=w,S},m.prototype.inheritCoverGrammar=function(d){var _=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=d.call(this);return this.context.isBindingElement=this.context.isBindingElement&&_,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&x,this.context.firstCoverInitializedNameError=w||this.context.firstCoverInitializedNameError,S},m.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},m.prototype.parsePrimaryExpression=function(){var d,_,x,w=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(w,new h.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,_=this.nextToken(),x=this.getTokenRaw(_),d=this.finalize(w,new h.Literal(_.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,_=this.nextToken(),x=this.getTokenRaw(_),d=this.finalize(w,new h.Literal(_.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,_=this.nextToken(),x=this.getTokenRaw(_),d=this.finalize(w,new h.Literal(null,x));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,_=this.nextRegexToken(),x=this.getTokenRaw(_),d=this.finalize(w,new h.RegexLiteral(_.regex,x,_.pattern,_.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(w,new h.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(w,new h.ThisExpression)):d=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},m.prototype.parseSpreadElement=function(){var d=this.createNode();this.expect("...");var _=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(d,new h.SpreadElement(_))},m.prototype.parseArrayInitializer=function(){var d=this.createNode(),_=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),_.push(null);else if(this.match("...")){var x=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),_.push(x)}else _.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(d,new h.ArrayExpression(_))},m.prototype.parsePropertyMethod=function(d){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var _=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var w=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&d.firstRestricted&&this.tolerateUnexpectedToken(d.firstRestricted,d.message),this.context.strict&&d.stricted&&this.tolerateUnexpectedToken(d.stricted,d.message),this.context.strict=_,this.context.allowStrictDirective=x,w},m.prototype.parsePropertyMethodFunction=function(){var d=this.createNode(),_=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),w=this.parsePropertyMethod(x);return this.context.allowYield=_,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parsePropertyMethodAsyncFunction=function(){var d=this.createNode(),_=this.context.allowYield,x=this.context.await;this.context.allowYield=!1,this.context.await=!0;var w=this.parseFormalParameters(),S=this.parsePropertyMethod(w);return this.context.allowYield=_,this.context.await=x,this.finalize(d,new h.AsyncFunctionExpression(null,w.params,S))},m.prototype.parseObjectPropertyKey=function(){var d,_=this.createNode(),x=this.nextToken();switch(x.type){case 8:case 6:this.context.strict&&x.octal&&this.tolerateUnexpectedToken(x,c.Messages.StrictOctalLiteral);var w=this.getTokenRaw(x);d=this.finalize(_,new h.Literal(x.value,w));break;case 3:case 1:case 5:case 4:d=this.finalize(_,new h.Identifier(x.value));break;case 7:x.value==="["?(d=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):d=this.throwUnexpectedToken(x);break;default:d=this.throwUnexpectedToken(x)}return d},m.prototype.isPropertyKey=function(d,_){return d.type===v.Syntax.Identifier&&d.name===_||d.type===v.Syntax.Literal&&d.value===_},m.prototype.parseObjectProperty=function(d){var _,x=this.createNode(),w=this.lookahead,S=null,b=null,T=!1,C=!1,M=!1,D=!1;if(w.type===3){var E=w.value;this.nextToken(),T=this.match("["),S=(D=!(this.hasLineTerminator||E!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(x,new h.Identifier(E))}else this.match("*")?this.nextToken():(T=this.match("["),S=this.parseObjectPropertyKey());var k=this.qualifiedPropertyName(this.lookahead);if(w.type===3&&!D&&w.value==="get"&&k)_="get",T=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod();else if(w.type===3&&!D&&w.value==="set"&&k)_="set",T=this.match("["),S=this.parseObjectPropertyKey(),b=this.parseSetterMethod();else if(w.type===7&&w.value==="*"&&k)_="init",T=this.match("["),S=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),C=!0;else if(S||this.throwUnexpectedToken(this.lookahead),_="init",this.match(":")&&!D)!T&&this.isPropertyKey(S,"__proto__")&&(d.value&&this.tolerateError(c.Messages.DuplicateProtoProperty),d.value=!0),this.nextToken(),b=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))b=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),C=!0;else if(w.type===3)if(E=this.finalize(x,new h.Identifier(w.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),M=!0;var O=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(x,new h.AssignmentPattern(E,O))}else M=!0,b=E;else this.throwUnexpectedToken(this.nextToken());return this.finalize(x,new h.Property(_,S,T,b,C,M))},m.prototype.parseObjectInitializer=function(){var d=this.createNode();this.expect("{");for(var _=[],x={value:!1};!this.match("}");)_.push(this.parseObjectProperty(x)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(d,new h.ObjectExpression(_))},m.prototype.parseTemplateHead=function(){l.assert(this.lookahead.head,"Template literal must start with a template head");var d=this.createNode(),_=this.nextToken(),x=_.value,w=_.cooked;return this.finalize(d,new h.TemplateElement({raw:x,cooked:w},_.tail))},m.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var d=this.createNode(),_=this.nextToken(),x=_.value,w=_.cooked;return this.finalize(d,new h.TemplateElement({raw:x,cooked:w},_.tail))},m.prototype.parseTemplateLiteral=function(){var d=this.createNode(),_=[],x=[],w=this.parseTemplateHead();for(x.push(w);!w.tail;)_.push(this.parseExpression()),w=this.parseTemplateElement(),x.push(w);return this.finalize(d,new h.TemplateLiteral(x,_))},m.prototype.reinterpretExpressionAsPattern=function(d){switch(d.type){case v.Syntax.Identifier:case v.Syntax.MemberExpression:case v.Syntax.RestElement:case v.Syntax.AssignmentPattern:break;case v.Syntax.SpreadElement:d.type=v.Syntax.RestElement,this.reinterpretExpressionAsPattern(d.argument);break;case v.Syntax.ArrayExpression:d.type=v.Syntax.ArrayPattern;for(var _=0;_<d.elements.length;_++)d.elements[_]!==null&&this.reinterpretExpressionAsPattern(d.elements[_]);break;case v.Syntax.ObjectExpression:for(d.type=v.Syntax.ObjectPattern,_=0;_<d.properties.length;_++)this.reinterpretExpressionAsPattern(d.properties[_].value);break;case v.Syntax.AssignmentExpression:d.type=v.Syntax.AssignmentPattern,delete d.operator,this.reinterpretExpressionAsPattern(d.left)}},m.prototype.parseGroupExpression=function(){var d;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),d={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var _=this.lookahead,x=[];if(this.match("..."))d=this.parseRestElement(x),this.expect(")"),this.match("=>")||this.expect("=>"),d={type:"ArrowParameterPlaceHolder",params:[d],async:!1};else{var w=!1;if(this.context.isBindingElement=!0,d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var S=[];for(this.context.isAssignmentTarget=!1,S.push(d);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var b=0;b<S.length;b++)this.reinterpretExpressionAsPattern(S[b]);w=!0,d={type:"ArrowParameterPlaceHolder",params:S,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),S.push(this.parseRestElement(x)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,b=0;b<S.length;b++)this.reinterpretExpressionAsPattern(S[b]);w=!0,d={type:"ArrowParameterPlaceHolder",params:S,async:!1}}else S.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(w)break}w||(d=this.finalize(this.startNode(_),new h.SequenceExpression(S)))}if(!w){if(this.expect(")"),this.match("=>")&&(d.type===v.Syntax.Identifier&&d.name==="yield"&&(w=!0,d={type:"ArrowParameterPlaceHolder",params:[d],async:!1}),!w)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),d.type===v.Syntax.SequenceExpression)for(b=0;b<d.expressions.length;b++)this.reinterpretExpressionAsPattern(d.expressions[b]);else this.reinterpretExpressionAsPattern(d);d={type:"ArrowParameterPlaceHolder",params:d.type===v.Syntax.SequenceExpression?d.expressions:[d],async:!1}}this.context.isBindingElement=!1}}}return d},m.prototype.parseArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var _=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(d.push(_),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},m.prototype.isIdentifierName=function(d){return d.type===3||d.type===4||d.type===1||d.type===5},m.prototype.parseIdentifierName=function(){var d=this.createNode(),_=this.nextToken();return this.isIdentifierName(_)||this.throwUnexpectedToken(_),this.finalize(d,new h.Identifier(_.value))},m.prototype.parseNewExpression=function(){var d,_=this.createNode(),x=this.parseIdentifierName();if(l.assert(x.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var w=this.parseIdentifierName();d=new h.MetaProperty(x,w)}else this.throwUnexpectedToken(this.lookahead);else{var S=this.isolateCoverGrammar(this.parseLeftHandSideExpression),b=this.match("(")?this.parseArguments():[];d=new h.NewExpression(S,b),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(_,d)},m.prototype.parseAsyncArgument=function(){var d=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,d},m.prototype.parseAsyncArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var _=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(d.push(_),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},m.prototype.parseLeftHandSideExpressionAllowCall=function(){var d,_=this.lookahead,x=this.matchContextualKeyword("async"),w=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(d=this.createNode(),this.nextToken(),d=this.finalize(d,new h.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):d=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var S=this.parseIdentifierName();d=this.finalize(this.startNode(_),new h.StaticMemberExpression(d,S))}else if(this.match("(")){var b=x&&_.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=b?this.parseAsyncArguments():this.parseArguments();if(d=this.finalize(this.startNode(_),new h.CallExpression(d,T)),b&&this.match("=>")){for(var C=0;C<T.length;++C)this.reinterpretExpressionAsPattern(T[C]);d={type:"ArrowParameterPlaceHolder",params:T,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),S=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),d=this.finalize(this.startNode(_),new h.ComputedMemberExpression(d,S));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var M=this.parseTemplateLiteral();d=this.finalize(this.startNode(_),new h.TaggedTemplateExpression(d,M))}return this.context.allowIn=w,d},m.prototype.parseSuper=function(){var d=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(d,new h.Super)},m.prototype.parseLeftHandSideExpression=function(){l.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var d=this.startNode(this.lookahead),_=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var x=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),_=this.finalize(d,new h.ComputedMemberExpression(_,x))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),_=this.finalize(d,new h.StaticMemberExpression(_,x));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var w=this.parseTemplateLiteral();_=this.finalize(d,new h.TaggedTemplateExpression(_,w))}return _},m.prototype.parseUpdateExpression=function(){var d,_=this.lookahead;if(this.match("++")||this.match("--")){var x=this.startNode(_),w=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&d.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(c.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment);var S=!0;d=this.finalize(x,new h.UpdateExpression(w.value,d,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(d=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&d.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(c.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var b=this.nextToken().value;S=!1,d=this.finalize(this.startNode(_),new h.UpdateExpression(b,d,S))}return d},m.prototype.parseAwaitExpression=function(){var d=this.createNode();this.nextToken();var _=this.parseUnaryExpression();return this.finalize(d,new h.AwaitExpression(_))},m.prototype.parseUnaryExpression=function(){var d;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var _=this.startNode(this.lookahead),x=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),d=this.finalize(_,new h.UnaryExpression(x.value,d)),this.context.strict&&d.operator==="delete"&&d.argument.type===v.Syntax.Identifier&&this.tolerateError(c.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else d=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return d},m.prototype.parseExponentiationExpression=function(){var d=this.lookahead,_=this.inheritCoverGrammar(this.parseUnaryExpression);if(_.type!==v.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var x=_,w=this.isolateCoverGrammar(this.parseExponentiationExpression);_=this.finalize(this.startNode(d),new h.BinaryExpression("**",x,w))}return _},m.prototype.binaryPrecedence=function(d){var _=d.value;return d.type===7?this.operatorPrecedence[_]||0:d.type===4&&(_==="instanceof"||this.context.allowIn&&_==="in")?7:0},m.prototype.parseBinaryExpression=function(){var d=this.lookahead,_=this.inheritCoverGrammar(this.parseExponentiationExpression),x=this.lookahead,w=this.binaryPrecedence(x);if(w>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var S=[d,this.lookahead],b=_,T=this.isolateCoverGrammar(this.parseExponentiationExpression),C=[b,x.value,T],M=[w];!((w=this.binaryPrecedence(this.lookahead))<=0);){for(;C.length>2&&w<=M[M.length-1];){T=C.pop();var D=C.pop();M.pop(),b=C.pop(),S.pop();var E=this.startNode(S[S.length-1]);C.push(this.finalize(E,new h.BinaryExpression(D,b,T)))}C.push(this.nextToken().value),M.push(w),S.push(this.lookahead),C.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var k=C.length-1;_=C[k];for(var O=S.pop();k>1;){var A=S.pop(),I=O&&O.lineStart;E=this.startNode(A,I),D=C[k-1],_=this.finalize(E,new h.BinaryExpression(D,C[k-2],_)),k-=2,O=A}}return _},m.prototype.parseConditionalExpression=function(){var d=this.lookahead,_=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var x=this.context.allowIn;this.context.allowIn=!0;var w=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=x,this.expect(":");var S=this.isolateCoverGrammar(this.parseAssignmentExpression);_=this.finalize(this.startNode(d),new h.ConditionalExpression(_,w,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return _},m.prototype.checkPatternParam=function(d,_){switch(_.type){case v.Syntax.Identifier:this.validateParam(d,_,_.name);break;case v.Syntax.RestElement:this.checkPatternParam(d,_.argument);break;case v.Syntax.AssignmentPattern:this.checkPatternParam(d,_.left);break;case v.Syntax.ArrayPattern:for(var x=0;x<_.elements.length;x++)_.elements[x]!==null&&this.checkPatternParam(d,_.elements[x]);break;case v.Syntax.ObjectPattern:for(x=0;x<_.properties.length;x++)this.checkPatternParam(d,_.properties[x].value)}d.simple=d.simple&&_ instanceof h.Identifier},m.prototype.reinterpretAsCoverFormalsList=function(d){var _,x=[d],w=!1;switch(d.type){case v.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":x=d.params,w=d.async;break;default:return null}_={simple:!0,paramSet:{}};for(var S=0;S<x.length;++S)(b=x[S]).type===v.Syntax.AssignmentPattern?b.right.type===v.Syntax.YieldExpression&&(b.right.argument&&this.throwUnexpectedToken(this.lookahead),b.right.type=v.Syntax.Identifier,b.right.name="yield",delete b.right.argument,delete b.right.delegate):w&&b.type===v.Syntax.Identifier&&b.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(_,b),x[S]=b;if(this.context.strict||!this.context.allowYield)for(S=0;S<x.length;++S){var b;(b=x[S]).type===v.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(_.message===c.Messages.StrictParamDupe){var T=this.context.strict?_.stricted:_.firstRestricted;this.throwUnexpectedToken(T,_.message)}return{simple:_.simple,params:x,stricted:_.stricted,firstRestricted:_.firstRestricted,message:_.message}},m.prototype.parseAssignmentExpression=function(){var d;if(!this.context.allowYield&&this.matchKeyword("yield"))d=this.parseYieldExpression();else{var _=this.lookahead,x=_;if(d=this.parseConditionalExpression(),x.type===3&&x.lineNumber===this.lookahead.lineNumber&&x.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var w=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(w),d={type:"ArrowParameterPlaceHolder",params:[w],async:!0}}if(d.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=d.async,b=this.reinterpretAsCoverFormalsList(d);if(b){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var T=this.context.strict,C=this.context.allowStrictDirective;this.context.allowStrictDirective=b.simple;var M=this.context.allowYield,D=this.context.await;this.context.allowYield=!0,this.context.await=S;var E=this.startNode(_);this.expect("=>");var k=void 0;if(this.match("{")){var O=this.context.allowIn;this.context.allowIn=!0,k=this.parseFunctionSourceElements(),this.context.allowIn=O}else k=this.isolateCoverGrammar(this.parseAssignmentExpression);var A=k.type!==v.Syntax.BlockStatement;this.context.strict&&b.firstRestricted&&this.throwUnexpectedToken(b.firstRestricted,b.message),this.context.strict&&b.stricted&&this.tolerateUnexpectedToken(b.stricted,b.message),d=S?this.finalize(E,new h.AsyncArrowFunctionExpression(b.params,k,A)):this.finalize(E,new h.ArrowFunctionExpression(b.params,k,A)),this.context.strict=T,this.context.allowStrictDirective=C,this.context.allowYield=M,this.context.await=D}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.strict&&d.type===v.Syntax.Identifier){var I=d;this.scanner.isRestrictedWord(I.name)&&this.tolerateUnexpectedToken(x,c.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(I.name)&&this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(d):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var U=(x=this.nextToken()).value,P=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(_),new h.AssignmentExpression(U,d,P)),this.context.firstCoverInitializedNameError=null}}return d},m.prototype.parseExpression=function(){var d=this.lookahead,_=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var x=[];for(x.push(_);this.lookahead.type!==2&&this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));_=this.finalize(this.startNode(d),new h.SequenceExpression(x))}return _},m.prototype.parseStatementListItem=function(){var d;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalExportDeclaration),d=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalImportDeclaration),d=this.parseImportDeclaration();break;case"const":d=this.parseLexicalDeclaration({inFor:!1});break;case"function":d=this.parseFunctionDeclaration();break;case"class":d=this.parseClassDeclaration();break;case"let":d=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:d=this.parseStatement()}else d=this.parseStatement();return d},m.prototype.parseBlock=function(){var d=this.createNode();this.expect("{");for(var _=[];!this.match("}");)_.push(this.parseStatementListItem());return this.expect("}"),this.finalize(d,new h.BlockStatement(_))},m.prototype.parseLexicalBinding=function(d,_){var x=this.createNode(),w=this.parsePattern([],d);this.context.strict&&w.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(w.name)&&this.tolerateError(c.Messages.StrictVarName);var S=null;return d==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),S=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(c.Messages.DeclarationMissingInitializer,"const")):(!_.inFor&&w.type!==v.Syntax.Identifier||this.match("="))&&(this.expect("="),S=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(x,new h.VariableDeclarator(w,S))},m.prototype.parseBindingList=function(d,_){for(var x=[this.parseLexicalBinding(d,_)];this.match(",");)this.nextToken(),x.push(this.parseLexicalBinding(d,_));return x},m.prototype.isLexicalDeclaration=function(){var d=this.scanner.saveState();this.scanner.scanComments();var _=this.scanner.lex();return this.scanner.restoreState(d),_.type===3||_.type===7&&_.value==="["||_.type===7&&_.value==="{"||_.type===4&&_.value==="let"||_.type===4&&_.value==="yield"},m.prototype.parseLexicalDeclaration=function(d){var _=this.createNode(),x=this.nextToken().value;l.assert(x==="let"||x==="const","Lexical declaration must be either let or const");var w=this.parseBindingList(x,d);return this.consumeSemicolon(),this.finalize(_,new h.VariableDeclaration(w,x))},m.prototype.parseBindingRestElement=function(d,_){var x=this.createNode();this.expect("...");var w=this.parsePattern(d,_);return this.finalize(x,new h.RestElement(w))},m.prototype.parseArrayPattern=function(d,_){var x=this.createNode();this.expect("[");for(var w=[];!this.match("]");)if(this.match(","))this.nextToken(),w.push(null);else{if(this.match("...")){w.push(this.parseBindingRestElement(d,_));break}w.push(this.parsePatternWithDefault(d,_)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(x,new h.ArrayPattern(w))},m.prototype.parsePropertyPattern=function(d,_){var x,w,S=this.createNode(),b=!1,T=!1;if(this.lookahead.type===3){var C=this.lookahead;x=this.parseVariableIdentifier();var M=this.finalize(S,new h.Identifier(C.value));if(this.match("=")){d.push(C),T=!0,this.nextToken();var D=this.parseAssignmentExpression();w=this.finalize(this.startNode(C),new h.AssignmentPattern(M,D))}else this.match(":")?(this.expect(":"),w=this.parsePatternWithDefault(d,_)):(d.push(C),T=!0,w=M)}else b=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),w=this.parsePatternWithDefault(d,_);return this.finalize(S,new h.Property("init",x,b,w,!1,T))},m.prototype.parseObjectPattern=function(d,_){var x=this.createNode(),w=[];for(this.expect("{");!this.match("}");)w.push(this.parsePropertyPattern(d,_)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(x,new h.ObjectPattern(w))},m.prototype.parsePattern=function(d,_){var x;return this.match("[")?x=this.parseArrayPattern(d,_):this.match("{")?x=this.parseObjectPattern(d,_):(!this.matchKeyword("let")||_!=="const"&&_!=="let"||this.tolerateUnexpectedToken(this.lookahead,c.Messages.LetInLexicalBinding),d.push(this.lookahead),x=this.parseVariableIdentifier(_)),x},m.prototype.parsePatternWithDefault=function(d,_){var x=this.lookahead,w=this.parsePattern(d,_);if(this.match("=")){this.nextToken();var S=this.context.allowYield;this.context.allowYield=!0;var b=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=S,w=this.finalize(this.startNode(x),new h.AssignmentPattern(w,b))}return w},m.prototype.parseVariableIdentifier=function(d){var _=this.createNode(),x=this.nextToken();return x.type===4&&x.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(x):x.type!==3?this.context.strict&&x.type===4&&this.scanner.isStrictModeReservedWord(x.value)?this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord):(this.context.strict||x.value!=="let"||d!=="var")&&this.throwUnexpectedToken(x):(this.context.isModule||this.context.await)&&x.type===3&&x.value==="await"&&this.tolerateUnexpectedToken(x),this.finalize(_,new h.Identifier(x.value))},m.prototype.parseVariableDeclaration=function(d){var _=this.createNode(),x=this.parsePattern([],"var");this.context.strict&&x.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(c.Messages.StrictVarName);var w=null;return this.match("=")?(this.nextToken(),w=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type===v.Syntax.Identifier||d.inFor||this.expect("="),this.finalize(_,new h.VariableDeclarator(x,w))},m.prototype.parseVariableDeclarationList=function(d){var _={inFor:d.inFor},x=[];for(x.push(this.parseVariableDeclaration(_));this.match(",");)this.nextToken(),x.push(this.parseVariableDeclaration(_));return x},m.prototype.parseVariableStatement=function(){var d=this.createNode();this.expectKeyword("var");var _=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(d,new h.VariableDeclaration(_,"var"))},m.prototype.parseEmptyStatement=function(){var d=this.createNode();return this.expect(";"),this.finalize(d,new h.EmptyStatement)},m.prototype.parseExpressionStatement=function(){var d=this.createNode(),_=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ExpressionStatement(_))},m.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(c.Messages.StrictFunction),this.parseStatement()},m.prototype.parseIfStatement=function(){var d,_=this.createNode(),x=null;this.expectKeyword("if"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),x=this.parseIfClause())),this.finalize(_,new h.IfStatement(w,d,x))},m.prototype.parseDoWhileStatement=function(){var d=this.createNode();this.expectKeyword("do");var _=this.context.inIteration;this.context.inIteration=!0;var x=this.parseStatement();this.context.inIteration=_,this.expectKeyword("while"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(d,new h.DoWhileStatement(x,w))},m.prototype.parseWhileStatement=function(){var d,_=this.createNode();this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var w=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=w}return this.finalize(_,new h.WhileStatement(x,d))},m.prototype.parseForStatement=function(){var d,_,x,w=null,S=null,b=null,T=!0,C=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){w=this.createNode(),this.nextToken();var M=this.context.allowIn;this.context.allowIn=!1;var D=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=M,D.length===1&&this.matchKeyword("in")){var E=D[0];E.init&&(E.id.type===v.Syntax.ArrayPattern||E.id.type===v.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(c.Messages.ForInOfLoopInitializer,"for-in"),w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),d=w,_=this.parseExpression(),w=null}else D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),d=w,_=this.parseAssignmentExpression(),w=null,T=!1):(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){w=this.createNode();var k=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(M=this.context.allowIn,this.context.allowIn=!1,D=this.parseBindingList(k,{inFor:!0}),this.context.allowIn=M,D.length===1&&D[0].init===null&&this.matchKeyword("in")?(w=this.finalize(w,new h.VariableDeclaration(D,k)),this.nextToken(),d=w,_=this.parseExpression(),w=null):D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,k)),this.nextToken(),d=w,_=this.parseAssignmentExpression(),w=null,T=!1):(this.consumeSemicolon(),w=this.finalize(w,new h.VariableDeclaration(D,k)))):(w=this.finalize(w,new h.Identifier(k)),this.nextToken(),d=w,_=this.parseExpression(),w=null)}else{var O=this.lookahead;if(M=this.context.allowIn,this.context.allowIn=!1,w=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=M,this.matchKeyword("in"))this.context.isAssignmentTarget&&w.type!==v.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(w),d=w,_=this.parseExpression(),w=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&w.type!==v.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(w),d=w,_=this.parseAssignmentExpression(),w=null,T=!1;else{if(this.match(",")){for(var A=[w];this.match(",");)this.nextToken(),A.push(this.isolateCoverGrammar(this.parseAssignmentExpression));w=this.finalize(this.startNode(O),new h.SequenceExpression(A))}this.expect(";")}}if(d===void 0&&(this.match(";")||(S=this.parseExpression()),this.expect(";"),this.match(")")||(b=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var I=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=I}return d===void 0?this.finalize(C,new h.ForStatement(w,S,b,x)):T?this.finalize(C,new h.ForInStatement(d,_,x)):this.finalize(C,new h.ForOfStatement(d,_,x))},m.prototype.parseContinueStatement=function(){var d=this.createNode();this.expectKeyword("continue");var _=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier();_=x;var w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(c.Messages.UnknownLabel,x.name)}return this.consumeSemicolon(),_!==null||this.context.inIteration||this.throwError(c.Messages.IllegalContinue),this.finalize(d,new h.ContinueStatement(_))},m.prototype.parseBreakStatement=function(){var d=this.createNode();this.expectKeyword("break");var _=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier(),w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(c.Messages.UnknownLabel,x.name),_=x}return this.consumeSemicolon(),_!==null||this.context.inIteration||this.context.inSwitch||this.throwError(c.Messages.IllegalBreak),this.finalize(d,new h.BreakStatement(_))},m.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(c.Messages.IllegalReturn);var d=this.createNode();this.expectKeyword("return");var _=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ReturnStatement(_))},m.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(c.Messages.StrictModeWith);var d,_=this.createNode();this.expectKeyword("with"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(_,new h.WithStatement(x,d))},m.prototype.parseSwitchCase=function(){var d,_=this.createNode();this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var x=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)x.push(this.parseStatementListItem());return this.finalize(_,new h.SwitchCase(d,x))},m.prototype.parseSwitchStatement=function(){var d=this.createNode();this.expectKeyword("switch"),this.expect("(");var _=this.parseExpression();this.expect(")");var x=this.context.inSwitch;this.context.inSwitch=!0;var w=[],S=!1;for(this.expect("{");!this.match("}");){var b=this.parseSwitchCase();b.test===null&&(S&&this.throwError(c.Messages.MultipleDefaultsInSwitch),S=!0),w.push(b)}return this.expect("}"),this.context.inSwitch=x,this.finalize(d,new h.SwitchStatement(_,w))},m.prototype.parseLabelledStatement=function(){var d,_=this.createNode(),x=this.parseExpression();if(x.type===v.Syntax.Identifier&&this.match(":")){this.nextToken();var w=x,S="$"+w.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,S)&&this.throwError(c.Messages.Redeclaration,"Label",w.name),this.context.labelSet[S]=!0;var b=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),b=this.parseClassDeclaration();else if(this.matchKeyword("function")){var T=this.lookahead,C=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(T,c.Messages.StrictFunction):C.generator&&this.tolerateUnexpectedToken(T,c.Messages.GeneratorInLegacyContext),b=C}else b=this.parseStatement();delete this.context.labelSet[S],d=new h.LabeledStatement(w,b)}else this.consumeSemicolon(),d=new h.ExpressionStatement(x);return this.finalize(_,d)},m.prototype.parseThrowStatement=function(){var d=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(c.Messages.NewlineAfterThrow);var _=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ThrowStatement(_))},m.prototype.parseCatchClause=function(){var d=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var _=[],x=this.parsePattern(_),w={},S=0;S<_.length;S++){var b="$"+_[S].value;Object.prototype.hasOwnProperty.call(w,b)&&this.tolerateError(c.Messages.DuplicateBinding,_[S].value),w[b]=!0}this.context.strict&&x.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(c.Messages.StrictCatchVariable),this.expect(")");var T=this.parseBlock();return this.finalize(d,new h.CatchClause(x,T))},m.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},m.prototype.parseTryStatement=function(){var d=this.createNode();this.expectKeyword("try");var _=this.parseBlock(),x=this.matchKeyword("catch")?this.parseCatchClause():null,w=this.matchKeyword("finally")?this.parseFinallyClause():null;return x||w||this.throwError(c.Messages.NoCatchOrFinally),this.finalize(d,new h.TryStatement(_,x,w))},m.prototype.parseDebuggerStatement=function(){var d=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(d,new h.DebuggerStatement)},m.prototype.parseStatement=function(){var d;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:d=this.parseExpressionStatement();break;case 7:var _=this.lookahead.value;d=_==="{"?this.parseBlock():_==="("?this.parseExpressionStatement():_===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:d=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":d=this.parseBreakStatement();break;case"continue":d=this.parseContinueStatement();break;case"debugger":d=this.parseDebuggerStatement();break;case"do":d=this.parseDoWhileStatement();break;case"for":d=this.parseForStatement();break;case"function":d=this.parseFunctionDeclaration();break;case"if":d=this.parseIfStatement();break;case"return":d=this.parseReturnStatement();break;case"switch":d=this.parseSwitchStatement();break;case"throw":d=this.parseThrowStatement();break;case"try":d=this.parseTryStatement();break;case"var":d=this.parseVariableStatement();break;case"while":d=this.parseWhileStatement();break;case"with":d=this.parseWithStatement();break;default:d=this.parseExpressionStatement()}break;default:d=this.throwUnexpectedToken(this.lookahead)}return d},m.prototype.parseFunctionSourceElements=function(){var d=this.createNode();this.expect("{");var _=this.parseDirectivePrologues(),x=this.context.labelSet,w=this.context.inIteration,S=this.context.inSwitch,b=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)_.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=x,this.context.inIteration=w,this.context.inSwitch=S,this.context.inFunctionBody=b,this.finalize(d,new h.BlockStatement(_))},m.prototype.validateParam=function(d,_,x){var w="$"+x;this.context.strict?(this.scanner.isRestrictedWord(x)&&(d.stricted=_,d.message=c.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(d.paramSet,w)&&(d.stricted=_,d.message=c.Messages.StrictParamDupe)):d.firstRestricted||(this.scanner.isRestrictedWord(x)?(d.firstRestricted=_,d.message=c.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(x)?(d.firstRestricted=_,d.message=c.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(d.paramSet,w)&&(d.stricted=_,d.message=c.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(d.paramSet,w,{value:!0,enumerable:!0,writable:!0,configurable:!0}):d.paramSet[w]=!0},m.prototype.parseRestElement=function(d){var _=this.createNode();this.expect("...");var x=this.parsePattern(d);return this.match("=")&&this.throwError(c.Messages.DefaultRestParameter),this.match(")")||this.throwError(c.Messages.ParameterAfterRestParameter),this.finalize(_,new h.RestElement(x))},m.prototype.parseFormalParameter=function(d){for(var _=[],x=this.match("...")?this.parseRestElement(_):this.parsePatternWithDefault(_),w=0;w<_.length;w++)this.validateParam(d,_[w],_[w].value);d.simple=d.simple&&x instanceof h.Identifier,d.params.push(x)},m.prototype.parseFormalParameters=function(d){var _;if(_={simple:!0,params:[],firstRestricted:d},this.expect("("),!this.match(")"))for(_.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(_),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:_.simple,params:_.params,stricted:_.stricted,firstRestricted:_.firstRestricted,message:_.message}},m.prototype.matchAsyncFunction=function(){var d=this.matchContextualKeyword("async");if(d){var _=this.scanner.saveState();this.scanner.scanComments();var x=this.scanner.lex();this.scanner.restoreState(_),d=_.lineNumber===x.lineNumber&&x.type===4&&x.value==="function"}return d},m.prototype.parseFunctionDeclaration=function(d){var _=this.createNode(),x=this.matchContextualKeyword("async");x&&this.nextToken(),this.expectKeyword("function");var w,S=!x&&this.match("*");S&&this.nextToken();var b=null,T=null;if(!d||!this.match("(")){var C=this.lookahead;b=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(C.value)&&this.tolerateUnexpectedToken(C,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(C.value)?(T=C,w=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(C.value)&&(T=C,w=c.Messages.StrictReservedWord)}var M=this.context.await,D=this.context.allowYield;this.context.await=x,this.context.allowYield=!S;var E=this.parseFormalParameters(T),k=E.params,O=E.stricted;T=E.firstRestricted,E.message&&(w=E.message);var A=this.context.strict,I=this.context.allowStrictDirective;this.context.allowStrictDirective=E.simple;var U=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,w),this.context.strict&&O&&this.tolerateUnexpectedToken(O,w),this.context.strict=A,this.context.allowStrictDirective=I,this.context.await=M,this.context.allowYield=D,x?this.finalize(_,new h.AsyncFunctionDeclaration(b,k,U)):this.finalize(_,new h.FunctionDeclaration(b,k,U,S))},m.prototype.parseFunctionExpression=function(){var d=this.createNode(),_=this.matchContextualKeyword("async");_&&this.nextToken(),this.expectKeyword("function");var x,w=!_&&this.match("*");w&&this.nextToken();var S,b=null,T=this.context.await,C=this.context.allowYield;if(this.context.await=_,this.context.allowYield=!w,!this.match("(")){var M=this.lookahead;b=this.context.strict||w||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(M.value)&&this.tolerateUnexpectedToken(M,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(M.value)?(S=M,x=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(M.value)&&(S=M,x=c.Messages.StrictReservedWord)}var D=this.parseFormalParameters(S),E=D.params,k=D.stricted;S=D.firstRestricted,D.message&&(x=D.message);var O=this.context.strict,A=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var I=this.parseFunctionSourceElements();return this.context.strict&&S&&this.throwUnexpectedToken(S,x),this.context.strict&&k&&this.tolerateUnexpectedToken(k,x),this.context.strict=O,this.context.allowStrictDirective=A,this.context.await=T,this.context.allowYield=C,_?this.finalize(d,new h.AsyncFunctionExpression(b,E,I)):this.finalize(d,new h.FunctionExpression(b,E,I,w))},m.prototype.parseDirective=function(){var d=this.lookahead,_=this.createNode(),x=this.parseExpression(),w=x.type===v.Syntax.Literal?this.getTokenRaw(d).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(_,w?new h.Directive(x,w):new h.ExpressionStatement(x))},m.prototype.parseDirectivePrologues=function(){for(var d=null,_=[];;){var x=this.lookahead;if(x.type!==8)break;var w=this.parseDirective();_.push(w);var S=w.directive;if(typeof S!="string")break;S==="use strict"?(this.context.strict=!0,d&&this.tolerateUnexpectedToken(d,c.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(x,c.Messages.IllegalLanguageModeDirective)):!d&&x.octal&&(d=x)}return _},m.prototype.qualifiedPropertyName=function(d){switch(d.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return d.value==="["}return!1},m.prototype.parseGetterMethod=function(){var d=this.createNode(),_=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(c.Messages.BadGetterArity);var w=this.parsePropertyMethod(x);return this.context.allowYield=_,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parseSetterMethod=function(){var d=this.createNode(),_=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(c.Messages.BadSetterArity):x.params[0]instanceof h.RestElement&&this.tolerateError(c.Messages.BadSetterRestParameter);var w=this.parsePropertyMethod(x);return this.context.allowYield=_,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parseGeneratorMethod=function(){var d=this.createNode(),_=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var w=this.parsePropertyMethod(x);return this.context.allowYield=_,this.finalize(d,new h.FunctionExpression(null,x.params,w,!0))},m.prototype.isStartOfExpression=function(){var d=!0,_=this.lookahead.value;switch(this.lookahead.type){case 7:d=_==="["||_==="("||_==="{"||_==="+"||_==="-"||_==="!"||_==="~"||_==="++"||_==="--"||_==="/"||_==="/=";break;case 4:d=_==="class"||_==="delete"||_==="function"||_==="let"||_==="new"||_==="super"||_==="this"||_==="typeof"||_==="void"||_==="yield"}return d},m.prototype.parseYieldExpression=function(){var d=this.createNode();this.expectKeyword("yield");var _=null,x=!1;if(!this.hasLineTerminator){var w=this.context.allowYield;this.context.allowYield=!1,(x=this.match("*"))?(this.nextToken(),_=this.parseAssignmentExpression()):this.isStartOfExpression()&&(_=this.parseAssignmentExpression()),this.context.allowYield=w}return this.finalize(d,new h.YieldExpression(_,x))},m.prototype.parseClassElement=function(d){var _=this.lookahead,x=this.createNode(),w="",S=null,b=null,T=!1,C=!1,M=!1,D=!1;if(this.match("*"))this.nextToken();else if(T=this.match("["),(S=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(_=this.lookahead,M=!0,T=this.match("["),this.match("*")?this.nextToken():S=this.parseObjectPropertyKey()),_.type===3&&!this.hasLineTerminator&&_.value==="async"){var E=this.lookahead.value;E!==":"&&E!=="("&&E!=="*"&&(D=!0,_=this.lookahead,S=this.parseObjectPropertyKey(),_.type===3&&_.value==="constructor"&&this.tolerateUnexpectedToken(_,c.Messages.ConstructorIsAsync))}var k=this.qualifiedPropertyName(this.lookahead);return _.type===3?_.value==="get"&&k?(w="get",T=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod()):_.value==="set"&&k&&(w="set",T=this.match("["),S=this.parseObjectPropertyKey(),b=this.parseSetterMethod()):_.type===7&&_.value==="*"&&k&&(w="init",T=this.match("["),S=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),C=!0),!w&&S&&this.match("(")&&(w="init",b=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),C=!0),w||this.throwUnexpectedToken(this.lookahead),w==="init"&&(w="method"),T||(M&&this.isPropertyKey(S,"prototype")&&this.throwUnexpectedToken(_,c.Messages.StaticPrototype),!M&&this.isPropertyKey(S,"constructor")&&((w!=="method"||!C||b&&b.generator)&&this.throwUnexpectedToken(_,c.Messages.ConstructorSpecialMethod),d.value?this.throwUnexpectedToken(_,c.Messages.DuplicateConstructor):d.value=!0,w="constructor")),this.finalize(x,new h.MethodDefinition(S,T,b,w,M))},m.prototype.parseClassElementList=function(){var d=[],_={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():d.push(this.parseClassElement(_));return this.expect("}"),d},m.prototype.parseClassBody=function(){var d=this.createNode(),_=this.parseClassElementList();return this.finalize(d,new h.ClassBody(_))},m.prototype.parseClassDeclaration=function(d){var _=this.createNode(),x=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var w=d&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),S=null;this.matchKeyword("extends")&&(this.nextToken(),S=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var b=this.parseClassBody();return this.context.strict=x,this.finalize(_,new h.ClassDeclaration(w,S,b))},m.prototype.parseClassExpression=function(){var d=this.createNode(),_=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=this.lookahead.type===3?this.parseVariableIdentifier():null,w=null;this.matchKeyword("extends")&&(this.nextToken(),w=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=_,this.finalize(d,new h.ClassExpression(x,w,S))},m.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var d=this.createNode(),_=this.parseDirectivePrologues();this.lookahead.type!==2;)_.push(this.parseStatementListItem());return this.finalize(d,new h.Module(_))},m.prototype.parseScript=function(){for(var d=this.createNode(),_=this.parseDirectivePrologues();this.lookahead.type!==2;)_.push(this.parseStatementListItem());return this.finalize(d,new h.Script(_))},m.prototype.parseModuleSpecifier=function(){var d=this.createNode();this.lookahead.type!==8&&this.throwError(c.Messages.InvalidModuleSpecifier);var _=this.nextToken(),x=this.getTokenRaw(_);return this.finalize(d,new h.Literal(_.value,x))},m.prototype.parseImportSpecifier=function(){var d,_,x=this.createNode();return this.lookahead.type===3?(_=d=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),_=this.parseVariableIdentifier())):(_=d=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),_=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(x,new h.ImportSpecifier(_,d))},m.prototype.parseNamedImports=function(){this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),d},m.prototype.parseImportDefaultSpecifier=function(){var d=this.createNode(),_=this.parseIdentifierName();return this.finalize(d,new h.ImportDefaultSpecifier(_))},m.prototype.parseImportNamespaceSpecifier=function(){var d=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(c.Messages.NoAsAfterImportNamespace),this.nextToken();var _=this.parseIdentifierName();return this.finalize(d,new h.ImportNamespaceSpecifier(_))},m.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalImportDeclaration);var d,_=this.createNode();this.expectKeyword("import");var x=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?x=x.concat(this.parseNamedImports()):this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(x.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.match("{")?x=x.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var w=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(_,new h.ImportDeclaration(x,d))},m.prototype.parseExportSpecifier=function(){var d=this.createNode(),_=this.parseIdentifierName(),x=_;return this.matchContextualKeyword("as")&&(this.nextToken(),x=this.parseIdentifierName()),this.finalize(d,new h.ExportSpecifier(_,x))},m.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalExportDeclaration);var d,_=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var x=this.parseFunctionDeclaration(!0);d=this.finalize(_,new h.ExportDefaultDeclaration(x))}else this.matchKeyword("class")?(x=this.parseClassDeclaration(!0),d=this.finalize(_,new h.ExportDefaultDeclaration(x))):this.matchContextualKeyword("async")?(x=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),d=this.finalize(_,new h.ExportDefaultDeclaration(x))):(this.matchContextualKeyword("from")&&this.throwError(c.Messages.UnexpectedToken,this.lookahead.value),x=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),d=this.finalize(_,new h.ExportDefaultDeclaration(x)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var w=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken();var S=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(_,new h.ExportAllDeclaration(S))}else if(this.lookahead.type===4){switch(x=void 0,this.lookahead.value){case"let":case"const":x=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":x=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(_,new h.ExportNamedDeclaration(x,[],null))}else if(this.matchAsyncFunction())x=this.parseFunctionDeclaration(),d=this.finalize(_,new h.ExportNamedDeclaration(x,[],null));else{var b=[],T=null,C=!1;for(this.expect("{");!this.match("}");)C=C||this.matchKeyword("default"),b.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),T=this.parseModuleSpecifier(),this.consumeSemicolon()):C?(w=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause,this.throwError(w,this.lookahead.value)):this.consumeSemicolon(),d=this.finalize(_,new h.ExportNamedDeclaration(null,b,T))}return d},m}();s.Parser=y},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.assert=function(u,l){if(!u)throw new Error("ASSERT: "+l)}},function(o,s){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function l(){this.errors=[],this.tolerant=!1}return l.prototype.recordError=function(f){this.errors.push(f)},l.prototype.tolerate=function(f){if(!this.tolerant)throw f;this.recordError(f)},l.prototype.constructError=function(f,c){var h=new Error(f);try{throw h}catch(p){Object.create&&Object.defineProperty&&(h=Object.create(p),Object.defineProperty(h,"column",{value:c}))}return h},l.prototype.createError=function(f,c,h,p){var v="Line "+c+": "+p,g=this.constructError(v,h);return g.index=f,g.lineNumber=c,g.description=p,g},l.prototype.throwError=function(f,c,h,p){throw this.createError(f,c,h,p)},l.prototype.tolerateError=function(f,c,h,p){var v=this.createError(f,c,h,p);if(!this.tolerant)throw v;this.recordError(v)},l}();s.ErrorHandler=u},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(9),f=u(4),c=u(11);function h(g){return"0123456789abcdef".indexOf(g.toLowerCase())}function p(g){return"01234567".indexOf(g)}var v=function(){function g(y,m){this.source=y,this.errorHandler=m,this.trackComment=!1,this.isModule=!1,this.length=y.length,this.index=0,this.lineNumber=y.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return g.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},g.prototype.restoreState=function(y){this.index=y.index,this.lineNumber=y.lineNumber,this.lineStart=y.lineStart},g.prototype.eof=function(){return this.index>=this.length},g.prototype.throwUnexpectedToken=function(y){return y===void 0&&(y=c.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},g.prototype.tolerateUnexpectedToken=function(y){y===void 0&&(y=c.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},g.prototype.skipSingleLineComment=function(y){var m,d,_=[];for(this.trackComment&&(_=[],m=this.index-y,d={start:{line:this.lineNumber,column:this.index-this.lineStart-y},end:{}});!this.eof();){var x=this.source.charCodeAt(this.index);if(++this.index,f.Character.isLineTerminator(x)){if(this.trackComment){d.end={line:this.lineNumber,column:this.index-this.lineStart-1};var w={multiLine:!1,slice:[m+y,this.index-1],range:[m,this.index-1],loc:d};_.push(w)}return x===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,_}}return this.trackComment&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},w={multiLine:!1,slice:[m+y,this.index],range:[m,this.index],loc:d},_.push(w)),_},g.prototype.skipMultiLineComment=function(){var y,m,d=[];for(this.trackComment&&(d=[],y=this.index-2,m={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var _=this.source.charCodeAt(this.index);if(f.Character.isLineTerminator(_))_===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(_===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};var x={multiLine:!0,slice:[y+2,this.index-2],range:[y,this.index],loc:m};d.push(x)}return d}++this.index}else++this.index}return this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart},x={multiLine:!0,slice:[y+2,this.index],range:[y,this.index],loc:m},d.push(x)),this.tolerateUnexpectedToken(),d},g.prototype.scanComments=function(){var y;this.trackComment&&(y=[]);for(var m=this.index===0;!this.eof();){var d=this.source.charCodeAt(this.index);if(f.Character.isWhiteSpace(d))++this.index;else if(f.Character.isLineTerminator(d))++this.index,d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,m=!0;else if(d===47)if((d=this.source.charCodeAt(this.index+1))===47){this.index+=2;var _=this.skipSingleLineComment(2);this.trackComment&&(y=y.concat(_)),m=!0}else{if(d!==42)break;this.index+=2,_=this.skipMultiLineComment(),this.trackComment&&(y=y.concat(_))}else if(m&&d===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,_=this.skipSingleLineComment(3),this.trackComment&&(y=y.concat(_))}else{if(d!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,_=this.skipSingleLineComment(4),this.trackComment&&(y=y.concat(_))}}return y},g.prototype.isFutureReservedWord=function(y){switch(y){case"enum":case"export":case"import":case"super":return!0;default:return!1}},g.prototype.isStrictModeReservedWord=function(y){switch(y){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},g.prototype.isRestrictedWord=function(y){return y==="eval"||y==="arguments"},g.prototype.isKeyword=function(y){switch(y.length){case 2:return y==="if"||y==="in"||y==="do";case 3:return y==="var"||y==="for"||y==="new"||y==="try"||y==="let";case 4:return y==="this"||y==="else"||y==="case"||y==="void"||y==="with"||y==="enum";case 5:return y==="while"||y==="break"||y==="catch"||y==="throw"||y==="const"||y==="yield"||y==="class"||y==="super";case 6:return y==="return"||y==="typeof"||y==="delete"||y==="switch"||y==="export"||y==="import";case 7:return y==="default"||y==="finally"||y==="extends";case 8:return y==="function"||y==="continue"||y==="debugger";case 10:return y==="instanceof";default:return!1}},g.prototype.codePointAt=function(y){var m=this.source.charCodeAt(y);if(m>=55296&&m<=56319){var d=this.source.charCodeAt(y+1);d>=56320&&d<=57343&&(m=1024*(m-55296)+d-56320+65536)}return m},g.prototype.scanHexEscape=function(y){for(var m=y==="u"?4:2,d=0,_=0;_<m;++_){if(this.eof()||!f.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;d=16*d+h(this.source[this.index++])}return String.fromCharCode(d)},g.prototype.scanUnicodeCodePointEscape=function(){var y=this.source[this.index],m=0;for(y==="}"&&this.throwUnexpectedToken();!this.eof()&&(y=this.source[this.index++],f.Character.isHexDigit(y.charCodeAt(0)));)m=16*m+h(y);return(m>1114111||y!=="}")&&this.throwUnexpectedToken(),f.Character.fromCodePoint(m)},g.prototype.getIdentifier=function(){for(var y=this.index++;!this.eof();){var m=this.source.charCodeAt(this.index);if(m===92)return this.index=y,this.getComplexIdentifier();if(m>=55296&&m<57343)return this.index=y,this.getComplexIdentifier();if(!f.Character.isIdentifierPart(m))break;++this.index}return this.source.slice(y,this.index)},g.prototype.getComplexIdentifier=function(){var y,m=this.codePointAt(this.index),d=f.Character.fromCodePoint(m);for(this.index+=d.length,m===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&f.Character.isIdentifierStart(y.charCodeAt(0))||this.throwUnexpectedToken(),d=y);!this.eof()&&(m=this.codePointAt(this.index),f.Character.isIdentifierPart(m));)d+=y=f.Character.fromCodePoint(m),this.index+=y.length,m===92&&(d=d.substr(0,d.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&f.Character.isIdentifierPart(y.charCodeAt(0))||this.throwUnexpectedToken(),d+=y);return d},g.prototype.octalToDecimal=function(y){var m=y!=="0",d=p(y);return!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=!0,d=8*d+p(this.source[this.index++]),"0123".indexOf(y)>=0&&!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=8*d+p(this.source[this.index++]))),{code:d,octal:m}},g.prototype.scanIdentifier=function(){var y,m=this.index,d=this.source.charCodeAt(m)===92?this.getComplexIdentifier():this.getIdentifier();if((y=d.length===1?3:this.isKeyword(d)?4:d==="null"?5:d==="true"||d==="false"?1:3)!=3&&m+d.length!==this.index){var _=this.index;this.index=m,this.tolerateUnexpectedToken(c.Messages.InvalidEscapedReservedWord),this.index=_}return{type:y,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},g.prototype.scanPunctuator=function(){var y=this.index,m=this.source[this.index];switch(m){case"(":case"{":m==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,m="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(m=this.source.substr(this.index,4))===">>>="?this.index+=4:(m=m.substr(0,3))==="==="||m==="!=="||m===">>>"||m==="<<="||m===">>="||m==="**="?this.index+=3:(m=m.substr(0,2))==="&&"||m==="||"||m==="=="||m==="!="||m==="+="||m==="-="||m==="*="||m==="/="||m==="++"||m==="--"||m==="<<"||m===">>"||m==="&="||m==="|="||m==="^="||m==="%="||m==="<="||m===">="||m==="=>"||m==="**"?this.index+=2:(m=this.source[this.index],"<>=!+-*%&|^/".indexOf(m)>=0&&++this.index)}return this.index===y&&this.throwUnexpectedToken(),{type:7,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.scanHexLiteral=function(y){for(var m="";!this.eof()&&f.Character.isHexDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];return m.length===0&&this.throwUnexpectedToken(),f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+m,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.scanBinaryLiteral=function(y){for(var m,d="";!this.eof()&&((m=this.source[this.index])==="0"||m==="1");)d+=this.source[this.index++];return d.length===0&&this.throwUnexpectedToken(),this.eof()||(m=this.source.charCodeAt(this.index),(f.Character.isIdentifierStart(m)||f.Character.isDecimalDigit(m))&&this.throwUnexpectedToken()),{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.scanOctalLiteral=function(y,m){var d="",_=!1;for(f.Character.isOctalDigit(y.charCodeAt(0))?(_=!0,d="0"+this.source[this.index++]):++this.index;!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];return _||d.length!==0||this.throwUnexpectedToken(),(f.Character.isIdentifierStart(this.source.charCodeAt(this.index))||f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(d,8),octal:_,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},g.prototype.isImplicitOctalLiteral=function(){for(var y=this.index+1;y<this.length;++y){var m=this.source[y];if(m==="8"||m==="9")return!1;if(!f.Character.isOctalDigit(m.charCodeAt(0)))return!0}return!0},g.prototype.scanNumericLiteral=function(){var y=this.index,m=this.source[y];l.assert(f.Character.isDecimalDigit(m.charCodeAt(0))||m===".","Numeric literal must start with a decimal digit or a decimal point");var d="";if(m!=="."){if(d=this.source[this.index++],m=this.source[this.index],d==="0"){if(m==="x"||m==="X")return++this.index,this.scanHexLiteral(y);if(m==="b"||m==="B")return++this.index,this.scanBinaryLiteral(y);if(m==="o"||m==="O")return this.scanOctalLiteral(m,y);if(m&&f.Character.isOctalDigit(m.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(m,y)}for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];m=this.source[this.index]}if(m==="."){for(d+=this.source[this.index++];f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];m=this.source[this.index]}if(m==="e"||m==="E")if(d+=this.source[this.index++],(m=this.source[this.index])!=="+"&&m!=="-"||(d+=this.source[this.index++]),f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];else this.throwUnexpectedToken();return f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.scanStringLiteral=function(){var y=this.index,m=this.source[y];l.assert(m==="'"||m==='"',"String literal must starts with a quote"),++this.index;for(var d=!1,_="";!this.eof();){var x=this.source[this.index++];if(x===m){m="";break}if(x==="\\")if((x=this.source[this.index++])&&f.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"u":if(this.source[this.index]==="{")++this.index,_+=this.scanUnicodeCodePointEscape();else{var w=this.scanHexEscape(x);w===null&&this.throwUnexpectedToken(),_+=w}break;case"x":var S=this.scanHexEscape(x);S===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),_+=S;break;case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;case"8":case"9":_+=x,this.tolerateUnexpectedToken();break;default:if(x&&f.Character.isOctalDigit(x.charCodeAt(0))){var b=this.octalToDecimal(x);d=b.octal||d,_+=String.fromCharCode(b.code)}else _+=x}else{if(f.Character.isLineTerminator(x.charCodeAt(0)))break;_+=x}}return m!==""&&(this.index=y,this.throwUnexpectedToken()),{type:8,value:_,octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.scanTemplate=function(){var y="",m=!1,d=this.index,_=this.source[d]==="`",x=!1,w=2;for(++this.index;!this.eof();){var S=this.source[this.index++];if(S==="`"){w=1,x=!0,m=!0;break}if(S==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,m=!0;break}y+=S}else if(S==="\\")if(S=this.source[this.index++],f.Character.isLineTerminator(S.charCodeAt(0)))++this.lineNumber,S==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(S){case"n":y+=`
`;break;case"r":y+="\r";break;case"t":y+="	";break;case"u":if(this.source[this.index]==="{")++this.index,y+=this.scanUnicodeCodePointEscape();else{var b=this.index,T=this.scanHexEscape(S);T!==null?y+=T:(this.index=b,y+=S)}break;case"x":var C=this.scanHexEscape(S);C===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),y+=C;break;case"b":y+="\b";break;case"f":y+="\f";break;case"v":y+="\v";break;default:S==="0"?(f.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral),y+="\0"):f.Character.isOctalDigit(S.charCodeAt(0))?this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral):y+=S}else f.Character.isLineTerminator(S.charCodeAt(0))?(++this.lineNumber,S==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,y+=`
`):y+=S}return m||this.throwUnexpectedToken(),_||this.curlyStack.pop(),{type:10,value:this.source.slice(d+1,this.index-w),cooked:y,head:_,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},g.prototype.testRegExp=function(y,m){var d=y,_=this;m.indexOf("u")>=0&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(x,w,S){var b=parseInt(w||S,16);return b>1114111&&_.throwUnexpectedToken(c.Messages.InvalidRegExp),b<=65535?String.fromCharCode(b):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(d)}catch{this.throwUnexpectedToken(c.Messages.InvalidRegExp)}try{return new RegExp(y,m)}catch{return null}},g.prototype.scanRegExpBody=function(){var y=this.source[this.index];l.assert(y==="/","Regular expression literal must start with a slash");for(var m=this.source[this.index++],d=!1,_=!1;!this.eof();)if(m+=y=this.source[this.index++],y==="\\")y=this.source[this.index++],f.Character.isLineTerminator(y.charCodeAt(0))&&this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),m+=y;else if(f.Character.isLineTerminator(y.charCodeAt(0)))this.throwUnexpectedToken(c.Messages.UnterminatedRegExp);else if(d)y==="]"&&(d=!1);else{if(y==="/"){_=!0;break}y==="["&&(d=!0)}return _||this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),m.substr(1,m.length-2)},g.prototype.scanRegExpFlags=function(){for(var y="";!this.eof();){var m=this.source[this.index];if(!f.Character.isIdentifierPart(m.charCodeAt(0)))break;if(++this.index,m!=="\\"||this.eof())y+=m;else if((m=this.source[this.index])==="u"){++this.index;var d=this.index,_=this.scanHexEscape("u");if(_!==null)for(y+=_;d<this.index;++d)this.source[d];else this.index=d,y+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return y},g.prototype.scanRegExp=function(){var y=this.index,m=this.scanRegExpBody(),d=this.scanRegExpFlags();return{type:9,value:"",pattern:m,flags:d,regex:this.testRegExp(m,d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},g.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var y=this.source.charCodeAt(this.index);return f.Character.isIdentifierStart(y)?this.scanIdentifier():y===40||y===41||y===59?this.scanPunctuator():y===39||y===34?this.scanStringLiteral():y===46?f.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():f.Character.isDecimalDigit(y)?this.scanNumericLiteral():y===96||y===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():y>=55296&&y<57343&&f.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},g}();s.Scanner=v},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.TokenName={},s.TokenName[1]="Boolean",s.TokenName[2]="<end>",s.TokenName[3]="Identifier",s.TokenName[4]="Keyword",s.TokenName[5]="Null",s.TokenName[6]="Numeric",s.TokenName[7]="Punctuator",s.TokenName[8]="String",s.TokenName[9]="RegularExpression",s.TokenName[10]="Template"},function(o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(10),f=u(12),c=u(13),h=function(){function v(){this.values=[],this.curly=this.paren=-1}return v.prototype.beforeFunctionExpression=function(g){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(g)>=0},v.prototype.isRegexStart=function(){var g=this.values[this.values.length-1],y=g!==null;switch(g){case"this":case"]":y=!1;break;case")":var m=this.values[this.paren-1];y=m==="if"||m==="while"||m==="for"||m==="with";break;case"}":if(y=!1,this.values[this.curly-3]==="function")y=!!(d=this.values[this.curly-4])&&!this.beforeFunctionExpression(d);else if(this.values[this.curly-4]==="function"){var d;y=!(d=this.values[this.curly-5])||!this.beforeFunctionExpression(d)}}return y},v.prototype.push=function(g){g.type===7||g.type===4?(g.value==="{"?this.curly=this.values.length:g.value==="("&&(this.paren=this.values.length),this.values.push(g.value)):this.values.push(null)},v}(),p=function(){function v(g,y){this.errorHandler=new l.ErrorHandler,this.errorHandler.tolerant=!!y&&typeof y.tolerant=="boolean"&&y.tolerant,this.scanner=new f.Scanner(g,this.errorHandler),this.scanner.trackComment=!!y&&typeof y.comment=="boolean"&&y.comment,this.trackRange=!!y&&typeof y.range=="boolean"&&y.range,this.trackLoc=!!y&&typeof y.loc=="boolean"&&y.loc,this.buffer=[],this.reader=new h}return v.prototype.errors=function(){return this.errorHandler.errors},v.prototype.getNextToken=function(){if(this.buffer.length===0){var g=this.scanner.scanComments();if(this.scanner.trackComment)for(var y=0;y<g.length;++y){var m=g[y],d=this.scanner.source.slice(m.slice[0],m.slice[1]),_={type:m.multiLine?"BlockComment":"LineComment",value:d};this.trackRange&&(_.range=m.range),this.trackLoc&&(_.loc=m.loc),this.buffer.push(_)}if(!this.scanner.eof()){var x=void 0;this.trackLoc&&(x={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var w=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(w);var S={type:c.TokenName[w.type],value:this.scanner.source.slice(w.start,w.end)};if(this.trackRange&&(S.range=[w.start,w.end]),this.trackLoc&&(x.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},S.loc=x),w.type===9){var b=w.pattern,T=w.flags;S.regex={pattern:b,flags:T}}this.buffer.push(S)}}return this.buffer.shift()},v}();s.Tokenizer=p}])},r.exports=i()},function(r,n,a){var i=a(38),o=a(53),s=a(76),u=a(54),l=Object.prototype.toString,f=Object.prototype.hasOwnProperty,c={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},h=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function p(O){var A,I,U;if(A=O.toString(16).toUpperCase(),O<=255)I="x",U=2;else if(O<=65535)I="u",U=4;else{if(!(O<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");I="U",U=8}return"\\"+I+i.repeat("0",U-A.length)+A}function v(O){this.schema=O.schema||s,this.indent=Math.max(1,O.indent||2),this.noArrayIndent=O.noArrayIndent||!1,this.skipInvalid=O.skipInvalid||!1,this.flowLevel=i.isNothing(O.flowLevel)?-1:O.flowLevel,this.styleMap=function(A,I){var U,P,B,W,H,$,q;if(I===null)return{};for(U={},B=0,W=(P=Object.keys(I)).length;B<W;B+=1)H=P[B],$=String(I[H]),H.slice(0,2)==="!!"&&(H="tag:yaml.org,2002:"+H.slice(2)),(q=A.compiledTypeMap.fallback[H])&&f.call(q.styleAliases,$)&&($=q.styleAliases[$]),U[H]=$;return U}(this.schema,O.styles||null),this.sortKeys=O.sortKeys||!1,this.lineWidth=O.lineWidth||80,this.noRefs=O.noRefs||!1,this.noCompatMode=O.noCompatMode||!1,this.condenseFlow=O.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function g(O,A){for(var I,U=i.repeat(" ",A),P=0,B=-1,W="",H=O.length;P<H;)(B=O.indexOf(`
`,P))===-1?(I=O.slice(P),P=H):(I=O.slice(P,B+1),P=B+1),I.length&&I!==`
`&&(W+=U),W+=I;return W}function y(O,A){return`
`+i.repeat(" ",O.indent*A)}function m(O){return O===32||O===9}function d(O){return 32<=O&&O<=126||161<=O&&O<=55295&&O!==8232&&O!==8233||57344<=O&&O<=65533&&O!==65279||65536<=O&&O<=1114111}function _(O,A){return d(O)&&O!==65279&&O!==44&&O!==91&&O!==93&&O!==123&&O!==125&&O!==58&&(O!==35||A&&function(I){return d(I)&&!m(I)&&I!==65279&&I!==13&&I!==10}(A))}function x(O){return/^\n* /.test(O)}function w(O,A,I,U,P){var B,W,H,$,q=!1,Q=!1,Y=U!==-1,ie=-1,J=d($=O.charCodeAt(0))&&$!==65279&&!m($)&&$!==45&&$!==63&&$!==58&&$!==44&&$!==91&&$!==93&&$!==123&&$!==125&&$!==35&&$!==38&&$!==42&&$!==33&&$!==124&&$!==61&&$!==62&&$!==39&&$!==34&&$!==37&&$!==64&&$!==96&&!m(O.charCodeAt(O.length-1));if(A)for(B=0;B<O.length;B++){if(!d(W=O.charCodeAt(B)))return 5;H=B>0?O.charCodeAt(B-1):null,J=J&&_(W,H)}else{for(B=0;B<O.length;B++){if((W=O.charCodeAt(B))===10)q=!0,Y&&(Q=Q||B-ie-1>U&&O[ie+1]!==" ",ie=B);else if(!d(W))return 5;H=B>0?O.charCodeAt(B-1):null,J=J&&_(W,H)}Q=Q||Y&&B-ie-1>U&&O[ie+1]!==" "}return q||Q?I>9&&x(O)?5:Q?4:3:J&&!P(O)?1:2}function S(O,A,I,U){O.dump=function(){if(A.length===0)return"''";if(!O.noCompatMode&&h.indexOf(A)!==-1)return"'"+A+"'";var P=O.indent*Math.max(1,I),B=O.lineWidth===-1?-1:Math.max(Math.min(O.lineWidth,40),O.lineWidth-P),W=U||O.flowLevel>-1&&I>=O.flowLevel;switch(w(A,W,O.indent,B,function(H){return function($,q){var Q,Y;for(Q=0,Y=$.implicitTypes.length;Q<Y;Q+=1)if($.implicitTypes[Q].resolve(q))return!0;return!1}(O,H)})){case 1:return A;case 2:return"'"+A.replace(/'/g,"''")+"'";case 3:return"|"+b(A,O.indent)+T(g(A,P));case 4:return">"+b(A,O.indent)+T(g(function(H,$){for(var q,Q,Y=/(\n+)([^\n]*)/g,ie=(ae=H.indexOf(`
`),ae=ae!==-1?ae:H.length,Y.lastIndex=ae,C(H.slice(0,ae),$)),J=H[0]===`
`||H[0]===" ",ae;Q=Y.exec(H);){var re=Q[1],V=Q[2];q=V[0]===" ",ie+=re+(J||q||V===""?"":`
`)+C(V,$),J=q}return ie}(A,B),P));case 5:return'"'+function(H){for(var $,q,Q,Y="",ie=0;ie<H.length;ie++)($=H.charCodeAt(ie))>=55296&&$<=56319&&(q=H.charCodeAt(ie+1))>=56320&&q<=57343?(Y+=p(1024*($-55296)+q-56320+65536),ie++):(Q=c[$],Y+=!Q&&d($)?H[ie]:Q||p($));return Y}(A)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function b(O,A){var I=x(O)?String(A):"",U=O[O.length-1]===`
`;return I+(U&&(O[O.length-2]===`
`||O===`
`)?"+":U?"":"-")+`
`}function T(O){return O[O.length-1]===`
`?O.slice(0,-1):O}function C(O,A){if(O===""||O[0]===" ")return O;for(var I,U,P=/ [^ ]/g,B=0,W=0,H=0,$="";I=P.exec(O);)(H=I.index)-B>A&&(U=W>B?W:H,$+=`
`+O.slice(B,U),B=U+1),W=H;return $+=`
`,O.length-B>A&&W>B?$+=O.slice(B,W)+`
`+O.slice(W+1):$+=O.slice(B),$.slice(1)}function M(O,A,I){var U,P,B,W,H,$;for(B=0,W=(P=I?O.explicitTypes:O.implicitTypes).length;B<W;B+=1)if(((H=P[B]).instanceOf||H.predicate)&&(!H.instanceOf||typeof A=="object"&&A instanceof H.instanceOf)&&(!H.predicate||H.predicate(A))){if(O.tag=I?H.tag:"?",H.represent){if($=O.styleMap[H.tag]||H.defaultStyle,l.call(H.represent)==="[object Function]")U=H.represent(A,$);else{if(!f.call(H.represent,$))throw new o("!<"+H.tag+'> tag resolver accepts not "'+$+'" style');U=H.represent[$](A,$)}O.dump=U}return!0}return!1}function D(O,A,I,U,P,B){O.tag=null,O.dump=I,M(O,I,!1)||M(O,I,!0);var W=l.call(O.dump);U&&(U=O.flowLevel<0||O.flowLevel>A);var H,$,q=W==="[object Object]"||W==="[object Array]";if(q&&($=(H=O.duplicates.indexOf(I))!==-1),(O.tag!==null&&O.tag!=="?"||$||O.indent!==2&&A>0)&&(P=!1),$&&O.usedDuplicates[H])O.dump="*ref_"+H;else{if(q&&$&&!O.usedDuplicates[H]&&(O.usedDuplicates[H]=!0),W==="[object Object]")U&&Object.keys(O.dump).length!==0?(function(Y,ie,J,ae){var re,V,R,F,N,L,G="",z=Y.tag,j=Object.keys(J);if(Y.sortKeys===!0)j.sort();else if(typeof Y.sortKeys=="function")j.sort(Y.sortKeys);else if(Y.sortKeys)throw new o("sortKeys must be a boolean or a function");for(re=0,V=j.length;re<V;re+=1)L="",ae&&re===0||(L+=y(Y,ie)),F=J[R=j[re]],D(Y,ie+1,R,!0,!0,!0)&&((N=Y.tag!==null&&Y.tag!=="?"||Y.dump&&Y.dump.length>1024)&&(Y.dump&&Y.dump.charCodeAt(0)===10?L+="?":L+="? "),L+=Y.dump,N&&(L+=y(Y,ie)),D(Y,ie+1,F,!0,N)&&(Y.dump&&Y.dump.charCodeAt(0)===10?L+=":":L+=": ",G+=L+=Y.dump));Y.tag=z,Y.dump=G||"{}"}(O,A,O.dump,P),$&&(O.dump="&ref_"+H+O.dump)):(function(Y,ie,J){var ae,re,V,R,F,N="",L=Y.tag,G=Object.keys(J);for(ae=0,re=G.length;ae<re;ae+=1)F="",ae!==0&&(F+=", "),Y.condenseFlow&&(F+='"'),R=J[V=G[ae]],D(Y,ie,V,!1,!1)&&(Y.dump.length>1024&&(F+="? "),F+=Y.dump+(Y.condenseFlow?'"':"")+":"+(Y.condenseFlow?"":" "),D(Y,ie,R,!1,!1)&&(N+=F+=Y.dump));Y.tag=L,Y.dump="{"+N+"}"}(O,A,O.dump),$&&(O.dump="&ref_"+H+" "+O.dump));else if(W==="[object Array]"){var Q=O.noArrayIndent&&A>0?A-1:A;U&&O.dump.length!==0?(function(Y,ie,J,ae){var re,V,R="",F=Y.tag;for(re=0,V=J.length;re<V;re+=1)D(Y,ie+1,J[re],!0,!0)&&(ae&&re===0||(R+=y(Y,ie)),Y.dump&&Y.dump.charCodeAt(0)===10?R+="-":R+="- ",R+=Y.dump);Y.tag=F,Y.dump=R||"[]"}(O,Q,O.dump,P),$&&(O.dump="&ref_"+H+O.dump)):(function(Y,ie,J){var ae,re,V="",R=Y.tag;for(ae=0,re=J.length;ae<re;ae+=1)D(Y,ie,J[ae],!1,!1)&&(ae!==0&&(V+=","+(Y.condenseFlow?"":" ")),V+=Y.dump);Y.tag=R,Y.dump="["+V+"]"}(O,Q,O.dump),$&&(O.dump="&ref_"+H+" "+O.dump))}else{if(W!=="[object String]"){if(O.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+W)}O.tag!=="?"&&S(O,O.dump,A,B)}O.tag!==null&&O.tag!=="?"&&(O.dump="!<"+O.tag+"> "+O.dump)}return!0}function E(O,A){var I,U,P=[],B=[];for(function W(H,$,q){var Q,Y,ie;if(H!==null&&typeof H=="object")if((Y=$.indexOf(H))!==-1)q.indexOf(Y)===-1&&q.push(Y);else if($.push(H),Array.isArray(H))for(Y=0,ie=H.length;Y<ie;Y+=1)W(H[Y],$,q);else for(Q=Object.keys(H),Y=0,ie=Q.length;Y<ie;Y+=1)W(H[Q[Y]],$,q)}(O,P,B),I=0,U=B.length;I<U;I+=1)A.duplicates.push(P[B[I]]);A.usedDuplicates=new Array(U)}function k(O,A){var I=new v(A=A||{});return I.noRefs||E(O,I),D(I,0,O,!0,!0)?I.dump+`
`:""}r.exports.dump=k,r.exports.safeDump=function(O,A){return k(O,i.extend({schema:u},A))}},function(r,n,a){a(31),a(32),a(33),a(64),a(19),a(65),a(20),a(68),a(92),a(144),a(22),a(94),a(23);var i,o=this&&this.__extends||(i=function(w,S){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var C in T)T.hasOwnProperty(C)&&(b[C]=T[C])})(w,S)},function(w,S){function b(){this.constructor=w}i(w,S),w.prototype=S===null?Object.create(S):(b.prototype=S.prototype,new b)}),s=this&&this.__values||function(w){var S=typeof Symbol=="function"&&Symbol.iterator,b=S&&w[S],T=0;if(b)return b.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&T>=w.length&&(w=void 0),{value:w&&w[T++],done:!w}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(w,S){var b=typeof Symbol=="function"&&w[Symbol.iterator];if(!b)return w;var T,C,M=b.call(w),D=[];try{for(;(S===void 0||S-- >0)&&!(T=M.next()).done;)D.push(T.value)}catch(E){C={error:E}}finally{try{T&&!T.done&&(b=M.return)&&b.call(M)}finally{if(C)throw C.error}}return D};Object.defineProperty(n,"__esModule",{value:!0});var l=a(91),f=a(1),c=a(183),h=a(0),p=a(7),v=a(95),g=a(69),y=a(3),m=a(305),d=a(306),_=a(307),x=function(w){function S(b,T){T===void 0&&(T=!1);var C=w.call(this)||this;return C._hasDeclaration=!1,C._docTypeName="",C._hasDocumentElement=!1,C._currentElementSerialized=!1,C._openTags=[],C._ended=!1,C._fragment=T,C._options=f.applyDefaults(b||{},l.DefaultXMLBuilderCBOptions),C._builderOptions={defaultNamespace:C._options.defaultNamespace,namespaceAlias:C._options.namespaceAlias},C._options.format==="json"?C._writer=new d.JSONCBWriter(C._options):C._options.format==="yaml"?C._writer=new _.YAMLCBWriter(C._options):C._writer=new m.XMLCBWriter(C._options),C._options.data!==void 0&&C.on("data",C._options.data),C._options.end!==void 0&&C.on("end",C._options.end),C._options.error!==void 0&&C.on("error",C._options.error),C._prefixMap=new v.NamespacePrefixMap,C._prefixMap.set("xml",p.namespace.XML),C._prefixIndex={value:1},C._push(C._writer.frontMatter()),C}return o(S,w),S.prototype.ele=function(b,T,C){var M,D;if(f.isObject(b)||f.isString(b)&&(/^\s*</.test(b)||/^\s*[\{\[]/.test(b)||/^(\s*|(#.*)|(%.*))*---/.test(b))){var E=c.fragment().set(this._options);try{E.ele(b)}catch(I){return this.emit("error",I),this}try{for(var k=s(E.node.childNodes),O=k.next();!O.done;O=k.next()){var A=O.value;this._fromNode(A)}}catch(I){M={error:I}}finally{try{O&&!O.done&&(D=k.return)&&D.call(k)}finally{if(M)throw M.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=c.fragment(this._builderOptions).ele(b,T,C)}catch(I){return this.emit("error",I),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},S.prototype.att=function(b,T,C){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(b,T,C)}catch(M){return this.emit("error",M),this}return this},S.prototype.com=function(b){var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).com(b).first().node}catch(C){return this.emit("error",C),this}return!this._options.wellFormed||h.xml_isLegalChar(T.data)&&T.data.indexOf("--")===-1&&!T.data.endsWith("-")?(this._push(this._writer.comment(T.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},S.prototype.txt=function(b){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).txt(b).first().node}catch(M){return this.emit("error",M),this}if(this._options.wellFormed&&!h.xml_isLegalChar(T.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var C=T.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(C)),this},S.prototype.ins=function(b,T){var C;T===void 0&&(T=""),this._serializeOpenTag(!0);try{C=c.fragment(this._builderOptions).ins(b,T).first().node}catch(M){return this.emit("error",M),this}return this._options.wellFormed&&(C.target.indexOf(":")!==-1||/^xml$/i.test(C.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!h.xml_isLegalChar(C.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(C.target,C.data)),this)},S.prototype.dat=function(b){var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).dat(b).first().node}catch(C){return this.emit("error",C),this}return this._push(this._writer.cdata(T.data)),this},S.prototype.dec=function(b){return b===void 0&&(b={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(b.version||"1.0",b.encoding,b.standalone)),this._hasDeclaration=!0,this)},S.prototype.dtd=function(b){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var T;try{T=c.create().dtd(b).first().node}catch(C){return this.emit("error",C),this}return this._options.wellFormed&&!h.xml_isPubidChar(T.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!h.xml_isLegalChar(T.systemId)||T.systemId.indexOf('"')!==-1&&T.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=b.name,this._push(this._writer.docType(b.name,T.publicId,T.systemId)),this)},S.prototype.import=function(b){var T,C,M=c.fragment().set(this._options);try{M.import(b)}catch(O){return this.emit("error",O),this}try{for(var D=s(M.node.childNodes),E=D.next();!E.done;E=D.next()){var k=E.value;this._fromNode(k)}}catch(O){T={error:O}}finally{try{E&&!E.done&&(C=D.return)&&C.call(D)}finally{if(T)throw T.error}}return this},S.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},S.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},S.prototype._serializeOpenTag=function(b){if(!this._currentElementSerialized&&this._currentElement!==void 0){var T=this._currentElement.node;if(!this._options.wellFormed||T.localName.indexOf(":")===-1&&h.xml_isName(T.localName)){var C="",M=!1,D=this._prefixMap.copy(),E={},k=this._recordNamespaceInformation(T,D,E),O=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],A=T.namespaceURI;if(A===null&&(A=O),O===A)k!==null&&(M=!0),C=A===p.namespace.XML?"xml:"+T.localName:T.localName,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C));else{var I=T.prefix,U=null;if(I===null&&A===k||(U=D.get(I,A)),I==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));U=I}U!==null?(C=U+":"+T.localName,k!==null&&k!==p.namespace.XML&&(O=k||null),this._writer.beginElement(C),this._push(this._writer.openTagBegin(C))):I!==null?(I in E&&(I=this._generatePrefix(A,D,this._prefixIndex)),D.set(I,A),C+=I+":"+T.localName,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)),this._push(this._writer.attribute("xmlns:"+I,this._serializeAttributeValue(A,this._options.wellFormed))),k!==null&&(O=k||null)):k===null||k!==null&&k!==A?(M=!0,C+=T.localName,O=A,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(A,this._options.wellFormed)))):(C+=T.localName,O=A,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)))}this._serializeAttributes(T,D,this._prefixIndex,E,M,this._options.wellFormed);var P=A===p.namespace.HTML;P&&!b&&S._VoidElementNames.has(T.localName)?(this._push(this._writer.openTagEnd(C,!0,!0)),this._writer.endElement(C)):P||b?this._push(this._writer.openTagEnd(C,!1,!1)):(this._push(this._writer.openTagEnd(C,!0,!1)),this._writer.endElement(C)),this._currentElementSerialized=!0,this._openTags.push([C,O,this._prefixMap,b]),this._isPrefixMapModified(this._prefixMap,D)&&(this._prefixMap=D),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},S.prototype._serializeCloseTag=function(){this._writer.level--;var b=this._openTags.pop();if(b!==void 0){var T=u(b,4),C=T[0],M=(T[1],T[2]),D=T[3];this._prefixMap=M,D&&(this._push(this._writer.closeTag(C)),this._writer.endElement(C))}else this.emit("error",new Error("Last element is undefined."))},S.prototype._push=function(b){b===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):b.length!==0&&(this._writer.hasData=!0,this.emit("data",b,this._writer.level))},S.prototype._fromNode=function(b){var T,C,M,D;if(y.Guard.isElementNode(b)){var E=b.prefix?b.prefix+":"+b.localName:b.localName;b.namespaceURI!==null?this.ele(b.namespaceURI,E):this.ele(E);try{for(var k=s(b.attributes),O=k.next();!O.done;O=k.next()){var A=O.value,I=A.prefix?A.prefix+":"+A.localName:A.localName;A.namespaceURI!==null?this.att(A.namespaceURI,I,A.value):this.att(I,A.value)}}catch(W){T={error:W}}finally{try{O&&!O.done&&(C=k.return)&&C.call(k)}finally{if(T)throw T.error}}try{for(var U=s(b.childNodes),P=U.next();!P.done;P=U.next()){var B=P.value;this._fromNode(B)}}catch(W){M={error:W}}finally{try{P&&!P.done&&(D=U.return)&&D.call(U)}finally{if(M)throw M.error}}this.up()}else y.Guard.isExclusiveTextNode(b)&&b.data?this.txt(b.data):y.Guard.isCommentNode(b)?this.com(b.data):y.Guard.isCDATASectionNode(b)?this.dat(b.data):y.Guard.isProcessingInstructionNode(b)&&this.ins(b.target,b.data)},S.prototype._serializeAttributes=function(b,T,C,M,D,E){var k,O,A=E?new g.LocalNameSet:void 0;try{for(var I=s(b.attributes),U=I.next();!U.done;U=I.next()){var P=U.value;if(E||D||P.namespaceURI!==null){if(E&&A&&A.has(P.namespaceURI,P.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));E&&A&&A.set(P.namespaceURI,P.localName);var B=P.namespaceURI,W=null;if(B!==null)if(W=T.get(P.prefix,B),B===p.namespace.XMLNS){if(P.value===p.namespace.XML||P.prefix===null&&D||P.prefix!==null&&(!(P.localName in M)||M[P.localName]!==P.value)&&T.has(P.localName,P.value))continue;if(E&&P.value===p.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(E&&P.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));P.prefix==="xmlns"&&(W="xmlns")}else W===null&&(W=P.prefix===null||T.hasPrefix(P.prefix)&&!T.has(P.prefix,B)?this._generatePrefix(B,T,C):P.prefix,this._push(this._writer.attribute("xmlns:"+W,this._serializeAttributeValue(B,this._options.wellFormed))));if(E&&(P.localName.indexOf(":")!==-1||!h.xml_isName(P.localName)||P.localName==="xmlns"&&B===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((W!==null?W+":":"")+P.localName,this._serializeAttributeValue(P.value,this._options.wellFormed)))}else this._push(this._writer.attribute(P.localName,this._serializeAttributeValue(P.value,this._options.wellFormed)))}}catch(H){k={error:H}}finally{try{U&&!U.done&&(O=I.return)&&O.call(I)}finally{if(k)throw k.error}}},S.prototype._serializeAttributeValue=function(b,T){return T&&b!==null&&!h.xml_isLegalChar(b)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):b===null?"":b.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},S.prototype._recordNamespaceInformation=function(b,T,C){var M,D,E=null;try{for(var k=s(b.attributes),O=k.next();!O.done;O=k.next()){var A=O.value,I=A.namespaceURI,U=A.prefix;if(I===p.namespace.XMLNS){if(U===null){E=A.value;continue}var P=A.localName,B=A.value;if(B===p.namespace.XML||(B===""&&(B=null),T.has(P,B)))continue;T.set(P,B),C[P]=B||""}}}catch(W){M={error:W}}finally{try{O&&!O.done&&(D=k.return)&&D.call(k)}finally{if(M)throw M.error}}return E},S.prototype._generatePrefix=function(b,T,C){var M="ns"+C.value;return C.value++,T.set(M,b),M},S.prototype._isPrefixMapModified=function(b,T){var C=b._items,M=T._items,D=b._nullItems,E=T._nullItems;for(var k in M){var O=C[k];if(O===void 0)return!0;var A=M[k];if(O.length!==A.length)return!0;for(var I=0;I<O.length;I++)if(O[I]!==A[I])return!0}if(D.length!==E.length)return!0;for(I=0;I<D.length;I++)if(D[I]!==E[I])return!0;return!1},S._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),S}(a(308).EventEmitter);n.XMLBuilderCBImpl=x},function(r,n,a){a(74);var i,o=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;return c._lineLength=0,c}return o(l,u),l.prototype.frontMatter=function(){return""},l.prototype.declaration=function(f,c,h){var p=this._beginLine()+"<?xml";return p+=' version="'+f+'"',c!==void 0&&(p+=' encoding="'+c+'"'),h!==void 0&&(p+=' standalone="'+(h?"yes":"no")+'"'),p+="?>"},l.prototype.docType=function(f,c,h){var p=this._beginLine();return p+=c&&h?"<!DOCTYPE "+f+' PUBLIC "'+c+'" "'+h+'">':c?"<!DOCTYPE "+f+' PUBLIC "'+c+'">':h?"<!DOCTYPE "+f+' SYSTEM "'+h+'">':"<!DOCTYPE "+f+">"},l.prototype.comment=function(f){return this._beginLine()+"<!--"+f+"-->"},l.prototype.text=function(f){return this._beginLine()+f},l.prototype.instruction=function(f,c){return c?this._beginLine()+"<?"+f+" "+c+"?>":this._beginLine()+"<?"+f+"?>"},l.prototype.cdata=function(f){return this._beginLine()+"<![CDATA["+f+"]]>"},l.prototype.openTagBegin=function(f){return this._lineLength+=1+f.length,this._beginLine()+"<"+f},l.prototype.openTagEnd=function(f,c,h){return h?" />":c?this._writerOptions.allowEmptyTags?"></"+f+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},l.prototype.closeTag=function(f){return this._beginLine()+"</"+f+">"},l.prototype.attribute=function(f,c){var h=f+'="'+c+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+h.length>this._writerOptions.width?(h=this._beginLine()+this._indent(1)+h,this._lineLength=h.length,h):(this._lineLength+=1+h.length," "+h)},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){},l.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var f=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=f.length,f}return""},l.prototype._indent=function(f){return f<=0?"":this._writerOptions.indent.repeat(f)},l}(a(114).BaseCBWriter);n.XMLCBWriter=s},function(r,n,a){a(74);var i,o=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;return c._hasChildren=[],c._additionalLevel=0,c}return o(l,u),l.prototype.frontMatter=function(){return""},l.prototype.declaration=function(f,c,h){return""},l.prototype.docType=function(f,c,h){return""},l.prototype.comment=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.text=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.instruction=function(f,c){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(c?f+" "+c:f)+this._sep()+"}"},l.prototype.cdata=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.attribute=function(f,c){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+f)+this._sep()+this._val(c)+this._sep()+"}"},l.prototype.openTagBegin=function(f){var c=this._comma()+this._beginLine()+"{"+this._sep()+this._key(f)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,c+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),c},l.prototype.openTagEnd=function(f,c,h){if(c){var p=this._sep()+"]";return this._additionalLevel--,p+=this._beginLine()+"}"+this._sep()+"}"}return""},l.prototype.closeTag=function(f){var c=this._beginLine()+"]";return this._additionalLevel--,c+=this._beginLine()+"}"+this._sep()+"}"},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){this._hasChildren.pop()},l.prototype._beginLine=function(f){return f===void 0&&(f=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+f):""},l.prototype._indent=function(f){return f+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(f+this._additionalLevel)},l.prototype._comma=function(){var f=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),f},l.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},l.prototype._key=function(f){return'"'+f+'":'},l.prototype._val=function(f){return JSON.stringify(f)},l}(a(114).BaseCBWriter);n.JSONCBWriter=s},function(r,n,a){a(74);var i,o=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;if(c._rootWritten=!1,c._additionalLevel=0,f.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(f.offset<0)throw new Error("YAML offset should be zero or a positive number.");return c}return o(l,u),l.prototype.frontMatter=function(){return this._beginLine()+"---"},l.prototype.declaration=function(f,c,h){return""},l.prototype.docType=function(f,c,h){return""},l.prototype.comment=function(f){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(f)},l.prototype.text=function(f){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(f)},l.prototype.instruction=function(f,c){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(c?f+" "+c:f)},l.prototype.cdata=function(f){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(f)},l.prototype.attribute=function(f,c){this._additionalLevel++;var h=this._beginLine()+this._key(this._builderOptions.convert.att+f)+" "+this._val(c);return this._additionalLevel--,h},l.prototype.openTagBegin=function(f){var c=this._beginLine()+this._key(f);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,c+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},l.prototype.openTagEnd=function(f,c,h){return c?" "+this._val(""):""},l.prototype.closeTag=function(f){return this._additionalLevel--,""},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){},l.prototype._beginLine=function(f){return f===void 0&&(f=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,f)},l.prototype._indent=function(f,c){if(f+this._additionalLevel<=0)return"";var h=this._writerOptions.indent.repeat(f+this._additionalLevel);return!c&&this._rootWritten?h.substr(0,h.length-2)+"-"+h.substr(-1,1):h},l.prototype._key=function(f){return'"'+f+'":'},l.prototype._val=function(f){return JSON.stringify(f)},l}(a(114).BaseCBWriter);n.YAMLCBWriter=s},function(r,n,a){var i,o=typeof Reflect=="object"?Reflect:null,s=o&&typeof o.apply=="function"?o.apply:function(_,x,w){return Function.prototype.apply.call(_,x,w)};i=o&&typeof o.ownKeys=="function"?o.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:function(_){return Object.getOwnPropertyNames(_)};var u=Number.isNaN||function(_){return _!=_};function l(){l.init.call(this)}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var f=10;function c(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}function h(_){return _._maxListeners===void 0?l.defaultMaxListeners:_._maxListeners}function p(_,x,w,S){var b,T,C,M;if(c(w),(T=_._events)===void 0?(T=_._events=Object.create(null),_._eventsCount=0):(T.newListener!==void 0&&(_.emit("newListener",x,w.listener?w.listener:w),T=_._events),C=T[x]),C===void 0)C=T[x]=w,++_._eventsCount;else if(typeof C=="function"?C=T[x]=S?[w,C]:[C,w]:S?C.unshift(w):C.push(w),(b=h(_))>0&&C.length>b&&!C.warned){C.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=_,D.type=x,D.count=C.length,M=D,console&&console.warn&&console.warn(M)}return _}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(_,x,w){var S={fired:!1,wrapFn:void 0,target:_,type:x,listener:w},b=v.bind(S);return b.listener=w,S.wrapFn=b,b}function y(_,x,w){var S=_._events;if(S===void 0)return[];var b=S[x];return b===void 0?[]:typeof b=="function"?w?[b.listener||b]:[b]:w?function(T){for(var C=new Array(T.length),M=0;M<C.length;++M)C[M]=T[M].listener||T[M];return C}(b):d(b,b.length)}function m(_){var x=this._events;if(x!==void 0){var w=x[_];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function d(_,x){for(var w=new Array(x),S=0;S<x;++S)w[S]=_[S];return w}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(_){if(typeof _!="number"||_<0||u(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");f=_}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||u(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(_){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var S=_==="error",b=this._events;if(b!==void 0)S=S&&b.error===void 0;else if(!S)return!1;if(S){var T;if(x.length>0&&(T=x[0]),T instanceof Error)throw T;var C=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw C.context=T,C}var M=b[_];if(M===void 0)return!1;if(typeof M=="function")s(M,this,x);else{var D=M.length,E=d(M,D);for(w=0;w<D;++w)s(E[w],this,x)}return!0},l.prototype.addListener=function(_,x){return p(this,_,x,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(_,x){return p(this,_,x,!0)},l.prototype.once=function(_,x){return c(x),this.on(_,g(this,_,x)),this},l.prototype.prependOnceListener=function(_,x){return c(x),this.prependListener(_,g(this,_,x)),this},l.prototype.removeListener=function(_,x){var w,S,b,T,C;if(c(x),(S=this._events)===void 0)return this;if((w=S[_])===void 0)return this;if(w===x||w.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete S[_],S.removeListener&&this.emit("removeListener",_,w.listener||x));else if(typeof w!="function"){for(b=-1,T=w.length-1;T>=0;T--)if(w[T]===x||w[T].listener===x){C=w[T].listener,b=T;break}if(b<0)return this;b===0?w.shift():function(M,D){for(;D+1<M.length;D++)M[D]=M[D+1];M.pop()}(w,b),w.length===1&&(S[_]=w[0]),S.removeListener!==void 0&&this.emit("removeListener",_,C||x)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(_){var x,w,S;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[_]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[_]),this;if(arguments.length===0){var b,T=Object.keys(w);for(S=0;S<T.length;++S)(b=T[S])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=w[_])=="function")this.removeListener(_,x);else if(x!==void 0)for(S=x.length-1;S>=0;S--)this.removeListener(_,x[S]);return this},l.prototype.listeners=function(_){return y(this,_,!0)},l.prototype.rawListeners=function(_){return y(this,_,!1)},l.listenerCount=function(_,x){return typeof _.listenerCount=="function"?_.listenerCount(x):m.call(_,x)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(77);n.createCB=function(o){return new i.XMLBuilderCBImpl(o)},n.fragmentCB=function(o){return new i.XMLBuilderCBImpl(o,!0)}}])})}(V0)),V0.exports}var w0e=x0e();function ZU(t){var e=new TextDecoder("latin1");return e.decode(t)}function S0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=ZU(t),a=e.exec(n);if(!a)return{text:n};var i=a.index+a[0].length,o=n.substring(0,i),s=null,u=r?r.exec(n):null;if(u){var l=n.substr(u.index);s={text:o+l,binaryBuffer:t.slice(i,u.index)}}else s={text:o,binaryBuffer:t.slice(i)};return s}var b0e={arrayBufferToString:ZU,extractBinary:S0e},JU=X.vtkErrorMacro,T0e=X.vtkDebugMacro,X2=function(){return JU("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."))},Sf=0;function T1(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=new XMLHttpRequest;return n.open(t,e,!0),r.headers&&Object.entries(r.headers).forEach(function(a){var i=Fr(a,2),o=i[0],s=i[1];return n.setRequestHeader(o,s)}),r.progressCallback&&n.addEventListener("progress",r.progressCallback),n}function C0e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,n){var a=T1("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?r(a.response):n({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function E0e(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n&&n.compression?X2():r.ref&&!r.ref.pending?new Promise(function(a,i){var o=[e,r.ref.basepath,r.ref.id].join("/"),s=T1("GET",o,n);s.onreadystatechange=function(u){s.readyState===1&&(r.ref.pending=!0,++Sf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),s.readyState===4&&(r.ref.pending=!1,s.status===200||s.status===0?(r.buffer=s.response,r.ref.encode==="JSON"?r.values=JSON.parse(r.buffer):(Da.ENDIANNESS!==r.ref.encode&&Da.ENDIANNESS&&(T0e("Swap bytes of ".concat(r.name)),Da.swapBytes(r.buffer,Qv[r.dataType])),r.values=X.newTypedArray(r.dataType,r.buffer)),r.values.length!==r.size&&JU("Error in FetchArray: ".concat(r.name,", does not have the proper array size. Got ").concat(r.values.length,", instead of ").concat(r.size)),delete r.ref,--Sf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(r)):i({xhr:s,e:u}))},s.responseType=r.dataType!=="string"?"arraybuffer":"text",s.send()}):Promise.resolve(r)}function D0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r&&r.compression?X2():new Promise(function(n,a){var i=T1("GET",e,r);i.onreadystatechange=function(o){i.readyState===1&&++Sf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Sf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n(JSON.parse(i.responseText)):a({xhr:i,e:o}))},i.responseType="text",i.send()})}function O0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r&&r.compression?X2():new Promise(function(n,a){var i=T1("GET",e,r);i.onreadystatechange=function(o){i.readyState===1&&++Sf===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Sf===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n(i.responseText):a({xhr:i,e:o}))},i.responseType="text",i.send()})}function M0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(n,a){var i=new Image;r.crossOrigin&&(i.crossOrigin=r.crossOrigin),i.onload=function(){return n(i)},i.onerror=a,i.src=e})}var L0e={fetchArray:E0e,fetchJSON:D0e,fetchText:O0e,fetchBinary:C0e,fetchImage:M0e};UP("http")||sd("http",function(t){return L0e});function QU(t,e){return je(t.getElementsByTagName(e))}function lR(t,e){return QU(t,e)[0]}function k0e(t){return w0e.create(t)}function R0e(t){var e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,r=/\n\s*<\/AppendedData>/m;return b0e.extractBinary(t,e,r)}var ms={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},go={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function Hx(t){var e=t.length-1;return t.filter(function(r,n){return n<e&&n%2===0})}function e8(t,e){if(e==="UInt64"){var r=8,n=new Uint32Array(t.buffer,0,6),a=n[0],i=n[2],o=n[4],s=[r,a,i,o];n=new Uint32Array(t.buffer,3*8,a*2);for(var u=0;u<a;u++)s.push(n[u*2]);return s}var l=new Uint32Array(t.buffer,0,3),f=4,c=l[0],h=l[1],p=l[2],v=[f,c,h,p];l=new Uint32Array(t.buffer,3*4,c);for(var g=0;g<c;g++)v.push(l[g]);return v}function t8(t,e){var r=Tn.inflate(t);e.uint8.set(r,e.offset),e.offset+=r.length}function hv(t,e,r,n,a,i){var o=e.getAttribute("type"),s=e.getAttribute("Name"),u=e.getAttribute("format"),l=Number(e.getAttribute("NumberOfComponents")||"1"),f=null;if(u==="ascii"){f=new ms[o](t*l);var c=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(function(T){T.trim().length&&(f[c++]=Number(T))})}else if(u==="binary"){var h=new Uint8Array(_2.toArrayBuffer(e.firstChild.nodeValue.trim()));if(r==="vtkZLibDataCompressor"){var p=new ArrayBuffer(go[o]*t*l);f=new ms[o](p);for(var v={offset:0,uint8:new Uint8Array(p)},g=e8(h,a),y=g[1],m=h.length-(g.reduce(function(T,C){return T+C},0)-(g[0]+g[1]+g[2]+g[3])),d=0;d<y;d++){var _=g[4+d],x=new Uint8Array(h.buffer,m,_);t8(x,v),m+=_}o.indexOf("Int64")!==-1&&(f=Hx(f))}else f=new ms[o](h.buffer,go[a]),o.indexOf("Int64")!==-1&&(f=Hx(f))}else if(u==="appended"){var w=Number(e.getAttribute("offset")),S;w%go[a]===0?S=new ms[a](i,w,1):S=new ms[a](i.slice(w,w+go[a]));var b=S[0]/go[o];o.indexOf("Int64")!==-1&&(b*=2),w+=go[a],w%go[o]===0?f=new ms[o](i,w,b):f=new ms[o](i.slice(w,w+S[0])),o.indexOf("Int64")!==-1&&(f=Hx(f))}else console.error("Format not supported",u);return{name:s,values:f,numberOfComponents:l}}function A0e(t,e,r,n,a,i){for(var o={},s=e.getElementsByTagName("DataArray"),u=0;u<s.length;u++){var l=s[u];o[l.getAttribute("Name")]=l}var f=hv(t,o.offsets,r,n,a,i).values,c=f[f.length-1],h=hv(c,o.connectivity,r,n,a,i).values,p=new Uint32Array(t+c),v=0,g=0;return f.forEach(function(y){var m=y-g;p[v++]=m;for(var d=0;d<m;d++)p[v++]=h[g+d];g=y}),p}function N0e(t,e,r,n,a,i,o){if(e){var s=["Scalars","Vectors","Normals","Tensors","TCoords"],u={};s.forEach(function(g){var y=e.getAttribute(g);y&&(u[y]=r["set".concat(g)])});for(var l=e.getElementsByTagName("DataArray"),f=l.length,c=0;c<f;c++){var h=l[c],p=gt.newInstance(hv(t,h,n,a,i,o)),v=p.getName();(u[v]||r.addArray)(p)}}}function F0e(t,e,r,n,a){return je(t.getElementsByTagName("DataArray")).map(function(i){return gt.newInstance(hv(Number(i.getAttribute("NumberOfTuples")),i,e,r,n,a))})}function B0e(t,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=uce.get("http"));function r(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(n,a)}t.setUrl=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=n;var i=n.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(a)},t.loadData=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r(e.url,n).then(t.parseAsArrayBuffer)},t.parseAsArrayBuffer=function(n){if(!n)return!1;if(n!==e.rawDataBuffer)t.modified();else return!0;var a=R0e(n),i=a.text,o=a.binaryBuffer;e.rawDataBuffer=n,e.binaryBuffer=o;var s=k0e(i),u=s.root().node,l=u.getAttribute("type"),f=u.getAttribute("compressor"),c=u.getAttribute("byte_order"),h=u.getAttribute("header_type")||"UInt32";if(f&&f!=="vtkZLibDataCompressor")return console.error("Invalid compressor",f),!1;if(c&&c!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(l!==e.dataType)return console.error("Invalid data type",l,"expecting",e.dataType),!1;if(lR(u,"AppendedData")){var p=lR(u,"AppendedData"),v=p.getAttribute("encoding"),g=QU(u,"DataArray"),y=e.binaryBuffer;v==="base64"&&(y=p.textContent.trim().substr(1));for(var m=[],d=0;d<g.length;++d){var _=Number(g[d].getAttribute("offset")),x=0;d===g.length-1?x=y.length||y.byteLength:x=Number(g[d+1].getAttribute("offset")),v==="base64"?m.push(new Uint8Array(_2.toArrayBuffer(y.substring(_,x)))):m.push(new Uint8Array(y.slice(_,x)))}if(f==="vtkZLibDataCompressor")for(var w=0;w<m.length;++w){var S=m[w],b=e8(S,h),T=b[1],C=S.length-(b.reduce(function(ae,re){return ae+re},0)-(b[0]+b[1]+b[2]+b[3])),M=null;T>0?b[3]===0?M=new ArrayBuffer(b[2]*T):M=new ArrayBuffer(b[2]*(T-1)+b[3]):M=new ArrayBuffer(0);for(var D=new Uint8Array(M),E={offset:0,uint8:D},k=0;k<T;k++){var O=b[4+k],A=new Uint8Array(S.buffer,C,O);t8(A,E),C+=O}var I=new Uint8Array(D.length+go[h]);new ms[h](I.buffer,0,1)[0]=D.length,I.set(D,go[h]),m[w]=I}for(var U=m.reduce(function(ae,re){return ae+re.length},0),P=new ArrayBuffer(U),B=new Uint8Array(P),W=0,H=0;W<m.length;++W)g[W].setAttribute("offset",H),B.set(m[W],H),H+=m[W].length;if(e.binaryBuffer=P,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}t.parseXML(u,l,f,c,h);var $=u.getElementsByTagName(l)[0],q=$.getElementsByTagName("FieldData")[0];if(q)for(var Q=F0e(q,f,c,h,e.binaryBuffer),Y=0;Y<e.output.length;Y++)for(var ie=e.output[Y].getFieldData(),J=0;J<Q.length;J++)ie.addArray(Q[J]);return!0},t.requestData=function(n,a){t.parseAsArrayBuffer(e.rawDataBuffer)}}var I0e={};function V0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,I0e,r),X.obj(t,e),X.get(t,e,["url","baseURL"]),X.setGet(t,e,["dataAccessHelper"]),X.algo(t,e,0,1),B0e(t,e)}var Ib={extend:V0e,processDataArray:hv,processFieldData:N0e,processCells:A0e};function P0e(t,e){e.classHierarchy.push("vtkXMLImageDataReader"),t.parseXML=function(r,n,a,i,o){for(var s,u=r.getElementsByTagName(e.dataType)[0],l=u.getAttribute("Origin").split(" ").map(function(d){return Number(d)}),f=u.getAttribute("Spacing").split(" ").map(function(d){return Number(d)}),c=(s=u.getAttribute("Direction"))===null||s===void 0?void 0:s.split(" ").map(function(d){return Number(d)}),h=u.getElementsByTagName("Piece"),p=h.length,v=0;v<p;v++){var g=h[v],y=g.getAttribute("Extent").split(" ").map(function(d){return Number(d)}),m=G2.newInstance({origin:l,spacing:f,direction:c,extent:y});Ib.processFieldData(m.getNumberOfPoints(),g.getElementsByTagName("PointData")[0],m.getPointData(),a,i,o,e.binaryBuffer),Ib.processFieldData(m.getNumberOfCells(),g.getElementsByTagName("CellData")[0],m.getCellData(),a,i,o,e.binaryBuffer),e.output[v]=m}}}var U0e={dataType:"ImageData"};function r8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U0e,r),Ib.extend(t,e,r),P0e(t,e)}var z0e=X.newInstance(r8,"vtkXMLImageDataReader"),bf={newInstance:z0e,extend:r8};const cd=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},G0e={id:"reco"},cR=1,W0e={__name:"RecoVolume",emits:["reconstructing"],setup(t,{expose:e,emit:r}){const n=be(1),a=be(cR),i=r,o=be(null),s=be(0),u=be(0);let l=null,f=!1,c=!1;const h=be("Pending ..."),p=be(!1),v=U2.newInstance();v.addRGBPoint(0,0,0,0),v.addRGBPoint(255,1,1,1);const g=Ry.newInstance();g.addPoint(0,0),g.addPoint(255,1);let y={};function m(E,k){const A=[E[k][0][0]+1.5*(E[k][0][0]-E[k][2][0]),E[k][0][1]+1.5*(E[k][0][1]-E[k][2][1]),E[k][0][2]+1.5*(E[k][0][2]-E[k][2][2])],I=[E[k][0][0]+1.5*(E[k][1][0]-E[k][0][0]),E[k][0][1]+1.5*(E[k][1][1]-E[k][0][1]),E[k][0][2]+1.5*(E[k][1][2]-E[k][0][2])],U=[E[k][0][0]+1.5*(E[k][0][0]-E[k][1][0]),E[k][0][1]+1.5*(E[k][0][1]-E[k][1][1]),E[k][0][2]+1.5*(E[k][0][2]-E[k][1][2])];return[A,I,U]}function d(){const E=S2.newInstance();y.renderWindow=E;const k=O2.newInstance();E.addRenderer(k),k.setBackground(.8,.8,.8);const O=B2.newInstance(),A=document.querySelector(".con2");O.setContainer(A),E.addView(O);const I=A.getBoundingClientRect();O.setSize(I.width,I.height);const U=h1.newInstance();U.setView(O),U.initialize(),U.bindEvents(A),U.setInteractorStyle(K6.newInstance());const P=bf.newInstance(),B=Ny.newInstance(),W=Ay.newInstance();o.value={renderWindow:E,renderer:k,openGlRenderWindow:O,interactor:U,actor:W,mapper:B,reader:P,container:A}}function _(){f=!0;const{reader:E,mapper:k,actor:O,renderWindow:A,renderer:I}=o.value;u.value=0;const U=P=>{P.lengthComputable?(u.value=Math.floor(100*P.loaded/P.total),u.value<100&&(h.value="Loading "+u.value+"%")):u.value=100};l1.fetchBinary("/data/reco_volume_"+s.value+".vti",{progressCallback:U}).then(P=>{E.parseAsArrayBuffer(P);const B=E.getOutputData(0),H=(B.getPointData().getScalars()||B.getPointData().getArrays()[0]).getRange();k.setInputData(B);const $=.7*Math.sqrt(B.getSpacing().map(q=>q*q).reduce((q,Q)=>q+Q,0));k.setSampleDistance($),O.setMapper(k),O.getProperty().setRGBTransferFunction(0,v),O.getProperty().setScalarOpacity(0,g),O.getProperty().setInterpolationTypeToLinear(),O.getProperty().setScalarOpacityUnitDistance(0,Jt.getDiagonalLength(B.getBounds())/Math.max(...B.getDimensions())),O.getProperty().setGradientOpacityMinimumValue(0,0),O.getProperty().setGradientOpacityMaximumValue(0,(H[1]-H[0])*.05),O.getProperty().setShade(!0),O.getProperty().setUseGradientOpacity(0,!0),O.getProperty().setGradientOpacityMinimumOpacity(0,0),O.getProperty().setGradientOpacityMaximumOpacity(0,1),O.getProperty().setAmbient(.2),O.getProperty().setDiffuse(.7),O.getProperty().setSpecular(.3),O.getProperty().setSpecularPower(8),I.addVolume(O),I.resetCamera(),A.render(),f=!1,S()})}function x(){c=!0,hr.get("/data/reco_series_"+s.value+".json").then(E=>{if(E.data.code===0){const k=E.data.data;y.series=k,a.value=cR,n.value=k.length;const O=_U.newInstance();y.plane=O;const[A,I,U]=m(k,0);O.setOrigin(A),O.setPoint1(I),O.setPoint2(U);const P=Xs.newInstance(),B=Ys.newInstance();P.setInputConnection(O.getOutputPort()),B.setMapper(P),B.getProperty().setColor([.25,.5,1]);const{renderWindow:W,renderer:H}=o.value;H.addActor(B),H.resetCamera(),W.render(),c=!1,S()}})}mr(()=>{d()});function w(){const{container:E}=o.value;l===null&&(l=Ym.service({target:E,lock:!0,text:h,background:"rgba(0, 0, 0, 0.7)"}))}function S(){l!==null&&!f&&!c&&(l.close(),l=null,p.value=!1,i("reconstructing",!1))}function b(){if(o.value){const{actor:W,mapper:H,reader:$}=o.value;$.delete(),H.delete(),W.delete()}const E=bf.newInstance(),k=Ny.newInstance(),O=Ay.newInstance(),{renderWindow:A,renderer:I,openGlRenderWindow:U,interactor:P,container:B}=o.value;I.removeAllActors(),A.render(),o.value={renderWindow:A,renderer:I,openGlRenderWindow:U,interactor:P,actor:O,mapper:k,reader:E,container:B}}function T(){if(o.value){const{renderWindow:E,renderer:k,openGlRenderWindow:O,interactor:A,actor:I,mapper:U,reader:P}=o.value;P.delete(),U.delete(),I.delete(),A.delete(),O.delete(),k.delete(),E.delete(),o.value=null}}$n(()=>{T()});function C(E){if("series"in y){const[k,O,A]=m(y.series,E-1);y.plane.setOrigin(k),y.plane.setPoint1(O),y.plane.setPoint2(A),y.renderWindow.render()}}function M(E){s.value=E,b()}function D(){p.value=!0,i("reconstructing",!0),b(),h.value="Pending ...",w(),_(),x()}return e({value_change:C,value:a,data_id_change:M,data_id:s}),(E,k)=>{const O=WJ;return xe(),Re("div",G0e,[k[1]||(k[1]=De("h2",null,"Reconstructed Volume",-1)),k[2]||(k[2]=De("div",{class:"con2"},null,-1)),Pe(O,{type:"primary",size:"large",onClick:D,disabled:p.value},{default:Ye(()=>k[0]||(k[0]=[hf("Online Reconstruction")])),_:1},8,["disabled"])])}}},H0e=cd(W0e,[["__scopeId","data-v-6c6b673b"]]),j0e={id:"reco"},fR=1,$0e={__name:"ActualVolume",setup(t,{expose:e}){const r=be(1),n=be(fR),a=be(null),i=be(0),o=be(0);let s=null,u=!1,l=!1;const f=be("Loading"),c=U2.newInstance();c.addRGBPoint(0,0,0,0),c.addRGBPoint(255,1,1,1);const h=Ry.newInstance();h.addPoint(0,0),h.addPoint(255,1);let p={};function v(b,T){const M=[b[T][0][0]+1.5*(b[T][0][0]-b[T][2][0]),b[T][0][1]+1.5*(b[T][0][1]-b[T][2][1]),b[T][0][2]+1.5*(b[T][0][2]-b[T][2][2])],D=[b[T][0][0]+1.5*(b[T][1][0]-b[T][0][0]),b[T][0][1]+1.5*(b[T][1][1]-b[T][0][1]),b[T][0][2]+1.5*(b[T][1][2]-b[T][0][2])],E=[b[T][0][0]+1.5*(b[T][0][0]-b[T][1][0]),b[T][0][1]+1.5*(b[T][0][1]-b[T][1][1]),b[T][0][2]+1.5*(b[T][0][2]-b[T][1][2])];return[M,D,E]}function g(){const b=S2.newInstance();p.renderWindow=b;const T=O2.newInstance();b.addRenderer(T),T.setBackground(.8,.8,.8);const C=B2.newInstance(),M=document.querySelector(".con1");C.setContainer(M),b.addView(C);const D=M.getBoundingClientRect();C.setSize(D.width,D.height);const E=h1.newInstance();E.setView(C),E.initialize(),E.bindEvents(M),E.setInteractorStyle(K6.newInstance());const k=bf.newInstance(),O=Ny.newInstance(),A=Ay.newInstance();a.value={renderWindow:b,renderer:T,openGlRenderWindow:C,interactor:E,actor:A,mapper:O,reader:k,container:M}}function y(){u=!0;const{reader:b,mapper:T,actor:C,renderWindow:M,renderer:D}=a.value;o.value=0;const E=k=>{k.lengthComputable?(o.value=Math.floor(100*k.loaded/k.total),o.value<100&&(f.value="Loading "+o.value+"%")):o.value=100};l1.fetchBinary("/data/volume_"+i.value+".vti",{progressCallback:E}).then(k=>{b.parseAsArrayBuffer(k);const O=b.getOutputData(0),I=(O.getPointData().getScalars()||O.getPointData().getArrays()[0]).getRange();T.setInputData(O);const U=.7*Math.sqrt(O.getSpacing().map(P=>P*P).reduce((P,B)=>P+B,0));T.setSampleDistance(U),C.setMapper(T),C.getProperty().setRGBTransferFunction(0,c),C.getProperty().setScalarOpacity(0,h),C.getProperty().setInterpolationTypeToLinear(),C.getProperty().setScalarOpacityUnitDistance(0,Jt.getDiagonalLength(O.getBounds())/Math.max(...O.getDimensions())),C.getProperty().setGradientOpacityMinimumValue(0,0),C.getProperty().setGradientOpacityMaximumValue(0,(I[1]-I[0])*.05),C.getProperty().setShade(!0),C.getProperty().setUseGradientOpacity(0,!0),C.getProperty().setGradientOpacityMinimumOpacity(0,0),C.getProperty().setGradientOpacityMaximumOpacity(0,1),C.getProperty().setAmbient(.2),C.getProperty().setDiffuse(.7),C.getProperty().setSpecular(.3),C.getProperty().setSpecularPower(8),D.addVolume(C),D.resetCamera(),M.render(),u=!1,_()})}function m(){l=!0,hr.get("/data/series_"+i.value+".json").then(b=>{if(b.data.code===0){const T=b.data.data;p.series=T,n.value=fR,r.value=T.length;const C=_U.newInstance();p.plane=C;const[M,D,E]=v(T,0);C.setOrigin(M),C.setPoint1(D),C.setPoint2(E);const k=Xs.newInstance(),O=Ys.newInstance();k.setInputConnection(C.getOutputPort()),O.setMapper(k),O.getProperty().setColor([.25,.5,1]);const{renderWindow:A,renderer:I}=a.value;I.addActor(O),I.resetCamera(),A.render(),l=!1,_()}})}mr(()=>{g(),d(),y(),m()});function d(){const{container:b}=a.value;s===null&&(s=Ym.service({target:b,lock:!0,text:f,background:"rgba(0, 0, 0, 0.7)"}))}function _(){s!==null&&!u&&!l&&(s.close(),s=null)}function x(){if(a.value){const{renderWindow:b,renderer:T,openGlRenderWindow:C,interactor:M,actor:D,mapper:E,reader:k}=a.value;k.delete(),E.delete(),D.delete(),M.delete(),C.delete(),T.delete(),b.delete(),a.value=null}}$n(()=>{x()});function w(b){const[T,C,M]=v(p.series,b-1);p.plane.setOrigin(T),p.plane.setPoint1(C),p.plane.setPoint2(M),p.renderWindow.render()}function S(b){if(i.value=b,a.value){const{actor:I,mapper:U,reader:P}=a.value;P.delete(),U.delete(),I.delete()}const T=bf.newInstance(),C=Ny.newInstance(),M=Ay.newInstance(),{renderWindow:D,renderer:E,openGlRenderWindow:k,interactor:O,container:A}=a.value;E.removeAllActors(),a.value={renderWindow:D,renderer:E,openGlRenderWindow:k,interactor:O,actor:M,mapper:C,reader:T,container:A},d(),y(),m()}return e({value_change:w,value:n,data_id_change:S,data_id:i}),(b,T)=>(xe(),Re("div",j0e,T[0]||(T[0]=[De("h2",null,"Ground Truth",-1),De("div",{class:"con1"},null,-1)])))}},K0e=cd($0e,[["__scopeId","data-v-a578d135"]]);function X0e(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=function(r){if(r){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var n=0;n<e.children.length;n++){var a=e.children[n];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.traverseOpaqueZBufferPass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.traverseOpaquePass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.traverseTranslucentPass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.activateTextures=function(){if(e.ogltextures){e.activeTextures=[];for(var r=0;r<e.ogltextures.length;r++){var n=e.ogltextures[r];n.render(),n.getHandle()&&e.activeTextures.push(n)}}},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(r,n){return t.opaquePass(r,n)},t.opaquePass=function(r,n){if(r)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(r,n){if(r)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),gr(e.keyMatrices.mcwc,e.renderable.getMatrix()),dt(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?si(e.keyMatrices.normalMatrix):(qm(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),Zm(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),D5(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices}}var Y0e={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function q0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Y0e,r),Qt.extend(t,e,r),e.keyMatrixTime={},nr(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:si(new Float64Array(9)),mcwc:ze(new Float64Array(16))},Cr(t,e,["context"]),ia(t,e,["activeTextures"]),X0e(t,e)}var Z0e=mt(q0e);Wr("vtkActor",Z0e);function J0e(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=function(r){if(r){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var n=0;n<e.children.length;n++){var a=e.children[n];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;n.incrementOverlayActorCount()}},t.traverseOpaquePass=function(r){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.traverseTranslucentPass=function(r){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.traverseOverlayPass=function(r){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(r,!0),e.oglmapper.traverse(r),t.apply(r,!1))},t.activateTextures=function(){if(e.ogltextures){e.activeTextures=[];for(var r=0;r<e.ogltextures.length;r++){var n=e.ogltextures[r];n.render(),n.getHandle()&&e.activeTextures.push(n)}}},t.opaquePass=function(r,n){if(r)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(r,n){if(r)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.overlayPass=function(r,n){if(r)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()}}var Q0e={context:null,activeTextures:null};function eye(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Q0e,r),Qt.extend(t,e,r),Cr(t,e,["context"]),ia(t,e,["activeTextures"]),J0e(t,e)}var tye=mt(eye);Wr("vtkActor2D",tye);function P0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n8(t){let e,r,n;t.length!==2?(e=P0,r=(s,u)=>P0(t(s),u),n=(s,u)=>t(s)-u):(e=t===P0||t===rye?t:nye,r=t,n=t);function a(s,u,l=0,f=s.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<0?l=c+1:f=c}while(l<f)}return l}function i(s,u,l=0,f=s.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function o(s,u,l=0,f=s.length){const c=a(s,u,l,f-1);return c>l&&n(s[c-1],u)>-n(s[c],u)?c-1:c}return{left:a,center:o,right:i}}function nye(){return 0}function aye(t){return t===null?NaN:+t}const iye=n8(P0),oye=iye.right;n8(aye).center;const sye=Math.sqrt(50),uye=Math.sqrt(10),lye=Math.sqrt(2);function Uy(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=sye?10:i>=uye?5:i>=lye?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=r&&r<2?Uy(t,e,r*2):[s,u,l]}function cye(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Uy(e,t,r):Uy(t,e,r);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function Vb(t,e,r){return e=+e,t=+t,r=+r,Uy(t,e,r)[2]}function fye(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Vb(e,t,r):Vb(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function hye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Y2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function a8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fd(){}var pv=.7,zy=1/pv,ef="\\s*([+-]?\\d+)\\s*",vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pye=/^#([0-9a-f]{3,8})$/,vye=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),dye=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),gye=new RegExp(`^rgba\\(${ef},${ef},${ef},${vv}\\)$`),yye=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${vv}\\)$`),mye=new RegExp(`^hsl\\(${vv},${Wi},${Wi}\\)$`),_ye=new RegExp(`^hsla\\(${vv},${Wi},${Wi},${vv}\\)$`),hR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y2(fd,dv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pR,formatHex:pR,formatHex8:xye,formatHsl:wye,formatRgb:vR,toString:vR});function pR(){return this.rgb().formatHex()}function xye(){return this.rgb().formatHex8()}function wye(){return i8(this).formatHsl()}function vR(){return this.rgb().formatRgb()}function dv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=pye.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?dR(e):r===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?og(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?og(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vye.exec(t))?new In(e[1],e[2],e[3],1):(e=dye.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gye.exec(t))?og(e[1],e[2],e[3],e[4]):(e=yye.exec(t))?og(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mye.exec(t))?mR(e[1],e[2]/100,e[3]/100,1):(e=_ye.exec(t))?mR(e[1],e[2]/100,e[3]/100,e[4]):hR.hasOwnProperty(t)?dR(hR[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function dR(t){return new In(t>>16&255,t>>8&255,t&255,1)}function og(t,e,r,n){return n<=0&&(t=e=r=NaN),new In(t,e,r,n)}function Sye(t){return t instanceof fd||(t=dv(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function Pb(t,e,r,n){return arguments.length===1?Sye(t):new In(t,e,r,n??1)}function In(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Y2(In,Pb,a8(fd,{brighter(t){return t=t==null?zy:Math.pow(zy,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pv:Math.pow(pv,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(ml(this.r),ml(this.g),ml(this.b),Gy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gR,formatHex:gR,formatHex8:bye,formatRgb:yR,toString:yR}));function gR(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}`}function bye(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}${ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function yR(){const t=Gy(this.opacity);return`${t===1?"rgb(":"rgba("}${ml(this.r)}, ${ml(this.g)}, ${ml(this.b)}${t===1?")":`, ${t})`}`}function Gy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ol(t){return t=ml(t),(t<16?"0":"")+t.toString(16)}function mR(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,r,n)}function i8(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof fd||(t=dv(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,s=i-a,u=(i+a)/2;return s?(e===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-e)/s+2:o=(e-r)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new ei(o,s,u,t.opacity)}function Tye(t,e,r,n){return arguments.length===1?i8(t):new ei(t,e,r,n??1)}function ei(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Y2(ei,Tye,a8(fd,{brighter(t){return t=t==null?zy:Math.pow(zy,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pv:Math.pow(pv,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new In(jx(t>=240?t-240:t+120,a,n),jx(t,a,n),jx(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ei(_R(this.h),sg(this.s),sg(this.l),Gy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gy(this.opacity);return`${t===1?"hsl(":"hsla("}${_R(this.h)}, ${sg(this.s)*100}%, ${sg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _R(t){return t=(t||0)%360,t<0?t+360:t}function sg(t){return Math.max(0,Math.min(1,t||0))}function jx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const q2=t=>()=>t;function Cye(t,e){return function(r){return t+r*e}}function Eye(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Dye(t){return(t=+t)==1?o8:function(e,r){return r-e?Eye(e,r,t):q2(isNaN(e)?r:e)}}function o8(t,e){var r=e-t;return r?Cye(t,r):q2(isNaN(t)?e:t)}const xR=function t(e){var r=Dye(e);function n(a,i){var o=r((a=Pb(a)).r,(i=Pb(i)).r),s=r(a.g,i.g),u=r(a.b,i.b),l=o8(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=u(f),a.opacity=l(f),a+""}}return n.gamma=t,n}(1);function Oye(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Mye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lye(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Z2(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function kye(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Rye(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Z2(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Ub=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$x=new RegExp(Ub.source,"g");function Aye(t){return function(){return t}}function Nye(t){return function(e){return t(e)+""}}function Fye(t,e){var r=Ub.lastIndex=$x.lastIndex=0,n,a,i,o=-1,s=[],u=[];for(t=t+"",e=e+"";(n=Ub.exec(t))&&(a=$x.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:Wy(n,a)})),r=$x.lastIndex;return r<e.length&&(i=e.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Nye(u[0].x):Aye(e):(e=u.length,function(l){for(var f=0,c;f<e;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function Z2(t,e){var r=typeof e,n;return e==null||r==="boolean"?q2(e):(r==="number"?Wy:r==="string"?(n=dv(e))?(e=n,xR):Fye:e instanceof dv?xR:e instanceof Date?kye:Mye(e)?Oye:Array.isArray(e)?Lye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rye:Wy)(t,e)}function Bye(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Iye(t){return function(){return t}}function Vye(t){return+t}var wR=[0,1];function Vc(t){return t}function zb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Iye(isNaN(e)?NaN:.5)}function Pye(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Uye(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=zb(a,n),i=r(o,i)):(n=zb(n,a),i=r(i,o)),function(s){return i(n(s))}}function zye(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=zb(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(s){var u=oye(t,s,1,n)-1;return i[u](a[u](s))}}function Gye(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wye(){var t=wR,e=wR,r=Z2,n,a,i,o=Vc,s,u,l;function f(){var h=Math.min(t.length,e.length);return o!==Vc&&(o=Pye(t[0],t[h-1])),s=h>2?zye:Uye,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?i:(u||(u=s(t.map(n),e,r)))(n(o(h)))}return c.invert=function(h){return o(a((l||(l=s(e,t.map(n),Wy)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Vye),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),r=Bye,f()},c.clamp=function(h){return arguments.length?(o=h?!0:Vc,f()):o!==Vc},c.interpolate=function(h){return arguments.length?(r=h,f()):r},c.unknown=function(h){return arguments.length?(i=h,c):i},function(h,p){return n=h,a=p,f()}}function Hye(){return Wye()(Vc,Vc)}function jye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Tf(t){return t=Hy(Math.abs(t)),t?t[1]:NaN}function $ye(t,e){return function(r,n){for(var a=r.length,i=[],o=0,s=t[0],u=0;a>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),i.push(r.substring(a-=s,a+s)),!((u+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Kye(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Xye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jy(t){if(!(e=Xye.exec(t)))throw new Error("invalid format: "+t);var e;return new J2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jy.prototype=J2.prototype;function J2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yye(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var s8;function qye(t,e){var r=Hy(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(s8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Hy(t,Math.max(0,e+i-1))[0]}function SR(t,e){var r=Hy(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const bR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SR(t*100,e),r:SR,s:qye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TR(t){return t}var CR=Array.prototype.map,ER=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zye(t){var e=t.grouping===void 0||t.thousands===void 0?TR:$ye(CR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?TR:Kye(CR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=jy(c);var h=c.fill,p=c.align,v=c.sign,g=c.symbol,y=c.zero,m=c.width,d=c.comma,_=c.precision,x=c.trim,w=c.type;w==="n"?(d=!0,w="g"):bR[w]||(_===void 0&&(_=12),x=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",b=g==="$"?n:/[%p]/.test(w)?o:"",T=bR[w],C=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function M(D){var E=S,k=b,O,A,I;if(w==="c")k=T(D)+k,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?u:T(Math.abs(D),_),x&&(D=Yye(D)),U&&+D==0&&v!=="+"&&(U=!1),E=(U?v==="("?v:s:v==="-"||v==="("?"":v)+E,k=(w==="s"?ER[8+s8/3]:"")+k+(U&&v==="("?")":""),C){for(O=-1,A=D.length;++O<A;)if(I=D.charCodeAt(O),48>I||I>57){k=(I===46?a+D.slice(O+1):D.slice(O))+k,D=D.slice(0,O);break}}}d&&!y&&(D=e(D,1/0));var P=E.length+D.length+k.length,B=P<m?new Array(m-P+1).join(h):"";switch(d&&y&&(D=e(B+D,B.length?m-k.length:1/0),B=""),p){case"<":D=E+D+k+B;break;case"=":D=E+B+D+k;break;case"^":D=B.slice(0,P=B.length>>1)+E+D+k+B.slice(P);break;default:D=B+E+D+k;break}return i(D)}return M.toString=function(){return c+""},M}function f(c,h){var p=l((c=jy(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(Tf(h)/3)))*3,g=Math.pow(10,-v),y=ER[8+v/3];return function(m){return p(g*m)+y}}return{format:l,formatPrefix:f}}var ug,u8,l8;Jye({thousands:",",grouping:[3],currency:["$",""]});function Jye(t){return ug=Zye(t),u8=ug.format,l8=ug.formatPrefix,ug}function Qye(t){return Math.max(0,-Tf(Math.abs(t)))}function eme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tf(e)/3)))*3-Tf(Math.abs(t)))}function tme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tf(e)-Tf(t))+1}function rme(t,e,r,n){var a=fye(t,e,r),i;switch(n=jy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=eme(a,o))&&(n.precision=i),l8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=tme(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Qye(a))&&(n.precision=i-(n.type==="%")*2);break}}return u8(n)}function nme(t){var e=t.domain;return t.ticks=function(r){var n=e();return cye(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return rme(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],s=n[i],u,l,f=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);f-- >0;){if(l=Vb(o,s,r),l===u)return n[a]=o,n[i]=s,e(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Q2(){var t=Hye();return t.copy=function(){return Gye(t,Q2())},hye.apply(t,arguments),nme(t)}function ame(t,e){e.classHierarchy.push("vtkTexture"),t.imageLoaded=function(){e.image.removeEventListener("load",t.imageLoaded),e.imageLoaded=!0,t.modified()},t.setJsImageData=function(r){e.jsImageData!==r&&(r!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=r,e.imageLoaded=!0,t.modified())},t.setCanvas=function(r){e.canvas!==r&&(r!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=r,t.modified())},t.setImage=function(r){e.image!==r&&(r!==null&&(t.setInputData(null),t.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=r,e.imageLoaded=!1,r.complete?t.imageLoaded():r.addEventListener("load",t.imageLoaded),t.modified())}}var ime={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,canvas:null,imageLoaded:!1,jsImageData:null};function c8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ime,r),X.obj(t,e),X.algo(t,e,6,0),X.get(t,e,["canvas","image","jsImageData","imageLoaded"]),X.setGet(t,e,["repeat","edgeClamp","interpolate"]),ame(t,e)}var ome=X.newInstance(c8,"vtkTexture"),eE={newInstance:ome,extend:c8};function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sme=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],OR=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],lg=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],MR=[0,1,0,1,0,1,0,1,2,2,2,2],sr=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],nt=new Float64Array(3),cg=new Float64Array(3),Ut=new Float64Array(3),el=new Float64Array(3),_u=new Float64Array(3),fg=new Float64Array(3),Kx=new Float64Array(16);function Xx(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function ume(t,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),t.setRenderable=function(r){e.renderable!==r&&(e.renderable=r,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(r.getProperty()),e.tmActor.setParentProp(r),t.modified())},t.createPolyDataForOneLabel=function(r,n,a,i,o,s,u){var l=e.renderable.get_tmAtlas().get(r);if(l){var f=e.renderable.getTextPolyData().getPoints().getData(),c=e.lastSize;nt[0]=f[n*3],nt[1]=f[n*3+1],nt[2]=f[n*3+2],He(Ut,nt,a),Ut[0]+=.1,He(cg,Ut,i),Sa(_u,cg,nt),Ut[0]-=.1,Ut[1]+=.1,He(cg,Ut,i),Sa(fg,cg,nt);for(var h=0;h<3;h++)_u[h]/=.5*.1*c[0],fg[h]/=.5*.1*c[1];var p=u.ptIdx,v=u.cellIdx;nt[0]=f[n*3],nt[1]=f[n*3+1],nt[2]=f[n*3+2],o[0]<-.5?Ir(Ut,_u,o[0]*s-l.width):o[0]>.5?Ir(Ut,_u,o[0]*s):Ir(Ut,_u,o[0]*s-l.width/2),Vi(nt,nt,Ut),Ir(Ut,fg,o[1]*s-l.height/2),Vi(nt,nt,Ut),u.points[p*3]=nt[0],u.points[p*3+1]=nt[1],u.points[p*3+2]=nt[2],u.tcoords[p*2]=l.tcoords[0],u.tcoords[p*2+1]=l.tcoords[1],p++,Ir(Ut,_u,l.width),Vi(nt,nt,Ut),u.points[p*3]=nt[0],u.points[p*3+1]=nt[1],u.points[p*3+2]=nt[2],u.tcoords[p*2]=l.tcoords[2],u.tcoords[p*2+1]=l.tcoords[3],p++,Ir(Ut,fg,l.height),Vi(nt,nt,Ut),u.points[p*3]=nt[0],u.points[p*3+1]=nt[1],u.points[p*3+2]=nt[2],u.tcoords[p*2]=l.tcoords[4],u.tcoords[p*2+1]=l.tcoords[5],p++,Ir(Ut,_u,l.width),Sa(nt,nt,Ut),u.points[p*3]=nt[0],u.points[p*3+1]=nt[1],u.points[p*3+2]=nt[2],u.tcoords[p*2]=l.tcoords[6],u.tcoords[p*2+1]=l.tcoords[7],p++,u.polys[v*4]=3,u.polys[v*4+1]=p-4,u.polys[v*4+2]=p-3,u.polys[v*4+3]=p-2,v++,u.polys[v*4]=3,u.polys[v*4+1]=p-4,u.polys[v*4+2]=p-2,u.polys[v*4+3]=p-1,u.ptIdx+=4,u.cellIdx+=2}},t.updateTexturePolyData=function(){var r=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);dt(r,r);var n=e.renderable.getTextValues().length,a=n*4,i=n*2,o=new Float64Array(a*3),s=new Uint16Array(i*4),u=new Float32Array(a*2);br(Kx,r);for(var l={ptIdx:0,cellIdx:0,polys:s,points:o,tcoords:u},f=0,c=0,h=0,p=e.renderable.getTextPolyData().getPoints().getData(),v=e.renderable.getTextValues();f<p.length/3;){nt[0]=p[f*3],nt[1]=p[f*3+1],nt[2]=p[f*3+2],He(Ut,nt,r),nt[0]=p[f*3+3],nt[1]=p[f*3+4],nt[2]=p[f*3+5],He(el,nt,r),Sa(Ut,Ut,el);var g=[Ut[0],Ut[1]];kne(g),t.createPolyDataForOneLabel(v[c],f,r,Kx,g,e.renderable.getAxisTitlePixelOffset(),l),f+=2,c++;for(var y=0;y<e.renderable.getTickCounts()[h];y++)t.createPolyDataForOneLabel(v[c],f,r,Kx,g,e.renderable.getTickLabelPixelOffset(),l),f++,c++;h++}var m=gt.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(m),e.tmPolyData.getPoints().setData(o,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(s,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updateAPISpecificData=function(r,n,a){(e.lastSize[0]!==r[0]||e.lastSize[1]!==r[1])&&(e.lastSize[0]=r[0],e.lastSize[1]=r[1],e.lastAspectRatio=r[0]/r[1],e.forceUpdate=!0),e.camera=n,t.updateTexturePolyData()}}var lme=X.newInstance(function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},r),X.obj(t,e),e.tmPolyData=wf.newInstance(),e.tmMapper=Xs.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=Ys.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),X.setGet(t,e,["renderable"]),X.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},X.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},X.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],ume(t,e)},"vtkCubeAxesActorHelper");function cme(t,e){e.classHierarchy.push("vtkCubeAxesActor"),t.setCamera=function(r){e.camera!==r&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=r,r&&(e.cameraModifiedSub=r.onModified(t.update)),t.update(),t.modified())},t.computeFacesToDraw=function(){var r=e.camera.getViewMatrix();dt(r,r);for(var n=!1,a=Jt.getDiagonalLength(e.dataBounds),i=Math.sin(e.faceVisibilityAngle*Math.PI/180),o=0;o<6;o++){var s=!1,u=Math.floor(o/2),l=(u+1)%3,f=(u+2)%3;e.dataBounds[l*2]!==e.dataBounds[l*2+1]&&e.dataBounds[f*2]!==e.dataBounds[f*2+1]&&(nt[u]=e.dataBounds[o]-.1*a*sme[o][u],nt[l]=.5*(e.dataBounds[l*2]+e.dataBounds[l*2+1]),nt[f]=.5*(e.dataBounds[f*2]+e.dataBounds[f*2+1]),He(Ut,nt,r),nt[u]=e.dataBounds[o],He(el,nt,r),Sa(Ut,el,Ut),Ca(Ut,Ut),s=Ut[2]>i,e.camera.getParallelProjection()||(Ca(el,el),s=Dl(el,Ut)>i)),s!==e.lastFacesToDraw[o]&&(e.lastFacesToDraw[o]=s,n=!0)}return n},t.updatePolyData=function(r,n,a){var i=0,o=0;i+=8;for(var s=0,u=0;u<12;u++)n[u]>0&&s++;if(o+=s,e.gridLines)for(var l=0;l<6;l++)r[l]&&(i+=a[sr[l][0]].length*2+a[sr[l][1]].length*2,o+=a[sr[l][0]].length+a[sr[l][1]].length);for(var f=new Float64Array(i*3),c=new Uint32Array(o*3),h=0,p=0,v=0;v<2;v++)for(var g=0;g<2;g++)for(var y=0;y<2;y++)f[h*3]=e.dataBounds[y],f[h*3+1]=e.dataBounds[2+g],f[h*3+2]=e.dataBounds[4+v],h++;for(var m=0;m<12;m++)n[m]>0&&(c[p*3]=2,c[p*3+1]=lg[m][0],c[p*3+2]=lg[m][1],p++);if(e.gridLines){for(var d=0;d<6;d++)if(r[d]){for(var _=Math.floor(d/2),x=a[sr[d][0]],w=0;w<x.length;w++)f[h*3+_]=e.dataBounds[d],f[h*3+sr[d][0]]=x[w],f[h*3+sr[d][1]]=e.dataBounds[sr[d][1]*2],h++,f[h*3+_]=e.dataBounds[d],f[h*3+sr[d][0]]=x[w],f[h*3+sr[d][1]]=e.dataBounds[sr[d][1]*2+1],h++,c[p*3]=2,c[p*3+1]=h-2,c[p*3+2]=h-1,p++;x=a[sr[d][1]];for(var S=0;S<x.length;S++)f[h*3+_]=e.dataBounds[d],f[h*3+sr[d][1]]=x[S],f[h*3+sr[d][0]]=e.dataBounds[sr[d][0]*2],h++,f[h*3+_]=e.dataBounds[d],f[h*3+sr[d][1]]=x[S],f[h*3+sr[d][0]]=e.dataBounds[sr[d][0]*2+1],h++,c[p*3]=2,c[p*3+1]=h-2,c[p*3+2]=h-1,p++}}e.polyData.getPoints().setData(f,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(c,1),e.polyData.getLines().modified(),e.polyData.modified()},t.updateTextData=function(r,n,a,i){for(var o=0,s=0;s<12;s++)n[s]===1&&(o+=2,o+=a[MR[s]].length);for(var u=e.polyData.getPoints().getData(),l=new Float64Array(o*3),f=0,c=0,h=0,p=0;p<6;p++)if(r[p])for(var v=0;v<4;v++){var g=OR[p][v];if(n[g]===1){var y=MR[g],m=lg[g][0]*3,d=lg[g][1]*3;l[f*3]=.5*(u[m]+u[d]),l[f*3+1]=.5*(u[m+1]+u[d+1]),l[f*3+2]=.5*(u[m+2]+u[d+2]),f++;var _=Math.floor(p/2);l[f*3+_]=e.dataBounds[p],l[f*3+sr[p][0]]=.5*(e.dataBounds[sr[p][0]*2]+e.dataBounds[sr[p][0]*2+1]),l[f*3+sr[p][1]]=.5*(e.dataBounds[sr[p][1]*2]+e.dataBounds[sr[p][1]*2+1]),f++,e.textValues[c]=e.axisLabels[y],c++;var x=(y+1)%3,w=(y+2)%3,S=a[y],b=i[y];e.tickCounts[h]=S.length;for(var T=0;T<S.length;T++)l[f*3+y]=S[T],l[f*3+x]=u[m+x],l[f*3+w]=u[m+w],f++,e.textValues[c]=b[T],c++;h++}}e.textPolyData.getPoints().setData(l,3),e.textPolyData.modified()},t.update=function(){if(e.camera){for(var r=t.computeFacesToDraw(),n=e.lastFacesToDraw,a=!1,i=0;i<6;i++)e.dataBounds[i]!==e.lastTickBounds[i]&&(a=!0,e.lastTickBounds[i]=e.dataBounds[i]);if(r||a||e.forceUpdate){for(var o=new Array(12).fill(0),s=0;s<6;s++)if(n[s])for(var u=0;u<4;u++)o[OR[s][u]]++;for(var l=[],f=[],c=0;c<3;c++){var h=Q2().domain([e.dataBounds[c*2],e.dataBounds[c*2+1]]);l[c]=h.ticks(5);var p=h.tickFormat(5);f[c]=l[c].map(p)}t.updatePolyData(n,o,l),t.updateTextData(n,o,l,f),(a||e.forceUpdate)&&t.updateTextureAtlas(f)}e.forceUpdate=!1}},t.updateTextureAtlas=function(r){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();for(var n=0,a=1,i=0;i<3;i++){if(!e._tmAtlas.has(e.axisLabels[i])){Xx(e.tmContext,e.axisTextStyle);var o=e.tmContext.measureText(e.axisLabels[i]),s={height:o.actualBoundingBoxAscent+2,startingHeight:a,width:o.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[i],s),a+=s.height,n<s.width&&(n=s.width)}Xx(e.tmContext,e.tickTextStyle);for(var u=0;u<r[i].length;u++)if(!e._tmAtlas.has(r[i][u])){var l=e.tmContext.measureText(r[i][u]),f={height:l.actualBoundingBoxAscent+2,startingHeight:a,width:l.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(r[i][u],f),a+=f.height,n<f.width&&(n=f.width)}}n=Qa(n),a=Qa(a),e._tmAtlas.forEach(function(c){c.tcoords=[0,(a-c.startingHeight-c.height)/a,c.width/n,(a-c.startingHeight-c.height)/a,c.width/n,(a-c.startingHeight)/a,0,(a-c.startingHeight)/a]}),e.tmCanvas.width=n,e.tmCanvas.height=a,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,n,a),e._tmAtlas.forEach(function(c,h){Xx(e.tmContext,c.textStyle),e.tmContext.fillText(h,1,c.startingHeight+c.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},t.onModified(function(){e.forceUpdate=!0,t.update()}),t.setTickTextStyle=function(r){e.tickTextStyle=Zh(Zh({},e.tickTextStyle),r),t.modified()},t.setAxisTextStyle=function(r){e.axisTextStyle=Zh(Zh({},e.axisTextStyle),r),t.modified()},t.get_tmAtlas=function(){return e._tmAtlas},t.getBounds=function(){return t.update(),Jt.setBounds(e.bounds,e.gridActor.getBounds()),Jt.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds}}function fme(t){return Zh({boundsScaleFactor:1.3,camera:null,dataBounds:je(Jt.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},t)}function f8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fme(r)),Ys.extend(t,e,r),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=eE.newInstance(),e.tmTexture.setInterpolate(!1),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),e.gridMapper=Xs.newInstance(),e.polyData=wf.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=Ys.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(t.getProperty()),e.gridActor.setParentProp(t),e.textPolyData=wf.newInstance(),X.setGet(t,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),X.setGetArray(t,e,["dataBounds"],6),X.setGetArray(t,e,["axisLabels"],3),X.get(t,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),cme(t,e)}var hme=X.newInstance(f8,"vtkCubeAxesActor"),h8={newInstance:hme,extend:f8,newCubeAxesActorHelper:lme};function pme(t,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),t.buildPass=function(r){r&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=function(r,n){if(r){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e.openGLRenderWindow.getRenderable())}}}var vme={};function dme(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vme,r),Qt.extend(t,e,r),e.CubeAxesActorHelper=h8.newCubeAxesActorHelper(),pme(t,e)}var gme=mt(dme,"vtkOpenGLCubeAxesActor");Wr("vtkCubeAxesActor",gme);var Yx=zf.FieldAssociations,Br=Yi.primTypes,ic=qo.Representation,LR=qo.Shading,hg=Xs.ScalarMode,kR=Ot.Filter,RR=Ot.Wrap,xu=$e,yme={type:"StartEvent"},mme={type:"EndEvent"};function _me(t){var e=t.getSelector();return e?e.getCurrentPass():Sn.MIN_KNOWN_PASS-1}function xme(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=function(n){n&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e.openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=function(n,a){n&&(e.currentRenderPass=a,t.render())},t.opaqueZBufferPass=function(n){n&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(n){n&&t.render()},t.render=function(){var n=e._openGLRenderWindow.getContext();if(e.context!==n){e.context=n;for(var a=Br.Start;a<Br.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor.getRenderable(),o=e.openGLRenderer.getRenderable();t.renderPiece(o,i)},t.buildShaders=function(n,a,i){t.getShaderTemplate(n,a,i),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(n);var o=e.renderable.getViewSpecificProperties().OpenGL,s=null;if(o&&(s=o.ShaderReplacements),s)for(var u=0;u<s.length;u++){var l=s[u];if(l.replaceFirst){var f=l.shaderType,c=n[f],h=pe.substitute(c,l.originalValue,l.replacementValue,l.replaceAll);n[f]=h.result}}if(t.replaceShaderValues(n,a,i),s)for(var p=0;p<s.length;p++){var v=s[p];if(!v.replaceFirst){var g=v.shaderType,y=n[g],m=pe.substitute(y,v.originalValue,v.replacementValue,v.replaceAll);n[g]=m.result}}},t.getShaderTemplate=function(n,a,i){var o=e.renderable.getViewSpecificProperties().OpenGL,s=FV;if(o){var u=o.VertexShaderCode;u!==void 0&&u!==""&&(s=u)}n.Vertex=s;var l=n1;if(o){var f=o.FragmentShaderCode;f!==void 0&&f!==""&&(l=f)}n.Fragment=l;var c="";if(o){var h=o.GeometryShaderCode;h!==void 0&&(c=h)}n.Geometry=c},t.replaceShaderColor=function(n,a,i){var o=n.Vertex,s=n.Geometry,u=n.Fragment,l=e.lastBoundBO.getReferenceByName("lastLightComplexity"),f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];l&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];l&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),l&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(f=f.concat(["varying vec4 vertexColorVSOutput;"]),o=pe.substitute(o,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,o=pe.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,s=pe.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=pe.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?u=pe.substitute(u,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()&&!e.drawingEdges?u=pe.substitute(u,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(f=f.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),l?(f=f.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(f=f.concat(["uniform samplerBuffer texture1;"])),u=pe.substitute(u,"//VTK::Color::Impl",c).result),u=pe.substitute(u,"//VTK::Color::Dec",f).result,n.Vertex=o,n.Geometry=s,n.Fragment=u},t.replaceShaderLight=function(n,a,i){var o=n.Fragment,s="",u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=e.lastBoundBO.getReferenceByName("lastLightCount"),f=[];switch(u){case 0:o=pe.substitute(o,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:o=pe.substitute(o,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var c=0;c<l;++c)f=f.concat(["uniform vec3 lightColor".concat(c,";"),"uniform vec3 lightDirectionVC".concat(c,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(c,"; // normalized")]);o=pe.substitute(o,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var h=0;h<l;++h)f=f.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(h,"));"),"  diffuseL += ((df".concat(s,") * lightColor").concat(h,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(h,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(h,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(s,") * lightColor").concat(h,");"),"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=pe.substitute(o,"//VTK::Light::Impl",f,!1).result;break;case 3:for(var p=0;p<l;++p)f=f.concat(["uniform vec3 lightColor".concat(p,";"),"uniform vec3 lightDirectionVC".concat(p,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(p,"; // normalized"),"uniform vec3 lightPositionVC".concat(p,";"),"uniform vec3 lightAttenuation".concat(p,";"),"uniform float lightConeAngle".concat(p,";"),"uniform float lightExponent".concat(p,";"),"uniform int lightPositional".concat(p,";")]);o=pe.substitute(o,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var v=0;v<l;++v)f=f.concat(["  attenuation = 1.0;","  if (lightPositional".concat(v," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(v,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(v,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(v,".x"),"       + lightAttenuation".concat(v,".y * distanceVC"),"       + lightAttenuation".concat(v,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(v," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(v,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(v,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(v,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat(s,") * lightColor").concat(v,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(v,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(s,") * lightColor").concat(v,");"),"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=pe.substitute(o,"//VTK::Light::Impl",f,!1).result;break;default:xu("bad light complexity")}n.Fragment=o},t.replaceShaderNormal=function(n,a,i){var o=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(o>0){var s=n.Vertex,u=n.Geometry,l=n.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(s=pe.substitute(s,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,s=pe.substitute(s,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,u=pe.substitute(u,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,u=pe.substitute(u,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,l=pe.substitute(l,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,l=pe.substitute(l,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(l=pe.substitute(l,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,l=pe.substitute(l,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(l=pe.substitute(l,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,l=pe.substitute(l,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(l=pe.substitute(l,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,l=pe.substitute(l,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,l=pe.substitute(l,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),n.Vertex=s,n.Geometry=u,n.Fragment=l}},t.replaceShaderPositionVC=function(n,a,i){e.lastBoundBO.replaceShaderPositionVC(n,a,i);var o=n.Vertex,s=n.Geometry,u=n.Fragment,l=e.lastBoundBO.getReferenceByName("lastLightComplexity");l>0?(o=pe.substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=pe.substitute(o,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,o=pe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,s=pe.substitute(s,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,s=pe.substitute(s,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,u=pe.substitute(u,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,u=pe.substitute(u,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(o=pe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=pe.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),n.Vertex=o,n.Geometry=s,n.Fragment=u},t.replaceShaderTCoord=function(n,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var o=n.Vertex,s=n.Geometry,u=n.Fragment;if(e.drawingEdges)return;o=pe.substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var l=e.openGLActor.getActiveTextures(),f=2,c=2;if(l&&l.length>0&&(f=l[0].getComponents(),l[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(c=3)),e.renderable.getColorTextureMap()&&(f=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),c=2),c===2){if(o=pe.substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,s=pe.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,s=pe.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,u=pe.substitute(u,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,l&&l.length>=1)switch(f){case 1:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(o=pe.substitute(o,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,s=pe.substitute(s,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,s=pe.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,u=pe.substitute(u,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,f){case 1:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:u=pe.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}n.Vertex=o,n.Geometry=s,n.Fragment=u}},t.replaceShaderClip=function(n,a,i){var o=n.Vertex,s=n.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var u=e.renderable.getNumberOfClippingPlanes();o=pe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[".concat(u,"];"),"varying float clipDistancesVSOutput[".concat(u,"];")]).result,o=pe.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(u,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=pe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[".concat(u,"];")]).result,s=pe.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(u,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}n.Vertex=o,n.Fragment=s},t.getCoincidentParameters=function(n,a){var i={factor:0,offset:0},o=a.getProperty();if(e.renderable.getResolveCoincidentTopology()||o.getEdgeVisibility()&&o.getRepresentation()===ic.SURFACE){var s=e.lastBoundBO.getPrimitiveType();s===Br.Points||o.getRepresentation()===ic.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():s===Br.Lines||o.getRepresentation()===ic.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(s===Br.Tris||s===Br.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(s===Br.TrisEdges||s===Br.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}var u=e.openGLRenderer.getSelector();return u&&u.getFieldAssociation()===Yx.FIELD_ASSOCIATION_POINTS&&(i.offset-=2),i},t.replaceShaderPicking=function(n,a,i){var o=n.Fragment,s=n.Vertex;if(o=pe.substitute(o,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,!!e.openGLRenderer.getSelector()){switch((e.lastSelectionState===Sn.ID_LOW24||e.lastSelectionState===Sn.ID_HIGH24)&&(s=pe.substitute(s,"//VTK::Picking::Dec",[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,s=pe.substitute(s,"//VTK::Picking::Impl",`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,o=pe.substitute(o,"//VTK::Picking::Dec",`flat in int vertexIDVSOutput;
`).result,o=pe.substitute(o,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),e.lastSelectionState){case Sn.ID_LOW24:o=pe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case Sn.ID_HIGH24:o=pe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx)/255.0, 0.0, 0.0, 1.0);").result;break;default:o=pe.substitute(o,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,o=pe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}n.Fragment=o,n.Vertex=s}},t.replaceShaderValues=function(n,a,i){if(t.replaceShaderColor(n,a,i),t.replaceShaderNormal(n,a,i),t.replaceShaderLight(n,a,i),t.replaceShaderTCoord(n,a,i),t.replaceShaderPicking(n,a,i),t.replaceShaderClip(n,a,i),t.replaceShaderCoincidentOffset(n,a,i),t.replaceShaderPositionVC(n,a,i),e.haveSeenDepthRequest){var o=n.Fragment;o=pe.substitute(o,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,o=pe.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,n.Fragment=o}},t.getNeedToRebuildShaders=function(n,a,i){var o=0,s=0,u=n.getPrimitiveType(),l=e.currentInput,f=!1,c=l.getPointData().getNormals(),h=l.getCellData().getNormals(),p=i.getProperty().getInterpolation()===LR.FLAT,v=i.getProperty().getRepresentation(),g=n.getOpenGLMode(v,u);if((g===e.context.TRIANGLES||h&&!c||!p&&c||!p&&g===e.context.LINES)&&(f=!0),i.getProperty().getLighting()&&f){o=0;for(var y=a.getLightsByReference(),m=0;m<y.length;++m){var d=y[m],_=d.getSwitch();_>0&&(s++,o===0&&(o=1)),o===1&&(s>1||d.getIntensity()!==1||!d.lightTypeIsHeadLight())&&(o=2),o<3&&d.getPositional()&&(o=3)}}var x=!1,w=e.lastBoundBO.getReferenceByName("lastLightComplexity"),S=e.lastBoundBO.getReferenceByName("lastLightCount");return(w!==o||S!==s)&&(e.lastBoundBO.set({lastLightComplexity:o},!0),e.lastBoundBO.set({lastLightCount:s},!0),x=!0),!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(x=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),x=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||n.getShaderSourceTime().getMTime()<e.renderable.getMTime()||n.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||n.getShaderSourceTime().getMTime()<e.selectionStateChanged.getMTime()||x?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=function(n,a,i){var o=e.renderable.getViewSpecificProperties().ShadersCallbacks;o&&o.forEach(function(s){s.callback(s.userData,n,a,i)})},t.setMapperShaderParameters=function(n,a,i){if(n.getProgram().isUniformUsed("PrimitiveIDOffset")&&n.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),n.getProgram().isUniformUsed("VertexIDOffset")&&n.getProgram().setUniformi("VertexIDOffset",e.vertexIDOffset),n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){var o=e.lastBoundBO.getReferenceByName("lastLightComplexity");n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,!1)||xu("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("normalMC")&&n.getCABO().getNormalOffset()&&o>0?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"normalMC",n.getCABO().getNormalOffset(),n.getCABO().getStride(),e.context.FLOAT,3,!1)||xu("Error setting normalMC in shader VAO."):n.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach(function(S,b){n.getProgram().isAttributeUsed("".concat(S,"MC"))&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"".concat(S,"MC"),n.getCABO().getCustomData()[b].offset,n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getCustomData()[b].components,!1)||xu("Error setting ".concat(S,"MC in shader VAO.")))}),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getTCoordComponents(),!1)||xu("Error setting tcoordMC in shader VAO."):n.getVAO().removeAttributeArray("tcoordMC"),n.getProgram().isAttributeUsed("scalarColor")&&n.getCABO().getColorComponents()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),"scalarColor",n.getCABO().getColorOffset(),n.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||xu("Error setting scalarColor in shader VAO."):n.getVAO().removeAttributeArray("scalarColor"),n.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){var s=e.renderable.getNumberOfClippingPlanes(),u=[],l=n.getCABO().getCoordShiftAndScaleEnabled(),f=l?n.getCABO().getInverseShiftAndScaleMatrix():null,c=f?gr(e.tmpMat4,i.getMatrix()):i.getMatrix();f&&(dt(c,c),Ht(c,c,f),dt(c,c));for(var h=0;h<s;h++){var p=[];e.renderable.getClippingPlaneInDataCoords(c,h,p);for(var v=0;v<4;v++)u.push(p[v])}n.getProgram().setUniformi("numClipPlanes",s),n.getProgram().setUniform4fv("clipPlanes",u)}e.internalColorTexture&&n.getProgram().isUniformUsed("texture1")&&n.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var g=e.openGLActor.getActiveTextures();if(g)for(var y=0;y<g.length;++y){var m=g[y],d=m.getTextureUnit(),_="texture".concat(d+1);n.getProgram().isUniformUsed(_)&&n.getProgram().setUniformi(_,d)}if(e.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var x=t.getCoincidentParameters(a,i);n.getProgram().setUniformf("coffset",x.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",x.factor)}n.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var w=e.openGLRenderer.getSelector();n.getProgram().setUniform3fArray("mapperIndex",w?w.getPropColorValue():[0,0,0]),n.getProgram().setUniformi("picking",w?w.getCurrentPass()+1:0)},t.setLightingShaderParameters=function(n,a,i){var o=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(o<2)){for(var s=n.getProgram(),u=0,l=a.getLightsByReference(),f=0;f<l.length;++f){var c=l[f],h=c.getSwitch();if(h>0){var p=c.getColorByReference(),v=c.getIntensity();e.lightColor[0]=p[0]*v,e.lightColor[1]=p[1]*v,e.lightColor[2]=p[2]*v;var g=c.getDirection(),y=a.getActiveCamera().getViewMatrix(),m=je(g);c.lightTypeIsSceneLight()&&(m[0]=y[0]*g[0]+y[1]*g[1]+y[2]*g[2],m[1]=y[4]*g[0]+y[5]*g[1]+y[6]*g[2],m[2]=y[8]*g[0]+y[9]*g[1]+y[10]*g[2],Rl(m)),e.lightDirection[0]=m[0],e.lightDirection[1]=m[1],e.lightDirection[2]=m[2],e.lightHalfAngle[0]=-e.lightDirection[0],e.lightHalfAngle[1]=-e.lightDirection[1],e.lightHalfAngle[2]=-e.lightDirection[2]+1,Rl(e.lightDirection),s.setUniform3fArray("lightColor".concat(u),e.lightColor),s.setUniform3fArray("lightDirectionVC".concat(u),e.lightDirection),s.setUniform3fArray("lightHalfAngleVC".concat(u),e.lightHalfAngle),u++}}if(!(o<3)){var d=a.getActiveCamera(),_=d.getViewMatrix();dt(_,_),u=0;for(var x=0;x<l.length;++x){var w=l[x],S=w.getSwitch();if(S>0){var b=w.getTransformedPosition(),T=new Float64Array(3);He(T,b,_),s.setUniform3fArray("lightAttenuation".concat(u),w.getAttenuationValuesByReference()),s.setUniformi("lightPositional".concat(u),w.getPositional()),s.setUniformf("lightExponent".concat(u),w.getExponent()),s.setUniformf("lightConeAngle".concat(u),w.getConeAngle()),s.setUniform3fArray("lightPositionVC".concat(u),[T[0],T[1],T[2]]),u++}}}}};function r(n,a,i){return a.identity(i),n.reduce(function(o,s,u){return u===0?s?a.copy(o,s):a.identity(o):s?a.multiply(o,o,s):o},i)}t.setCameraShaderParameters=function(n,a,i){var o=n.getProgram(),s=e.openGLCamera.getKeyMatrices(a),u=a.getActiveCamera(),l=e.openGLCamera.getKeyMatrixTime().getMTime(),f=o.getLastCameraMTime(),c=n.getCABO().getCoordShiftAndScaleEnabled(),h=c?n.getCABO().getInverseShiftAndScaleMatrix():null,p=i.getIsIdentity(),v=p?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();o.setUniformMatrix("MCPCMatrix",r([s.wcpc,v.mcwc,h],sb,e.tmpMat4)),o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",r([s.wcvc,v.mcwc,h],sb,e.tmpMat4)),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",r([s.normalMatrix,v.normalMatrix],Iee,e.tmpMat3)),f!==l&&(o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",u.getParallelProjection()),o.setLastCameraMTime(l)),p||o.setLastCameraMTime(0)},t.setPropertyShaderParameters=function(n,a,i){var o=n.getProgram(),s=i.getProperty(),u=s.getOpacity(),l=e.drawingEdges?s.getEdgeColorByReference():s.getAmbientColorByReference(),f=e.drawingEdges?s.getEdgeColorByReference():s.getDiffuseColorByReference(),c=e.drawingEdges?1:s.getAmbient(),h=e.drawingEdges?0:s.getDiffuse(),p=e.drawingEdges?0:s.getSpecular(),v=s.getSpecularPower();o.setUniformf("opacityUniform",u),o.setUniform3fArray("ambientColorUniform",l),o.setUniform3fArray("diffuseColorUniform",f),o.setUniformf("ambient",c),o.setUniformf("diffuse",h);var g=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(g<1)){var y=s.getSpecularColorByReference();if(o.setUniform3fArray("specularColorUniform",y),o.setUniformf("specularPowerUniform",v),o.setUniformf("specular",p),o.isUniformUsed("ambientIntensityBF")){if(s=i.getBackfaceProperty(),u=s.getOpacity(),l=s.getAmbientColor(),c=s.getAmbient(),f=s.getDiffuseColor(),h=s.getDiffuse(),y=s.getSpecularColor(),p=s.getSpecular(),o.setUniformf("ambientIntensityBF",c),o.setUniformf("diffuseIntensityBF",h),o.setUniformf("opacityUniformBF",u),o.setUniform3fArray("ambientColorUniformBF",l),o.setUniform3fArray("diffuseColorUniformBF",f),g<1)return;o.setUniformf("specularIntensityBF",p),o.setUniform3fArray("specularColorUniformBF",y),o.setUniformf("specularPowerUniformBF",v)}}},t.updateMaximumPointCellIds=function(n,a){var i,o,s,u,l=e.openGLRenderer.getSelector();if(l){if((i=e.selectionWebGLIdsToVTKIds)!==null&&i!==void 0&&(o=i.points)!==null&&o!==void 0&&o.length){var f=e.selectionWebGLIdsToVTKIds.points.length;l.setMaximumPointId(f-1)}if((s=e.selectionWebGLIdsToVTKIds)!==null&&s!==void 0&&(u=s.cells)!==null&&u!==void 0&&u.length){var c=e.selectionWebGLIdsToVTKIds.cells.length;l.setMaximumCellId(c-1)}var h=l.getFieldAssociation();h===Yx.FIELD_ASSOCIATION_POINTS&&(e.pointPicking=!0)}},t.renderPieceStart=function(n,a){e.primitiveIDOffset=0,e.vertexIDOffset=0;var i=_me(e.openGLRenderer);e.lastSelectionState!==i&&(e.selectionStateChanged.modified(),e.lastSelectionState=i),e.openGLRenderer.getSelector()&&e.openGLRenderer.getSelector().renderProp(a),t.updateBufferObjects(n,a),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=function(n,a){for(var i=a.getProperty().getRepresentation(),o=a.getProperty().getEdgeVisibility()&&i===ic.SURFACE,s=e.openGLRenderer.getSelector(),u=s&&s.getFieldAssociation()===Yx.FIELD_ASSOCIATION_POINTS&&(e.lastSelectionState===Sn.ID_LOW24||e.lastSelectionState===Sn.ID_HIGH24),l=Br.Start;l<Br.End;l++){e.primitives[l].setPointPicking(u);var f=e.primitives[l].getCABO();f.getElementCount()&&(e.drawingEdges=o&&(l===Br.TrisEdges||l===Br.TriStripsEdges),(!e.drawingEdges||!e.renderDepth)&&(e.lastBoundBO=e.primitives[l],e.primitiveIDOffset+=e.primitives[l].drawArrays(n,a,i,t),e.vertexIDOffset+=e.primitives[l].getCABO().getElementCount()))}},t.renderPieceFinish=function(n,a){e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=function(n,a){if(t.invokeEvent(yme),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(mme),!e.currentInput){xu("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context,o=a.getProperty().getBackfaceCulling(),s=a.getProperty().getFrontfaceCulling();!o&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(n,a),t.renderPieceDraw(n,a),t.renderPieceFinish(n,a)}},t.computeBounds=function(n,a){if(!t.getInput()){Vf(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(n,a){t.getNeedToRebuildBufferObjects(n,a)&&t.buildBufferObjects(n,a)},t.getNeedToRebuildBufferObjects=function(n,a){var i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=function(n,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var o=e.renderable.getColorMapColors();e.haveCellScalars=!1;var s=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(s===hg.USE_CELL_DATA||s===hg.USE_CELL_FIELD_DATA||s===hg.USE_FIELD_DATA||!i.getPointData().getScalars())&&s!==hg.USE_POINT_FIELD_DATA&&o&&(e.haveCellScalars=!0);var u=a.getProperty().getInterpolation()!==LR.FLAT?i.getPointData().getNormals():null;u===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,u=i.getCellData().getNormals());var l=a.getProperty().getRepresentation(),f=i.getPointData().getTCoords();if(e.openGLActor.getActiveTextures()||(f=null),e.renderable.getColorCoordinates()){f=e.renderable.getColorCoordinates(),e.internalColorTexture||(e.internalColorTexture=Ot.newInstance());var c=e.internalColorTexture;c.setMinificationFilter(kR.NEAREST),c.setMagnificationFilter(kR.NEAREST),c.setWrapS(RR.CLAMP_TO_EDGE),c.setWrapT(RR.CLAMP_TO_EDGE),c.setOpenGLRenderWindow(e._openGLRenderWindow);var h=e.renderable.getColorTextureMap(),p=h.getExtent(),v=h.getPointData().getScalars();c.create2DFromRaw(p[1]-p[0]+1,p[3]-p[2]+1,v.getNumberOfComponents(),v.getDataType(),v.getData()),c.activate(),c.sendParameters(),c.deactivate()}var g="".concat(i.getMTime(),"A").concat(l,"B").concat(i.getMTime())+"C".concat(u?u.getMTime():1,"D").concat(o?o.getMTime():1)+"E".concat(a.getProperty().getEdgeVisibility())+"F".concat(f?f.getMTime():1);if(e.VBOBuildString!==g){var y=i.getPoints(),m={points:y,normals:u,tcoords:f,colors:o,cellOffset:0,vertexOffset:0,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(function(w){return i.getPointData().getArrayByName(w)})};e.renderable.getPopulateSelectionSettings()&&(e.selectionWebGLIdsToVTKIds={points:null,cells:null});for(var d=[{inRep:"verts",cells:i.getVerts()},{inRep:"lines",cells:i.getLines()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()}],_=a.getProperty().getEdgeVisibility()&&l===ic.SURFACE,x=Br.Start;x<Br.End;x++)x!==Br.TrisEdges&&x!==Br.TriStripsEdges?(m.cellOffset+=e.primitives[x].getCABO().createVBO(d[x].cells,d[x].inRep,l,m,e.selectionWebGLIdsToVTKIds),m.vertexOffset+=e.primitives[x].getCABO().getElementCount()):_?e.primitives[x].getCABO().createVBO(d[x].cells,d[x].inRep,ic.WIREFRAME,{points:y,normals:u,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}):e.primitives[x].releaseGraphicsResources();e.renderable.getPopulateSelectionSettings()&&(e.renderable.setSelectionWebGLIdsToVTKIds(e.selectionWebGLIdsToVTKIds),t.updateMaximumPointCellIds()),e.VBOBuildTime.modified(),e.VBOBuildString=g}}}}var wme={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:Sn.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function p8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wme,r),Qt.extend(t,e,r),f2.implementReplaceShaderCoincidentOffset(t,e,r),e.primitives=[],e.primTypes=Br,e.tmpMat3=si(new Float64Array(9)),e.tmpMat4=ze(new Float64Array(16));for(var n=Br.Start;n<Br.End;n++)e.primitives[n]=Yi.newInstance(),e.primitives[n].setPrimitiveType(n),e.primitives[n].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Cr(t,e,["context"]),e.VBOBuildTime={},nr(e.VBOBuildTime,{mtime:0}),e.selectionStateChanged={},nr(e.selectionStateChanged,{mtime:0}),xme(t,e)}var v8=mt(p8,"vtkOpenGLPolyDataMapper"),C1={newInstance:v8,extend:p8};Wr("vtkMapper",v8);var Sme=su.ColorMode,wu=su.ScalarMode,qx=su.GetArray;function bme(t,e){e.classHierarchy.push("vtkMapper2D"),t.createDefaultLookupTable=function(){e.lookupTable=qh.newInstance()},t.getColorModeAsString=function(){return X.enumToString(Sme,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return X.enumToString(wu,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(r,n,a,i,o){if(!r||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var s=null,u=!1;if(n===wu.DEFAULT)s=r.getPointData().getScalars(),s||(s=r.getCellData().getScalars(),u=!0);else if(n===wu.USE_POINT_DATA)s=r.getPointData().getScalars();else if(n===wu.USE_CELL_DATA)s=r.getCellData().getScalars(),u=!0;else if(n===wu.USE_POINT_FIELD_DATA){var l=r.getPointData();a===qx.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(o)}else if(n===wu.USE_CELL_FIELD_DATA){var f=r.getCellData();u=!0,a===qx.BY_ID?s=f.getArrayByIndex(i):s=f.getArrayByName(o)}else if(n===wu.USE_FIELD_DATA){var c=r.getFieldData();a===qx.BY_ID?s=c.getArrayByIndex(i):s=c.getArrayByName(o)}return{scalars:s,cellFlag:u}},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var r=e.mtime;if(e.lookupTable!==null){var n=e.lookupTable.getMTime();r=n>r?n:r}return r},t.mapScalars=function(r,n){var a=t.getAbstractScalars(r,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(n);if(e.colorBuildString!==i){e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);var o=t.getLookupTable();o&&(o.build(),e.colorMapColors=o.mapScalars(a,e.colorMode,e.fieldDataTupleId)),e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(n)}}}var Tme={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function Cme(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tme,r),g1.extend(t,e,r),X.get(t,e,["colorMapColors"]),X.setGet(t,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),X.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),bme(t,e)}X.newInstance(Cme,"vtkMapper2D");var Eme={},Dme=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,Ome=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`,Mme={FOREGROUND:1},Za=Yi.primTypes,pg=Eme.ScalarMode,vg=$e,Lme={type:"StartEvent"},kme={type:"EndEvent"};function Rme(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),t.buildPass=function(n){n&&(e.openGLActor2D=t.getFirstAncestorOfType("vtkOpenGLActor2D"),e.openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.overlayPass=function(n){n&&t.render()},t.getShaderTemplate=function(n,a,i){var o=e.renderable.getViewSpecificProperties().OpenGL,s=Ome;if(o){var u=o.VertexShaderCode;u!==void 0&&u!==""&&(s=u)}n.Vertex=s;var l=Dme;if(o){var f=o.FragmentShaderCode;f!==void 0&&f!==""&&(l=f)}n.Fragment=l;var c="";if(o){var h=o.GeometryShaderCode;h!==void 0&&(c=h)}n.Geometry=c},t.render=function(){var n=e._openGLRenderWindow.getContext();if(e.context!==n){e.context=n;for(var a=Za.Start;a<Za.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor2D.getRenderable(),o=e.openGLRenderer.getRenderable();t.renderPiece(o,i)},t.renderPiece=function(n,a){if(t.invokeEvent(Lme),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(kme),!e.currentInput){vg("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(t.renderPieceStart(n,a),t.renderPieceDraw(n,a),t.renderPieceFinish(n,a))},t.renderPieceStart=function(n,a){if(e.primitiveIDOffset=0,e.openGLRenderer.getSelector())switch(e.openGLRenderer.getSelector().getCurrentPass()){default:e.openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(n,a),e.lastBoundBO=null},t.getNeedToRebuildShaders=function(n,a,i){return n.getShaderSourceTime().getMTime()<e.renderable.getMTime()||n.getShaderSourceTime().getMTime()<e.currentInput.getMTime()},t.updateBufferObjects=function(n,a){t.getNeedToRebuildBufferObjects(n,a)&&t.buildBufferObjects(n,a)},t.getNeedToRebuildBufferObjects=function(n,a){var i=e.VBOBuildTime.getMTime();return!!(i<t.getMTime()||i<e._openGLRenderWindow.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&i<n.getMTime())},t.buildBufferObjects=function(n,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,a.getProperty().getOpacity());var o=e.renderable.getColorMapColors();e.haveCellScalars=!1;var s=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(s===pg.USE_CELL_DATA||s===pg.USE_CELL_FIELD_DATA||s===pg.USE_FIELD_DATA||!i.getPointData().getScalars())&&s!==pg.USE_POINT_FIELD_DATA&&o&&(e.haveCellScalars=!0);var u=a.getProperty().getRepresentation(),l=i.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(l=null);var f=e.renderable.getTransformCoordinate(),c=n.getRenderWindow().getViews()[0],h=c.getViewportSize(n),p="".concat(i.getMTime(),"A").concat(u,"B").concat(i.getMTime())+"C".concat(o?o.getMTime():1)+"D".concat(l?l.getMTime():1)+"E".concat(f?n.getMTime():1)+"F".concat(h);if(e.VBOBuildString!==p){var v=i.getPoints();if(f){var g=Fy.newInstance(),y=v.getNumberOfPoints();g.setNumberOfPoints(y);for(var m=0;m<y;++m){f.setValue(v.getPoint(m));var d=f.getComputedDoubleViewportValue(n);g.setPoint(m,d[0],d[1],0)}v=g}var _={points:v,tcoords:l,colors:o,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(function(x){return i.getPointData().getArrayByName(x)})};_.cellOffset+=e.primitives[Za.Points].getCABO().createVBO(i.getVerts(),"verts",u,_),_.cellOffset+=e.primitives[Za.Lines].getCABO().createVBO(i.getLines(),"lines",u,_),_.cellOffset+=e.primitives[Za.Tris].getCABO().createVBO(i.getPolys(),"polys",u,_),_.cellOffset+=e.primitives[Za.TriStrips].getCABO().createVBO(i.getStrips(),"strips",u,_),e.VBOBuildTime.modified(),e.VBOBuildString=p}}},t.renderPieceDraw=function(n,a){var i=a.getProperty().getRepresentation(),o=e.context;o.depthMask(!0);for(var s=Za.Start;s<Za.End;s++){var u=e.primitives[s].getCABO();u.getElementCount()&&(e.lastBoundBO=e.primitives[s],e.primitiveIDOffset+=e.primitives[s].drawArrays(n,a,i,t))}},t.renderPieceFinish=function(n,a){e.lastBoundBO&&e.lastBoundBO.getVAO().release()},t.buildShaders=function(n,a,i){t.getShaderTemplate(n,a,i);var o=e.renderable.getViewSpecificProperties().OpenGL,s=null;if(o&&(s=o.ShaderReplacements),s)for(var u=0;u<s.length;u++){var l=s[u];if(l.replaceFirst){var f=l.shaderType,c=n[f],h=pe.substitute(c,l.originalValue,l.replacementValue,l.replaceAll);n[f]=h.result}}if(t.replaceShaderValues(n,a,i),s)for(var p=0;p<s.length;p++){var v=s[p];if(!v.replaceFirst){var g=v.shaderType,y=n[g],m=pe.substitute(y,v.originalValue,v.replacementValue,v.replaceAll);n[g]=m.result}}},t.replaceShaderValues=function(n,a,i){t.replaceShaderColor(n,a,i),t.replaceShaderTCoord(n,a,i),t.replaceShaderPicking(n,a,i),t.replaceShaderPositionVC(n,a,i)},t.replaceShaderColor=function(n,a,i){var o=n.Vertex,s=n.Geometry,u=n.Fragment;e.haveCellScalars&&(u=pe.substitute(u,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,u=pe.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(o=pe.substitute(o,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,o=pe.substitute(o,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,s=pe.substitute(s,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,s=pe.substitute(s,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,u=pe.substitute(u,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,u=pe.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(u=pe.substitute(u,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,u=pe.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),n.Vertex=o,n.Geometry=s,n.Fragment=u},t.replaceShaderTCoord=function(n,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var o=n.Vertex,s=n.Geometry,u=n.Fragment,l=e.lastBoundBO.getCABO().getTCoordComponents();l===1?(o=pe.substitute(o,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,o=pe.substitute(o,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=pe.substitute(s,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,s=pe.substitute(s,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=pe.substitute(u,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=pe.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):l===2&&(o=pe.substitute(o,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,o=pe.substitute(o,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=pe.substitute(s,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,s=pe.substitute(s,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=pe.substitute(u,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=pe.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(s=pe.substitute(s,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),n.Vertex=o,n.Geometry=s,n.Fragment=u}},t.replaceShaderPicking=function(n,a,i){var o=n.Fragment;o=pe.substitute(o,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,o=pe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,n.Fragment=o},t.replaceShaderPositionVC=function(n,a,i){e.lastBoundBO.replaceShaderPositionVC(n,a,i)},t.invokeShaderCallbacks=function(n,a,i){var o=e.renderable.getViewSpecificProperties().ShadersCallbacks;o&&o.forEach(function(s){s.callback(s.userData,n,a,i)})},t.setMapperShaderParameters=function(n,a,i){if(n.getProgram().isUniformUsed("PrimitiveIDOffset")&&n.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),n.getProgram().isAttributeUsed("vertexWC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexWC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,!1)||vg("Error setting vertexWC in shader VAO.")),n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach(function(h,p){n.getProgram().isAttributeUsed("".concat(h,"MC"))&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"".concat(h,"MC"),n.getCABO().getCustomData()[p].offset,n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getCustomData()[p].components,!1)||vg("Error setting ".concat(h,"MC in shader VAO.")))}),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getTCoordComponents(),!1)||vg("Error setting tcoordMC in shader VAO."):n.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&n.getProgram().isUniformUsed("texture1")&&n.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var o=e.openGLActor2D.getActiveTextures();if(o)for(var s=0;s<o.length;++s){var u=o[s],l=u.getTextureUnit(),f="texture".concat(l+1);n.getProgram().isUniformUsed(f)&&n.getProgram().setUniformi(f,l)}n.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var c=e.openGLRenderer.getSelector();n.getProgram().setUniform3fArray("mapperIndex",c?c.getPropColorValue():[0,0,0]),n.getProgram().setUniformi("picking",c?c.getCurrentPass()+1:0)}},t.setPropertyShaderParameters=function(n,a,i){var o=e.renderable.getColorMapColors();if(!o||o.getNumberOfComponents()===0){var s=n.getProgram(),u=i.getProperty(),l=u.getOpacity(),f=u.getColor(),c=[f[0],f[1],f[2],l];s.setUniform4f("diffuseColor",c)}},t.setLightingShaderParameters=function(n,a,i){};function r(n,a,i){return a.identity(i),n.reduce(function(o,s,u){return u===0?s?a.copy(o,s):a.identity(o):s?a.multiply(o,o,s):o},i)}t.setCameraShaderParameters=function(n,a,i){var o=n.getProgram(),s=n.getCABO().getCoordShiftAndScaleEnabled(),u=s?n.getCABO().getInverseShiftAndScaleMatrix():null,l=a.getRenderWindow().getViews()[0],f=l.getViewportSize(a),c=a.getViewport(),h=i.getActualPositionCoordinate().getComputedDoubleViewportValue(a),p=[0,0,1,1],v=[0,0,1,1];if(v[0]=c[0]>=p[0]?c[0]:p[0],v[1]=c[1]>=p[1]?c[1]:p[1],v[2]=c[2]<=p[2]?c[2]:p[2],v[3]=c[3]<=p[3]?c[3]:p[3],!(v[0]>=v[2])&&!(v[1]>=v[3])){f[0]=Vd(f[0]*(v[2]-v[0])/(c[2]-c[0])),f[1]=Vd(f[1]*(v[3]-v[1])/(c[3]-c[1]));var g=e.openGLRenderer.getParent().getSize(),y=Vd(h[0]-(v[0]-c[0])*g[0]),m=Vd(h[1]-(v[1]-c[1])*g[1]),d=-y,_=-y+f[0],x=-m,w=-m+f[1];d===_&&(_=d+1),x===w&&(w=x+1);var S=ze(new Float64Array(16));S[0]=2/(_-d),S[1*4+1]=2/(w-x),S[0*4+3]=-1*(_+d)/(_-d),S[1*4+3]=-1*(w+x)/(w-x),S[2*4+2]=0,S[2*4+3]=i.getProperty().getDisplayLocation()===Mme.FOREGROUND?-1:1,S[3*4+3]=1,dt(S,S),o.setUniformMatrix("WCVCMatrix",r([S,u],sb,e.tmpMat4))}}}var Ame={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function Nme(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ame,r),Qt.extend(t,e,r),f2.implementReplaceShaderCoincidentOffset(t,e,r),e.primitives=[],e.primTypes=Za,e.tmpMat4=ze(new Float64Array(16));for(var n=Za.Start;n<Za.End;n++)e.primitives[n]=Yi.newInstance(),e.primitives[n].setPrimitiveType(n),e.primitives[n].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Cr(t,e,["context"]),e.VBOBuildTime={},nr(e.VBOBuildTime,{mtime:0}),Rme(t,e)}var Fme=mt(Nme,"vtkOpenGLPolyDataMapper2D");Wr("vtkMapper2D",Fme);function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bme=d1.VectorMode,st=new Float64Array(3),dg=new Float64Array(3),Vt=new Float64Array(3),la=new Float64Array(3),Ua=new Float64Array(3),Su=new Float64Array(3),za=new Float64Array(16);function Zx(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function d8(t,e){return function(r){var n=r.getLastSize(),a=Math.pow(n[0]/700,.8),i=Math.pow(n[1]/700,.8),o=Math.min(a,i),s=r.getAxisTextStyle(),u=r.getTickTextStyle();Object.assign(s,e.axisTextStyle),Object.assign(u,e.tickTextStyle),s.fontSize=Math.max(24*o,12),r.getLastAspectRatio()>1?u.fontSize=Math.max(20*o,10):u.fontSize=Math.max(16*o,10);var l=r.updateTextureAtlas();r.setTopTitle(!1);var f=r.getBoxSizeByReference();if(r.getLastAspectRatio()>1){r.setTickLabelPixelOffset(.4*u.fontSize);var c=2*(l.tickWidth+r.getTickLabelPixelOffset())/n[0];r.setAxisTitlePixelOffset(.8*s.fontSize);var h=2*(l.titleHeight+r.getAxisTitlePixelOffset())/n[0];c+.4*h>2*l.titleWidth/n[0]?(r.setTopTitle(!0),f[0]=c+.4*h,r.setBoxPosition([.98-f[0],-.92])):(f[0]=c+1.4*h,r.setBoxPosition([.99-f[0],-.92])),f[1]=Math.max(1.2,Math.min(1.84/i,1.84))}else{r.setAxisTitlePixelOffset(2*u.fontSize),r.setTickLabelPixelOffset(.5*u.fontSize);var p=2*(l.tickHeight+r.getTickLabelPixelOffset())/n[1],v=2*(l.titleHeight+r.getAxisTitlePixelOffset())/n[1],g=2*l.tickWidth/n[0];f[0]=Math.min(1.9,Math.max(1.4,1.4*g*(r.getTicks().length+3))),f[1]=p+v,r.setBoxPosition([-.5*f[0],-.97])}r.recomputeBarSegments(l)}}function g8(t,e){return function(r){var n=r.getLastTickBounds(),a=Q2().domain([n[0],n[1]]),i=a.ticks(5),o=a.tickFormat(5);r.setTicks(i),r.setTickStrings(i.map(o))}}function Ime(t,e){e.classHierarchy.push("vtkScalarBarActorHelper"),t.setRenderable=function(r){e.renderable!==r&&(e.renderable=r,e.barActor.setProperty(r.getProperty()),e.barActor.setParentProp(r),e.tmActor.setProperty(r.getProperty()),e.tmActor.setParentProp(r),e.generateTicks=r.generateTicks,e.axisTextStyle=Lo({},r.getAxisTextStyle()),e.tickTextStyle=Lo({},r.getTickTextStyle()),t.modified())},t.updateAPISpecificData=function(r,n,a){(e.lastSize[0]!==r[0]||e.lastSize[1]!==r[1])&&(e.lastSize[0]=r[0],e.lastSize[1]=r[1],e.lastAspectRatio=r[0]/r[1],e.forceUpdate=!0);var i=e.renderable.getScalarsToColors();if(!(!i||!e.renderable.getVisibility())){if(e.barMapper.setLookupTable(i),e.camera=n,e.renderWindow=a,e.forceUpdate||Math.max(i.getMTime(),t.getMTime(),e.renderable.getMTime())>e.lastRebuildTime.getMTime()){var o=i.getMappingRange();if(e.lastTickBounds=je(o),e.renderable.getGenerateTicks()(t),e.renderable.getAutomated())e.renderable.getAutoLayout()(t);else{e.axisTextStyle=Lo({},e.renderable.getAxisTextStyle()),e.tickTextStyle=Lo({},e.renderable.getTickTextStyle()),e.barPosition=je(e.renderable.getBarPosition()),e.barSize=je(e.renderable.getBarSize()),e.boxPosition=je(e.renderable.getBoxPosition()),e.boxSize=je(e.renderable.getBoxSize()),e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();var s=t.updateTextureAtlas();t.recomputeBarSegments(s)}e.forceViewUpdate=!0,e.lastRebuildTime.modified(),e.forceUpdate=!1}(e.forceViewUpdate||e.camera.getMTime()>e.lastRedrawTime.getMTime())&&(t.updatePolyDataForLabels(),t.updatePolyDataForBarSegments(),e.lastRedrawTime.modified(),e.forceViewUpdate=!1)}},t.updateTextureAtlas=function(){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";var r={},n=new Map,a=0,i=1;Zx(e.tmContext,e.axisTextStyle);var o=e.tmContext.measureText(e.renderable.getAxisLabel()),s={height:o.actualBoundingBoxAscent+2,startingHeight:i,width:o.width+2,textStyle:e.axisTextStyle};n.set(e.renderable.getAxisLabel(),s),i+=s.height,a=s.width,r.titleWidth=s.width,r.titleHeight=s.height,r.tickWidth=0,r.tickHeight=0,Zx(e.tmContext,e.tickTextStyle);for(var u=[].concat(je(t.getTickStrings()),["NaN","Below","Above"]),l=0;l<u.length;l++)n.has(u[l])||(o=e.tmContext.measureText(u[l]),s={height:o.actualBoundingBoxAscent+2,startingHeight:i,width:o.width+2,textStyle:e.tickTextStyle},n.set(u[l],s),i+=s.height,a<s.width&&(a=s.width),r.tickWidth<s.width&&(r.tickWidth=s.width),r.tickHeight<s.height&&(r.tickHeight=s.height));return a=Qa(a),i=Qa(i),n.forEach(function(f){f.tcoords=[0,(i-f.startingHeight-f.height)/i,f.width/a,(i-f.startingHeight-f.height)/i,f.width/a,(i-f.startingHeight)/i,0,(i-f.startingHeight)/i]}),e.tmCanvas.width=a,e.tmCanvas.height=i,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,a,i),n.forEach(function(f,c){Zx(e.tmContext,f.textStyle),e.tmContext.fillText(c,1,f.startingHeight+f.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=n,r},t.computeBarSize=function(r){e.vertical=e.boxSize[1]>e.boxSize[0];var n=2*r.tickHeight/e.lastSize[1],a=[1,1];if(e.vertical){var i=2*(r.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){var o=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-i,e.barSize[1]=e.boxSize[1]-o}else{var s=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-s-i,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+i,e.barPosition[1]=e.boxPosition[1],a[1]=n}else{var u=(2*r.tickWidth-8)/e.lastSize[0],l=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-l-n,e.barPosition[1]=e.boxPosition[1],a[0]=u}return a},t.recomputeBarSegments=function(r){var n,a,i,o,s=t.computeBarSize(r);e.barSegments=[];var u=[0,0],l=e.vertical?1:0,f=e.vertical?.01:.02;function c(v,g){e.barSegments.push({corners:[[].concat(u),[u[0]+s[0],u[1]],[u[0]+s[0],u[1]+s[1]],[u[0],u[1]+s[1]]],scalars:g,title:v}),u[l]+=s[l]+f}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&c("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&(n=(a=e.renderable.getScalarsToColors()).getUseBelowRangeColor)!==null&&n!==void 0&&n.call(a)&&c("Below",[-.1,-.1,-.1,-.1]);var h=(i=(o=e.renderable.getScalarsToColors()).getUseAboveRangeColor)===null||i===void 0?void 0:i.call(o);u[l]+=f;var p=s[l];s[l]=h?1-2*f-s[l]-u[l]:1-f-u[l],c("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&h&&(s[l]=p,u[l]+=f,c("Above",[1.1,1.1,1.1,1.1]))},t.createPolyDataForOneLabel=function(r,n,a,i,o,s,u){var l=e._tmAtlas.get(r);if(l){var f=u.ptIdx,c=u.cellIdx;st[0]=n[0],st[1]=n[1],st[2]=n[2],o[0]<-.5?Ir(Vt,a,o[0]*s-l.width):o[0]>.5?Ir(Vt,a,o[0]*s):Ir(Vt,a,o[0]*s-l.width/2),Vi(st,st,Vt),Ir(Vt,i,o[1]*s-l.height/2),Vi(st,st,Vt),u.points[f*3]=st[0],u.points[f*3+1]=st[1],u.points[f*3+2]=st[2],u.tcoords[f*2]=l.tcoords[0],u.tcoords[f*2+1]=l.tcoords[1],f++,Ir(Vt,a,l.width),Vi(st,st,Vt),u.points[f*3]=st[0],u.points[f*3+1]=st[1],u.points[f*3+2]=st[2],u.tcoords[f*2]=l.tcoords[2],u.tcoords[f*2+1]=l.tcoords[3],f++,Ir(Vt,i,l.height),Vi(st,st,Vt),u.points[f*3]=st[0],u.points[f*3+1]=st[1],u.points[f*3+2]=st[2],u.tcoords[f*2]=l.tcoords[4],u.tcoords[f*2+1]=l.tcoords[5],f++,Ir(Vt,a,l.width),Sa(st,st,Vt),u.points[f*3]=st[0],u.points[f*3+1]=st[1],u.points[f*3+2]=st[2],u.tcoords[f*2]=l.tcoords[6],u.tcoords[f*2+1]=l.tcoords[7],f++,u.polys[c*4]=3,u.polys[c*4+1]=f-4,u.polys[c*4+2]=f-3,u.polys[c*4+3]=f-2,c++,u.polys[c*4]=3,u.polys[c*4+1]=f-4,u.polys[c*4+2]=f-2,u.polys[c*4+3]=f-1,u.ptIdx+=4,u.cellIdx+=2}},t.updatePolyDataForLabels=function(){var r=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);dt(r,r),br(za,r);var n=e.lastSize;Vt[0]=0,Vt[1]=0,Vt[2]=-.99,He(st,Vt,za),Vt[0]+=.1,He(dg,Vt,za),Sa(Ua,dg,st),Vt[0]-=.1,Vt[1]+=.1,He(dg,Vt,za),Sa(Su,dg,st);for(var a=0;a<3;a++)Ua[a]/=.5*.1*n[0],Su[a]/=.5*.1*n[1];var i=t.getTickStrings().length+e.barSegments.length,o=i*4,s=i*2,u=new Float64Array(o*3),l=new Uint16Array(s*4),f=new Float32Array(o*2),c={ptIdx:0,cellIdx:0,polys:l,points:u,tcoords:f},h=e.vertical?0:1,p=e.vertical?1:0,v=[0,1];e.vertical?(e.topTitle?(Vt[0]=e.boxPosition[0]+.5*e.boxSize[0],Vt[1]=e.barPosition[1]+e.barSize[1],He(st,Vt,za),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),st,Ua,Su,[0,1],e.axisTitlePixelOffset,c)):(Vt[0]=e.barPosition[0]+e.barSize[0],Vt[1]=e.barPosition[1]+.5*e.barSize[1],He(st,Vt,za),Ir(Ua,Ua,-1),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),st,Su,Ua,[0,-1],e.axisTitlePixelOffset,c),Ir(Ua,Ua,-1)),v=[-1,0]):(Vt[0]=e.barPosition[0]+.5*e.barSize[0],Vt[1]=e.barPosition[1]+e.barSize[1],He(st,Vt,za),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),st,Ua,Su,v,e.axisTitlePixelOffset,c)),la[2]=-.99,la[h]=e.barPosition[h]+(.5*v[h]+.5)*e.barSize[h],la[p]=e.barPosition[p]+e.barSize[p]*.5;for(var g=null,y=0;y<e.barSegments.length;y++){var m=e.barSegments[y];m.title==="ticks"?g=m:(la[p]=e.barPosition[p]+.5*e.barSize[p]*(m.corners[2][p]+m.corners[0][p]),He(st,la,za),t.createPolyDataForOneLabel(m.title,st,Ua,Su,v,e.tickLabelPixelOffset,c))}for(var d=e.barPosition[p]+e.barSize[p]*g.corners[0][p],_=e.barSize[p]*(g.corners[2][p]-g.corners[0][p]),x=t.getTicks(),w=t.getTickStrings(),S=0;S<x.length;S++){var b=(x[S]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);la[p]=d+_*b,He(st,la,za),t.createPolyDataForOneLabel(w[S],st,Ua,Su,v,e.tickLabelPixelOffset,c)}var T=gt.newInstance({numberOfComponents:2,values:f,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(T),e.tmPolyData.getPoints().setData(u,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(l,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updatePolyDataForBarSegments=function(){var r,n,a=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);dt(a,a),br(za,a);var i=e.renderable.getScalarsToColors(),o=0;e.renderable.getDrawNanAnnotation()&&i.getNanColor()&&(o+=1),e.renderable.getDrawBelowRangeSwatch()&&(r=i.getUseBelowRangeColor)!==null&&r!==void 0&&r.call(i)&&(o+=1),e.renderable.getDrawAboveRangeSwatch()&&(n=i.getUseAboveRangeColor)!==null&&n!==void 0&&n.call(i)&&(o+=1);var s=4*(1+o),u=s,l=1;i.getVectorMode()===Bme.COMPONENT&&(l=i.getVectorComponent()+1);for(var f=new Float64Array(s*3),c=new Uint16Array(u*5),h=new Float32Array(s*l),p=0,v=0,g=0;g<e.barSegments.length;g++){var y=e.barSegments[g];la[1]=e.barPosition[1]+e.barSize[1]*.5,la[2]=-.99;for(var m=0;m<4;m++){la[0]=e.barPosition[0]+y.corners[m][0]*e.barSize[0],la[1]=e.barPosition[1]+y.corners[m][1]*e.barSize[1],He(st,la,za),f[p*3]=st[0],f[p*3+1]=st[1],f[p*3+2]=st[2];for(var d=0;d<l;d++)h[p*l+d]=e.lastTickBounds[0]+y.scalars[m]*(e.lastTickBounds[1]-e.lastTickBounds[0]);p++}c[v*5]=4,c[v*5+1]=p-4,c[v*5+2]=p-3,c[v*5+3]=p-2,c[v*5+4]=p-1,v++}var _=gt.newInstance({numberOfComponents:l,values:h,name:"Scalars"});e.polyData.getPointData().setScalars(_),e.polyData.getPoints().setData(f,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(c,1),e.polyData.getPolys().modified(),e.polyData.modified()}}var Vme=X.newInstance(function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},r),X.obj(t,e),X.setGet(t,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle","ticks","tickStrings"]),X.get(t,e,["lastSize","lastAspectRatio","lastTickBounds","axisTextStyle","tickTextStyle","barActor","tmActor"]),X.getArray(t,e,["boxPosition","boxSize"]),X.setArray(t,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRedrawTime={},X.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},X.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=Xs.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=wf.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=Ys.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=wf.newInstance(),e.tmMapper=Xs.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=eE.newInstance(),e.tmTexture.setInterpolate(!1),e.tmActor=Ys.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],Ime(t,e)},"vtkScalarBarActorHelper");function Pme(t,e){e.classHierarchy.push("vtkScalarBarActor"),t.setTickTextStyle=function(r){e.tickTextStyle=Lo(Lo({},e.tickTextStyle),r),t.modified()},t.setAxisTextStyle=function(r){e.axisTextStyle=Lo(Lo({},e.axisTextStyle),r),t.modified()},t.resetAutoLayoutToDefault=function(){t.setAutoLayout(d8(t,e))},t.resetGenerateTicksToDefault=function(){t.setGenerateTicks(g8())}}function Ume(t){return Lo({automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0},t)}function y8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ume(r)),e.autoLayout||(e.autoLayout=d8(t,e)),e.generateTicks||(e.generateTicks=g8()),Ys.extend(t,e,r),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),X.setGet(t,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","generateTicks","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),X.get(t,e,["axisTextStyle","tickTextStyle"]),X.getArray(t,e,["barPosition","barSize","boxPosition","boxSize"]),X.setArray(t,e,["barPosition","barSize","boxPosition","boxSize"],2),Pme(t,e)}var zme=X.newInstance(y8,"vtkScalarBarActor"),m8={newInstance:zme,extend:y8,newScalarBarActorHelper:Vme};function Gme(t,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),t.buildPass=function(r){r&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=function(r,n){if(r){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e._openGLRenderWindow.getRenderable())}}}var Wme={};function Hme(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Wme,r),Qt.extend(t,e,r),e.scalarBarActorHelper=m8.newScalarBarActorHelper(),Gme(t,e)}var jme=mt(Hme,"vtkOpenGLScalarBarActor");Wr("vtkScalarBarActor",jme);var NR=$e;function $me(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=function(r){if(r){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var n=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(n.getActiveCamera())}},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;n.incrementOpaqueActorCount()}},t.opaquePass=function(r,n){if(r&&!e.openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);var a=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",a);var i=e.openGLRenderer.getRenderable(),o=e.openGLCamera.getKeyMatrices(i),s=new Float64Array(16);if(br(s,o.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",s),e.lastFormat==="box"){var u=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",u[0],u[1],u[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=function(){if(!e.tris.getCABO().getElementCount()){for(var r=new Float32Array(12),n=0;n<4;n++)r[n*3]=n%2*2-1,r[n*3+1]=n>1?1:-1,r[n*3+2]=1;var a=gt.newInstance({numberOfComponents:3,values:r});a.setName("points");var i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var o=gt.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(o,"polys",Vo.SURFACE,{points:a,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||NR("Error setting vertexMC in shader VAO."));var s=e.renderable.getTextures();s.length||NR("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==s[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(s[0]))}}var Kme={context:null};function Xme(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Kme,r),Qt.extend(t,e,r),e.openGLTexture=Ot.newInstance(),e.tris=Yi.newInstance(),e.keyMatrixTime={},nr(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:si(new Float64Array(9)),mcwc:ze(new Float64Array(16))},Cr(t,e,["context"]),ia(t,e,["activeTextures"]),$me(t,e)}var Yme=mt(Xme);Wr("vtkSkybox",Yme);function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vh=$e,Zme=qo.Representation,gg=Mo.ObjectType,Jme=N2.PassTypes,Qme={type:"StartEvent"},e1e={type:"EndEvent"};function t1e(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");var r=qme({},t);t.renderPiece=function(n,a){if(t.invokeEvent(Qme),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(e1e),!e.currentInput){vh("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);var o=a.getProperty().getBackfaceCulling(),s=a.getProperty().getFrontfaceCulling();!o&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(n,a),t.renderPieceDraw(n,a),t.renderPieceFinish(n,a)}},t.multiply4x4WithOffset=function(n,a,i,o){var s=a[0],u=a[1],l=a[2],f=a[3],c=a[4],h=a[5],p=a[6],v=a[7],g=a[8],y=a[9],m=a[10],d=a[11],_=a[12],x=a[13],w=a[14],S=a[15],b=i[o],T=i[o+1],C=i[o+2],M=i[o+3];n[0]=b*s+T*c+C*g+M*_,n[1]=b*u+T*h+C*y+M*x,n[2]=b*l+T*p+C*m+M*w,n[3]=b*f+T*v+C*d+M*S,b=i[o+4],T=i[o+5],C=i[o+6],M=i[o+7],n[4]=b*s+T*c+C*g+M*_,n[5]=b*u+T*h+C*y+M*x,n[6]=b*l+T*p+C*m+M*w,n[7]=b*f+T*v+C*d+M*S,b=i[o+8],T=i[o+9],C=i[o+10],M=i[o+11],n[8]=b*s+T*c+C*g+M*_,n[9]=b*u+T*h+C*y+M*x,n[10]=b*l+T*p+C*m+M*w,n[11]=b*f+T*v+C*d+M*S,b=i[o+12],T=i[o+13],C=i[o+14],M=i[o+15],n[12]=b*s+T*c+C*g+M*_,n[13]=b*u+T*h+C*y+M*x,n[14]=b*l+T*p+C*m+M*w,n[15]=b*f+T*v+C*d+M*S},t.replaceShaderNormal=function(n,a,i){if(e.hardwareSupport){var o=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(o>0){var s=n.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(s=pe.substitute(s,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,s=pe.substitute(s,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),n.Vertex=s}}r.replaceShaderNormal(n,a,i)},t.replaceShaderColor=function(n,a,i){if(e.hardwareSupport&&e.renderable.getColorArray()){var o=n.Vertex,s=n.Geometry,u=n.Fragment,l=e.lastBoundBO.getReferenceByName("lastLightComplexity"),f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];l&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];l&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  opacity = opacityUniform;"]),l&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(f=f.concat(["varying vec4 vertexColorVSOutput;"]),o=pe.substitute(o,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,o=pe.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,s=pe.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=pe.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,c=c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),u=pe.substitute(u,"//VTK::Color::Impl",c).result,u=pe.substitute(u,"//VTK::Color::Dec",f).result,n.Vertex=o,n.Geometry=s,n.Fragment=u}r.replaceShaderColor(n,a,i)},t.replaceShaderPositionVC=function(n,a,i){if(e.hardwareSupport){var o=n.Vertex,s=e.lastBoundBO.getReferenceByName("lastLightComplexity");s>0?(o=pe.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,o=pe.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(o=pe.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,o=pe.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),n.Vertex=o}r.replaceShaderPositionVC(n,a,i)},t.replaceShaderPicking=function(n,a,i){if(e.hardwareSupport){var o=n.Fragment,s=n.Vertex;s=pe.substitute(s,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,s=pe.substitute(s,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,n.Vertex=s,o=pe.substitute(o,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,o=pe.substitute(o,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,n.Fragment=o}else r.replaceShaderPicking(n,a,i)},t.updateGlyphShaderParameters=function(n,a,i,o,s,u,l,f){var c=i.getProgram();if(n){var h=e.normalMatrix,p=u,v=l*9,g=e.tmpMat3,y=h[0],m=h[1],d=h[2],_=h[3],x=h[4],w=h[5],S=h[6],b=h[7],T=h[8],C=p[v],M=p[v+1],D=p[v+2],E=p[v+3],k=p[v+4],O=p[v+5],A=p[v+6],I=p[v+7],U=p[v+8];g[0]=C*y+M*_+D*S,g[1]=C*m+M*x+D*b,g[2]=C*d+M*w+D*T,g[3]=E*y+k*_+O*S,g[4]=E*m+k*x+O*b,g[5]=E*d+k*w+O*T,g[6]=A*y+I*_+U*S,g[7]=A*m+I*x+U*b,g[8]=A*d+I*w+U*T,c.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,s,l*16),c.setUniformMatrix("MCPCMatrix",e.tmpMat4),a&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,s,l*16),c.setUniformMatrix("MCVCMatrix",e.tmpMat4)),o){var P=o.getData();e.tmpColor[0]=P[l*4]/255,e.tmpColor[1]=P[l*4+1]/255,e.tmpColor[2]=P[l*4+2]/255,c.setUniform3fArray("ambientColorUniform",e.tmpColor),c.setUniform3fArray("diffuseColorUniform",e.tmpColor)}f&&c.setUniform3fArray("mapperIndex",f.getPropColorValue())},t.renderPieceDraw=function(n,a){var i=a.getProperty().getRepresentation(),o=e.context,s=a.getProperty().getEdgeVisibility()&&i===Zme.SURFACE,u=e.openGLCamera.getKeyMatrices(n),l=e.openGLActor.getKeyMatrices();_f(e.normalMatrix,u.normalMatrix,l.normalMatrix),Ht(e.mcpcMatrix,u.wcpc,l.mcwc),Ht(e.mcvcMatrix,u.wcvc,l.mcwc);var f=e.renderable.getMatrixArray(),c=e.renderable.getNormalArray(),h=e.renderable.getColorArray(),p=f.length/16,v=!1;e.openGLRenderer.getSelector()&&e.openGLRenderer.getSelector().getCurrentPass()===Jme.COMPOSITE_INDEX_PASS&&(v=!0);for(var g=e.primTypes.Start;g<e.primTypes.End;g++){var y=e.primitives[g].getCABO();if(y.getElementCount()){e.drawingEdges=s&&(g===e.primTypes.TrisEdges||g===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[g],e.primitives[g].updateShaders(n,a,t);var m=e.primitives[g].getProgram(),d=e.primitives[g].getOpenGLMode(i),_=m.isUniformUsed("normalMatrix"),x=m.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(d,0,y.getElementCount(),p):o.drawArraysInstanced(d,0,y.getElementCount(),p);else for(var w=0;w<p;++w)v&&e.openGLRenderer.getSelector().renderCompositeIndex(w),t.updateGlyphShaderParameters(_,x,e.primitives[g],h,f,c,w,v?e.openGLRenderer.getSelector():null),o.drawArrays(d,0,y.getElementCount())}}},t.setMapperShaderParameters=function(n,a,i){if(n.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){n.getProgram().isAttributeUsed("gMatrix")?n.getVAO().addAttributeMatrixWithDivisor(n.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||vh("Error setting gMatrix in shader VAO."):n.getVAO().removeAttributeArray("gMatrix"),n.getProgram().isAttributeUsed("gNormal")?n.getVAO().addAttributeMatrixWithDivisor(n.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||vh("Error setting gNormal in shader VAO."):n.getVAO().removeAttributeArray("gNormal"),n.getProgram().isAttributeUsed("gColor")?n.getVAO().addAttributeArrayWithDivisor(n.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||vh("Error setting gColor in shader VAO."):n.getVAO().removeAttributeArray("gColor"),n.getProgram().isAttributeUsed("mapperIndexVS")?n.getVAO().addAttributeArrayWithDivisor(n.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||vh("Error setting mapperIndexVS in shader VAO."):n.getVAO().removeAttributeArray("mapperIndexVS"),r.setMapperShaderParameters(n,a,i),n.getAttributeUpdateTime().modified();return}r.setMapperShaderParameters(n,a,i)},t.getNeedToRebuildBufferObjects=function(n,a){e.renderable.buildArrays();var i=e.VBOBuildTime.getMTime();return i<e.renderable.getBuildTime().getMTime()?!0:r.getNeedToRebuildBufferObjects(n,a)},t.getNeedToRebuildShaders=function(n,a,i){return!!(r.getNeedToRebuildShaders(n,a,i)||n.getShaderSourceTime().getMTime()<e.renderable.getMTime()||n.getShaderSourceTime().getMTime()<e.currentInput.getMTime())},t.buildBufferObjects=function(n,a){if(e.hardwareSupport){var i=e.renderable.getMatrixArray(),o=e.renderable.getNormalArray(),s=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=Mo.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=Mo.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=Mo.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=Mo.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,gg.ARRAY_BUFFER),e.normalBuffer.upload(o,gg.ARRAY_BUFFER),s?e.colorBuffer.upload(s.getData(),gg.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();for(var u=i.length/16,l=new Uint8Array(4*u),f=0;f<u;++f){var c=f+1,h=f*4;l[h]=c%256,c-=l[h],c/=256,l[h+1]=c%256,c-=l[h+1],c/=256,l[h+2]=c%256,l[h+3]=255}e.pickBuffer.upload(l,gg.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return r.buildBufferObjects(n,a)}}var r1e={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function n1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,r1e,r),C1.extend(t,e,r),e.tmpMat3=si(new Float64Array(9)),e.normalMatrix=si(new Float64Array(9)),e.mcpcMatrix=ze(new Float64Array(16)),e.mcvcMatrix=ze(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},nr(e.glyphBOBuildTime,{mtime:0}),t1e(t,e)}var a1e=mt(n1e,"vtkOpenGLGlyph3DMapper");Wr("vtkGlyph3DMapper",a1e);var i1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_LIC0.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

/**
This shader initializes the convolution for the LIC computation.
*/

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texMaskVectors;
uniform sampler2D texNoise;
uniform sampler2D texLIC;

uniform int   uStepNo;         // in step 0 initialize lic and seeds, else just seeds
uniform int   uPassNo;         // in pass 1 hpf of pass 0 is convolved.
uniform float uMaskThreshold;  // if |V| < uMaskThreshold render transparent
uniform vec2  uNoiseBoundsPt1; // tc of upper right pt of noise texture

in vec2 tcoordVC;

// convert from vector coordinate space to noise coordinate space.
// the noise texture is tiled across the *whole* domain
vec2 VectorTCToNoiseTC(vec2 vectc)
{
  return vectc/uNoiseBoundsPt1;
}

// get the texture coordidnate to lookup noise value. this
// depends on the pass number.
vec2 getNoiseTC(vec2 vectc)
{
  // in pass 1 : convert from vector tc to noise tc
  // in pass 2 : use vector tc
  if (uPassNo == 0)
    {
    return VectorTCToNoiseTC(vectc);
    }
  else
    {
    return vectc;
    }
}

// look up noise value at the given location. The location
// is supplied in vector texture coordinates, hence the
// need to convert to noise texture coordinates.
float getNoise(vec2 vectc)
{
  return texture2D(texNoise, getNoiseTC(vectc)).r;
}

void main(void)
{
  vec2 vectc = tcoordVC.st;

  // lic => (convolution, mask, 0, step count)
  if (uStepNo == 0)
    {
    float maskCriteria = length(texture2D(texMaskVectors, vectc).xyz);
    float maskFlag;
    if (maskCriteria <= uMaskThreshold)
      {
      maskFlag = 1.0;
      }
    else
      {
      maskFlag = 0.0;
      }
    float noise = getNoise(vectc);
    LICOutput = vec4(noise, maskFlag, 0.0, 1.0);
    }
  else
    {
    LICOutput = texture2D(texLIC, vectc);
    }

  // initial seed
  SeedOutput = vec4(vectc, 0.0, 1.0);
}
`,o1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_fs1.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D  texVectors;
uniform sampler2D  texNoise;
uniform sampler2D  texLIC;
uniform sampler2D  texSeedPts;

uniform int   uPassNo;          // in pass 1 hpf of pass 0 is convolved.
uniform float uStepSize;        // step size in parametric space

uniform vec2  uNoiseBoundsPt1;  // tc of upper right pt of noise texture

in vec2 tcoordVC;

//VTK::LICVectorLookup::Impl

// We need to do this manually since CLAMP_TO_BORDER and and borderColor
// are very poorly supported in webgl
vec2 clampToBorder(vec2 uv){
  if(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0)
  {
    return vec2(0.0, 0.0);
  }
  return getVector(uv);
}

// convert from vector coordinate space to noise coordinate space.
// the noise texture is tiled across the whole domain
vec2 VectorTCToNoiseTC(vec2 vectc)
{
  return vectc/uNoiseBoundsPt1;
}

// get the texture coordidnate to lookup noise value.
// in pass 1 repeatedly tile the noise texture across
// the computational domain.
vec2 getNoiseTC(vec2 tc)
{
  if (uPassNo == 0)
    {
    return VectorTCToNoiseTC(tc);
    }
  else
    {
    return tc;
    }
}

// look up noise value at the given location. The location
// is supplied in vector texture coordinates, hence the need
// to convert to either noise or lic texture coordinates in
// pass 1 and 2 respectively.
float getNoise(vec2 vectc)
{
  return texture2D(texNoise, getNoiseTC(vectc)).r;
}

// fourth-order Runge-Kutta streamline integration
// no bounds checks are made, therefore it's essential
// to have the entire texture initialized to 0
// and set clamp to border and have border color 0
// an integer is set if the step was taken, keeping
// an accurate step count is necessary to prevent
// boundary artifacts. Don't count the step if
// all vector lookups are identically 0. This is
// a proxy for "stepped outside valid domain"
vec2 rk4(vec2 pt0, float dt, out bool count)
{
  count=true;
  float dtHalf = dt * 0.5;
  vec2 pt1;

  vec2 v0 = clampToBorder(pt0);
  pt1 = pt0 + v0 * dtHalf;

  vec2 v1 = clampToBorder(pt1);
  pt1 = pt0 + v1 * dtHalf;

  vec2 v2 = clampToBorder(pt1);
  pt1 = pt0 + v2 * dt;

  vec2 v3 = clampToBorder(pt1);
  vec2 vSum = v0 + v1 + v1 + v2 + v2 + v3;

  if (vSum == vec2(0.0, 0.0))
    {
      count = false;
    }

  pt1 = pt0 + (vSum) * (dt * (1.0/6.0));

 return pt1;
}

void main(void)
{
  vec2 lictc = tcoordVC.st;
  vec4 lic = texture2D(texLIC, lictc);
  vec2 pt0 = texture2D(texSeedPts, lictc).st;

  bool count;
  vec2 pt1 = rk4(pt0, uStepSize, count);

  if (count)
    {
    // accumulate lic step
    // (lic, mask, 0, step count)
    float noise = getNoise(pt1);
    LICOutput = vec4(lic.r + noise, lic.g, 0.0, lic.a + 1.0);
    SeedOutput = vec4(pt1, 0.0, 1.0);
    }
  else
    {
    // keep existing values
    LICOutput = lic;
    SeedOutput = vec4(pt0, 0.0, 1.0);
    }
}
`,s1e=` //VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_LICN.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

/**
This shader finalizes the convolution for the LIC computation
applying the normalization. eg. if box kernel is used the this
is the number of steps taken.
*/

uniform sampler2D texLIC;

in vec2 tcoordVC;

void main(void)
{
  vec4 conv = texture2D(texLIC, tcoordVC.st);
  conv.r = conv.r/conv.a;
  // lic => (convolution, mask, 0, 1)
  LICOutput = vec4(conv.rg , 0.0, 1.0);
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,u1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_CE.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// gray scale contrast enhance stage implemented via histogram stretching
// if the min and max are tweaked it can generate out-of-range values
// these will be clamped in 0 to 1

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;


uniform sampler2D texLIC;  // most recent lic pass
uniform float uMin;        // min gray scale color value
uniform float uMaxMinDiff; // max-min

in vec2 tcoordVC;

void main( void )
{
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  if (lic.g!=0.0)
    {
    LICOutput = lic;
    }
  else
    {
    float CElic = clamp((lic.r - uMin)/uMaxMinDiff, 0.0, 1.0);
    LICOutput = vec4(CElic, lic.gb, 1.0);
    }
    SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,l1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_fs2.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// high-pass filter stage employed by vtkLineIntegralConvolution2D
// between LIC pass 1 and LIC pass 2. filtered LIC pass 1, becomes
// noise for pass2.

// the output of this shader
layout(location = 0) out vec4 EEOutput;

uniform sampler2D texLIC; // most recent lic pass
uniform float     uDx;    // fragment size
uniform float     uDy;    // fragment size

in vec2 tcoordVC;

// kernel for simple laplace edge enhancement.
// p=Laplace(p)+p
float K[9] = float[9](
  -1.0, -1.0, -1.0,
  -1.0,  9.0, -1.0,
  -1.0, -1.0, -1.0
  );

// determine if the fragment was masked
bool Masked(float val) { return val != 0.0; }

void main(void)
{
  // tex coord neighbor offsets
  vec2 fragDx[9] = vec2[9](
    vec2(-uDx, uDy), vec2(0.0, uDy), vec2(uDx, uDy),
    vec2(-uDx, 0.0), vec2(0.0, 0.0), vec2(uDx, 0.0),
    vec2(-uDx,-uDy), vec2(0.0,-uDy), vec2(uDx,-uDy)
    );

  vec2 lictc = tcoordVC.st;

  // compute the convolution but don't use convovled values if
  // any masked fragments on the stencil. Fragments outside
  // the valid domain are masked during initialization, and
  // texture wrap parameters are clamp to border with border
  // color that contains masked flag
  float conv = 0.0;
  bool dontUse = false;
  for (int i=0; i<9; ++i)
    {
    vec2 tc = lictc + fragDx[i];
    vec4 lic = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic.g);
    conv = conv + K[i] * lic.r;
    }

  if (dontUse)
    {
    EEOutput = vec4(texture2D(texLIC, lictc).rg, 0.0, 1.0);
    }
  else
    {
    conv = clamp(conv, 0.0, 1.0);
    EEOutput = vec4(conv,texture2D(texLIC, lictc).g, 0.0, 1.0);
    }

}
`,c1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_AAH.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// Anti-alias stage in vtkLineIntegralConvolution2D
// horizontal pass of a Gaussian convolution

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texLIC; // input texture
uniform float     uDx;    // fragment size

in vec2 tcoordVC;

// factored 3x3 Gaussian kernel
// K^T*K = G
float K[3] = float[3](0.141421356, 0.707106781, 0.141421356);

// determine if the fragment was masked
bool Masked(float val){ return val != 0.0; }

void main(void)
{
// neighbor offsets
vec2 fragDx[3] = vec2[3](vec2(-uDx,0.0), vec2(0.0,0.0), vec2(uDx,0.0));

  vec2 lictc = tcoordVC.st;
  vec4 lic[3];
  bool dontUse = false;
  float conv = 0.0;
  for (int i=0; i<3; ++i)
    {
    vec2 tc = lictc + fragDx[i];
    lic[i] = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic[i].g);
    conv = conv + K[i] * lic[i].r;
    }
  // output is (conv, mask, skip, 1)
  if (dontUse)
    {
    LICOutput = vec4(lic[1].rg, 1.0, 1.0);
    }
  else
    {
    LICOutput = vec4(conv, lic[1].gb, 1.0);
    }
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,f1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_VT.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// move vector field to normalized image space
// pre-processing for vtkLineIntegralConvolution2D

// the output of this shader
//VTK::Output::Dec

// Fragment shader used by the gaussian blur filter render pass.

uniform sampler2D texVectors; // input texture
uniform vec2      uTexSize;   // size of texture

in vec2 tcoordVC;

void main(void)
{
  //VTK::LICComponentSelection::Impl
  V = V/uTexSize;
  gl_FragData[0] = vec4(V, 0.0, 1.0);
}
`,h1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_AAV.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// Anti-alias stage in vtkLineIntegralConvolution2D
// vertical pass of a Gaussian convolution

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texLIC; // input texture
uniform float     uDy;    // fragment size

in vec2 tcoordVC;


// factored 3x3 Gaussian kernel
// K^T*K = G
float K[3] = float[3](0.141421356, 0.707106781, 0.141421356);

// determine if the fragment was masked
bool Masked(float val){ return val != 0.0; }

void main(void)
{
// neighbor offsets
vec2 fragDy[3] = vec2[3](vec2(0.0,-uDy), vec2(0.0,0.0), vec2(0.0,uDy));


  vec2 lictc = tcoordVC.st;
  vec4 lic[3];
  bool dontUse = false;
  float conv = 0.0;
  for (int i=0; i<3; ++i)
    {
    vec2 tc = lictc + fragDy[i];
    lic[i] = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic[i].g);
    conv = conv + K[i] * lic[i].r;
    }
  // output is (conv, mask, skip, 1)
  if (dontUse)
    {
    LICOutput = vec4(lic[1].rg, 1.0, 1.0);
    }
  else
    {
    LICOutput = vec4(conv, lic[1].gb, 1.0);
    }
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,_8=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtktextureObjectVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;
attribute vec2 tcoordDC;
varying vec2 tcoordVC;

void main()
{
  tcoordVC = tcoordDC;
  gl_Position = vertexDC;
}
`,p1e=qo.Representation;function v1e(t){var e=Yi.newInstance();e.setOpenGLRenderWindow(t);for(var r=new Float32Array(12),n=0;n<4;n++)r[n*3]=n%2*2-1,r[n*3+1]=n>1?1:-1,r[n*3+2]=0;var a=new Float32Array([0,0,1,0,0,1,1,1]),i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var o=gt.newInstance({numberOfComponents:3,values:r});o.setName("points");var s=gt.newInstance({numberOfComponents:1,values:i}),u=gt.newInstance({numberOfComponents:2,values:a});return e.getCABO().createVBO(s,"polys",p1e.SURFACE,{points:o,cellOffset:0,tcoords:u}),e}function tE(t,e,r,n){var a=Fr(e,2),i=a[0],o=a[1],s=t.getContext(),u=Ot.newInstance({autoParameters:!1,wrapS:n,wrapT:n,minificationFilter:r,magnificationFilter:r,generateMipmap:!1,openGLDataType:s.FLOAT,baseLevel:0,maxLevel:0});return u.setOpenGLRenderWindow(t),u.setInternalFormat(s.RGBA32F),u.create2DFromRaw(i,o,4,"Float32Array",null),u.activate(),u.sendParameters(),u.deactivate(),u}function yg(t,e){return tE(t,e,Ot.Filter.NEAREST,Ot.Wrap.CLAMP_TO_EDGE)}function d1e(t,e){return tE(t,e,Ot.Filter.NEAREST,Ot.Wrap.CLAMP_TO_EDGE)}function g1e(t,e){return tE(t,e,Ot.Filter.LINEAR,Ot.Wrap.CLAMP_TO_EDGE)}function y1e(t,e){if(e.classHierarchy.push("vtkLICPingPongBufferManager"),!e._openGLRenderWindow){console.error("Pass renderwindow to ping pong manager");return}e.quad=v1e(e._openGLRenderWindow),e.context=e._openGLRenderWindow.getContext(),e.licTexture0=yg(e._openGLRenderWindow,e.size),e.seedTexture0=yg(e._openGLRenderWindow,e.size),e.licTexture1=yg(e._openGLRenderWindow,e.size),e.seedTexture1=yg(e._openGLRenderWindow,e.size),e.eeTexture=e.doEEPass?d1e(e._openGLRenderWindow,e.size):null,e.imageVectorTexture=e.doVTPass?g1e(e._openGLRenderWindow,e.size):null,e.pingTextures[0]=e.licTexture0,e.pingTextures[1]=e.seedTexture0,e.pongTextures[0]=e.licTexture1,e.pongTextures[1]=e.seedTexture1,e.textures[0]=e.pingTextures,e.textures[1]=e.pongTextures,t.swap=function(){e.readIndex=1-e.readIndex},t.renderQuad=function(r,n){var a=e.quad,i=e.context,o=e.quadVAO;o||(o=ed.newInstance(),o.setOpenGLRenderWindow(e._openGLRenderWindow),e.quadVAO=o),e.previousProgramHash!==n.getMd5Hash()&&(o.shaderProgramChanged(),a.getCABO().bind(),o.addAttributeArray(n,a.getCABO(),"vertexDC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE),o.addAttributeArray(n,a.getCABO(),"tcoordDC",a.getCABO().getTCoordOffset(),a.getCABO().getStride(),e.context.FLOAT,2,e.context.FALSE),e.previousProgramHash=n.getMd5Hash()),i.drawArrays(i.TRIANGLES,0,a.getCABO().getElementCount()),o.release()},t.getLastLICBuffer=function(){return e.readIndex===0?e.licTexture0:e.licTexture1},t.getLastSeedBuffer=function(){return e.readIndex===0?e.seedTexture0:e.seedTexture1},t.getLICBuffer=function(){return 1-e.readIndex===0?e.licTexture0:e.licTexture1},t.getSeedBuffer=function(){return 1-e.readIndex===0?e.seedTexture0:e.seedTexture1},t.getLICTextureUnit=function(){var r=e.textures[e.readIndex][0];return r.activate(),r.getTextureUnit()},t.getSeedTextureUnit=function(){var r=e.textures[e.readIndex][1];return r.activate(),r.getTextureUnit()},t.getNoiseTextureUnit=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return r===0?(e.noiseTexture.activate(),e.noiseTexture.getTextureUnit()):(e.eeTexture.activate(),e.eeTexture.getTextureUnit())},t.getVectorTextureUnit=function(){return e.vectorTexture.activate(),e.vectorTexture.getTextureUnit()},t.getImageVectorTextureUnit=function(){return e.imageVectorTexture?(e.imageVectorTexture.activate(),e.imageVectorTexture.getTextureUnit()):t.getVectorTextureUnit()},t.getMaskVectorTextureUnit=function(){return e.maskVectorTexture?(e.maskVectorTexture.activate(),e.maskVectorTexture.getTextureUnit()):t.getImageVectorTextureUnit()},t.clearBuffers=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=e.framebuffer,a=e.context;n.removeColorBuffer(0),n.removeColorBuffer(1),n.removeColorBuffer(2),n.removeColorBuffer(3),n.setColorBuffer(e.licTexture0,0),n.setColorBuffer(e.seedTexture0,1),n.setColorBuffer(e.licTexture1,2),n.setColorBuffer(e.seedTexture1,3);var i=[a.COLOR_ATTACHMENT0,a.COLOR_ATTACHMENT1,a.COLOR_ATTACHMENT2,a.COLOR_ATTACHMENT3];r&&(n.removeColorBuffer(4),n.setColorBuffer(e.eeTexture,4),i.push(a.COLOR_ATTACHMENT4)),a.drawBuffers(i),a.clearColor(0,1,0,0),a.disable(a.SCISSOR_TEST),a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT),n.removeColorBuffer(0),n.removeColorBuffer(1),n.removeColorBuffer(2),n.removeColorBuffer(3),r&&n.removeColorBuffer(4),a.drawBuffers([a.NONE])},t.clearBuffer=function(r){var n=e.framebuffer,a=e.context;n.removeColorBuffer(0),n.setColorBuffer(r,0),a.drawBuffers([a.COLOR_ATTACHMENT0]),a.clearColor(0,1,0,0),a.disable(a.SCISSOR_TEST),a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT),n.removeColorBuffer(r,0),a.drawBuffers([a.NONE])},t.activateVectorTextures=function(){e.imageVectorTexture?e.imageVectorTexture.activate():e.vectorTexture.activate(),e.maskVectorTexture&&e.maskVectorTexture.activate()},t.deactivateVectorTextures=function(){e.imageVectorTexture?e.imageVectorTexture.deactivate():e.vectorTexture.deactivate(),e.maskVectorTexture&&e.maskVectorTexture.deactivate()},t.activateNoiseTexture=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;switch(r){case 0:e.noiseTexture.activate();break;case 1:e.eeTexture.activate();break;default:console.error("Wrong LIC pass number")}},t.deactivateNoiseTexture=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;switch(r){case 0:e.noiseTexture.deactivate();break;case 1:e.eeTexture.deactivate();break;default:console.error("Wrong LIC pass number")}},t.attachLICBuffers=function(){var r=e.textures[e.readIndex],n=e.textures[1-e.readIndex],a=e.framebuffer,i=e.context;r[0].activate(),r[1].activate(),a.removeColorBuffer(0),a.removeColorBuffer(1),a.setColorBuffer(n[0],0),a.setColorBuffer(n[1],1),i.drawBuffers([i.COLOR_ATTACHMENT0,i.COLOR_ATTACHMENT1])},t.detachLICBuffers=function(){var r=e.textures[e.readIndex],n=e.context,a=e.framebuffer;r[0].deactivate(),r[1].deactivate(),a.removeColorBuffer(0),a.removeColorBuffer(1),n.drawBuffers([n.NONE])},t.attachImageVectorBuffer=function(){var r=e.framebuffer,n=e.context;e.vectorTexture.activate(),r.removeColorBuffer(0),r.setColorBuffer(e.imageVectorTexture,0),n.drawBuffers([n.COLOR_ATTACHMENT0])},t.detachImageVectorBuffer=function(){var r=e.context,n=e.framebuffer;e.vectorTexture.deactivate(),n.removeColorBuffer(0),r.drawBuffers([r.NONE])},t.attachEEBuffer=function(){var r=e.textures[e.readIndex];r[0].activate(),e.framebuffer.removeColorBuffer(0),e.framebuffer.setColorBuffer(e.eeTexture,0);var n=e.context;n.drawBuffers([n.COLOR_ATTACHMENT0])},t.detachEEBuffer=function(){var r=e.context,n=e.framebuffer;n.removeColorBuffer(0),r.drawBuffers([r.NONE]);var a=e.textures[e.readIndex];a[0].deactivate()},t.detachBuffers=function(){var r=e.context,n=e.framebuffer;n.removeColorBuffer(0),n.removeColorBuffer(1),r.drawBuffers([r.NONE]);var a=e.textures[e.readIndex],i=e.textures[1-e.readIndex];a[0]&&a[0].deactivate(),a[1]&&a[1].deactivate(),i[0]&&i[0].deactivate(),i[1]&&i[1].deactivate(),e.eeTexture&&e.eeTexture.deactivate(),e.noiseTexture&&e.noiseTexture.deactivate()},t.getWriteIndex=function(){return 1-e.readIndex},t.detachBuffers()}var m1e={vectorTexture:null,maskVectorTexture:null,noiseTexture:null,doEEPass:!1,doVTPass:!1,readIndex:0,quad:null,lastProgramHash:null,framebuffer:null,size:null,pingTextures:[],pongTextures:[],textures:[]};function x8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m1e,r),X.obj(t,e),X.get(t,e,["readIndex"]),X.setGet(t,e,["doEEPass","doVTPass","_openGLRenderWindow","vectorTexture","maskVectorTexture","noiseTexture","framebuffer","size"]),X.moveToProtected(t,e,["openGLRenderWindow"]),y1e(t,e)}var _1e=X.newInstance(x8,"vtkLICPingPongBufferManager"),x1e={newInstance:_1e,extend:x8},sl={NONE:0,LIC:1,COLOR:2,BOTH:3},Gb={UNIFORM:0,GAUSSIAN:1},w1e={BLEND:0};function S1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=`
    vec2 getVector( vec2 vectc )

      {

      vec2 V = texture2D( texVectors, vectc ).xy;

      // normalize if |V| not 0

      float lenV = length( V );

      if ( lenV > 1.0e-8 )

        {

        return V/lenV;

        }

      else

        {

        return vec2( 0.0, 0.0 );

        }

      }

    `,r=`
    vec2 getVector( vec2 vectc )

      {

      return texture2D( texVectors, vectc ).xy;

      }

    `;return t?e:r}function b1e(t,e){e.classHierarchy.push("vtkLineIntegralConvolution2D"),t.buildAShader=function(a){return e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(_8,a,"")},t.dumpTextureValues=function(a,i){var o=Fr(i,2),s=o[0],u=o[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.context,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e._openGLRenderWindow,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4,h=Al.newInstance(),p=l,v=null;return h.setOpenGLRenderWindow(f),h.saveCurrentBindingsAndBuffers(),h.create(s,u),h.populateFramebuffer(),h.setColorBuffer(a),v=new Float32Array(s*u*c),p.readPixels(0,0,s,u,c===4?p.RGBA:p.RGB,p.FLOAT,v),h.restorePreviousBindingsAndBuffers(),v},t.getTextureMinMax=function(a,i){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.context,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e._openGLRenderWindow,u=t.dumpTextureValues(a,i,o,s,4),l=Number.MAX_VALUE,f=Number.MIN_VALUE,c=0;c<u.length;c+=4)if(u[c+1]===0){var h=u[c];h<l&&(l=h),h>f&&(f=h)}return{min:l,max:f}},t.getComponentSelectionProgram=function(a){var i="xyzw";return".".concat(i[a[0]]).concat(i[a[1]])},t.buildShaders=function(){e.LIC0ShaderProgram=t.buildAShader(i1e);var a=pe.substitute(f1e,"//VTK::LICComponentSelection::Impl","vec2 V = texture2D(texVectors, tcoordVC.st)".concat(t.getComponentSelectionProgram(e.componentIds),";")).result;e.VTProgram=t.buildAShader(a);var i=pe.substitute(o1e,"//VTK::LICVectorLookup::Impl",S1e(e.normalizeVectors),!0).result;e.LICIShaderProgram=t.buildAShader(i),e.LICNShaderProgram=t.buildAShader(s1e),e.CEProgram=t.buildAShader(u1e),e.EEProgram=t.buildAShader(l1e),e.AAHProgram=t.buildAShader(c1e),e.AAVProgram=t.buildAShader(h1e)};function r(a,i){a.setUniformi("texLIC",i.getLICTextureUnit()),a.setUniformi("texSeedPts",i.getSeedTextureUnit())}function n(a,i,o){a.attachLICBuffers(),a.renderQuad(i,o),a.detachLICBuffers(),a.swap()}t.executeLIC=function(a,i,o,s,u,l){if(e._openGLRenderWindow=u,e.context=u.getContext(),Object.assign(e,l),a[0]<=0||a[1]<=0)return null;var f=[1/a[0],1/a[1]],c=e.stepSize*Math.sqrt(f[0]*f[0]+f[1]*f[1]);c<=0&&(c=1e-10);var h=e.context,p=e.framebuffer;if(!p||a[0]!==p.getSize()[0]||a[1]!==p.getSize()[1]){var v;p=Al.newInstance(),p.setOpenGLRenderWindow(e._openGLRenderWindow),p.saveCurrentBindingsAndBuffers(),(v=p).create.apply(v,je(a)),p.populateFramebuffer(),p.restorePreviousBindingsAndBuffers(),e.framebuffer=p}p.saveCurrentBindingsAndBuffers(),p.bind(),h.viewport.apply(h,[0,0].concat(je(a))),h.scissor.apply(h,[0,0].concat(je(a))),e.shadersNeedBuild&&(t.buildShaders(),e.shadersNeedBuild=!1),e.bufs?(e.bufs.setVectorTexture(i),e.bufs.setMaskVectorTexture(o),e.bufs.setNoiseTexture(s)):e.bufs=x1e.newInstance({openGLRenderWindow:u,doEEPass:e.enhancedLIC,doVTPass:e.transformVectors,vectorTexture:i,maskVectorTexture:o,noiseTexture:s,framebuffer:p,size:a});var g=[(s.getWidth()+1)/a[0],(s.getHeight()+1)/a[1]],y=1/a[0],m=1/a[1],d=e._openGLRenderWindow.getShaderCache();if(e.transformVectors){var _=e.VTProgram;d.readyShaderProgram(_),e.bufs.attachImageVectorBuffer(),_.setUniform2f.apply(_,["uTexSize"].concat(je(a))),_.setUniformi("texVectors",e.bufs.getVectorTextureUnit()),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),e.bufs.renderQuad(a,_),e.bufs.detachImageVectorBuffer()}e.bufs.clearBuffers(e.enhancedLIC),e.bufs.activateVectorTextures(),e.bufs.activateNoiseTexture(0);var x=e.LIC0ShaderProgram;d.readyShaderProgram(x),x.setUniformi("uStepNo",0),x.setUniformi("uPassNo",0),x.setUniformf("uMaskThreshold",e.maskThreshold),x.setUniform2f.apply(x,["uNoiseBoundsPt1"].concat(g)),x.setUniformi("texMaskVectors",e.bufs.getMaskVectorTextureUnit()),x.setUniformi("texLIC",e.bufs.getLICTextureUnit()),x.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(0)),n(e.bufs,a,x);var w=e.LICIShaderProgram;d.readyShaderProgram(w),w.setUniformi("uPassNo",0),w.setUniformf("uStepSize",-c),w.setUniform2f.apply(w,["uNoiseBoundsPt1"].concat(g)),w.setUniformi("texVectors",e.bufs.getImageVectorTextureUnit()),w.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(0));for(var S=0;S<e.numberOfSteps;++S)r(w,e.bufs),n(e.bufs,a,w);d.readyShaderProgram(x),x.setUniformi("uStepNo",1),r(x,e.bufs),n(e.bufs,a,x),d.readyShaderProgram(w),w.setUniformf("uStepSize",c);for(var b=0;b<e.numberOfSteps;++b)r(w,e.bufs),n(e.bufs,a,w);e.bufs.deactivateNoiseTexture(0),e.bufs.deactivateVectorTextures();var T=e.LICNShaderProgram;if(d.readyShaderProgram(T),T.setUniformi("texLIC",e.bufs.getLICTextureUnit()),n(e.bufs,a,T),e.enhancedLIC){(e.enhanceContrast===sl.LIC||e.enhanceContrast===sl.BOTH)&&t.contrastEnhance(!1,a),e.bufs.attachEEBuffer();var C=e.EEProgram;d.readyShaderProgram(C),C.setUniformi("texLIC",e.bufs.getLICTextureUnit()),C.setUniformf("uDx",y),C.setUniformf("uDy",m),e.bufs.renderQuad(a,C),e.bufs.detachEEBuffer(),e.bufs.detachBuffers(),e.bufs.clearBuffers(!1),e.bufs.activateVectorTextures(),e.bufs.activateNoiseTexture(1),d.readyShaderProgram(x),x.setUniformi("uStepNo",0),x.setUniformi("uPassNo",1),r(x,e.bufs),x.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(1)),n(e.bufs,a,x),d.readyShaderProgram(w),w.setUniformi("uPassNo",1),w.setUniformf("uStepSize",-c),w.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(1));for(var M=e.numberOfSteps/2,D=0;D<M;++D)r(w,e.bufs),n(e.bufs,a,w);d.readyShaderProgram(x),x.setUniformi("uStepNo",1),r(x,e.bufs),n(e.bufs,a,x),d.readyShaderProgram(w),w.setUniformf("uStepSize",c);for(var E=0;E<M;++E)r(w,e.bufs),n(e.bufs,a,w);e.bufs.deactivateNoiseTexture(1),e.bufs.deactivateVectorTextures(),d.readyShaderProgram(T),T.setUniformi("texLIC",e.bufs.getLICTextureUnit()),T.setUniformi("texSeedPts",e.bufs.getSeedTextureUnit()),n(e.bufs,a,T)}if(e.antiAlias){var k=e.AAHProgram;d.readyShaderProgram(k),k.setUniformi("texLIC",e.bufs.getLICTextureUnit()),k.setUniformf("uDx",y);var O=e.AAVProgram;d.readyShaderProgram(O),O.setUniformi("texLIC",e.bufs.getLICTextureUnit()),O.setUniformf("uDy",m);for(var A=0;A<e.antiAlias;++A)d.readyShaderProgram(k),r(k,e.bufs),n(e.bufs,a,k),d.readyShaderProgram(O),r(O,e.bufs),n(e.bufs,a,O)}return(e.enhanceContrast===sl.LIC||e.enhanceContrast===sl.BOTH)&&t.contrastEnhance(!0,a),e.bufs.detachBuffers(),p.restorePreviousBindingsAndBuffers(),e.bufs.getLastLICBuffer()},t.contrastEnhance=function(a,i){var o=e._openGLRenderWindow.getShaderCache(),s=t.getTextureMinMax(e.bufs.getLastLICBuffer(),i,e.context,e._openGLRenderWindow),u=s.min,l=s.max;(l<=u||l>1||u<0)&&(console.error("Invalid color range: ",u,l),u=0,l=1);var f=l-u;a&&(u+=f*e.lowLICContrastEnhancementFactor,l-=f*e.highLICContrastEnhancementFactor,f=l-u);var c=e.CEProgram;o.readyShaderProgram(c),c.setUniformi("texLIC",e.bufs.getLICTextureUnit()),c.setUniformf("uMin",u),c.setUniformf("uMaxMinDiff",f),n(e.bufs,i,c)}}var T1e={shadersNeedBuild:!0,stepSize:1,numberOfSteps:10,enhancedLIC:!0,enhanceContrast:!1,lowContrastEnhancementFactor:0,highContrastEnhancementFactor:0,antiAlias:0,componentIds:[0,1],normalizeVectors:!0,maskThreshold:0,transformVectors:!0,bufs:null,isComposite:!0};function w8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,T1e,r),X.obj(t,e),X.setGet(t,e,["context","_openGLRenderWindow","nuberOfSteps","stepSize","normalizeVectors","maskThreshold","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","antiAlias","componentIds","isComposite"]),X.moveToProtected(t,e,["openGLRenderWindow"]),b1e(t,e)}var C1e=X.newInstance(w8,"vtkLineIntegralConvolution2D"),E1e={newInstance:C1e,extend:w8},D1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_fs2.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// This shader combines surface geometry, LIC, and  scalar colors.

// the output of this shader
layout(location = 0) out vec4 RGBOutput;
layout(location = 1) out vec4 HSLOutput;

uniform sampler2D texVectors;       // vectors, depth
uniform sampler2D texGeomColors;    // scalar colors + lighting
uniform sampler2D texLIC;           // image lic
uniform int       uScalarColorMode; // select between blend, and map shader
uniform float     uLICIntensity;    // blend shader: blending factor for lic'd colors
uniform float     uMapBias;         // map shader: adjust the brightness of the result
uniform float     uMaskIntensity;   // blending factor for mask color
uniform vec3      uMaskColor;       // color for the masked out fragments

in vec2 tcoordVC;

/**
Convert from RGB color space into HSL colorspace.
*/
vec3 RGBToHSL(vec3 RGB)
{
  vec3 HSL = vec3(0.0, 0.0, 0.0);

  float RGBMin = min(min(RGB.r, RGB.g), RGB.b);
  float RGBMax = max(max(RGB.r, RGB.g), RGB.b);
  float RGBMaxMinDiff = RGBMax - RGBMin;

  HSL.z = (RGBMax + RGBMin) / 2.0;

  if (RGBMaxMinDiff == 0.0)
    {
    // Gray scale
    HSL.x = 0.0;
    HSL.y = 0.0;
    }
  else
    {
    // Color
    if (HSL.z < 0.5)
      HSL.y = RGBMaxMinDiff / (RGBMax + RGBMin);
    else
      HSL.y = RGBMaxMinDiff / (2.0 - RGBMax - RGBMin);

    float dR
      = (((RGBMax - RGB.r) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;
    float dG
      = (((RGBMax - RGB.g) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;
    float dB
      = (((RGBMax - RGB.b) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;

    if (RGB.r == RGBMax)
      HSL.x = dB - dG;
    else
    if (RGB.g == RGBMax)
      HSL.x = (1.0 / 3.0) + dR - dB;
    else
    if (RGB.b == RGBMax)
      HSL.x = (2.0 / 3.0) + dG - dR;

    if (HSL.x < 0.0)
      HSL.x += 1.0;

    if (HSL.x > 1.0)
      HSL.x -= 1.0;
    }

  return HSL;
}

/**
Helper for HSL to RGB conversion.
*/
float Util(float v1, float v2, float vH)
{
  if (vH < 0.0)
    vH += 1.0;

  if (vH > 1.0)
     vH -= 1.0;

  if ((6.0 * vH) < 1.0)
    return (v1 + (v2 - v1) * 6.0 * vH);

  if ((2.0 * vH) < 1.0)
    return (v2);

  if ((3.0 * vH) < 2.0)
    return (v1 + (v2 - v1) * ((2.0 / 3.0) - vH) * 6.0);

  return v1;
}

/**
Convert from HSL space into RGB space.
*/
vec3 HSLToRGB(vec3 HSL)
{
  vec3 RGB;
  if (HSL.y == 0.0)
    {
    // Gray
    RGB.r = HSL.z;
    RGB.g = HSL.z;
    RGB.b = HSL.z;
    }
  else
    {
    // Chromatic
    float v2;
    if (HSL.z < 0.5)
      v2 = HSL.z * (1.0 + HSL.y);
    else
      v2 = (HSL.z + HSL.y) - (HSL.y * HSL.z);

    float v1 = 2.0 * HSL.z - v2;

    RGB.r = Util(v1, v2, HSL.x + (1.0 / 3.0));
    RGB.g = Util(v1, v2, HSL.x);
    RGB.b = Util(v1, v2, HSL.x - (1.0 / 3.0));
    }

  return RGB.rgb;
}

void main()
{
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  vec4 geomColor = texture2D(texGeomColors, tcoordVC.st);

  // depth is used to determine which fragment belong to us
  // and we can change
  float depth = texture2D(texVectors, tcoordVC.st).a;

  vec3 fragColorRGB;
  float valid;
  if (depth > 1.0e-3)
    {
    // we own it
    // shade LIC'ed geometry, or apply mask
    if (lic.g!=0.0)
      {
      // it's masked
      // apply fragment mask
      fragColorRGB = uMaskIntensity * uMaskColor + (1.0 - uMaskIntensity) * geomColor.rgb;
      valid = 0.0;
      }
    else
      {
      if (uScalarColorMode==0)
        {
        // blend with scalars
        fragColorRGB = lic.rrr * uLICIntensity + geomColor.rgb * (1.0 - uLICIntensity);
        }
      else
        {
        // multiply with scalars
        fragColorRGB = geomColor.rgb * clamp((uMapBias + lic.r), 0.0, 1.0);
        }
      if (lic.b != 0.0)
        {
        // didn't have the required guard pixels
        // don't consider it in min max estimation
        // for histpgram stretching
        valid = 0.0;
        }
      else
        {
        // ok to use in min/max estimates for histogram
        // stretching
        valid = 1.0;
        }
      }
    }
  else
    {
    // we don't own it
    // pass through scalars
    fragColorRGB = geomColor.rgb;
    valid = 0.0;
    }

  // if no further stages this texture is
  // copied to the screen
  RGBOutput = vec4(fragColorRGB, geomColor.a);

  // if further stages, move to hsl space for contrast
  // enhancement. encoding validity saves moving a texture to the cpu
  vec3 fragColorHSL = RGBToHSL(fragColorRGB);
  HSLOutput = vec4(fragColorHSL, valid);
}
`,O1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_DCpy.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// This shader copies fragments and depths to the output buffer

// the output of this shader
//VTK::Output::Dec

uniform sampler2D texDepth;     // z values from vertex shader
uniform sampler2D texRGBColors; // final rgb LIC colors

in vec2 tcoordVC;

void main()
{
  gl_FragDepth = texture2D(texDepth, tcoordVC).x;
  gl_FragData[0] = texture2D(texRGBColors, tcoordVC);

  // since we render a screen aligned quad
  // we're going to be writing fragments
  // not touched by the original geometry
  // it's critical not to modify those
  // fragments.
  if (gl_FragDepth == 1.0)
    {
    discard;
    }
}
`,M1e=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_CE.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// color contrast enhance stage implemented via histogram stretching
// on lightness channel. if the min and max are tweaked it can generate
// out-of-range values these will be clamped in 0 to 1

// the output of this shader
//VTK::Output::Dec

uniform sampler2D texGeomColors; // scalars + lighting
uniform sampler2D texLIC;        // image lic, mask
uniform sampler2D texHSLColors;  // hsla colors

uniform float     uLMin;         // min lightness over all fragments
uniform float     uLMaxMinDiff;  // max - min lightness over all fragments

in vec2 tcoordVC;

vec3 HSLToRGB(vec3 HSL)
{
  vec3 RGB;
  float v;
  float h = HSL.x;
  float sl = HSL.y;
  float l = HSL.z;

  v = (l <= 0.5) ? (l * (1.0 + sl)) : (l + sl - l * sl);
  if (v <= 0.0) {
    RGB = vec3(0.0,0.0,0.0);
  } else {
    float m;
    int sextant;
    float fract, vsf, mid1, mid2;

    m = l + l - v;
    h *= 6.0;
    sextant = int(h);
    fract = h - float(sextant);

    vsf = (v - m) * fract;
    mid1 = m + vsf;
    mid2 = v - vsf;
    switch (sextant) {
      case 0: RGB.r = v; RGB.g = mid1; RGB.b = m; break;
      case 1: RGB.r = mid2; RGB.g = v; RGB.b = m; break;
      case 2: RGB.r = m; RGB.g = v; RGB.b = mid1; break;
      case 3: RGB.r = m; RGB.g = mid2; RGB.b = v; break;
      case 4: RGB.r = mid1; RGB.g = m; RGB.b = v; break;
      case 5: RGB.r = v; RGB.g = m; RGB.b = mid2; break;
    }
  }
  return RGB;
}

void main()
{
  // lookup hsl color , mask
  vec4 fragColor = texture2D(texHSLColors, tcoordVC.st);

  // don't modify masked fragments (masked => lic.g==1)
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  if (lic.g==0.0)
    {
    // normalize lightness channel
    fragColor.z = clamp((fragColor.z - uLMin)/uLMaxMinDiff, 0.0, 1.0);
    }

  // back into rgb space
  fragColor.rgb = HSLToRGB(fragColor.xyz);

  // add alpha
  vec4 geomColor = texture2D(texGeomColors, tcoordVC.st);
  fragColor.a = geomColor.a;

  gl_FragData[0] = fragColor;
}
`;function L1e(t,e){e.classHierarchy.push("vtkSurfaceLICInterface")}var k1e={enableLIC:!1,nuberOfSteps:40,stepSize:.25,transformVectors:!0,normalizeVectors:!0,maskOnSurface:!1,maskThreshold:0,maskColor:[0,0,0],maskIntensity:0,enhancedLIC:!0,enhanceContrast:sl.NONE,lowLICContrastEnhancementFactor:0,highLICContrastEnhancementFactor:0,lowColorContrastEnhancementFactor:0,highColorContrastEnhancementFactor:0,antiAlias:0,colorMode:w1e.BLEND,LICIntensity:1,mapModeBias:0,noiseTextureSize:200,noiseTextureType:Gb.GAUSSIAN,noiseGrainSize:8,noiseImpulseProbability:.1,noiseImpulseBackgroundValue:0,noiseGeneratorSeed:0,minNoiseValue:0,maxNoiseValue:1,numberOfNoiseLevels:2,shadersNeedBuilding:!0,reallocateTextures:!0,rebuildNoiseTexture:!1,viewPortScale:1};function S8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,k1e,r),X.obj(t,e),X.setGet(t,e,["enableLIC","numberOfSteps","stepSize","normalizeVectors","transformVectors","maskOnSurface","maskThreshold","maskColor","maskIntensity","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","lowColorContrastEnhancementFactor","highColorContrastEnhancementFactor","antiAlias","colorMode","LICIntensity","mapModeBias","noiseTextureSize","noiseTextureType","noiseGrainSize","minNoiseValue","maxNoiseValue","numberOfNoiseLevels","noiseImpulseProbability","noiseImpulseBackgroundValue","noiseGeneratorSeed","viewPortScale","rebuildNoiseTexture"]),L1e(t,e)}var R1e=X.newInstance(S8,"vtkSurfaceLICInterface"),b8={newInstance:R1e,extend:S8},A1e=qo.Representation;function N1e(t){var e=Yi.newInstance();e.setOpenGLRenderWindow(t);for(var r=new Float32Array(12),n=0;n<4;n++)r[n*3]=n%2*2-1,r[n*3+1]=n>1?1:-1,r[n*3+2]=0;var a=new Float32Array([0,0,1,0,0,1,1,1]),i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var o=gt.newInstance({numberOfComponents:3,values:r});o.setName("points");var s=gt.newInstance({numberOfComponents:1,values:i}),u=gt.newInstance({numberOfComponents:2,values:a});return e.getCABO().createVBO(s,"polys",A1e.SURFACE,{points:o,cellOffset:0,tcoords:u}),e}function F1e(t,e){e.classHierarchy.push("vtkOpenGLSurfaceLICInterface"),t.renderQuad=function(a,i){var o=e.licQuad,s=e.context,u=e.licQuadVAO;u||(u=ed.newInstance(),u.setOpenGLRenderWindow(e._openGLRenderWindow),e.licQuadVAO=u),e.previousProgramHash!==i.getMd5Hash()&&(u.shaderProgramChanged(),o.getCABO().bind(),u.addAttributeArray(i,o.getCABO(),"vertexDC",o.getCABO().getVertexOffset(),o.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE),u.addAttributeArray(i,o.getCABO(),"tcoordDC",o.getCABO().getTCoordOffset(),o.getCABO().getStride(),e.context.FLOAT,2,e.context.FALSE),e.previousProgramHash=i.getMd5Hash()),s.drawArrays(s.TRIANGLES,0,o.getCABO().getElementCount()),u.release()};function r(a,i,o,s,u,l){var f=2048,c=Math.max(0,Math.min(1,o)),h=Float32Array.from({length:a*a},function(){var _=0;if(c===1||Math.random()>1-c)for(var x=0;x<f;++x)_+=Math.random();return _}),p=0,v=f+1;h.forEach(function(_){c===1?v=_<v?_:v:v=_<v&&_>0?_:v,p=_>p?_:p});var g=p-v;g===0&&(v=0,p===0?g=1:g=p);var y=i-1,m=y!==0?1/y:0,d=l-u;return h.map(function(_){var x=_<v?_:(_-v)/g,w=Math.floor(x*i),S=w>y?y:w;return _>=v?i===1?l:u+S*m*d:s})}function n(a,i,o,s){var u=Fr(a,2),l=u[0],f=u[1],c=s-o;return Float32Array.from({length:l*f},function(){var h=Math.random();return h=Math.floor(h*i)/i,h=h*c+o,h>1?1:h<0?0:h})}t.generateNoiseTexture=function(a){if(!e.noiseTexture||e.licInterface.getRebuildNoiseTexture()){e.licInterface.setRebuildNoiseTexture(!1),e.noiseTexture&&e.noiseTexture.releaseGraphicsResources(),Dne(e.noiseGeneratorSeed,{global:!0});var i=[],o=e.licInterface.get("noiseTextureType","noiseGrainSize","numberOfNoiseLevels","noiseImpulseProbability","noiseImpulseBackgroundValue","minNoiseValue","maxNoiseValue"),s=o.noiseTextureType,u=o.noiseGrainSize,l=o.numberOfNoiseLevels,f=o.noiseImpulseProbability,c=o.noiseImpulseBackgroundValue,h=o.minNoiseValue,p=o.maxNoiseValue;switch(s){case Gb.GAUSSIAN:i=r(Math.floor(a/u),l,f,c,h,p);break;case Gb.UNIFORM:default:i=n([Math.ceil(a/u),Math.ceil(a/u)],l,h,p)}var v=1/u,g=Float32Array.from({length:a*a*4},function(m,d){var _=d/4;if(d%4===0){var x=Math.floor(_%a*v),w=Math.floor(_/a*v);return i[w*(a/u)+x]}return d%4===1||d%4===3?1:0}),y=Ot.newInstance({wrapS:Ot.Wrap.REPEAT,wrapT:Ot.Wrap.REPEAT,minificationFilter:Ot.Filter.NEAREST,magnificationFilter:Ot.Filter.NEAREST,generateMipMap:!1,openGLDataType:e.context.FLOAT,baseLevel:0,maxLevel:0,autoParameters:!1});y.setOpenGLRenderWindow(e._openGLRenderWindow),y.create2DFromRaw(a,a,4,"Float32Array",g),y.activate(),y.sendParameters(),y.deactivate(),e.noiseTexture=y}},t.buildAShader=function(a){return e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(_8,a,"")},t.allocateTextures=function(){var a=Ot.Filter.NEAREST,i=Ot.Filter.LINEAR,o=e._openGLRenderWindow;e.geometryImage||(e.geometryImage=t.allocateTexture(o,a)),e.vectorImage||(e.vectorImage=t.allocateTexture(o,i)),e.maskVectorImage||(e.maskVectorImage=t.allocateTexture(o,i)),e.LICImage||(e.LICImage=t.allocateTexture(o,a)),e.RGBColorImage||(e.RGBColorImage=t.allocateTexture(o,a)),e.HSLColorImage||(e.HSLColorImage=t.allocateTexture(o,a)),e.depthTexture||(e.depthTexture=t.allocateDepthTexture(o))},t.allocateTexture=function(a,i){var o=e.context,s=Ot.newInstance({wrapS:Ot.Wrap.CLAMP_TO_EDGE,wrapT:Ot.Wrap.CLAMP_TO_EDGE,minificationFilter:i,magnificationFilter:i,generateMipmap:!1,openGLDataType:o.FLOAT,baseLevel:0,maxLevel:0,autoParameters:!1});return s.setOpenGLRenderWindow(a),s.setInternalFormat(o.RGBA32F),s.create2DFromRaw.apply(s,je(e.size).concat([4,"Float32Array",null])),s.activate(),s.sendParameters(),s.deactivate(),s},t.allocateDepthTexture=function(a){var i=e.context,o=Ot.newInstance({generateMipmap:!1,openGLDataType:i.FLOAT,autoParameters:!1});return o.setOpenGLRenderWindow(a),o.createDepthFromRaw.apply(o,je(e.size).concat(["Float32Array",null])),o.activate(),o.sendParameters(),o.deactivate(),o},t.createFBO=function(){if(!e.framebuffer){e.licHelper=null;var a=Al.newInstance();a.setOpenGLRenderWindow(e._openGLRenderWindow),a.saveCurrentBindingsAndBuffers(),a.create.apply(a,je(e.size)),a.populateFramebuffer(),e.framebuffer=a,a.restorePreviousBindingsAndBuffers()}},t.completedGeometry=function(){var a=e.context,i=e.framebuffer;i.removeColorBuffer(0),i.removeColorBuffer(1),i.removeColorBuffer(2),i.removeDepthBuffer(),a.drawBuffers([a.NONE]),i.restorePreviousBindingsAndBuffers()},t.buildAllShaders=function(){e.shadersNeedBuilding&&(e.licColorPass=t.buildAShader(D1e),e.licCopyPass=t.buildAShader(O1e),e.enhanceContrastPass=t.buildAShader(M1e),e.shadersNeedBuilding=!1)},t.initializeResources=function(){t.createFBO(),t.generateNoiseTexture(e.licInterface.getNoiseTextureSize()),t.allocateTextures(),t.buildAllShaders(),e.licQuad||(e.licQuad=N1e(e._openGLRenderWindow)),e.licHelper||(e.licHelper=E1e.newInstance())},t.prepareForGeometry=function(){var a=e.framebuffer;a.saveCurrentBindingsAndBuffers(),a.bind(),e.geometryImage.activate(),e.vectorImage.activate(),e.maskVectorImage.activate(),a.removeColorBuffer(0),a.removeColorBuffer(1),a.removeColorBuffer(2),a.setColorBuffer(e.geometryImage,0),a.setColorBuffer(e.vectorImage,1),a.setColorBuffer(e.maskVectorImage,2),a.setDepthBuffer(e.depthTexture);var i=e.context;i.drawBuffers([i.COLOR_ATTACHMENT0,i.COLOR_ATTACHMENT1,i.COLOR_ATTACHMENT2]),i.viewport.apply(i,[0,0].concat(je(e.size))),i.scissor.apply(i,[0,0].concat(je(e.size))),i.disable(i.BLEND),i.disable(i.DEPTH_TEST),i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT)},t.copyToScreen=function(a){e.RGBColorImage.activate(),e.depthTexture.activate(),e.licCopyPass||t.initializeResources();var i=e.licCopyPass;e._openGLRenderWindow.getShaderCache().readyShaderProgram(i);var o=e.context;o.viewport.apply(o,[0,0].concat(je(a))),o.scissor.apply(o,[0,0].concat(je(a))),o.disable(o.BLEND),o.enable(o.DEPTH_TEST),o.disable(o.SCISSOR_TEST),i.setUniformi("texDepth",e.depthTexture.getTextureUnit()),i.setUniformi("texRGBColors",e.RGBColorImage.getTextureUnit()),t.renderQuad(a,i),e.RGBColorImage.deactivate(),e.depthTexture.deactivate()},t.combineColorsAndLIC=function(){var a=e.context,i=e.framebuffer;i.saveCurrentBindingsAndBuffers(),i.bind(),i.create.apply(i,je(e.size)),i.removeColorBuffer(0),i.removeColorBuffer(1),i.setColorBuffer(e.RGBColorImage,0),i.setColorBuffer(e.HSLColorImage,1),a.drawBuffers([a.COLOR_ATTACHMENT0,a.COLOR_ATTACHMENT1]),a.disable(a.DEPTH_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),e.vectorImage.activate(),e.geometryImage.activate(),e.LICImage.activate(),e.licColorPass||t.initializeResources();var o=e.licColorPass;e._openGLRenderWindow.getShaderCache().readyShaderProgram(o),o.setUniformi("texVectors",e.vectorImage.getTextureUnit()),o.setUniformi("texGeomColors",e.geometryImage.getTextureUnit());var s=e.licInterface.get("colorMode","LICIntensity","mapModeBias","maskIntensity","maskColor","enhanceContrast","lowColorContrastEnhancementFactor","highColorContrastEnhancementFactor"),u=s.colorMode,l=s.LICIntensity,f=s.mapModeBias,c=s.maskIntensity,h=s.maskColor,p=s.enhanceContrast,v=s.lowColorContrastEnhancementFactor,g=s.highColorContrastEnhancementFactor;if(o.setUniformi("texLIC",e.LICImage.getTextureUnit()),o.setUniformi("uScalarColorMode",u),o.setUniformf("uLICIntensity",l),o.setUniformf("uMapBias",f),o.setUniformf("uMaskIntensity",c),o.setUniform3f.apply(o,["uMaskColor"].concat(je(h))),t.renderQuad(e.size,o),e.vectorImage.deactivate(),e.geometryImage.deactivate(),e.LICImage.deactivate(),i.removeColorBuffer(0),i.removeColorBuffer(1),a.drawBuffers([a.NONE]),p===sl.COLOR||p===sl.BOTH){var y=0,m=1,d=m-y;y+=d*v,m-=d*g,d=m-y,i.setColorBuffer(e.RGBColorImage),a.drawBuffers([a.COLOR_ATTACHMENT0]),e.geometryImage.activate(),e.HSLColorImage.activate(),e.LICImage.activate(),e.enhanceContrastPass||t.initializeResources();var _=e.enhanceContrastPass;e._openGLRenderWindow.getShaderCache().readyShaderProgram(_),_.setUniformi("texGeomColors",e.geometryImage.getTextureUnit()),_.setUniformi("texHSLColors",e.HSLColorImage.getTextureUnit()),_.setUniformi("texLIC",e.LICImage.getTextureUnit()),_.setUniformf("uLMin",y),_.setUniformf("uLMaxMinDiff",d),t.renderQuad(e.size,_),e.geometryImage.deactivate(),e.HSLColorImage.deactivate(),e.LICImage.deactivate(),i.removeColorBuffer(0),a.drawBuffers([a.NONE])}i.restorePreviousBindingsAndBuffers()},t.applyLIC=function(){var a=e.licInterface.get("stepSize","numberOfSteps","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","antiAlias","normalizeVectors","maskThreshold","transformVectors"),i=e.licHelper.executeLIC(e.size,e.vectorImage,e.maskVectorImage,e.noiseTexture,e._openGLRenderWindow,a);if(!i){console.error("Failed to compute image LIC"),e.LICImage=null;return}e.LICImage=i},t.setSize=function(a){Array.isArray(a)&&a.length===2&&(!e.size||e.size[0]!==a[0]||e.size[1]!==a[1])&&(e.size=a,t.releaseGraphicsResources())},t.releaseGraphicsResources=function(){e.geometryImage&&(e.geometryImage.releaseGraphicsResources(),e.geometryImage=null),e.vectorImage&&(e.vectorImage.releaseGraphicsResources(),e.vectorImage=null),e.maskVectorImage&&(e.maskVectorImage.releaseGraphicsResources(),e.maskVectorImage=null),e.LICImage&&(e.LICImage.releaseGraphicsResources(),e.LICImage=null),e.RGBColorImage&&(e.RGBColorImage.releaseGraphicsResources(),e.RGBColorImage=null),e.HSLColorImage&&(e.HSLColorImage.releaseGraphicsResources(),e.HSLColorImage=null),e.depthTexture&&(e.depthTexture.releaseGraphicsResources(),e.depthTexture=null),e.framebuffer&&(e.framebuffer.releaseGraphicsResources(),e.framebuffer=null)}}var B1e={context:null,shadersNeedBuilding:!0,reallocateTextures:!0,size:null,licInterface:null};function T8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,B1e,r),b8.extend(t,e,r),X.obj(t,e),X.setGet(t,e,["context","_openGLRenderWindow","reallocateTextures","licInterface","size"]),X.moveToProtected(t,e,["openGLRenderWindow"]),F1e(t,e)}var I1e=X.newInstance(T8,"vtkSurfaceLICInterface"),V1e={newInstance:I1e,extend:T8};function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mg=$e;function U1e(t,e){e.classHierarchy.push("vtkOpenGLSurfaceLICMapper");var r=P1e({},t);t.getNeedToRebuildShaders=function(n,a,i){return e.rebuildLICShaders||r.getNeedToRebuildShaders(n,a,i)},t.replaceShaderValues=function(n,a,i){var o=e.lastBoundBO.getReferenceByName("lastLightComplexity"),s=n.Vertex,u=n.Fragment,l=e.renderable.getInputArrayToProcess(0);if(l&&e.canDrawLIC){u=pe.substitute(u,"//VTK::Output::Dec",["//VTK::Output::Dec","layout(location = 1) out vec4 vectorTexture;","layout(location = 2) out vec4 maskVectorTexture;"]).result;var f=l.getName(),c="".concat(f,"MC");o===0&&e.lastBoundBO.set({lastLightComplexity:1},!0),s=pe.substitute(s,"//VTK::TCoord::Dec",["attribute vec3 ".concat(c,";"),"out vec3 licOutput;","//VTK::TCoord::Dec"]).result,s=pe.substitute(s,"//VTK::TCoord::Impl",["licOutput = ".concat(c,";"),"//VTK::TCoord::Impl"]).result,u=pe.substitute(u,"//VTK::TCoord::Dec",["uniform int uMaskOnSurface;","uniform mat3 normalMatrix;","in vec3 licOutput;","//VTK::TCoord::Dec"]).result,u=pe.substitute(u,"//VTK::TCoord::Impl",["// projected vectors","  vec3 tcoordLIC = normalMatrix * licOutput;","  vec3 normN = normalize(normalVCVSOutput);","  float k = dot(tcoordLIC, normN);","  vec3 projected = (tcoordLIC - k*normN);","  vectorTexture = vec4(projected.x, projected.y, 0.0 , 1.0);","// vectors for fragment masking","  if (uMaskOnSurface == 0)","    {","    maskVectorTexture = vec4(licOutput, 1.0);","    }","  else","    {","    maskVectorTexture = vec4(projected.x, projected.y, 0.0 , 1.0);","    }","//VTK::TCoord::Impl"],!1).result,n.Vertex=s}e.rebuildLICShaders=!1,n.Fragment=u,r.replaceShaderValues(n,a,i),o>0&&e.lastBoundBO.set({lastLightComplexity:o},!0)},t.setMapperShaderParameters=function(n,a,i){r.setMapperShaderParameters(n,a,i),e.canDrawLIC&&n.getProgram().setUniformi("uMaskOnSurface",e.maskOnSurface)},t.getNeedToRebuildBufferObjects=function(n,a){return e.rebuildLICBuffers||r.getNeedToRebuildBufferObjects(n,a)},t.buildBufferObjects=function(n,a){if(e.canDrawLIC){var i=e.renderable.getInputArrayToProcess(0);i&&i.getNumberOfComponents()>1&&e.renderable.setCustomShaderAttributes([i.getName()])}e.rebuildLICBuffers=!1,r.buildBufferObjects(n,a)},t.pushState=function(n){var a;e.stateCache=(a={},qe(a,n.BLEND,n.isEnabled(n.BLEND)),qe(a,n.DEPTH_TEST,n.isEnabled(n.DEPTH_TEST)),qe(a,n.SCISSOR_TEST,n.isEnabled(n.SCISSOR_TEST)),qe(a,n.CULL_FACE,n.isEnabled(n.CULL_FACE)),a)},t.popState=function(n){var a=function(o){return e.stateCache[o]?n.enable(o):n.disable(o)};a(n.BLEND),a(n.DEPTH_TEST),a(n.SCISSOR_TEST),a(n.CULL_FACE)},t.renderPiece=function(n,a){var i=!0,o=e._openGLRenderWindow.getWebgl2();o||(mg("SurfaceLICMapper Requires WebGL 2"),i=!1),(!e.context.getExtension("EXT_color_buffer_float")||!e.context.getExtension("OES_texture_float_linear"))&&(mg("SurfaceLICMapper requires the EXT_color_buffer_float and OES_texture_float_linear WebGL2 extensions."),i=!1),e.currentInput=e.renderable.getInputData(),e.currentInput||(mg("No input"),i=!1);var s=e.renderable.getLicInterface();s||(s=b8.newInstance(),e.renderable.setLicInterface(s)),e.openGLLicInterface||(e.openGLLicInterface=V1e.newInstance()),s!==e.openGLLicInterface.getLicInterface()&&e.openGLLicInterface.setLicInterface(s);var u=e.renderable.getInputArrayToProcess(0);if(s.getEnableLIC()&&(!u||u.getNumberOfComponents()<2)&&(mg("No vector input array"),i=!1),s.getEnableLIC()||(i=!1),e.canDrawLIC!==i&&(e.rebuildLICShaders=!0,e.rebuildLICBuffers=!0),e.canDrawLIC=i,!i||!s.getEnableLIC()){r.renderPiece(n,a);return}var l=e.context,f=a.getProperty().getBackfaceCulling(),c=a.getProperty().getFrontfaceCulling();!f&&!c?e._openGLRenderWindow.disableCullFace():c?(e._openGLRenderWindow.enableCullFace(),l.cullFace(l.FRONT)):(e._openGLRenderWindow.enableCullFace(),l.cullFace(l.BACK));var h=e._openGLRenderWindow.getSize(),p=h.map(function(v){return Math.round(v*s.getViewPortScale())});e.openGLLicInterface.setSize(p),e.openGLLicInterface.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLLicInterface.setContext(e.context),t.pushState(e.context),e.openGLLicInterface.initializeResources(),e.openGLLicInterface.prepareForGeometry(),t.popState(e.context),r.renderPieceStart(n,a),r.renderPieceDraw(n,a),r.renderPieceFinish(n,a),t.pushState(e.context),e.VBOBuildTime.modified(),e.openGLLicInterface.completedGeometry(),e.context.disable(e.context.CULL_FACE),e.openGLLicInterface.applyLIC(),e.openGLLicInterface.combineColorsAndLIC(),e.openGLLicInterface.copyToScreen(h),t.popState(e.context)}}var z1e={canDrawLIC:!1,rebuildLICShaders:!1,rebuildLICBuffers:!1,openGLLicInterface:null};function G1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z1e,r),C1.extend(t,e,r),U1e(t,e),Cr(t,e,["openGLLicInterface"])}var W1e=mt(G1e,"vtkOpenGLSurfaceLICMapper");Wr("vtkSurfaceLICMapper",W1e);var H1e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkSphereMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Spheres

attribute vec4 vertexMC;
attribute vec2 offsetMC;

// optional normal declaration
//VTK::Normal::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying vec3 centerVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  // compute the projected vertex position
  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = length(offsetMC)*0.5;

  // make the triangle face the camera
  if (cameraParallel == 0)
    {
    vec3 dir = normalize(-vertexVCVSOutput.xyz);
    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));
    vec3 base1 = cross(base2,dir);
    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + offsetMC.x*base1 + offsetMC.y*base2;
    }
  else
    {
    // add in the offset
    vertexVCVSOutput.xy = vertexVCVSOutput.xy + offsetMC;
    }

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $1e=$e;function K1e(t,e){e.classHierarchy.push("vtkOpenGLSphereMapper");var r=j1e({},t);t.getShaderTemplate=function(n,a,i){n.Vertex=H1e,n.Fragment=n1,n.Geometry=""},t.replaceShaderValues=function(n,a,i){var o=n.Vertex,s=n.Fragment;o=pe.substitute(o,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=pe.substitute(s,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,s=pe.substitute(s,"//VTK::PositionVC::Impl",[`vec4 vertexVC = vertexVCVSOutput;
`]).result;var u=[`uniform float invertedDepth;
`,`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=pe.substitute(s,"//VTK::Normal::Dec",u).result;var l="";e.context.getExtension("EXT_frag_depth")&&(l=`gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(l=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=pe.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float b = 2.0*dot(EyePos,EyeDir);
`,`  float c = dot(EyePos,EyePos) - 1.0;
`,`  float d = b*b - 4.0*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t = (-b - invertedDepth*sqrt(d))*0.5;
`,`    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);
`,`    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,l]).result,s=pe.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=pe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=o,n.Fragment=s,r.replaceShaderValues(n,a,i)},t.setMapperShaderParameters=function(n,a,i){n.getCABO().getElementCount()&&(e.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&n.getProgram().isAttributeUsed("offsetMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"offsetMC",12,n.getCABO().getStride(),e.context.FLOAT,2,!1)||$1e("Error setting 'offsetMC' in shader VAO.")),n.getProgram().isUniformUsed("invertedDepth")&&n.getProgram().setUniformf("invertedDepth",e.invert?-1:1),r.setMapperShaderParameters(n,a,i)},t.setCameraShaderParameters=function(n,a,i){var o=n.getProgram(),s=a.getActiveCamera(),u=e.openGLCamera.getKeyMatrices(a);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",u.vcpc),o.isUniformUsed("MCVCMatrix"))if(i.getIsIdentity())o.setUniformMatrix("MCVCMatrix",u.wcvc);else{var l=e.openGLActor.getKeyMatrices(),f=new Float64Array(16);Ht(f,u.wcvc,l.mcwc),o.setUniformMatrix("MCVCMatrix",f)}o.isUniformUsed("cameraParallel")&&n.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=function(n,a){return e.context.TRIANGLES},t.buildBufferObjects=function(n,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var o=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),u=i.getPointData(),l=i.getPoints(),f=l.getNumberOfPoints(),c=l.getData(),h=5,p=null;e.renderable.getScaleArray()!=null&&u.hasArray(e.renderable.getScaleArray())&&(p=u.getArray(e.renderable.getScaleArray()).getData());var v=null,g=0,y=null;o?(g=o.getNumberOfComponents(),s.setColorOffset(0),s.setColorBOStride(4),v=o.getData(),y=new Uint8Array(3*f*4),s.getColorBO()||s.setColorBO(Mo.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow)):s.getColorBO()&&s.setColorBO(null),s.setColorComponents(g);var m=new Float32Array(h*f*3);s.setStride(h*4);for(var d=Math.cos(dr(30)),_=0,x=0,w=0,S=0,b=0;b<f;++b){var T=e.renderable.getRadius();p&&(T=p[b]),_=b*3,m[w++]=c[_++],m[w++]=c[_++],m[w++]=c[_++],m[w++]=-2*T*d,m[w++]=-T,v&&(x=b*g,y[S++]=v[x],y[S++]=v[x+1],y[S++]=v[x+2],y[S++]=v[x+3]),_=b*3,m[w++]=c[_++],m[w++]=c[_++],m[w++]=c[_++],m[w++]=2*T*d,m[w++]=-T,v&&(y[S++]=v[x],y[S++]=v[x+1],y[S++]=v[x+2],y[S++]=v[x+3]),_=b*3,m[w++]=c[_++],m[w++]=c[_++],m[w++]=c[_++],m[w++]=0,m[w++]=2*T,v&&(y[S++]=v[x],y[S++]=v[x+1],y[S++]=v[x+2],y[S++]=v[x+3])}s.setElementCount(w/h),s.upload(m,Io.ARRAY_BUFFER),o&&s.getColorBO().upload(y,Io.ARRAY_BUFFER),e.VBOBuildTime.modified()}}}var X1e={};function Y1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,X1e,r),C1.extend(t,e,r),K1e(t,e)}var q1e=mt(Y1e,"vtkOpenGLSphereMapper");Wr("vtkSphereMapper",q1e);var Z1e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkStickMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Sticks

attribute vec4 vertexMC;
attribute vec3 orientMC;
attribute vec4 offsetMC;
attribute float radiusMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying float lengthVCVSOutput;
varying vec3 centerVCVSOutput;
varying vec3 orientVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = radiusMC;
  lengthVCVSOutput = length(orientMC);
  orientVCVSOutput = normalMatrix * normalize(orientMC);

  // make sure it is pointing out of the screen
  if (orientVCVSOutput.z < 0.0)
    {
    orientVCVSOutput = -orientVCVSOutput;
    }

  // make the basis
  vec3 xbase;
  vec3 ybase;
  vec3 dir = vec3(0.0,0.0,1.0);
  if (cameraParallel == 0)
    {
    dir = normalize(-vertexVCVSOutput.xyz);
    }
  if (abs(dot(dir,orientVCVSOutput)) == 1.0)
    {
    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));
    ybase = cross(xbase,orientVCVSOutput);
    }
  else
    {
    xbase = normalize(cross(orientVCVSOutput,dir));
    ybase = cross(orientVCVSOutput,xbase);
    }

  vec3 offsets = offsetMC.xyz*2.0-1.0;
  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +
    radiusVCVSOutput*offsets.x*xbase +
    radiusVCVSOutput*offsets.y*ybase +
    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _g=$e;function Q1e(t,e){e.classHierarchy.push("vtkOpenGLStickMapper");var r=J1e({},t);t.getShaderTemplate=function(n,a,i){n.Vertex=Z1e,n.Fragment=n1,n.Geometry=""},t.replaceShaderValues=function(n,a,i){var o=n.Vertex,s=n.Fragment;o=pe.substitute(o,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=pe.substitute(s,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,s=pe.substitute(s,"//VTK::PositionVC::Impl",`  vec4 vertexVC = vertexVCVSOutput;
`).result;var u=[`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 orientVCVSOutput;
`,`varying float lengthVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=pe.substitute(s,"//VTK::Normal::Dec",u).result;var l="";e.context.getExtension("EXT_frag_depth")&&(l=`  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(l=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=pe.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  vec3 base1;
`,`  if (abs(orientVCVSOutput.z) < 0.99) {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }
`,`  else {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }
`,`  vec3 base2 = cross(orientVCVSOutput,base1);
`,`  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));
`,`  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;
`,`  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);
`,`  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;
`,`  float d = b*b - 4.0*a*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t =  (-b - sqrt(d))/(2.0*a);
`,`    float tz = EyePos.z + t*EyeDir.z;
`,`    vec3 iPoint = EyePos + t*EyeDir;
`,`    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {
`,`      float t2 = (-b + sqrt(d))/(2.0*a);
`,`      float tz2 = EyePos.z + t2*EyeDir.z;
`,`      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }
`,`      else {
`,`        normalVCVSOutput = orientVCVSOutput;
`,`        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;
`,`        iPoint = EyePos + t3*EyeDir;
`,`        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`        }
`,`      }
`,`    else {
`,`      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;
`,`      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`      }
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,l]).result,s=pe.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=pe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=o,n.Fragment=s,r.replaceShaderValues(n,a,i)},t.setMapperShaderParameters=function(n,a,i){n.getCABO().getElementCount()&&(e.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("orientMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"orientMC",12,n.getCABO().getStride(),e.context.FLOAT,3,!1)||_g("Error setting 'orientMC' in shader VAO.")),n.getProgram().isAttributeUsed("offsetMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),"offsetMC",0,n.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,3,!0)||_g("Error setting 'offsetMC' in shader VAO.")),n.getProgram().isAttributeUsed("radiusMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"radiusMC",24,n.getCABO().getStride(),e.context.FLOAT,1,!1)||_g("Error setting 'radiusMC' in shader VAO."))),r.setMapperShaderParameters(n,a,i)},t.setCameraShaderParameters=function(n,a,i){var o=n.getProgram(),s=a.getActiveCamera(),u=e.openGLCamera.getKeyMatrices(a);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",u.vcpc),i.getIsIdentity())o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",u.wcvc),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",u.normalMatrix);else{var l=e.openGLActor.getKeyMatrices();if(o.isUniformUsed("MCVCMatrix")){var f=new Float64Array(16);Ht(f,u.wcvc,l.mcwc),o.setUniformMatrix("MCVCMatrix",f)}if(o.isUniformUsed("normalMatrix")){var c=new Float64Array(9);_f(c,u.normalMatrix,l.normalMatrix),o.setUniformMatrix3x3("normalMatrix",c)}}o.isUniformUsed("cameraParallel")&&n.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=function(n,a){return e.context.TRIANGLES},t.buildBufferObjects=function(n,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var o=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),u=i.getPointData(),l=i.getPoints(),f=l.getNumberOfPoints(),c=l.getData(),h=3;h+=4;var p=null,v=0;s.setColorBOStride(4),s.getColorBO()||s.setColorBO(Mo.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow),o&&(v=o.getNumberOfComponents(),s.setColorOffset(4),p=o.getData(),s.setColorBOStride(8)),s.setColorComponents(v),s.setStride(h*4);var g=new Float32Array(h*f*12),y=new Uint8Array(12*f*(p?8:4)),m=null,d=null;e.renderable.getScaleArray()!=null&&u.hasArray(e.renderable.getScaleArray())&&(m=u.getArray(e.renderable.getScaleArray()).getData()),e.renderable.getOrientationArray()!=null&&u.hasArray(e.renderable.getOrientationArray())?d=u.getArray(e.renderable.getOrientationArray()).getData():_g([`Error setting orientationArray.
`,"You have to specify the stick orientation"]);for(var _=[0,1,3,0,3,2,2,3,5,2,5,4],x=0,w=0,S=0,b=0,T=0;T<f;++T){var C=e.renderable.getLength(),M=e.renderable.getRadius();m&&(C=m[T*2],M=m[T*2+1]);for(var D=0;D<_.length;++D)x=T*3,g[S++]=c[x++],g[S++]=c[x++],g[S++]=c[x++],x=T*3,g[S++]=d[x++]*C,g[S++]=d[x++]*C,g[S++]=d[x++]*C,g[S++]=M,y[b++]=255*(_[D]%2),y[b++]=_[D]>=4?255:0,y[b++]=_[D]>=2?255:0,y[b++]=255,w=T*v,p&&(y[b++]=p[w],y[b++]=p[w+1],y[b++]=p[w+2],y[b++]=p[w+3])}s.setElementCount(S/h),s.upload(g,Io.ARRAY_BUFFER),s.getColorBO().upload(y,Io.ARRAY_BUFFER),e.VBOBuildTime.modified()}}}var e_e={};function t_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e_e,r),C1.extend(t,e,r),Q1e(t,e)}var r_e=mt(t_e,"vtkOpenGLStickMapper");Wr("vtkStickMapper",r_e);function n_e(t,e){e.classHierarchy.push("vtkWebGPUActor"),t.buildPass=function(r){r&&(e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.traverseOpaquePass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children[0]&&e.children[0].traverse(r),t.apply(r,!1))},t.traverseTranslucentPass=function(r){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(r,!0),e.children[0]&&e.children[0].traverse(r),t.apply(r,!1))},t.queryPass=function(r,n){if(r){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},t.getBufferShift=function(r){return t.getKeyMatrices(r),e.bufferShift},t.getKeyMatrices=function(r){if(Math.max(e.renderable.getMTime(),r.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();var n=e.renderable.getMatrix(),a=r.getStabilizedCenterByReference();e.bufferShift[0]=n[3]-a[0],e.bufferShift[1]=n[7]-a[1],e.bufferShift[2]=n[11]-a[2],dt(e.keyMatrices.bcwc,n),e.renderable.getIsIdentity()?ze(e.keyMatrices.normalMatrix):(gr(e.keyMatrices.normalMatrix,e.keyMatrices.bcwc),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,br(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),dt(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),lr(e.keyMatrices.bcwc,e.keyMatrices.bcwc,[-e.bufferShift[0],-e.bufferShift[1],-e.bufferShift[2]]),lr(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-a[0],-a[1],-a[2]]),e.keyMatricesTime.modified()}return e.keyMatrices}}var a_e={keyMatricesTime:null,keyMatrices:null,propID:void 0,bufferShift:void 0};function i_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,a_e,r),Qt.extend(t,e,r),e.keyMatricesTime={},X.obj(e.keyMatricesTime,{mtime:0}),e.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},X.get(t,e,["propID","keyMatricesTime"]),e.bufferShift=[0,0,0,0],n_e(t,e)}var o_e=X.newInstance(i_e);oa("vtkActor",o_e);function s_e(t,e){e.classHierarchy.push("vtkWebGPUCubeAxesActor"),t.buildPass=function(r){r&&(e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=function(r,n){if(r){var a=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,i=e.WebGPURenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e.WebGPURenderWindow.getRenderable())}}}var u_e={};function l_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,u_e,r),Qt.extend(t,e,r),e.CubeAxesActorHelper=h8.newCubeAxesActorHelper(),s_e(t,e)}var c_e=mt(l_e,"vtkWebGPUCubeAxesActor");oa("vtkCubeAxesActor",c_e);var Hr=ou.BufferUsage,gn=ou.PrimitiveTypes,xg=qo.Representation,wg=Xs.ScalarMode,f_e=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,h_e=`
//VTK::Renderer::Dec

//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  var ambientColor: vec4<f32> = mapperUBO.AmbientColor;
  var diffuseColor: vec4<f32> = mapperUBO.DiffuseColor;
  var opacity: f32 = mapperUBO.Opacity;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::Light::Impl

  var computedColor: vec4<f32> = vec4<f32>(ambientColor.rgb * mapperUBO.AmbientIntensity
     + diffuse * mapperUBO.DiffuseIntensity
     + specular * mapperUBO.SpecularIntensity,
     opacity);

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  if (computedColor.a == 0.0) { discard; };

  //VTK::Position::Impl

  //VTK::RenderEncoder::Impl
  return output;
}
`;function p_e(t){return t.indexOf("edge")>=0}function v_e(t,e){e.classHierarchy.push("vtkWebGPUCellArrayMapper"),t.buildPass=function(r){r&&(e.WebGPUActor=t.getFirstAncestorOfType("vtkWebGPUActor"),e.WebGPURenderer=e.WebGPUActor.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.device=e.WebGPURenderWindow.getDevice())},t.translucentPass=function(r){r&&(t.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,t.draw))},t.opaquePass=function(r){r&&(t.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,t.draw))},t.updateUBO=function(){var r=e.WebGPUActor.getRenderable(),n=r.getProperty(),a=e.UBO.getSendTime();if(t.getMTime()>a||n.getMTime()>a||e.renderable.getMTime()>a){var i=e.WebGPUActor.getKeyMatrices(e.WebGPURenderer);e.UBO.setArray("BCWCMatrix",i.bcwc),e.UBO.setArray("BCSCMatrix",i.bcsc),e.UBO.setArray("MCWCNormals",i.normalMatrix);var o=n.getAmbientColorByReference();e.UBO.setValue("AmbientIntensity",n.getAmbient()),e.UBO.setArray("AmbientColor",[o[0],o[1],o[2],1]),e.UBO.setValue("DiffuseIntensity",n.getDiffuse()),o=n.getDiffuseColorByReference(),e.UBO.setArray("DiffuseColor",[o[0],o[1],o[2],1]),e.UBO.setValue("SpecularIntensity",n.getSpecular()),e.UBO.setValue("SpecularPower",n.getSpecularPower()),o=n.getSpecularColorByReference(),e.UBO.setArray("SpecularColor",[o[0],o[1],o[2],1]),e.UBO.setValue("LineWidth",n.getLineWidth()),o=n.getEdgeColorByReference(),e.UBO.setArray("EdgeColor",[o[0],o[1],o[2],1]),e.UBO.setValue("Opacity",n.getOpacity()),e.UBO.setValue("PropID",e.WebGPUActor.getPropID());var s=e.WebGPURenderWindow.getDevice();e.UBO.sendIfNeeded(s)}},t.haveWideLines=function(){var r=e.WebGPUActor.getRenderable(),n=r.getProperty().getRepresentation();return r.getProperty().getLineWidth()<=1||e.primitiveType===gn.Verts?!1:e.primitiveType===gn.Triangles||e.primitiveType===gn.TriangleStrips?n===xg.WIREFRAME:!0},t.replaceShaderPosition=function(r,n,a){var i=n.getShaderDescription("vertex");i.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var o=i.getCode();t.haveWideLines()?(i.addBuiltinInput("u32","@builtin(instance_index) instanceIndex"),o=Tt.substitute(o,"//VTK::Position::Impl",["    var tmpPos: vec4<f32> = rendererUBO.SCPCMatrix*mapperUBO.BCSCMatrix*vertexBC;","    var numSteps: f32 = ceil(mapperUBO.LineWidth - 1.0);","    var offset: f32 = (mapperUBO.LineWidth - 1.0) * (f32(input.instanceIndex / 2u) - numSteps/2.0) / numSteps;","    var tmpPos2: vec3<f32> = tmpPos.xyz / tmpPos.w;","    tmpPos2.x = tmpPos2.x + 2.0 * (f32(input.instanceIndex) % 2.0) * offset / rendererUBO.viewportSize.x;","    tmpPos2.y = tmpPos2.y + 2.0 * (f32(input.instanceIndex + 1u) % 2.0) * offset / rendererUBO.viewportSize.y;","    tmpPos2.z = tmpPos2.z + 0.00001;","    output.Position = vec4<f32>(tmpPos2.xyz * tmpPos.w, tmpPos.w);"]).result):o=Tt.substitute(o,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*mapperUBO.BCSCMatrix*vertexBC;"]).result,i.setCode(o)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderNormal=function(r,n,a){var i=a.getBuffer("normalMC");if(i){var o=n.getShaderDescription("vertex");o.addOutput("vec3<f32>","normalVC",i.getArrayInformation()[0].interpolation);var s=o.getCode();s=Tt.substitute(s,"//VTK::Normal::Impl",["  output.normalVC = normalize((rendererUBO.WCVCNormals * mapperUBO.MCWCNormals * normalMC).xyz);"]).result,o.setCode(s);var u=n.getShaderDescription("fragment");s=u.getCode(),s=Tt.substitute(s,"//VTK::Normal::Impl",["  var normal: vec3<f32> = input.normalVC;","  if (!input.frontFacing) { normal = -normal; }"]).result,u.setCode(s)}},e.shaderReplacements.set("replaceShaderNormal",t.replaceShaderNormal),t.replaceShaderLight=function(r,n,a){var i=n.getShaderDescription("fragment"),o=i.getCode();o.includes("var normal")?(o=Tt.substitute(o,"//VTK::Light::Impl",["  var df: f32  = max(0.0, normal.z);","  var sf: f32 = pow(df, mapperUBO.SpecularPower);","  var diffuse: vec3<f32> = df * diffuseColor.rgb;","  var specular: vec3<f32> = sf * mapperUBO.SpecularColor.rgb * mapperUBO.SpecularColor.a;"]).result,i.setCode(o)):(o=Tt.substitute(o,"//VTK::Light::Impl",["  var diffuse: vec3<f32> = diffuseColor.rgb;","  var specular: vec3<f32> = mapperUBO.SpecularColor.rgb * mapperUBO.SpecularColor.a;"]).result,i.setCode(o))},e.shaderReplacements.set("replaceShaderLight",t.replaceShaderLight),t.replaceShaderColor=function(r,n,a){if(p_e(r)){var i=n.getShaderDescription("fragment"),o=i.getCode();o=Tt.substitute(o,"//VTK::Color::Impl",["ambientColor = mapperUBO.EdgeColor;","diffuseColor = mapperUBO.EdgeColor;"]).result,i.setCode(o);return}var s=a.getBuffer("colorVI");if(s){var u=n.getShaderDescription("vertex");u.addOutput("vec4<f32>","color",s.getArrayInformation()[0].interpolation);var l=u.getCode();l=Tt.substitute(l,"//VTK::Color::Impl",["  output.color = colorVI;"]).result,u.setCode(l);var f=n.getShaderDescription("fragment");l=f.getCode(),l=Tt.substitute(l,"//VTK::Color::Impl",["ambientColor = input.color;","diffuseColor = input.color;","opacity = mapperUBO.Opacity * input.color.a;"]).result,f.setCode(l)}},e.shaderReplacements.set("replaceShaderColor",t.replaceShaderColor),t.replaceShaderTCoord=function(r,n,a){if(a.hasAttribute("tcoord")){var i=n.getShaderDescription("vertex");i.addOutput("vec2<f32>","tcoordVS");var o=i.getCode();o=Tt.substitute(o,"//VTK::TCoord::Impl",["  output.tcoordVS = tcoord;"]).result,i.setCode(o);var s=n.getShaderDescription("fragment");o=s.getCode(),e.textures.length&&(o=Tt.substitute(o,"//VTK::TCoord::Impl",["var tcolor: vec4<f32> = textureSample(Texture0, Texture0Sampler, input.tcoordVS);","computedColor = computedColor*tcolor;"]).result),s.setCode(o)}},e.shaderReplacements.set("replaceShaderTCoord",t.replaceShaderTCoord),t.replaceShaderSelect=function(r,n,a){if(r.includes("sel")){var i=n.getShaderDescription("fragment"),o=i.getCode();o=Tt.substitute(o,"//VTK::Select::Impl",["  var compositeID: u32 = 0u;"]).result,i.setCode(o)}},e.shaderReplacements.set("replaceShaderSelect",t.replaceShaderSelect),t.getUsage=function(r,n){return r===xg.POINTS||n===gn.Points?Hr.Verts:n===gn.Lines?Hr.Lines:r===xg.WIREFRAME?n===gn.Triangles?Hr.LinesFromTriangles:Hr.LinesFromStrips:n===gn.Triangles?Hr.Triangles:n===gn.TriangleStrips?Hr.Strips:n===gn.TriangleEdges?Hr.LinesFromTriangles:Hr.LinesFromStrips},t.getHashFromUsage=function(r){return"pt".concat(r)},t.getTopologyFromUsage=function(r){switch(r){case Hr.Triangles:return"triangle-list";case Hr.Verts:return"point-list";case Hr.Lines:default:return"line-list"}},t.buildVertexInput=function(){var r=e.currentInput,n=e.cellArray,a=e.primitiveType,i=e.WebGPUActor.getRenderable(),o=i.getProperty().getRepresentation(),s=e.WebGPURenderWindow.getDevice(),u=!1;a===gn.TriangleEdges&&(u=!0,o=xg.WIREFRAME);var l=e.vertexInput,f=r.getPoints(),c;if(n){var h={hash:"R".concat(o,"P").concat(a).concat(n.getMTime()),usage:Hr.Index,cells:n,numberOfPoints:f.getNumberOfPoints(),primitiveType:a,representation:o};c=s.getBufferManager().getBuffer(h),l.setIndexBuffer(c)}else l.setIndexBuffer(null);if(f){var p=e.WebGPUActor.getBufferShift(e.WebGPURenderer),v={hash:"".concat(f.getMTime(),"I").concat(c.getMTime()).concat(p.join(),"float32x4"),usage:Hr.PointArray,format:"float32x4",dataArray:f,indexBuffer:c,shift:p,packExtra:!0},g=s.getBufferManager().getBuffer(v);l.addBuffer(g,["vertexBC"])}else l.removeBufferIfPresent("vertexBC");var y=t.getUsage(o,a);if(y===Hr.Triangles||y===Hr.Strips){var m=r.getPointData().getNormals(),d={format:"snorm8x4",indexBuffer:c,packExtra:!0,shift:0,scale:127};if(m){d.hash="".concat(m.getMTime(),"I").concat(c.getMTime(),"snorm8x4"),d.dataArray=m,d.usage=Hr.PointArray;var _=s.getBufferManager().getBuffer(d);l.addBuffer(_,["normalMC"])}else if(a===gn.Triangles){d.hash="PFN".concat(f.getMTime(),"I").concat(c.getMTime(),"snorm8x4"),d.dataArray=f,d.cells=n,d.usage=Hr.NormalsFromPoints;var x=s.getBufferManager().getBuffer(d);l.addBuffer(x,["normalMC"])}else l.removeBufferIfPresent("normalMC")}else l.removeBufferIfPresent("normalMC");var w=!1;if(e.renderable.getScalarVisibility()){var S=e.renderable.getColorMapColors();if(S&&!u){var b=e.renderable.getScalarMode(),T=!1;(b===wg.USE_CELL_DATA||b===wg.USE_CELL_FIELD_DATA||b===wg.USE_FIELD_DATA||!r.getPointData().getScalars())&&b!==wg.USE_POINT_FIELD_DATA&&S&&(T=!0);var C={usage:Hr.PointArray,format:"unorm8x4",hash:"".concat(T).concat(S.getMTime(),"I").concat(c.getMTime(),"unorm8x4"),dataArray:S,indexBuffer:c,cellData:T,cellOffset:0},M=s.getBufferManager().getBuffer(C);l.addBuffer(M,["colorVI"]),w=!0}}w||l.removeBufferIfPresent("colorVI");var D=null;if(e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()?D=e.renderable.getColorCoordinates():D=r.getPointData().getTCoords(),D&&!u){var E=s.getBufferManager().getBufferForPointArray(D,l.getIndexBuffer());l.addBuffer(E,["tcoord"])}else l.removeBufferIfPresent("tcoord")},t.updateTextures=function(){var r=[],n=[],a=e.renderable.getColorTextureMap();a&&(e.colorTexture||(e.colorTexture=eE.newInstance({label:"polyDataColor"})),e.colorTexture.setInputData(a),n.push(e.colorTexture));for(var i=e.WebGPUActor.getRenderable(),o=i.getTextures(),s=0;s<o.length;s++)(o[s].getInputData()||o[s].getJsImageData()||o[s].getCanvas())&&n.push(o[s]),o[s].getImage()&&o[s].getImageLoaded()&&n.push(o[s]);for(var u=0,l=0;l<n.length;l++){var f=n[l],c=e.device.getTextureManager().getTextureForVTKTexture(f);if(c.getReady()){for(var h=!1,p=0;p<e.textures.length;p++)e.textures[p]===c&&(u++,h=!0,r[p]=!0);if(!h){r[e.textures.length]=!0;var v=c.createView("Texture".concat(u++));e.textures.push(c),e.textureViews.push(v);var g=f.getInterpolate()?"linear":"nearest";v.addSampler(e.device,{minFilter:g,magFilter:g})}}}for(var y=e.textures.length-1;y>=0;y--)r[y]||(e.textures.splice(y,1),e.textureViews.splice(y,1))},t.computePipelineHash=function(){var r="pd";e.primitiveType===gn.TriangleEdges||e.primitiveType===gn.TriangleStripEdges?r+="edge":(e.vertexInput.hasAttribute("normalMC")&&(r+="n"),e.vertexInput.hasAttribute("colorVI")&&(r+="c"),e.vertexInput.hasAttribute("tcoord")&&(r+="t"),e.textures.length&&(r+="tx".concat(e.textures.length))),e.SSBO&&(r+="ssbo");var n=t.getHashFromUsage(e.usage);r+=n,r+=e.renderEncoder.getPipelineHash(),e.pipelineHash=r},t.updateBuffers=function(){e.primitiveType!==gn.TriangleEdges&&e.primitiveType!==gn.TriangleStripEdges&&t.updateTextures();var r=e.WebGPUActor.getRenderable(),n=r.getProperty().getRepresentation();e.usage=t.getUsage(n,e.primitiveType),t.buildVertexInput();var a=e.vertexInput.getBuffer("vertexBC");if(t.setNumberOfVertices(a.getSizeInBytes()/a.getStrideInBytes()),t.setTopology(t.getTopologyFromUsage(e.usage)),t.updateUBO(),t.haveWideLines()){var i=r.getProperty();t.setNumberOfInstances(Math.ceil(i.getLineWidth()*2))}}}var d_e={cellArray:null,currentInput:null,cellOffset:0,primitiveType:0,colorTexture:null,renderEncoder:null,textures:null};function C8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,d_e,r),YV.extend(t,e,r),e.fragmentShaderTemplate=h_e,e.vertexShaderTemplate=f_e,e._tmpMat3=si(new Float64Array(9)),e._tmpMat4=ze(new Float64Array(16)),e.UBO=a1.newInstance({label:"mapperUBO"}),e.UBO.addEntry("BCWCMatrix","mat4x4<f32>"),e.UBO.addEntry("BCSCMatrix","mat4x4<f32>"),e.UBO.addEntry("MCWCNormals","mat4x4<f32>"),e.UBO.addEntry("AmbientColor","vec4<f32>"),e.UBO.addEntry("DiffuseColor","vec4<f32>"),e.UBO.addEntry("EdgeColor","vec4<f32>"),e.UBO.addEntry("SpecularColor","vec4<f32>"),e.UBO.addEntry("AmbientIntensity","f32"),e.UBO.addEntry("DiffuseIntensity","f32"),e.UBO.addEntry("SpecularIntensity","f32"),e.UBO.addEntry("LineWidth","f32"),e.UBO.addEntry("Opacity","f32"),e.UBO.addEntry("SpecularPower","f32"),e.UBO.addEntry("PropID","u32"),Cr(t,e,["cellArray","currentInput","cellOffset","primitiveType","renderEncoder"]),e.textures=[],v_e(t,e)}var g_e=mt(C8,"vtkWebGPUCellArrayMapper"),E1={newInstance:g_e,extend:C8},Sg=ou.PrimitiveTypes;function y_e(t,e){e.classHierarchy.push("vtkWebGPUPolyDataMapper"),t.createCellArrayMapper=function(){return E1.newInstance()},t.buildPass=function(r){if(r){e.WebGPUActor=t.getFirstAncestorOfType("vtkWebGPUActor"),e.renderable.getStatic()||e.renderable.update();var n=e.renderable.getInputData();e.renderable.mapScalars(n,1),t.updateCellArrayMappers(n)}},t.updateCellArrayMappers=function(r){for(var n=[r.getVerts(),r.getLines(),r.getPolys(),r.getStrips()],a=[],i=0,o=Sg.Points;o<=Sg.Triangles;o++)if(n[o].getNumberOfValues()>0){e.primitives[o]||(e.primitives[o]=t.createCellArrayMapper());var s=e.primitives[o];s.setCellArray(n[o]),s.setCurrentInput(r),s.setCellOffset(i),s.setPrimitiveType(o),s.setRenderable(e.renderable),i+=n[o].getNumberOfCells(),a.push(s)}else e.primitives[o]=null;if(e.WebGPUActor.getRenderable().getProperty().getEdgeVisibility())for(var u=Sg.TriangleEdges;u<=Sg.TriangleStripEdges;u++)if(n[u-2].getNumberOfValues()>0){e.primitives[u]||(e.primitives[u]=t.createCellArrayMapper());var l=e.primitives[u];l.setCellArray(n[u-2]),l.setCurrentInput(r),l.setCellOffset(e.primitives[u-2].getCellOffset()),l.setPrimitiveType(u),l.setRenderable(e.renderable),a.push(l)}else e.primitives[u]=null;t.prepareNodes(),t.addMissingChildren(a),t.removeUnusedNodes()}}var m_e={primitives:null};function E8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m_e,r),Qt.extend(t,e,r),e.primitives=[],y_e(t,e)}var D8=mt(E8,"vtkWebGPUPolyDataMapper"),__e={newInstance:D8,extend:E8};oa("vtkMapper",D8);function x_e(t,e){e.classHierarchy.push("vtkWebGPUScalarBarActor"),t.buildPass=function(r){r&&(e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=function(r,n){if(r){var a=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,i=e.WebGPURenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e.WebGPURenderWindow.getRenderable())}}}var w_e={};function S_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w_e,r),Qt.extend(t,e,r),e.scalarBarActorHelper=m8.newScalarBarActorHelper(),x_e(t,e)}var b_e=mt(S_e,"vtkWebGPUScalarBarActor");oa("vtkScalarBarActor",b_e);function T_e(t,e){e.classHierarchy.push("vtkWebGPUTextureView"),t.create=function(r,n){e.texture=r,e.options=n,e.options.dimension=e.options.dimension||"2d",e.options.label=e.label,e.textureHandle=r.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupLayoutEntry.texture.viewDimension=e.options.dimension;var a=Nn.getDetailsFromTextureFormat(e.texture.getFormat());e.bindGroupLayoutEntry.texture.sampleType=a.sampleType},t.getBindGroupEntry=function(){var r={resource:t.getHandle()};return r},t.getShaderCode=function(r,n){var a="f32";e.bindGroupLayoutEntry.texture.sampleType==="sint"?a="i32":e.bindGroupLayoutEntry.texture.sampleType==="uint"&&(a="u32");var i="@binding(".concat(r,") @group(").concat(n,") var ").concat(e.label,": texture_").concat(e.options.dimension,"<").concat(a,">;");return e.bindGroupLayoutEntry.texture.sampleType==="depth"&&(i="@binding(".concat(r,") @group(").concat(n,") var ").concat(e.label,": texture_depth_").concat(e.options.dimension,";")),i},t.addSampler=function(r,n){var a=aP.newInstance({label:"".concat(e.label,"Sampler")});a.create(r,n),t.setSampler(a)},t.getBindGroupTime=function(){return e.texture.getHandle()!==e.textureHandle&&(e.textureHandle=e.texture.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupTime.modified()),e.bindGroupTime},t.getHandle=function(){return e.texture.getHandle()!==e.textureHandle&&(e.textureHandle=e.texture.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupTime.modified()),e.handle}}var C_e={texture:null,handle:null,sampler:null,label:null};function O8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C_e,r),X.obj(t,e),e.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}},e.bindGroupTime={},X.obj(e.bindGroupTime,{mtime:0}),X.get(t,e,["bindGroupTime","texture"]),X.setGet(t,e,["bindGroupLayoutEntry","label","sampler"]),T_e(t,e)}var E_e=X.newInstance(O8),D_e={newInstance:E_e,extend:O8},PR=ou.BufferUsage;function O_e(t,e){e.classHierarchy.push("vtkWebGPUTexture"),t.create=function(r,n){e.device=r,e.width=n.width,e.height=n.height,e.depth=n.depth?n.depth:1;var a=e.depth===1?"2d":"3d";e.format=n.format?n.format:"rgba8unorm",e.usage=n.usage?n.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST,e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label,dimension:a})},t.assignFromHandle=function(r,n,a){e.device=r,e.handle=n,e.width=a.width,e.height=a.height,e.depth=a.depth?a.depth:1,e.format=a.format?a.format:"rgba8unorm",e.usage=a.usage?a.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST},t.writeImageData=function(r){if(r.canvas){e.device.getHandle().queue.copyExternalImageToTexture({source:r.canvas,flipY:r.flip},{texture:e.handle,premultipliedAlpha:!0},[e.width,e.height,e.depth]),e.ready=!0;return}r.jsImageData&&!r.nativeArray&&(r.width=r.jsImageData.width,r.height=r.jsImageData.height,r.depth=1,r.format="rgba8unorm",r.flip=!0,r.nativeArray=r.jsImageData.data);var n=Nn.getDetailsFromTextureFormat(e.format),a=e.width*n.stride;if(r.nativeArray){var i={usage:PR.Texture};r.dataArray&&(i.dataArray=r.dataArray),i.nativeArray=r.nativeArray;var o=r.nativeArray.length/(e.height*e.depth)*r.nativeArray.BYTES_PER_ELEMENT,s=n.elementSize===2&&n.sampleType==="float";if(s||o%256){for(var u=r.nativeArray,l=o/u.BYTES_PER_ELEMENT,f=n.elementSize,c=256*Math.floor((l*f+255)/256),h=c/f,p=X.newTypedArray(s?"Uint16Array":u.constructor.name,h*e.height*e.depth),v=0;v<e.height*e.depth;v++)if(s)for(var g=0;g<l;g++)p[v*h+g]=ju.toHalf(u[v*l+g]);else p.set(u.subarray(v*l,(v+1)*l),v*h);i.nativeArray=p,a=c}var y=e.device.getBufferManager().getBuffer(i);e.buffer=y}if(r.image){var m=document.createElement("canvas");m.width=r.image.width,m.height=r.image.height;var d=m.getContext("2d");d.translate(0,m.height),d.scale(1,-1),d.drawImage(r.image,0,0,r.image.width,r.image.height,0,0,m.width,m.height);var _=d.getImageData(0,0,r.image.width,r.image.height),x={nativeArray:_.data,usage:PR.Texture,format:"unorm8x4"},w=e.device.getBufferManager().getBuffer(x);e.buffer=w}var S=e.device.createCommandEncoder();S.copyBufferToTexture({buffer:e.buffer.getHandle(),offset:0,bytesPerRow:a,rowsPerImage:e.height},{texture:e.handle},[e.width,e.height,e.depth]),e.device.submitCommandEncoder(S),e.ready=!0},t.getScale=function(){var r=Nn.getDetailsFromTextureFormat(e.format),n=r.elementSize===2&&r.sampleType==="float";return n?1:255},t.getNumberOfComponents=function(){var r=Nn.getDetailsFromTextureFormat(e.format);return r.numComponents},t.resizeToMatch=function(r){(r.getWidth()!==e.width||r.getHeight()!==e.height||r.getDepth()!==e.depth)&&(e.width=r.getWidth(),e.height=r.getHeight(),e.depth=r.getDepth(),e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label}))},t.resize=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;(r!==e.width||n!==e.height||a!==e.depth)&&(e.width=r,e.height=n,e.depth=a,e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label}))},t.createView=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.dimension||(n.dimension=e.depth===1?"2d":"3d");var a=D_e.newInstance({label:r});return a.create(t,n),a}}var M_e={device:null,handle:null,buffer:null,ready:!1,label:null};function L_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,M_e,r),X.obj(t,e),X.get(t,e,["handle","ready","width","height","depth","format","usage"]),X.setGet(t,e,["device","label"]),O_e(t,e)}X.newInstance(L_e);var k_e=ou.BufferUsage,oc=X.vtkErrorMacro;function R_e(t,e){e.classHierarchy.push("vtkWebGPUStorageBuffer"),t.addEntry=function(r,n){if(e._bufferEntryNames.has(r)){oc("entry named ".concat(r," already exists"));return}e._bufferEntryNames.set(r,e.bufferEntries.length);var a=Nn.getByteStrideFromShaderFormat(n);e.bufferEntries.push({name:r,type:n,sizeInBytes:a,offset:e.sizeInBytes,nativeType:Nn.getNativeTypeFromShaderFormat(n)}),e.sizeInBytes+=a},t.send=function(r){if(!e._buffer){var n={nativeArray:e.Float32Array,usage:k_e.Storage,label:e.label};e._buffer=r.getBufferManager().getBuffer(n),e.bindGroupTime.modified(),e._sendTime.modified();return}r.getHandle().queue.writeBuffer(e._buffer.getHandle(),0,e.arrayBuffer,0,e.sizeInBytes*e.numberOfInstances),e._sendTime.modified()},t.createView=function(r){r in e||(e.arrayBuffer||(e.arrayBuffer=new ArrayBuffer(e.sizeInBytes*e.numberOfInstances)),e[r]=X.newTypedArray(r,e.arrayBuffer))},t.setValue=function(r,n,a){var i=e._bufferEntryNames.get(r);if(i===void 0){oc("entry named ".concat(r," not found in UBO"));return}var o=e.bufferEntries[i];t.createView(o.nativeType);var s=e[o.nativeType];s[(o.offset+n*e.sizeInBytes)/s.BYTES_PER_ELEMENT]=a},t.setArray=function(r,n,a){var i=e._bufferEntryNames.get(r);if(i===void 0){oc("entry named ".concat(r," not found in UBO"));return}var o=e.bufferEntries[i];t.createView(o.nativeType);for(var s=e[o.nativeType],u=(o.offset+n*e.sizeInBytes)/s.BYTES_PER_ELEMENT,l=0;l<a.length;l++)s[u+l]=a[l]},t.setAllInstancesFromArray=function(r,n){var a=e._bufferEntryNames.get(r);if(a===void 0){oc("entry named ".concat(r," not found in UBO"));return}var i=e.bufferEntries[a];t.createView(i.nativeType);for(var o=e[i.nativeType],s=n.length/e.numberOfInstances,u=0;u<e.numberOfInstances;u++)for(var l=(i.offset+u*e.sizeInBytes)/o.BYTES_PER_ELEMENT,f=0;f<s;f++)o[l+f]=n[u*s+f]},t.setAllInstancesFromArrayColorToFloat=function(r,n){var a=e._bufferEntryNames.get(r);if(a===void 0){oc("entry named ".concat(r," not found in UBO"));return}var i=e.bufferEntries[a];t.createView(i.nativeType);for(var o=e[i.nativeType],s=n.length/e.numberOfInstances,u=0;u<e.numberOfInstances;u++)for(var l=(i.offset+u*e.sizeInBytes)/o.BYTES_PER_ELEMENT,f=0;f<s;f++)o[l+f]=n[u*s+f]/255},t.setAllInstancesFromArray3x3To4x4=function(r,n){var a=e._bufferEntryNames.get(r);if(a===void 0){oc("entry named ".concat(r," not found in UBO"));return}var i=e.bufferEntries[a];t.createView(i.nativeType);for(var o=e[i.nativeType],s=9,u=0;u<e.numberOfInstances;u++)for(var l=(i.offset+u*e.sizeInBytes)/o.BYTES_PER_ELEMENT,f=0;f<3;f++)for(var c=0;c<3;c++)o[l+f*4+c]=n[u*s+f*3+c]},t.getSendTime=function(){return e._sendTime.getMTime()},t.getShaderCode=function(r,n){for(var a=["struct ".concat(e.label,`StructEntry
{`)],i=0;i<e.bufferEntries.length;i++){var o=e.bufferEntries[i];a.push("  ".concat(o.name,": ").concat(o.type,","))}return a.push(`
};
struct `.concat(e.label,`Struct
{
  values: array<`).concat(e.label,`StructEntry>,
};
@binding(`).concat(r,") @group(").concat(n,") var<storage, read> ").concat(e.label,": ").concat(e.label,`Struct;
`)),a.join(`
`)},t.getBindGroupEntry=function(){var r={resource:{buffer:e._buffer.getHandle()}};return r},t.clearData=function(){e.numberOfInstances=0,e.sizeInBytes=0,e.bufferEntries=[],e._bufferEntryNames=new Map,e._buffer=null,delete e.arrayBuffer,delete e.Float32Array}}var A_e={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,numberOfInstances:1};function M8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A_e,r),X.obj(t,e),e._bufferEntryNames=new Map,e.bufferEntries=[],e._sendTime={},X.obj(e._sendTime,{mtime:0}),e.bindGroupTime={},X.obj(e.bindGroupTime,{mtime:0}),e.bindGroupLayoutEntry=e.bindGroupLayoutEntry||{buffer:{type:"read-only-storage"}},X.get(t,e,["bindGroupTime"]),X.setGet(t,e,["device","bindGroupLayoutEntry","label","numberOfInstances","sizeInBytes"]),R_e(t,e)}var N_e=X.newInstance(M8,"vtkWebGPUStorageBuffer"),F_e={newInstance:N_e,extend:M8};function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I_e(t,e){e.classHierarchy.push("vtkWebGPUGlyph3DCellArrayMapper");var r=B_e({},t);t.replaceShaderPosition=function(n,a,i){var o=a.getShaderDescription("vertex");o.addBuiltinInput("u32","@builtin(instance_index) instanceIndex"),o.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var s=o.getCode();s=Tt.substitute(s,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*mapperUBO.BCSCMatrix","      *glyphSSBO.values[input.instanceIndex].matrix","      *vertexBC;"]).result,o.setCode(s)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderNormal=function(n,a,i){if(i.hasAttribute("normalMC")){var o=a.getShaderDescription("vertex"),s=o.getCode();s=Tt.substitute(s,"//VTK::Normal::Impl",["  output.normalVC = normalize((rendererUBO.WCVCNormals"," * mapperUBO.MCWCNormals"," * glyphSSBO.values[input.instanceIndex].normal*normalMC).xyz);"]).result,o.setCode(s)}r.replaceShaderNormal(n,a,i)},e.shaderReplacements.set("replaceShaderNormal",t.replaceShaderNormal),t.replaceShaderColor=function(n,a,i){if(!e.renderable.getColorArray()){r.replaceShaderColor(n,a,i);return}var o=a.getShaderDescription("vertex");o.addOutput("vec4<f32>","color");var s=o.getCode();s=Tt.substitute(s,"//VTK::Color::Impl",["  output.color = glyphSSBO.values[input.instanceIndex].color;"]).result,o.setCode(s);var u=a.getShaderDescription("fragment");s=u.getCode(),s=Tt.substitute(s,"//VTK::Color::Impl",["ambientColor = input.color;","diffuseColor = input.color;","opacity = mapperUBO.Opacity * input.color.a;"]).result,u.setCode(s)},e.shaderReplacements.set("replaceShaderColor",t.replaceShaderColor),t.replaceShaderSelect=function(n,a,i){if(n.includes("sel")){var o=a.getShaderDescription("vertex");o.addOutput("u32","compositeID","flat");var s=o.getCode();s=Tt.substitute(s,"//VTK::Select::Impl",["  output.compositeID = input.instanceIndex;"]).result,o.setCode(s);var u=a.getShaderDescription("fragment");s=u.getCode(),s=Tt.substitute(s,"//VTK::Select::Impl",["var compositeID: u32 = input.compositeID;"]).result,u.setCode(s)}},e.shaderReplacements.set("replaceShaderSelect",t.replaceShaderSelect)}function V_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,{},r),E1.extend(t,e,r),I_e(t,e)}var P_e=mt(V_e,"vtkWebGPUGlyph3DCellArrayMapper");function U_e(t,e){e.classHierarchy.push("vtkWebGPUGlyph3DMapper"),t.createCellArrayMapper=function(){var r=P_e();return r.setSSBO(e.SSBO),r.setRenderable(e.renderable),r},t.buildPass=function(r){if(r){e.WebGPUActor=t.getFirstAncestorOfType("vtkWebGPUActor"),e.renderable.getStatic()||e.renderable.update();var n=e.renderable.getInputData(1);e.renderable.mapScalars(n,1),t.updateSSBO(),t.updateCellArrayMappers(n);for(var a=0;a<e.children.length;a++){var i=e.children[a];i.setNumberOfInstances(e.numInstances)}}},t.updateSSBO=function(){e.currentInput=e.renderable.getInputData(1),e.renderable.buildArrays();var r=e.renderable.getMatrixArray(),n=e.renderable.getNormalArray();if(e.carray=e.renderable.getColorArray(),e.numInstances=r.length/16,e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.WebGPURenderWindow=t.getFirstAncestorOfType("vtkWebGPURenderWindow");var a=e.WebGPURenderWindow.getDevice();e.SSBO.clearData(),e.SSBO.setNumberOfInstances(e.numInstances),e.SSBO.addEntry("matrix","mat4x4<f32>"),e.SSBO.addEntry("normal","mat4x4<f32>"),e.carray&&e.SSBO.addEntry("color","vec4<f32>"),e.SSBO.setAllInstancesFromArray("matrix",r),e.SSBO.setAllInstancesFromArray3x3To4x4("normal",n),e.carray&&e.SSBO.setAllInstancesFromArrayColorToFloat("color",e.carray.getData()),e.SSBO.send(a),e.glyphBOBuildTime.modified()}}}var z_e={};function G_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z_e,r),__e.extend(t,e,r),e.glyphBOBuildTime={},nr(e.glyphBOBuildTime,{mtime:0}),e.SSBO=F_e.newInstance({label:"glyphSSBO"}),U_e(t,e)}var W_e=mt(G_e,"vtkWebGPUGlyph3DMapper");oa("vtkGlyph3DMapper",W_e);var Jx=ou.BufferUsage,H_e=$e,j_e=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::Color::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  var vertexVC: vec4<f32> = rendererUBO.SCVCMatrix * mapperUBO.BCSCMatrix * vec4<f32>(vertexBC.x, vertexBC.y, vertexBC.z, 1.0);

  //VTK::Color::Impl

  // compute the projected vertex position
  output.centerVC = vertexVC.xyz;
  output.radiusVC = length(offsetMC)*0.5;

  // make the triangle face the camera
  if (rendererUBO.cameraParallel == 0u)
    {
    var dir: vec3<f32> = normalize(-vertexVC.xyz);
    var base2: vec3<f32> = normalize(cross(dir,vec3<f32>(1.0,0.0,0.0)));
    var base1: vec3<f32> = cross(base2,dir);
    dir = vertexVC.xyz + offsetMC.x*base1 + offsetMC.y*base2;
    vertexVC = vec4<f32>(dir, 1.0);
    }
  else
    {
    // add in the offset
    var tmp2: vec2<f32> = vertexVC.xy + offsetMC;
    vertexVC = vec4<f32>(tmp2, vertexVC.zw);
    }

  output.vertexVC = vertexVC.xyz;

  //VTK::Position::Impl

  return output;
}
`;function $_e(t,e){e.classHierarchy.push("vtkWebGPUSphereMapper");var r=t.buildPass;t.buildPass=function(n){if(n){e.renderable.getStatic()||e.renderable.update();var a=e.renderable.getInputData();t.setCellArray(a.getVerts()),t.setCurrentInput(a)}r(n)},t.replaceShaderNormal=function(n,a,i){var o=a.getShaderDescription("vertex");o.addOutput("vec3<f32>","vertexVC"),o.addOutput("vec3<f32>","centerVC"),o.addOutput("f32","radiusVC");var s=a.getShaderDescription("fragment");s.addBuiltinOutput("f32","@builtin(frag_depth) fragDepth");var u=`
    // compute the eye position and unit direction
    var vertexVC: vec4<f32>;
    var EyePos: vec3<f32>;
    var EyeDir: vec3<f32>;
    var invertedDepth: f32 = 1.0;
    if (rendererUBO.cameraParallel != 0u) {
      EyePos = vec3<f32>(input.vertexVC.x, input.vertexVC.y, input.vertexVC.z + 3.0*input.radiusVC);
      EyeDir = vec3<f32>(0.0, 0.0, -1.0);
    }
    else {
      EyeDir = input.vertexVC.xyz;
      EyePos = vec3<f32>(0.0,0.0,0.0);
      var lengthED: f32 = length(EyeDir);
      EyeDir = normalize(EyeDir);
      // we adjust the EyePos to be closer if it is too far away
      // to prevent floating point precision noise
      if (lengthED > input.radiusVC*3.0) {
        EyePos = input.vertexVC.xyz - EyeDir*3.0*input.radiusVC;
      }
    }

    // translate to Sphere center
    EyePos = EyePos - input.centerVC;
    // scale to radius 1.0
    EyePos = EyePos * (1.0 / input.radiusVC);
    // find the intersection
    var b: f32 = 2.0*dot(EyePos,EyeDir);
    var c: f32 = dot(EyePos,EyePos) - 1.0;
    var d: f32 = b*b - 4.0*c;
    var normal: vec3<f32> = vec3<f32>(0.0,0.0,1.0);
    if (d < 0.0) { discard; }
    else {
      var t: f32 = (-b - invertedDepth*sqrt(d))*0.5;

      // compute the normal, for unit sphere this is just
      // the intersection point
      normal = invertedDepth*normalize(EyePos + t*EyeDir);
      // compute the intersection point in VC
      vertexVC = vec4<f32>(normal * input.radiusVC + input.centerVC, 1.0);
    }
    // compute the pixel's depth
    var pos: vec4<f32> = rendererUBO.VCPCMatrix * vertexVC;
    output.fragDepth = pos.z / pos.w;
    `,l=s.getCode();l=Tt.substitute(l,"//VTK::Normal::Impl",[u]).result,s.setCode(l)},t.replaceShaderPosition=function(n,a,i){var o=a.getShaderDescription("vertex");o.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var s=o.getCode();s=Tt.substitute(s,"//VTK::Position::Impl",["  output.Position = rendererUBO.VCPCMatrix*vertexVC;"]).result,o.setCode(s)},t.computePipelineHash=function(){e.pipelineHash="spm",e.vertexInput.hasAttribute("colorVI")&&(e.pipelineHash+="c"),e.pipelineHash+=e.renderEncoder.getPipelineHash()},t.updateBuffers=function(){var n=e.currentInput;e.renderable.mapScalars(n,1);var a=n.getPoints(),i=a.getNumberOfPoints(),o=a.getData();t.setNumberOfInstances(1),t.setNumberOfVertices(3*i);var s=e.vertexInput,u="spm".concat(a.getMTime(),"float32x3");if(!e.device.getBufferManager().hasBuffer(u)){for(var l={hash:u,usage:Jx.RawVertex,format:"float32x3"},f=new Float32Array(3*i*3),c=0,h=0,p=0;p<i;++p)c=p*3,f[h++]=o[c],f[h++]=o[c+1],f[h++]=o[c+2],f[h++]=o[c],f[h++]=o[c+1],f[h++]=o[c+2],f[h++]=o[c],f[h++]=o[c+1],f[h++]=o[c+2];l.nativeArray=f;var v=e.device.getBufferManager().getBuffer(l);s.addBuffer(v,["vertexBC"])}var g=n.getPointData(),y=null;e.renderable.getScaleArray()!=null&&g.hasArray(e.renderable.getScaleArray())&&(y=g.getArray(e.renderable.getScaleArray()).getData());var m=e.renderable.getRadius();if(y||m!==e._lastRadius){if(u="spm".concat(y?g.getArray(e.renderable.getScaleArray()).getMTime():m,"float32x2"),!e.device.getBufferManager().hasBuffer(u)){for(var d={hash:u,usage:Jx.RawVertex,format:"float32x2"},_=new Float32Array(3*i*2),x=Math.cos(dr(30)),w=0,S=0;S<i;++S){var b=e.renderable.getRadius();y&&(b=y[S]),_[w++]=-2*b*x,_[w++]=-b,_[w++]=2*b*x,_[w++]=-b,_[w++]=0,_[w++]=2*b}d.nativeArray=_;var T=e.device.getBufferManager().getBuffer(d);s.addBuffer(T,["offsetMC"])}e._lastRadius=m}var C=!1;if(e.renderable.getScalarVisibility()){var M=e.renderable.getColorMapColors();if(M){if(u="spm".concat(M.getMTime(),"unorm8x4"),!e.device.getBufferManager().hasBuffer(u)){var D={hash:u,usage:Jx.RawVertex,format:"unorm8x4"},E=M.getNumberOfComponents();E!==4&&H_e("this should be 4");for(var k=new Uint8Array(3*i*4),O=0,A=M.getData(),I=0;I<i;++I)for(var U=I*E,P=0;P<3;P++)k[O++]=A[U],k[O++]=A[U+1],k[O++]=A[U+2],k[O++]=A[U+3];D.nativeArray=k;var B=e.device.getBufferManager().getBuffer(D);s.addBuffer(B,["colorVI"])}C=!0}}C||s.removeBufferIfPresent("colorVI"),t.setTopology("triangle-list"),t.updateUBO()}}var K_e={};function X_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K_e,r),E1.extend(t,e,r),t.setVertexShaderTemplate(j_e),$_e(t,e);var n=e.shaderReplacements;n.set("replaceShaderPosition",t.replaceShaderPosition),n.set("replaceShaderNormal",t.replaceShaderNormal)}var Y_e=mt(X_e,"vtkWebGPUSphereMapper");oa("vtkSphereMapper",Y_e);var bg=ou.BufferUsage,zR=$e,q_e=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::Color::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var offsetsArray: array<vec3<f32>, 12> = array<vec3<f32>, 12>(
    vec3<f32>(-1.0, -1.0, -1.0),
    vec3<f32>(1.0, -1.0, -1.0),
    vec3<f32>(1.0, -1.0, 1.0),

    vec3<f32>(-1.0, -1.0, -1.0),
    vec3<f32>(1.0, -1.0, 1.0),
    vec3<f32>(-1.0, -1.0, 1.0),

    vec3<f32>(-1.0, -1.0, 1.0),
    vec3<f32>(1.0, -1.0, 1.0),
    vec3<f32>(1.0, 1.0, 1.0),

    vec3<f32>(-1.0, -1.0, 1.0),
    vec3<f32>(1.0, 1.0, 1.0),
    vec3<f32>(-1.0, 1.0, 1.0)
  );

  var output : vertexOutput;

  var vertexVC: vec4<f32> = rendererUBO.SCVCMatrix * mapperUBO.BCSCMatrix * vec4<f32>(vertexBC.x, vertexBC.y, vertexBC.z, 1.0);

  //VTK::Color::Impl

  // compute the projected vertex position
  output.centerVC = vertexVC.xyz;
  output.radiusVC = radiusMC;
  output.lengthVC = length(orientMC);
  output.orientVC = (rendererUBO.WCVCNormals * vec4<f32>(normalize(orientMC), 0.0)).xyz;

  // make sure it is pointing out of the screen
  if (output.orientVC.z < 0.0)
    {
    output.orientVC = -output.orientVC;
    }

  // make the basis
  var xbase: vec3<f32>;
  var ybase: vec3<f32>;
  var dir: vec3<f32> = vec3<f32>(0.0,0.0,1.0);
  if (rendererUBO.cameraParallel == 0u)
    {
    dir = normalize(-vertexVC.xyz);
    }
  if (abs(dot(dir,output.orientVC)) == 1.0)
    {
    xbase = normalize(cross(vec3<f32>(0.0,1.0,0.0),output.orientVC));
    ybase = cross(xbase,output.orientVC);
    }
  else
    {
    xbase = normalize(cross(output.orientVC,dir));
    ybase = cross(output.orientVC,xbase);
    }


  var vertIdx: u32 = input.vertexIndex % 12u;
  var offsets: vec3<f32> = offsetsArray[vertIdx];

  vertexVC = vec4<f32>(vertexVC.xyz +
    output.radiusVC * offsets.x * xbase +
    output.radiusVC * offsets.y * ybase +
    0.5 * output.lengthVC * offsets.z * output.orientVC, 1.0);

  output.vertexVC = vertexVC;

  //VTK::Position::Impl

  return output;
}
`;function Z_e(t,e){e.classHierarchy.push("vtkWebGPUStickMapper");var r=t.buildPass;t.buildPass=function(n){if(n){e.renderable.getStatic()||e.renderable.update();var a=e.renderable.getInputData();t.setCellArray(a.getVerts()),t.setCurrentInput(a)}r(n)},t.replaceShaderNormal=function(n,a,i){var o=a.getShaderDescription("vertex");o.addOutput("vec4<f32>","vertexVC"),o.addOutput("vec3<f32>","centerVC"),o.addOutput("vec3<f32>","orientVC"),o.addOutput("f32","radiusVC"),o.addOutput("f32","lengthVC"),o.addBuiltinInput("u32","@builtin(vertex_index) vertexIndex");var s=a.getShaderDescription("fragment");s.addBuiltinOutput("f32","@builtin(frag_depth) fragDepth");var u=`
    // compute the eye position and unit direction
    var vertexVC: vec4<f32>;
    var EyePos: vec3<f32>;
    var EyeDir: vec3<f32>;

    if (rendererUBO.cameraParallel != 0u)
    {
      EyePos = vec3<f32>(input.vertexVC.x, input.vertexVC.y, input.vertexVC.z + 3.0*input.radiusVC);
      EyeDir = vec3<f32>(0.0, 0.0, -1.0);
    }
    else
    {
      EyeDir = input.vertexVC.xyz;
      EyePos = vec3<f32>(0.0,0.0,0.0);
      var lengthED: f32 = length(EyeDir);
      EyeDir = normalize(EyeDir);
      // we adjust the EyePos to be closer if it is too far away
      // to prevent floating point precision noise
      if (lengthED > input.radiusVC*3.0)
      {
        EyePos = input.vertexVC.xyz - EyeDir*3.0*input.radiusVC;
      }
    }
    // translate to Sphere center
    EyePos = EyePos - input.centerVC;

    // rotate to new basis
    // base1, base2, orientVC
    var base1: vec3<f32>;
    if (abs(input.orientVC.z) < 0.99)
    {
      base1 = normalize(cross(input.orientVC,vec3<f32>(0.0,0.0,1.0)));
    }
    else
    {
      base1 = normalize(cross(input.orientVC,vec3<f32>(0.0,1.0,0.0)));
    }
    var base2: vec3<f32> = cross(input.orientVC,base1);
    EyePos = vec3<f32>(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,input.orientVC));
    EyeDir = vec3<f32>(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,input.orientVC));

    // scale to radius 1.0
    EyePos = EyePos * (1.0 / input.radiusVC);

    // find the intersection
    var a: f32 = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;
    var b: f32 = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);
    var c: f32 = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;
    var d: f32 = b*b - 4.0*a*c;
    var normal: vec3<f32> = vec3<f32>(0.0,0.0,1.0);
    if (d < 0.0) { discard; }
    else
    {
      var t: f32 = (-b - sqrt(d))*(0.5 / a);
      var tz: f32 = EyePos.z + t*EyeDir.z;
      var iPoint: vec3<f32> = EyePos + t*EyeDir;
      if (abs(iPoint.z)*input.radiusVC > input.lengthVC*0.5)
      {
        // test for end cap
        var t2: f32 = (-b + sqrt(d))*(0.5 / a);
        var tz2: f32 = EyePos.z + t2*EyeDir.z;
        if (tz2*input.radiusVC > input.lengthVC*0.5 || tz*input.radiusVC < -0.5*input.lengthVC) { discard; }
        else
        {
          normal = input.orientVC;
          var t3: f32 = (input.lengthVC*0.5/input.radiusVC - EyePos.z)/EyeDir.z;
          iPoint = EyePos + t3*EyeDir;
          vertexVC = vec4<f32>(input.radiusVC*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*input.orientVC) + input.centerVC, 1.0);
        }
      }
      else
      {
        // The normal is the iPoint.xy rotated back into VC
        normal = iPoint.x*base1 + iPoint.y*base2;
        // rescale rerotate and translate
        vertexVC = vec4<f32>(input.radiusVC*(normal + iPoint.z*input.orientVC) + input.centerVC, 1.0);
      }
    }
    // compute the pixel's depth
    var pos: vec4<f32> = rendererUBO.VCPCMatrix * vertexVC;
    output.fragDepth = pos.z / pos.w;
  `,l=s.getCode();l=Tt.substitute(l,"//VTK::Normal::Impl",[u]).result,s.setCode(l)},t.replaceShaderPosition=function(n,a,i){var o=a.getShaderDescription("vertex");o.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var s=o.getCode();s=Tt.substitute(s,"//VTK::Position::Impl",["  output.Position = rendererUBO.VCPCMatrix*vertexVC;"]).result,o.setCode(s)},t.computePipelineHash=function(){e.pipelineHash="stm",e.vertexInput.hasAttribute("colorVI")&&(e.pipelineHash+="c"),e.pipelineHash+=e.renderEncoder.getPipelineHash()},t.updateBuffers=function(){var n=e.currentInput;e.renderable.mapScalars(n,1);var a=e.device,i=n.getPoints(),o=n.getPointData(),s=i.getNumberOfPoints(),u=i.getData();t.setNumberOfInstances(s),t.setNumberOfVertices(12);var l=e.vertexInput,f="stm".concat(i.getMTime(),"float32x3");if(!a.getBufferManager().hasBuffer(f)){for(var c={hash:f,usage:bg.RawVertex,format:"float32x3"},h=new Float32Array(s*3),p=0,v=0,g=0;g<s;++g)p=g*3,h[v++]=u[p],h[v++]=u[p+1],h[v++]=u[p+2];c.nativeArray=h;var y=a.getBufferManager().getBuffer(c);l.addBuffer(y,["vertexBC"],"instance")}var m=null;e.renderable.getScaleArray()!=null&&o.hasArray(e.renderable.getScaleArray())&&(m=o.getArray(e.renderable.getScaleArray()).getData());var d=e.renderable.getRadius();if(m||d!==e._lastRadius){if(f="stm".concat(m?o.getArray(e.renderable.getScaleArray()).getMTime():d,"float32"),!a.getBufferManager().hasBuffer(f)){for(var _={hash:f,usage:bg.RawVertex,format:"float32"},x=new Float32Array(s),w=0,S=0;S<s;++S){var b=e.renderable.getRadius();m&&(b=m[S*2+1]),x[w++]=b}_.nativeArray=x;var T=a.getBufferManager().getBuffer(_);l.addBuffer(T,["radiusMC"],"instance")}e._lastRadius=d}var C=null;if(e.renderable.getOrientationArray()!=null&&o.hasArray(e.renderable.getOrientationArray())?C=o.getArray(e.renderable.getOrientationArray()).getData():zR([`Error setting orientationArray.
`,"You have to specify the stick orientation"]),f="stm".concat(o.getArray(e.renderable.getOrientationArray()).getMTime(),"float32x3"),!a.getBufferManager().hasBuffer(f)){for(var M={hash:f,usage:bg.RawVertex,format:"float32x3"},D=new Float32Array(s*3),E=0,k=0,O=0;O<s;++O){E=O*3;var A=e.renderable.getLength();m&&(A=m[O*2]),D[k++]=C[E]*A,D[k++]=C[E+1]*A,D[k++]=C[E+2]*A}M.nativeArray=D;var I=a.getBufferManager().getBuffer(M);l.addBuffer(I,["orientMC"],"instance")}var U=!1;if(e.renderable.getScalarVisibility()){var P=e.renderable.getColorMapColors();if(P){if(f="stm".concat(P.getMTime(),"unorm8x4"),!a.getBufferManager().hasBuffer(f)){var B={usage:bg.RawVertex,format:"unorm8x4"},W=P.getNumberOfComponents();W!==4&&zR("this should be 4");for(var H=new Uint8Array(s*4),$=0,q=P.getData(),Q=0;Q<s;++Q){var Y=Q*W;H[$++]=q[Y],H[$++]=q[Y+1],H[$++]=q[Y+2],H[$++]=q[Y+3]}B.nativeArray=H;var ie=a.getBufferManager().getBuffer(B);l.addBuffer(ie,["colorVI"],"instance")}U=!0}}U||l.removeBufferIfPresent("colorVI"),t.setTopology("triangle-list"),t.updateUBO()}}var J_e={};function Q_e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,J_e,r),E1.extend(t,e,r),t.setVertexShaderTemplate(q_e),Z_e(t,e);var n=e.shaderReplacements;n.set("replaceShaderPosition",t.replaceShaderPosition),n.set("replaceShaderNormal",t.replaceShaderNormal)}var exe=mt(Q_e,"vtkWebGPUStickMapper");oa("vtkStickMapper",exe);var U0=Oae.InterpolationType,GR=X.vtkErrorMacro,z0=4;function txe(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=function(){for(var r=e.mtime,n,a=0;a<z0;a++)e.componentData[a].rGBTransferFunction&&(n=e.componentData[a].rGBTransferFunction.getMTime(),r=r>n?r:n),e.componentData[a].piecewiseFunction&&(n=e.componentData[a].piecewiseFunction.getMTime(),r=r>n?r:n);return r},t.setRGBTransferFunction=function(r,n){var a=r,i=n;return Number.isInteger(r)||(i=r,a=0),e.componentData[a].rGBTransferFunction!==i?(e.componentData[a].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[r].rGBTransferFunction},t.setPiecewiseFunction=function(r,n){var a=r,i=n;return Number.isInteger(r)||(i=r,a=0),e.componentData[a].piecewiseFunction!==i?(e.componentData[a].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[r].piecewiseFunction},t.setScalarOpacity=function(r,n){var a=r,i=n;return Number.isInteger(r)||(i=r,a=0),t.setPiecewiseFunction(a,i)},t.getScalarOpacity=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(r)},t.setComponentWeight=function(r,n){if(r<0||r>=z0)return GR("Invalid index"),!1;var a=Math.min(1,Math.max(0,n));return e.componentData[r].componentWeight!==a?(e.componentData[r].componentWeight=a,t.modified(),!0):!1},t.getComponentWeight=function(r){return r<0||r>=z0?(GR("Invalid index"),0):e.componentData[r].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(U0.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(U0.LINEAR)},t.getInterpolationTypeAsString=function(){return X.enumToString(U0,e.interpolationType)}}var rxe={independentComponents:!1,interpolationType:U0.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1};function nxe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,rxe,r),X.obj(t,e),!e.componentData){e.componentData=[];for(var n=0;n<z0;n++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}X.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange"]),txe(t,e)}var axe=X.newInstance(nxe,"vtkImageProperty"),ixe={newInstance:axe},oxe=X.vtkDebugMacro;function sxe(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=function(){return t},t.getImages=function(){return t},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var r=e.property.getOpacity()>=1;return r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=function(){return!1},t.makeProperty=ixe.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;var n=function(s){return s[0].map(function(u,l){return s.map(function(f){return f[l]})})};if(!e.mapperBounds||!n([r,e.mapperBounds]).reduce(function(o,s){return o&&s[0]===s[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){oxe("Recomputing bounds..."),e.mapperBounds=r.map(function(o){return o});var a=[];Jt.getCorners(r,a),t.computeMatrix();var i=new Float64Array(16);dt(i,e.matrix),a.forEach(function(o){return He(o,o,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(o,s){return s%2===0?a.reduce(function(u,l){return u>l[s/2]?l[s/2]:u},o):a.reduce(function(u,l){return u<l[(s-1)/2]?l[(s-1)/2]:u},o)}),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.mapper.getBoundsForSlice(r,n);if(!a||a.length!==6||a[0]>a[1])return a;var i=[];Jt.getCorners(a,i),t.computeMatrix();var o=new Float64Array(16);dt(o,e.matrix),i.forEach(function(u){return He(u,u,o)});var s=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return s=s.map(function(u,l){return l%2===0?i.reduce(function(f,c){return f>c[l/2]?c[l/2]:f},u):i.reduce(function(f,c){return f<c[(l-1)/2]?c[(l-1)/2]:f},u)}),s},t.getMinXBound=function(){return t.getBounds(),e.bounds[0]},t.getMaxXBound=function(){return t.getBounds(),e.bounds[1]},t.getMinYBound=function(){return t.getBounds(),e.bounds[2]},t.getMaxYBound=function(){return t.getBounds(),e.bounds[3]},t.getMinZBound=function(){return t.getBounds(),e.bounds[4]},t.getMaxZBound=function(){return t.getBounds(),e.bounds[5]},t.getMTime=function(){var r=e.mtime;if(e.property!==null){var n=e.property.getMTime();r=n>r?n:r}return r},t.getRedrawMTime=function(){var r=e.mtime;if(e.mapper!==null){var n=e.mapper.getMTime();r=n>r?n:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),n=e.mapper.getInput().getMTime(),r=n>r?n:r)}if(e.property!==null){var a=e.property.getMTime();r=a>r?a:r,e.property.getRGBTransferFunction()!==null&&(a=e.property.getRGBTransferFunction().getMTime(),r=a>r?a:r)}return r},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1}}var uxe={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function L8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uxe,r),V2.extend(t,e,r),e.boundsMTime={},X.obj(e.boundsMTime),X.set(t,e,["property"]),X.setGet(t,e,["mapper"]),X.getArray(t,e,["bounds"],6),sxe(t,e)}var lxe=X.newInstance(L8,"vtkImageSlice"),WR={newInstance:lxe,extend:L8};function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cxe=Gf.staticOffsetAPI,fxe=Gf.otherStaticMethods,hxe=X.vtkWarningMacro,xt=r1.SlicingMode;function pxe(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=function(a){var i=t.getInputData(),o;if(a.length===3)o=a;else if(Number.isFinite(a)){var s=i.getBounds();switch(e.slicingMode){case xt.X:o=[a,(s[3]+s[2])/2,(s[5]+s[4])/2];break;case xt.Y:o=[(s[1]+s[0])/2,a,(s[5]+s[4])/2];break;case xt.Z:o=[(s[1]+s[0])/2,(s[3]+s[2])/2,a];break}}var u=[0,0,0];i.worldToIndex(o,u);var l=i.getExtent(),f=t.getClosestIJKAxis(),c=f.ijkMode,h=0;switch(c){case xt.I:h=Bo(u[0],l[0],l[1]);break;case xt.J:h=Bo(u[1],l[2],l[3]);break;case xt.K:h=Bo(u[2],l[4],l[5]);break;default:return 0}return h},t.setSliceFromCamera=function(a){var i=a.getFocalPoint();switch(e.slicingMode){case xt.I:case xt.J:case xt.K:{var o=t.getSliceAtPosition(i);t.setSlice(o)}break;case xt.X:t.setSlice(i[0]);break;case xt.Y:t.setSlice(i[1]);break;case xt.Z:t.setSlice(i[2]);break}},t.setXSlice=function(a){t.setSlicingMode(xt.X),t.setSlice(a)},t.setYSlice=function(a){t.setSlicingMode(xt.Y),t.setSlice(a)},t.setZSlice=function(a){t.setSlicingMode(xt.Z),t.setSlice(a)},t.setISlice=function(a){t.setSlicingMode(xt.I),t.setSlice(a)},t.setJSlice=function(a){t.setSlicingMode(xt.J),t.setSlice(a)},t.setKSlice=function(a){t.setSlicingMode(xt.K),t.setSlice(a)},t.getSlicingModeNormal=function(){var a=[0,0,0],i=t.getInputData().getDirection(),o=[[i[0],i[1],i[2]],[i[3],i[4],i[5]],[i[6],i[7],i[8]]];switch(e.slicingMode){case xt.X:a[0]=1;break;case xt.Y:a[1]=1;break;case xt.Z:a[2]=1;break;case xt.I:Ud(o,[1,0,0],a);break;case xt.J:Ud(o,[0,1,0],a);break;case xt.K:Ud(o,[0,0,1],a);break}return a};function r(){var a;switch(e.slicingMode){case xt.X:a=[1,0,0];break;case xt.Y:a=[0,1,0];break;case xt.Z:a=[0,0,1];break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}var i=[0,0,0],o=t.getInputData().getDirection(),s=[[o[0],o[1],o[2]],[o[3],o[4],o[5]],[o[6],o[7],o[8]]];Ud(s,a,i);for(var u=0,l=-1,f=!1,c=0;c<i.length;++c){var h=Math.abs(i[c]);h>u&&(u=h,f=i[c]<0,l=c)}if(u!==1){var p="IJKXYZ"[e.slicingMode],v="IJKXYZ"[l];hxe("Unaccurate slicing along ".concat(p," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(v," axis  as a fallback (").concat(u,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}e.closestIJKAxis={ijkMode:l,flip:f}}t.setSlicingMode=function(a){e.slicingMode!==a&&(e.slicingMode=a,t.getInputData()&&r(),t.modified())},t.getClosestIJKAxis=function(){return(e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===xt.NONE)&&t.getInputData()&&r(),e.closestIJKAxis},t.getBounds=function(){var a=t.getInputData();if(!a)return ev();if(!e.useCustomExtents)return a.getBounds();var i=e.customDisplayExtent.slice(),o=t.getClosestIJKAxis(),s=o.ijkMode,u=e.slice;switch(s!==e.slicingMode&&(u=t.getSliceAtPosition(e.slice)),s){case xt.I:i[0]=u,i[1]=u;break;case xt.J:i[2]=u,i[3]=u;break;case xt.K:i[4]=u,i[5]=u;break}return a.extentToBounds(i)},t.getBoundsForSlice=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=t.getInputData();if(!o)return ev();var s=o.getSpatialExtent(),u=t.getClosestIJKAxis(),l=u.ijkMode,f=a;switch(l!==e.slicingMode&&(f=t.getSliceAtPosition(a)),l){case xt.I:s[0]=f-i,s[1]=f+i;break;case xt.J:s[2]=f-i,s[3]=f+i;break;case xt.K:s[4]=f-i,s[5]=f+i;break}return o.extentToBounds(s)},t.getIsOpaque=function(){return!0};function n(a,i){var o=t.getInputData(),s=o.getExtent(),u=[s[0],s[2],s[4]],l=t.getClosestIJKAxis(),f=l.ijkMode,c=e.slice;f!==e.slicingMode&&(c=t.getSliceAtPosition(c)),u[f]+=c;var h=[0,0,0];o.indexToWorld(u,h),u[f]+=1;var p=[0,0,0];o.indexToWorld(u,p),p[0]-=h[0],p[1]-=h[1],p[2]-=h[2],Ca(p,p);var v=Vl.intersectWithLine(a,i,h,p);if(v.intersection){var g=v.x,y=[0,0,0];return o.worldToIndex(g,y),{t:v.t,absoluteIJK:y}}return null}t.intersectWithLineForPointPicking=function(a,i){var o=n(a,i);if(o){var s=t.getInputData(),u=s.getExtent(),l=[Math.round(o.absoluteIJK[0]),Math.round(o.absoluteIJK[1]),Math.round(o.absoluteIJK[2])];return l[0]<u[0]||l[0]>u[1]||l[1]<u[2]||l[1]>u[3]||l[2]<u[4]||l[2]>u[5]?null:{t:o.t,ijk:l}}return null},t.intersectWithLineForCellPicking=function(a,i){var o=n(a,i);if(o){var s=t.getInputData(),u=s.getExtent(),l=o.absoluteIJK,f=[Math.floor(l[0]),Math.floor(l[1]),Math.floor(l[2])];if(f[0]<u[0]||f[0]>u[1]-1||f[1]<u[2]||f[1]>u[3]-1||f[2]<u[4]||f[2]>u[5]-1)return null;var c=[l[0]-f[0],l[1]-f[1],l[2]-f[2]];return{t:o.t,ijk:f,pCoords:c}}return null}}var vxe={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:xt.NONE,closestIJKAxis:{ijkMode:xt.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function k8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vxe,r),g1.extend(t,e,r),X.get(t,e,["slicingMode"]),X.setGet(t,e,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),X.setGetArray(t,e,["customDisplayExtent"],4),Gf.implementCoincidentTopologyMethods(t,e),pxe(t,e)}var dxe=X.newInstance(k8,"vtkImageMapper"),jR=Qx(Qx(Qx({newInstance:dxe,extend:k8},cxe),fxe),r1),qn={CLAMP:0,REPEAT:1,MIRROR:2},ur={NEAREST:0,LINEAR:1,CUBIC:2},R8={ImageBorderMode:qn,InterpolationMode:ur};function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var A8={pointer:null,extent:[0,-1,0,-1,0,-1],increments:[0,0,0],scalarType:null,dataTypeSize:1,numberOfComponents:1,borderMode:qn.CLAMP,interpolationMode:ur.LINEAR,extraInfo:null},gxe=KR(KR({},A8),{},{positions:[0,0,0],weights:null,weightExtent:[0,-1,0,-1,0,-1],kernelSize:[1,1,1],workspace:null,lastY:null,lastZ:null});function Pc(t){var e=Math.floor(t);return{floored:e,error:t-e}}function tf(t){return Math.round(t)}function $a(t,e,r){var n=t<=r?t:r;return n-=e,n=n>=0?n:0,n}function Si(t,e,r){var n=r-e+1,a=t-e;return a%=n,a=a>=0?a:a+n,a}function bi(t,e,r){var n=r-e,a=n===0?1:0,i=2*n+a,o=t-e;return o=o>=0?o:-o,o%=i,o=o<=n?o:i-o,o}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yxe=R8.ImageBorderMode;function mxe(t,e){e.classHierarchy.push("vtkAbstractImageInterpolator"),t.initialize=function(r){t.releaseData(),e.scalars=r.getPointData().getScalars(),e.spacing=r.getSpacing(),e.origin=r.getOrigin(),e.extent=r.getExtent(),t.update()},t.releaseData=function(){e.scalars=null},t.update=function(){if(!e.scalars){e.interpolationInfo.pointer=null,e.interpolationInfo.numberOfComponents=1;return}e.interpolationInfo.extent=e.extent.slice();for(var r=t.computeSupportSize(null),n=Math.max(Math.max(r[0],r[1]),r[2]),a=Number.MIN_SAFE_INTEGER+n/2,i=Number.MAX_SAFE_INTEGER-n/2,o=0;o<3;++o){var s=Math.max(.5*(e.extent[2*o]===e.extent[2*o+1]),e.tolerance);e.structuredBounds[2*o]=Math.max(e.extent[2*o]-s,a),e.structuredBounds[2*o+1]=Math.min(e.extent[2*o+1]+s,i)}var u=e.extent[1]-e.extent[0]+1,l=e.extent[3]-e.extent[2]+1,f=e.scalars.getNumberOfComponents();e.interpolationInfo.increments[0]=f,e.interpolationInfo.increments[1]=e.interpolationInfo.increments[0]*u,e.interpolationInfo.increments[2]=e.interpolationInfo.increments[1]*l;var c=e.componentOffset;c=c>0?c:0,c=c<f?c:f-1;var h=1,p=e.scalars.getData();e.interpolationInfo.pointer=p.subarray(c*h),e.interpolationInfo.scalarType=e.scalars.dataType,e.interpolationInfo.dataTypeSize=1,e.interpolationInfo.numberOfComponents=t.computeNumberOfComponents(f),e.interpolationInfo.borderMode=e.borderMode,t.internalUpdate()},t.internalUpdate=function(){},t.interpolateXYZ=function(r,n,a,i){var o=e.outValue,s=[r,n,a],u=[(s[0]-e.origin[0])/e.spacing[0],(s[1]-e.origin[1])/e.spacing[1],(s[2]-e.origin[2])/e.spacing[2]];if(t.checkBoundsIJK(u)){var l=rE({},e.interpolationInfo),f=l.increments[0]-e.componentOffset,c=1,h=i>0?i:0;h=h<f?h:f-1,l.pointer=e.interpolationInfo.pointer.subarray(c*h),l.numberOfComponents=1;var p=[o];t.interpolatePoint(l,u,p),o=p[0]}return o},t.interpolate=function(r,n){var a=[(r[0]-e.origin[0])/e.spacing[0],(r[1]-e.origin[1])/e.spacing[1],(r[2]-e.origin[2])/e.spacing[2]];if(t.checkBoundsIJK(a))return t.interpolatePoint(e.interpolationInfo,a,n),!0;for(var i=0;i<e.interpolationInfo.numberOfComponents;++i)n[i]=e.outValue;return!1},t.computeNumberOfComponents=function(r){var n=Math.min(Math.max(e.componentOffset,0),r-1),a=e.componentCount<r-n?e.componentCount:r-n;return a>0?a:r-n},t.getNumberOfComponents=function(){return e.interpolationInfo.numberOfComponents},t.interpolateIJK=function(r,n){t.interpolatePoint(e.interpolationInfo,r,n)},t.checkBoundsIJK=function(r){return!(r[0]<e.structuredBounds[0]||r[0]>e.structuredBounds[1]||r[1]<e.structuredBounds[2]||r[1]>e.structuredBounds[3]||r[2]<e.structuredBounds[4]||r[2]>e.structuredBounds[5])},t.computeSupportSize=null,t.isSeparable=null,t.precomputeWeightsForExtent=function(r,n,a){},t.FreePrecomputedWeights=function(r){},t.interpolatePoint=function(r,n,a){},t.interpolateRow=function(r,n,a,i,o,s){}}var _xe={outValue:0,tolerance:Number.EPSILON,componentOffset:0,componentCount:-1,borderMode:yxe.CLAMP,slidingWindow:!1,scalars:null,interpolationInfo:rE({},A8),interpolationFunc:null,rowInterpolationFunc:null,structuredBounds:[0,-1,0,-1,0,-1],spacing:null,origin:null,extent:null};function N8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_xe,r),X.obj(t,e),X.setGet(t,e,["outValue","tolerance","componentOffset","componentCount","borderMode","slidingWindow"]),X.get(t,e,["origin","spacing"]),mxe(t,e)}var xxe=X.newInstance(N8,"vtkAbstractImageInterpolator"),wxe=rE({newInstance:xxe,extend:N8},R8);function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sxe(t,e){e.classHierarchy.push("vtkImageInterpolator"),t.computeSupportSize=function(r){var n=1;e.interpolationMode===ur.LINEAR?n=2:e.interpolationMode===ur.CUBIC&&(n=4);var a=[n,n,n];if(r==null||r[12]!==0||r[13]!==0||r[14]!==0||r[15]!==1)return a;for(var i=0;i<3;++i){for(var o=!0,s=0;s<3;++s)o=o&&Number.isInteger(r[4*i+s]);o&&(a[i]=1)}return a},t.internalUpdate=function(){e.interpolationInfo.interpolationMode=e.interpolationMode},t.isSeparable=function(){return!0},t.interpolateNearest=function(r,n,a){var i=r.extent,o=r.increments,s=r.numberOfComponents,u=tf(n[0]),l=tf(n[1]),f=tf(n[2]);switch(r.borderMode){case qn.REPEAT:u=Si(u,i[0],i[1]),l=Si(l,i[2],i[3]),f=Si(f,i[4],i[5]);break;case qn.MIRROR:u=bi(u,i[0],i[1]),l=bi(l,i[2],i[3]),f=bi(f,i[4],i[5]);break;default:u=$a(u,i[0],i[1]),l=$a(l,i[2],i[3]),f=$a(f,i[4],i[5]);break}for(var c=u*o[0]+l*o[1]+f*o[2],h=0;h<s;++h)a[h]=r.pointer[c+h]},t.interpolateLinear=function(r,n,a){var i=r.extent,o=r.increments,s=r.numberOfComponents,u=Pc(n[0]),l=Pc(n[1]),f=Pc(n[2]),c=u.floored,h=l.floored,p=f.floored,v=u.error,g=l.error,y=f.error,m=c+(v!==0),d=h+(g!==0),_=p+(y!==0);switch(r.borderMode){case qn.REPEAT:c=Si(c,i[0],i[1]),h=Si(h,i[2],i[3]),p=Si(p,i[4],i[5]),m=Si(m,i[0],i[1]),d=Si(d,i[2],i[3]),_=Si(_,i[4],i[5]);break;case qn.MIRROR:c=bi(c,i[0],i[1]),h=bi(h,i[2],i[3]),p=bi(p,i[4],i[5]),m=bi(m,i[0],i[1]),d=bi(d,i[2],i[3]),_=bi(_,i[4],i[5]);break;default:c=$a(c,i[0],i[1]),h=$a(h,i[2],i[3]),p=$a(p,i[4],i[5]),m=$a(m,i[0],i[1]),d=$a(d,i[2],i[3]),_=$a(_,i[4],i[5]);break}for(var x=c*o[0],w=m*o[0],S=h*o[1],b=d*o[1],T=p*o[2],C=_*o[2],M=S+T,D=S+C,E=b+T,k=b+C,O=1-v,A=1-g,I=1-y,U=A*I,P=g*I,B=A*y,W=g*y,H=r.pointer,$=0;$<s;++$)a[$]=O*(U*H[x+M+$*4]+B*H[x+D+$*4]+P*H[x+E+$*4]+W*H[x+k+$*4])+v*(U*H[w+M+$*4]+B*H[w+D+$*4]+P*H[w+E+$*4]+W*H[w+k+$*4])},t.interpolatePoint=function(r,n,a){switch(e.interpolationMode){case ur.LINEAR:t.interpolateLinear(r,n,a);break;case ur.CUBIC:console.log("CUBIC not implemented");break;case ur.NEAREST:default:t.interpolateNearest(r,n,a);break}},t.interpolateRowNearest=function(r,n,a,i,o,s){for(var u=r.positions[0].subarray(n),l=r.positions[1].subarray(a),f=r.positions[2].subarray(i),c=r.pointer.subarray(l[0]+f[0]),h=r.numberOfComponents,p=0;p<s;++p)o.set(c.subarray(u[p],h),p*h)},t.interpolateRowLinear=function(r,n,a,i,o,s){var u=r.kernelSize[0],l=r.kernelSize[1],f=r.kernelSize[2],c=n*u,h=a*l,p=i*f,v=r.weights[0].subarray(c),g=r.weights[1].subarray(h),y=r.weights[2].subarray(p),m=r.positions[0].subarray(c),d=r.positions[1].subarray(h),_=r.positions[2].subarray(p),x=r.pointer,w=r.numberOfComponents,S=d.subarray(_[0]),b=S,T=S,C=S,M=1,D=0,E=1,k=0;l===2&&(T=d[1].subarray(_[0]),C=T,M=g[0],D=g[1]),f===2&&(b=d[0].subarray(_[1]),C=b,E=y[0],k=y[1]),l+f===4&&(C=d[1].subarray(_[1]));var O=M*E,A=M*k,I=D*E,U=D*k;if(u===1)if(D===0&&k===0)for(var P=s;P>0;--P)for(var B=0;B<w;B++)o[B+s-P]=x[S+m[s-P]+B];else if(D===0)for(var W=s;W>0;--W)for(var H=0;H<w;H++)o[H+s-W]=E*x[m[s-W]+S+H*4]+k*x[m[s-W]+b+H*4];else for(var $=s;$>0;--$)for(var q=0;q<w;q++)o[q+s-$]=O*x[m[s-$]+S+q*4]+A*x[m[s-$]+b+q*4]+I*x[m[s-$]+T+q*4]+U*x[m[s-$]+C+q*4];else if(k===0)for(var Q=0,Y=s;Y>0;--Y){for(var ie=v[0+2*Q],J=v[1+2*Q],ae=m[0+2*Q],re=m[1+2*Q],V=0;V<w;V++)o[V+s-Y]=ie*(M*x[ae+S+V*4]+D*x[ae+T+V*4])+J*(M*x[re+S+V*4]+D*x[re+T+V*4]);Q++}else for(var R=0,F=s;F>0;--F){for(var N=v[0+2*R],L=v[1+2*R],G=m[0+2*R],z=m[1+2*R],j=0;j<w;j++)o[j]=N*(O*x[G+S+j*4]+A*x[G+b+j*4]+I*x[G+T+j*4]+U*x[G+C+j*4])+L*(O*x[z+S+j*4]+A*x[z+b+j*4]+I*x[z+T+j*4]+U*x[z+C+j*4]);R++}},t.interpolateRow=function(r,n,a,i,o,s){switch(e.interpolationMode){case ur.LINEAR:t.interpolateRowLinear(r,n,a,i,o,s);break;case ur.CUBIC:console.log("CUBIC not implemented");break;case ur.NEAREST:default:t.interpolateRowNearest(r,n,a,i,o,s);break}},t.vtkTricubicInterpWeights=function(r){var n=.5,a=r-1,i=r*n,o=r*3;return[-i*a*a,((o-2)*i-1)*a,-((o-4)*r-1)*i,r*i*a]},t.precomputeWeightsForExtent=function(r,n,a){var i=qR(qR({},gxe.newInstance()),e.interpolationInfo);i.weightType="Float32Array";for(var o=i.interpolationMode,s=!0,u=0;u<3;++u){var l=void 0;for(l=0;l<3&&r[4*u+l]===0;++l);a[2*u]=n[2*u],a[2*u+1]=n[2*u+1];var f=i.extent[2*l],c=i.extent[2*l+1],h=e.structuredBounds[2*l],p=e.structuredBounds[2*l+1],v=1;v=o<ur.LINEAR?v:2,v=o<ur.CUBIC?v:4;var g=c-f+1;v=v<g?v:g,Number.isInteger(r[4*u+l])&&Number.isInteger(r[4*l+l])&&(v=1);var y=v*(n[2*u+1]-n[2*u]+1),m=new Int16Array(y),d=v*n[2*u],_=null;o!==ur.NEAREST&&(_=new Int16Array(y)),i.kernelSize[u]=v,i.weightExtent[2*u]=n[2*u],i.weightExtent[2*u+1]=n[2*u+1],i.positions[u]=m,i.weights[u]=_;for(var x=0,w=n[2*u];w<=n[2*u+1];++w){var S=r[12+l]+w*r[4*u+l],b=v,T=0,C=0;if(o===ur.NEAREST)T=Math.round(S);else{var M=Pc(S);T=M.integer,C=M.error,o===ur.CUBIC&&v!==1&&(T--,b=4)}var D=[0,0,0,0],E=0;switch(i.borderMode){case qn.REPEAT:do D[E]=Si(T,f,c),T++;while(++E<b);break;case qn.MIRROR:do D[E]=bi(T,f,c),T++;while(++E<b);break;default:do D[E]=$a(T,f,c),T++;while(++E<b);break}var k=i.increments[l];if(m[v*w-d]=D[0]*k,o!==ur.NEAREST&&(_[v*w-d]=1),v>1){if(o===ur.LINEAR)m[v*w+1-d]=D[1]*k,_[v*w-d]=1-C,_[v*w+1-d]=C;else if(o===ur.CUBIC){var O=t.vtkTricubicInterpWeights(C);if(v===4)for(var A=0;A<4;A++)m[v*w+A-d]=D[A]*k,_[v*w+A-d]=O[A];else{for(var I=[0,0,0,0],U=0;U<4;U++){var P=D[U]-f;I[P]+=O[U]}for(var B=0;B<v;B++)m[v*w+B-d]=f+B,_[v*w+B-d]=I[B]}}}S>=h&&S<=p?x===0&&(x=1,a[2*u]=w):x===1&&(x=2,a[2*u+1]=w-1)}(x===0||a[2*u]>a[2*u+1])&&(s=!1)}if(!s)for(var W=0;W<3;W++)a[2*W]=n[2*W],a[2*W+1]=n[2*W]-1}}var bxe={interpolationMode:ur.NEAREST};function F8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bxe,r),wxe.extend(t,e,r),X.setGet(t,e,["interpolationMode"]),Sxe(t,e)}var Txe=X.newInstance(F8,"vtkImageInterpolator"),Cxe={newInstance:Txe,extend:F8};function Exe(t,e){e.classHierarchy.push("vtkImagePointDataIterator"),t.initialize=function(r,n,a,i){var o=r.getExtent(),s=n;s==null&&(s=o);for(var u=!1,l=0;l<6;l+=2)e.extent[l]=Math.max(s[l],o[l]),e.extent[l+1]=Math.min(s[l+1],o[l+1]),e.extent[l]>e.extent[l+1]&&(u=!0);e.rowIncrement=o[1]-o[0]+1,e.sliceIncrement=e.rowIncrement*(o[3]-o[2]+1);var f,c,h;if(!u)f=e.extent[1]-e.extent[0]+1,c=e.extent[3]-e.extent[2]+1,h=e.extent[5]-e.extent[4]+1,e.id=e.extent[0]-o[0]+(e.extent[2]-o[2])*e.rowIncrement+(e.extent[4]-o[4])*e.sliceIncrement,e.rowEndIncrement=e.rowIncrement-f,e.sliceEndIncrement=e.rowEndIncrement+e.sliceIncrement-e.rowIncrement*c;else{f=0,c=0,h=0,e.id=0,e.rowEndIncrement=0,e.sliceEndIncrement=0;for(var p=0;p<6;p+=2)e.extent[p]=o[p],e.extent[p+1]=o[p]-1}if(e.spanEnd=e.id+f,e.rowEnd=e.id+f,e.sliceEnd=e.id+(e.rowIncrement*c-e.rowEndIncrement),e.end=e.id+(e.sliceIncrement*h-e.sliceEndIncrement),e.index[0]=e.extent[0],e.index[1]=e.extent[2],e.index[2]=e.extent[4],e.startY=e.index[1],a){e.hasStencil=!0,e.inStencil=!1,e.spanIndex=0;var v=a.getExtent();if(e.spanSliceIncrement=0,e.spanSliceEndIncrement=0,v[3]>=v[2]&&v[5]>=v[4]){e.spanSliceIncrement=v[3]-v[2]+1;var g=e.extent[2]-v[2];g>=0&&(e.spanSliceEndIncrement+=g);var y=v[3]-e.extent[3];y>=0&&(e.spanSliceEndIncrement+=y)}var m=0,d=e.extent[2]-v[2];d<0?(e.extent[2]=v[2],m-=1):m+=d,v[3]<=e.extent[3]&&(e.extent[3]=v[3]);var _=e.extent[4]-v[4];_<0?(e.extent[4]=v[4],d>=0&&(m-=1+e.spanSliceEndIncrement)):m+=_*e.spanSliceIncrement,v[5]<=e.extent[5]&&(e.extent[5]=v[5]),e.extent[2]<=e.extent[3]&&e.extent[4]<=e.extent[5]?(e.spanCountPointer=a.extentListLengths.subarray(m),e.spanListPointer=a.extentLists.subarray(m),d>=0&&_>=0&&(e.inStencil=!0,e.setSpanState(e.extent[0]))):(e.spanCountPointer=null,e.spanListPointer=null,e.inStencil=!1)}else e.hasStencil=!1,e.inStencil=!0,e.spanSliceEndIncrement=0,e.spanSliceIncrement=0,e.spanIndex=0,e.spanCountPointer=null,e.spanListPointer=null;if(i){e.algorithm=i;var x=c*h;e.target=x/50+1,e.count=e.target*50-x/e.target*e.target+1}else e.algorithm=null,e.target=0,e.count=0},t.setSpanState=function(r){var n=!1,a=e.spanListPointer,i=e.spanCountPointer[0],o;for(o=0;o<i&&!(a[o]>r);++o)n=!n;e.spanIndex=o,e.inStencil=n;var s=e.extent[1]+1;o<i&&a[o]<=e.extent[1]&&(s=a[o]);var u=e.rowEnd-(e.rowIncrement-e.rowEndIncrement);e.id=u+(r-e.extent[0]),e.spanEnd=u+(s-e.extent[0])},t.nextSpan=function(){if(e.spanEnd===e.rowEnd){var r=1;if(e.spanEnd!==e.sliceEnd)e.id=e.rowEnd+e.rowEndIncrement,e.rowEnd+=e.rowIncrement,e.spanEnd=e.rowEnd,e.index[1]++;else if(e.spanEnd!==e.end)e.id=e.sliceEnd+e.sliceEndIncrement,e.sliceEnd+=e.sliceIncrement,e.rowEnd=e.id+(e.rowIncrement-e.rowEndIncrement),e.spanEnd=e.rowEnd,e.index[1]=e.startY,e.index[2]++,r+=e.spanSliceEndIncrement;else{e.id=e.end;return}e.index[0]=e.extent[0],e.hasStencil&&(e.index[1]>=e.extent[2]&&e.index[1]<=e.extent[3]&&e.index[2]>=e.extent[4]&&e.index[2]<=e.extent[5]?(e.spanCountPointer=e.spanCountPointer.subarray(r),e.spanListPointer=e.spanListPointer.subarray(r),t.setSpanState(e.extent[0])):e.inStencil=!1),e.algorithm&&t.reportProgress()}else{e.id=e.spanEnd;var n=e.spanCountPointer[0],a=e.extent[1]+1;if(e.index[0]=a,e.spanIndex<n){var i=e.spanListPointer[e.spanIndex];i<a&&(e.index[0]=i)}if(e.spanIndex++,e.spanIndex<n){var o=e.spanListPointer[e.spanIndex];o<a&&(a=o)}e.spanEnd=e.rowEnd-(e.rowIncrement-e.rowEndIncrement)+(a-e.extent[0]),e.inStencil=!e.inStencil}},t.isAtEnd=function(){return e.id===e.end},t.isInStencil=function(){return e.inStencil},t.spanEndId=function(){return e.spanEnd},t.reportProgress=function(){},t.getArray=function(r,n){return r.getData().subarray(n*r.getNumberOfComponents())},t.getScalars=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.getArray(r.getPointData().getScalars(),n)}}var Dxe={spanState:0,extent:[0,-1,0,-1,0,-1],end:0,spanEnd:0,rowEnd:0,sliceEnd:0,rowIncrement:0,rowEndIncrement:0,sliceIncrement:0,sliceEndIncrement:0,id:0,index:[0,0,0],startY:0,hasStencil:!1,inStencil:!0,spanIndex:0,spanSliceIncrement:0,spanSliceEndIncrement:0,spanCountPointer:null,spanListPointer:null,algorithm:null,target:0,count:0};function B8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Dxe,r),X.obj(t,e),X.get(t,e,["id","index"]),Exe(t,e)}var Oxe=X.newInstance(B8,"vtkImagePointDataIterator"),Mxe={newInstance:Oxe,extend:B8},Lxe={MIN:0,MAX:1,MEAN:2,SUM:3},I8={SlabMode:Lxe};function ZR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lc=I8.SlabMode,Rxe=X.capitalize,Axe=X.vtkErrorMacro;function Nxe(t,e){e.classHierarchy.push("vtkImageReslice");var r=null,n=null;function a(h,p,v,g){for(var y=v-1,m=0;m<p;m+=1){for(var d=h[m]*.5,_=1;_<y;_+=1)d+=h[m+_*p];d+=h[m+y*p]*.5,h[m]=d*g}}function i(h,p,v,g){for(var y=0;y<p;y+=1){for(var m=h[y],d=1;d<v;d+=1)m+=h[y+d*p];h[y]=m*g}}function o(h,p,v){for(var g=0;g<p;g+=1){for(var y=h[g],m=1;m<v;m+=1)y=Math.min(y,h[g+m*p]);h[g]=y}}function s(h,p,v){for(var g=0;g<p;g+=1){for(var y=h[g],m=1;m<v;m+=1)y=Math.max(y,h[g+m*p]);h[g]=y}}function u(h,p,v){var g=1/v;i(h,p,v,g)}function l(h,p,v){var g=1/(v-1);a(h,p,v,g)}function f(h,p,v){var g=1;i(h,p,v,g)}function c(h,p,v){var g=1;a(h,p,v,g)}t.setResliceAxes=function(h){return e.resliceAxes||(e.resliceAxes=ze(new Float64Array(16))),z5(e.resliceAxes,h)?null:(gr(e.resliceAxes,h),t.modified(),!0)},t.requestData=function(h,p){var v=h[0];if(!v){Axe("Invalid or missing input");return}var g=v.getOrigin(),y=v.getSpacing(),m=v.getDimensions(),d=v.getPointData().getScalars(),_=[0,m[0]-1,0,m[1]-1,0,m[2]-1],x=[0,0,0],w=[1,1,1],S=[0,0,0,0,0,0],b=[0,0,0],T=null;e.resliceAxes?T=e.resliceAxes:T=ze(new Float64Array(16));var C=new Float64Array(16);br(C,T);var M=[g[0]+.5*(_[0]+_[1])*y[0],g[1]+.5*(_[2]+_[3])*y[1],g[2]+.5*(_[4]+_[5])*y[2]],D=null;e.autoCropOutput&&(D=t.getAutoCroppedOutputBounds(v));for(var E=0;E<3;E++){var k=0,O=0,A=0,I=0;if(e.transformInputSampling){for(var U=0,P=0;P<3;P++){I+=C[4*P+E]*(M[P]-T[4*3+P]);var B=T[4*E+P]*T[4*E+P];k+=B*Math.abs(y[P]),O+=B*(_[2*P+1]-_[2*P])*Math.abs(y[P]),A+=B*_[2*P],U+=B}k/=U,O/=U*Math.sqrt(U),A/=U}else I=M[E],k=y[E],O=(_[2*E+1]-_[2*E])*k,A=_[2*E];e.outputSpacing==null?w[E]=k:w[E]=e.outputSpacing[E],E>=e.outputDimensionality?(S[2*E]=0,S[2*E+1]=0):e.outputExtent==null?(e.autoCropOutput&&(O=D[2*E+1]-D[2*E]),S[2*E]=Math.round(A),S[2*E+1]=Math.round(S[2*E]+Math.abs(O/w[E]))):(S[2*E]=e.outputExtent[2*E],S[2*E+1]=e.outputExtent[2*E+1]),E>=e.outputDimensionality?x[E]=0:e.outputOrigin==null?e.autoCropOutput?x[E]=D[2*E]-S[2*E]*w[E]:x[E]=I-.5*(S[2*E]+S[2*E+1])*w[E]:x[E]=e.outputOrigin[E],b[E]=S[2*E+1]-S[2*E]+1}var W=d.getDataType();e.outputScalarType&&(W=e.outputScalarType);var H=v.getPointData().getScalars().getNumberOfComponents(),$=X.newTypedArray(W,b[0]*b[1]*b[2]*H),q=gt.newInstance({name:"Scalars",values:$,numberOfComponents:H}),Q=G2.newInstance();Q.setDimensions(b),Q.setOrigin(x),Q.setSpacing(w),Q.getPointData().setScalars(q),t.getIndexMatrix(v,Q);var Y=e.interpolationMode;e.usePermuteExecute=!1,e.optimization&&e.slabSliceSpacingFraction===1&&e.interpolator.isSeparable()&&t.isPermutationMatrix(r)&&(e.usePermuteExecute=!0,t.canUseNearestNeighbor(r,S)&&(Y=ur.NEAREST)),e.interpolator.setInterpolationMode(Y);var ie=qn.CLAMP;ie=e.wrap?qn.REPEAT:ie,ie=e.mirror?qn.MIRROR:ie,e.interpolator.setBorderMode(ie);var J=762939453125e-17,ae=2*2147483647,re=.5*e.border;re=ie===qn.CLAMP?re:ae,re=re>J?re:J,e.interpolator.setTolerance(re),e.interpolator.initialize(v),t.vtkImageResliceExecute(v,Q),e.interpolator.releaseData(),p[0]=Q},t.vtkImageResliceExecute=function(h,p){var v=h.getPointData().getScalars(),g=p.getPointData().getScalars(),y=g.getData(),m=p.getExtent(),d=r,_=Math.max(e.slabNumberOfSlices,1),x=e.slabSliceSpacingFraction,w=t.isPerspectiveMatrix(d),S=v.getData(),b=1,T=v.getDataType(),C=v.getNumberOfComponents(),M=e.interpolator.getComponentOffset(),D=e.interpolator.getBorderMode(),E=h.getDimensions(),k=[0,E[0]-1,0,E[1]-1,0,E[2]-1],O=[0,0,0];O[0]=v.getNumberOfComponents(),O[1]=O[0]*E[0],O[2]=O[1]*E[1];var A=E[0]*E[1]*E[2];M>0&&M+C<O[0]&&(S=S.subarray(b*M));var I=ur.NEAREST;e.interpolator.isA("vtkImageInterpolator")&&(I=e.interpolator.getInterpolationMode());for(var U=null,P=e.scalarShift!==0||e.scalarScale!==1,B=I===ur.NEAREST&&D===qn.CLAMP&&!(w||U!=null||P)&&T===g.getDataType()&&A===v.getNumberOfTuples()&&e.border===!0&&_<=1,W=g.getDataType(),H=1,$=g.getNumberOfComponents(),q=[0,0,0,0],Q=[0,0,0,0],Y=[0,0,0,0],ie=[0,0,0,0],J=0;J<4;++J)q[J]=d[4*0+J],Q[J]=d[4*1+J],Y[J]=d[4*2+J],ie[J]=d[4*3+J];e.interpolator.getOrigin();var ae=e.interpolator.getSpacing();1/ae[0],1/ae[1],1/ae[2];var re=null;B||(re=new Float64Array(C*(m[1]-m[0])));var V=X.newTypedArray(T,e.backgroundColor),R=I>ur.LINEAR||_>1&&e.slabMode===Lc.SUM,F=t.getConversionFunc(T,W,e.scalarShift,e.scalarScale,R),N=t.getSetPixelsFunc(W,H,$,y),L=t.getCompositeFunc(e.slabMode,e.slabTrapezoidIntegration),G=m[2]-1,z=m[4]-1,j=[0,0,0,0],K=[0,0,0,0],Z=Mxe.newInstance();Z.initialize(p,m,e.stencil,null);for(var ne=Z.getScalars(p,0),ue=0,se=X.newTypedArray(W,Jt.getDiagonalLength(m)*$*2),he=new Float64Array(C*_),le=new Float64Array(C);!Z.isAtEnd();Z.nextSpan()){var ce=Z.spanEndId()-Z.getId();if(ue=Z.getId()*H*$,Z.isInStencil()){var _e=Z.getIndex();_e[2]>z&&(z=_e[2],j[0]=ie[0]+z*Y[0],j[1]=ie[1]+z*Y[1],j[2]=ie[2]+z*Y[2],j[3]=ie[3]+z*Y[3],G=m[2]-1),_e[1]>G&&(G=_e[1],K[0]=j[0]+G*Q[0],K[1]=j[1]+G*Q[1],K[2]=j[2]+G*Q[2],K[3]=j[3]+G*Q[3]);var Oe=_e[0],Ee=Oe+ce-1;if(B){for(var lu=S,c_=y,dH=O[0]*b,gH=O[1]*b,yH=O[2]*b,mH=k[1]-k[0]+1,_H=k[3]-k[2]+1,xH=k[5]-k[4]+1,TD=Oe,CD=Oe-1,f_=!1,h_=b*C,cu=Oe;cu<=Ee;cu++){var p_=[K[0]+cu*q[0],K[1]+cu*q[1],K[2]+cu*q[2]],v_=tf(p_[0])-k[0],d_=tf(p_[1])-k[2],g_=tf(p_[2])-k[4];if(v_>=0&&v_<mH&&d_>=0&&d_<_H&&g_>=0&&g_<xH){if(!f_){TD=cu,f_=!0;for(var wH=N(se,V,$,TD-Oe),y_=0;y_<wH;++y_)ne[ue++]=se[y_]}CD=cu;var m_=v_*dH+d_*gH+g_*yH;switch(h_){case 1:ne[ue++]=lu[m_];break;case 2:case 3:case 4:case 8:case 12:case 16:for(var __=0;__<h_;++__)ne[ue++]=lu[m_+__];break;default:{var SH=0;do ne[ue++]=lu[m_++];while(++SH!==h_);break}}}else if(f_)break}y=c_;for(var bH=N(se,V,$,Ee-CD),x_=0;x_<bH;++x_)ne[ue++]=se[x_]}else for(var fe=1,de=1,we=Oe,Se=Oe,ke=re,Ve=0;we<=Ee;){for(;Se<=Ee&&de===fe;Se++){var Fe=[K[0]+Se*q[0],K[1]+Se*q[1],K[2]+Se*q[2],K[3]+Se*q[3]],tt=[0,0,0,0],Je=Fe;de=!1;for(var ir=0,vr=0;vr<_;++vr){if(_>1){var _t=vr-.5*(_-1);_t*=x,tt[0]=Fe[0]+_t*Y[0],tt[1]=Fe[1]+_t*Y[1],tt[2]=Fe[2]+_t*Y[2],tt[3]=Fe[3]+_t*Y[3],Je=tt}if(w){var xr=1/Je[3];Je[0]*=xr,Je[1]*=xr,Je[2]*=xr}if(e.interpolator.checkBoundsIJK(Je)){de=1,e.interpolator.interpolateIJK(Je,le);for(var Qf=0;Qf<C;++Qf)he[ir++]=le[Qf]}}ir>C&&L(he,C,ir/C);for(var eh=0;eh<C;++eh)ke[Ve++]=he[eh];fe=Se>Oe?fe:de}var ge=Se-1-(de!==fe),Te=ge-we+1,rt=0;fe?(P&&t.rescaleScalars(re,C,Ee-Oe+1,e.scalarShift,e.scalarScale),rt=F(se,re.subarray(we*C),$,Te)):rt=N(se,V,$,Te);for(var Yr=0;Yr<rt;++Yr)ne[ue++]=se[Yr];we+=Te,fe=de}}else for(var me=N(se,V,$,ce),ee=0;ee<me;++ee)ne[ue++]=se[ee]}},t.getIndexMatrix=function(h,p){r===null&&(r=ze(new Float64Array(16)));var v=h.getOrigin(),g=h.getSpacing(),y=p.getOrigin(),m=p.getSpacing(),d=ze(new Float64Array(16)),_=ze(new Float64Array(16)),x=ze(new Float64Array(16));e.resliceAxes&&gr(d,e.resliceAxes),e.resliceTransform;for(var w=t.isIdentityMatrix(d),S=0;S<3;S++)(g[S]!==m[S]||v[S]!==y[S]||n!==null)&&(w=!1),_[4*S+S]=1/g[S],_[4*3+S]=-v[S]/g[S],x[4*S+S]=m[S],x[4*3+S]=y[S];return w||(Ht(d,d,x),Ht(d,_,d)),gr(r,d),r},t.getAutoCroppedOutputBounds=function(h){var p=h.getOrigin(),v=h.getSpacing(),g=h.getDimensions(),y=[0,g[0]-1,0,g[1]-1,0,g[2]-1],m=new Float64Array(16);e.resliceAxes?br(m,e.resliceAxes):ze(m);for(var d=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],_=[0,0,0,0],x=0;x<8;++x){_[0]=p[0]+y[x%2]*v[0],_[1]=p[1]+y[2+Math.floor(x/2)%2]*v[1],_[2]=p[2]+y[4+Math.floor(x/4)%2]*v[2],_[3]=1,e.resliceTransform,Oo(_,_,m);var w=1/_[3];_[0]*=w,_[1]*=w,_[2]*=w;for(var S=0;S<3;++S)_[S]>d[2*S+1]&&(d[2*S+1]=_[S]),_[S]<d[2*S]&&(d[2*S]=_[S])}return d},t.getDataTypeMinMax=function(h){switch(h){case"Int8Array":return{min:-128,max:127};case"Int16Array":return{min:-32768,max:32767};case"Uint16Array":return{min:0,max:65535};case"Int32Array":return{min:-2147483648,max:2147483647};case"Uint32Array":return{min:0,max:4294967295};case"Float32Array":return{min:-12e37,max:12e37};case"Float64Array":return{min:-12e37,max:12e37};case"Uint8Array":case"Uint8ClampedArray":default:return{min:0,max:255}}},t.clamp=function(h,p,v,g,y,m){for(var d=g*v,_=0;_<d;++_)h[_]=$a(p[_],y,m);return d},t.convert=function(h,p,v,g){for(var y=g*v,m=0;m<y;++m)h[m]=Math.round(p[m]);return y},t.getConversionFunc=function(h,p,v,g,y){var m=y;if(p!==Rr.FLOAT&&p!==Rr.DOUBLE&&!y){var d=t.getDataTypeMinMax(h),_=(d.min+v)*g,x=(d.max+v)*g,w=t.getDataTypeMinMax(p),S=w.min,b=w.max;if(_>x){var T=x;x=_,_=T}m=_<S||x>b}if(m&&p!==Rr.FLOAT&&p!==Rr.DOUBLE){var C=t.getDataTypeMinMax(p),M=function(E,k,O,A){return t.clamp(E,k,O,A,C.min,C.max)};return M}return t.convert},t.set=function(h,p,v,g){for(var y=v*g,m=0;m<g;++m)h[m]=p[m];return y},t.set1=function(h,p,v,g){return h.fill(p[0],0,g),g},t.getSetPixelsFunc=function(h,p,v,g){return v===1?t.set1:t.set},t.getCompositeFunc=function(h,p){var v=null;switch(h){case Lc.MIN:v=o;break;case Lc.MAX:v=s;break;case Lc.MEAN:p?v=l:v=u;break;case Lc.SUM:p?v=c:v=f;break}return v},t.applyTransform=function(h,p,v,g){p[3]=1,Oo(p,p,h),p[0]-=v[0],p[1]-=v[1],p[2]-=v[2],p[0]*=g[0],p[1]*=g[1],p[2]*=g[2]},t.rescaleScalars=function(h,p,v,g,y){for(var m=v*p,d=0;d<m;++d)h[d]=(h[d]+g)*y},t.isPermutationMatrix=function(h){for(var p=0;p<3;p++)if(h[4*p+3]!==0)return!1;if(h[4*3+3]!==1)return!1;for(var v=0;v<3;v++){for(var g=0,y=0;y<3;y++)h[4*v+y]!==0&&g++;if(g!==1)return 0}return 1},t.isIdentityMatrix=function(h){for(var p=0;p<4;++p)for(var v=0;v<4;++v)if((p===v?1:0)!==h[4*v+p])return!1;return!0},t.isPerspectiveMatrix=function(h){return h[4*0+3]!==0||h[4*1+3]!==0||h[4*2+3]!==0||h[4*3+3]!==1},t.canUseNearestNeighbor=function(h,p){for(var v=0;v<3;v++){var g=void 0;for(g=0;g<3&&h[4*g+v]===0;g++);if(g>=3)return 0;var y=h[4*g+v],m=h[4*3+v];p[2*g]===p[2*g+1]&&(m+=y*p[2*v],y=0);var d=Pc(y).error,_=Pc(m).error;if(d!==0||_!==0)return 0}return 1}}function Fxe(t,e,r){r.forEach(function(n){var a="set".concat(Rxe(n)),i=t[a];t[a]=function(){return arguments.length===1&&(arguments.length<=0?void 0:arguments[0])==null||e[n]==null?(arguments.length<=0?void 0:arguments[0])!==e[n]?(e[n]=arguments.length<=0?void 0:arguments[0],t.modified(),!0):null:i.apply(void 0,arguments)}})}var Bxe={transformInputSampling:!0,autoCropOutput:!1,outputDimensionality:3,outputSpacing:null,outputOrigin:null,outputExtent:null,outputScalarType:null,wrap:!1,mirror:!1,border:!0,interpolationMode:ur.NEAREST,slabMode:Lc.MIN,slabTrapezoidIntegration:!1,slabNumberOfSlices:1,slabSliceSpacingFraction:1,optimization:!1,scalarShift:0,scalarScale:1,backgroundColor:[0,0,0,0],resliceAxes:null,resliceTransform:null,interpolator:Cxe.newInstance(),usePermuteExecute:!1};function V8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bxe,r),X.obj(t,e),X.algo(t,e,1,1),X.setGet(t,e,["outputDimensionality","outputScalarType","scalarShift","scalarScale","transformInputSampling","autoCropOutput","wrap","mirror","border","backgroundColor","interpolationMode","slabMode","slabTrapezoidIntegration","slabNumberOfSlices","slabSliceSpacingFraction"]),X.setGetArray(t,e,["outputOrigin","outputSpacing"],3),X.setGetArray(t,e,["outputExtent"],6),Fxe(t,e,["outputOrigin","outputSpacing","outputExtent"]),X.get(t,e,["resliceAxes"]),X.algo(t,e,1,1),Nxe(t,e)}var Ixe=X.newInstance(V8,"vtkImageReslice"),JR=kxe({newInstance:Ixe,extend:V8},I8);const Vxe={id:"reco"},ew=1,Pxe={__name:"ScanSequence",emits:["change_frame_id"],setup(t,{expose:e,emit:r}){const n=be(1),a=be(ew),i=r,o=be(null),s=be(0),u=be(0);let l=null;const f=be("Loading");function c(){const _=S2.newInstance(),x=O2.newInstance();_.addRenderer(x),x.setBackground(.8,.8,.8);const w=B2.newInstance(),S=document.querySelector(".context");w.setContainer(S),_.addView(w);const b=S.getBoundingClientRect();w.setSize(b.width,b.height);const T=h1.newInstance();T.setView(w),T.initialize(),T.bindEvents(S);const C=bf.newInstance(),M=JR.newInstance(),D=jR.newInstance(),E=WR.newInstance();o.value={renderWindow:_,renderer:x,openGlRenderWindow:w,interactor:T,actor:E,mapper:D,reslice:M,reader:C,container:S}}let h=!1;function p(){const{reader:_,reslice:x,mapper:w,actor:S,renderer:b,renderWindow:T}=o.value;u.value=0;const C=M=>{M.lengthComputable?(u.value=Math.floor(100*M.loaded/M.total),u.value<100&&(f.value="Loading "+u.value+"%")):u.value=100};l1.fetchBinary("/data/frame_"+s.value+".vti",{progressCallback:C}).then(M=>{_.parseAsArrayBuffer(M);const D=_.getOutputData(0),E=D.getExtent();a.value=ew,n.value=E[1]+1,x.setInputData(D),w.setInputConnection(x.getOutputPort()),w.setISlice(a.value-1),w.onModified(()=>{T.render()}),S.setMapper(w),b.addActor(S),h||(b.getActiveCamera().setPosition(-1,0,0),h=!0),b.getActiveCamera().setViewUp(0,-1,0),b.getActiveCamera().setParallelProjection(!0),b.resetCamera(),T.render(),g()})}mr(()=>{c(),v(),p()});function v(){const{container:_}=o.value;l===null&&(l=Ym.service({target:_,lock:!0,text:f,background:"rgba(0, 0, 0, 0.7)"}))}function g(){l!==null&&(l.close(),l=null)}function y(){if(o.value){const{renderWindow:_,renderer:x,openGlRenderWindow:w,interactor:S,actor:b,mapper:T,reslice:C,reader:M}=o.value;M.delete(),C.delete(),T.delete(),b.delete(),S.delete(),w.delete(),x.delete(),_.delete(),o.value=null}}$n(()=>{y()});function m(_){const{mapper:x}=o.value;x.setISlice(_-1),i("change_frame_id",_)}function d(_){if(s.value=_,o.value){const{actor:k,mapper:O,reslice:A,reader:I}=o.value;I.delete(),A.delete(),O.delete(),k.delete()}const x=bf.newInstance(),w=JR.newInstance(),S=jR.newInstance(),b=WR.newInstance(),{renderWindow:T,renderer:C,openGlRenderWindow:M,interactor:D,container:E}=o.value;C.removeAllActors(),o.value={renderWindow:T,renderer:C,openGlRenderWindow:M,interactor:D,actor:b,mapper:S,reslice:w,reader:x,container:E},v(),p()}return e({data_id_change:d,data_id:s}),(_,x)=>{const w=$Q;return xe(),Re("div",Vxe,[x[1]||(x[1]=De("h2",null,"Scan Sequence",-1)),x[2]||(x[2]=De("div",{class:"context"},null,-1)),Pe(w,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=S=>a.value=S),min:ew,max:n.value,onInput:m,"show-input":""},null,8,["modelValue","max"])])}}},Uxe=cd(Pxe,[["__scopeId","data-v-093386e5"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wb=function(t,e){return Wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Wb(t,e)};function Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zxe=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),Gxe=function(){function t(){this.browser=new zxe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Qe=new Gxe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Qe.wxa=!0,Qe.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Qe.worker=!0:!Qe.hasGlobalWindow||"Deno"in window?(Qe.node=!0,Qe.svgSupported=!0):Wxe(navigator.userAgent,Qe);function Wxe(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),a&&(r.ie=!0,r.version=a[1]),i&&(r.edge=!0,r.version=i[1],r.newEdge=+i[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var nE=12,Hxe="sans-serif",Ul=nE+"px "+Hxe,jxe=20,$xe=100,Kxe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Xxe(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),a=(t.charCodeAt(r)-jxe)/$xe;e[n]=a}return e}var Yxe=Xxe(Kxe),jf={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var a=jf.createCanvas();t=a&&a.getContext("2d")}if(t)return e!==n&&(e=t.font=n||Ul),t.measureText(r);r=r||"",n=n||Ul;var i=/((?:\d+)?\.?\d*)px/.exec(n),o=i&&+i[1]||nE,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var u=0;u<r.length;u++){var l=Yxe[r[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},P8=$f(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),U8=$f(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),hd=Object.prototype.toString,D1=Array.prototype,qxe=D1.forEach,Zxe=D1.filter,aE=D1.slice,Jxe=D1.map,QR=(function(){}).constructor,Tg=QR?QR.prototype:null,iE="__proto__",Qxe=2311;function z8(){return Qxe++}function oE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Ze(t){if(t==null||typeof t!="object")return t;var e=t,r=hd.call(t);if(r==="[object Array]"){if(!bp(t)){e=[];for(var n=0,a=t.length;n<a;n++)e[n]=Ze(t[n])}}else if(U8[r]){if(!bp(t)){var i=t.constructor;if(i.from)e=i.from(t);else{e=new i(t.length);for(var n=0,a=t.length;n<a;n++)e[n]=t[n]}}}else if(!P8[r]&&!bp(t)&&!Cf(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==iE&&(e[o]=Ze(t[o]))}return e}function ct(t,e,r){if(!Ue(e)||!Ue(t))return r?Ze(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==iE){var a=t[n],i=e[n];Ue(i)&&Ue(a)&&!Le(i)&&!Le(a)&&!Cf(i)&&!Cf(a)&&!eA(i)&&!eA(a)&&!bp(i)&&!bp(a)?ct(a,i,r):(r||!(n in t))&&(t[n]=Ze(e[n]))}return t}function Me(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==iE&&(t[r]=e[r]);return t}function ot(t,e,r){for(var n=tr(e),a=0,i=n.length;a<i;a++){var o=n[a];(r?e[o]!=null:t[o]==null)&&(t[o]=e[o])}return t}function St(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function ewe(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var a in r)r.hasOwnProperty(a)&&(t.prototype[a]=r[a]);t.prototype.constructor=t,t.superClass=e}function di(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),a=0;a<n.length;a++){var i=n[a];i!=="constructor"&&(r?e[i]!=null:t[i]==null)&&(t[i]=e[i])}else ot(t,e,r)}function zn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function oe(t,e,r){if(t&&e)if(t.forEach&&t.forEach===qxe)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,a=t.length;n<a;n++)e.call(r,t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function Ne(t,e,r){if(!t)return[];if(!e)return sE(t);if(t.map&&t.map===Jxe)return t.map(e,r);for(var n=[],a=0,i=t.length;a<i;a++)n.push(e.call(r,t[a],a,t));return n}function $f(t,e,r,n){if(t&&e){for(var a=0,i=t.length;a<i;a++)r=e.call(n,r,t[a],a,t);return r}}function Mr(t,e,r){if(!t)return[];if(!e)return sE(t);if(t.filter&&t.filter===Zxe)return t.filter(e,r);for(var n=[],a=0,i=t.length;a<i;a++)e.call(r,t[a],a,t)&&n.push(t[a]);return n}function tr(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function twe(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(aE.call(arguments)))}}var Ke=Tg&&et(Tg.bind)?Tg.call.bind(Tg.bind):twe;function Mt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(aE.call(arguments)))}}function Le(t){return Array.isArray?Array.isArray(t):hd.call(t)==="[object Array]"}function et(t){return typeof t=="function"}function Ie(t){return typeof t=="string"}function Hb(t){return hd.call(t)==="[object String]"}function rr(t){return typeof t=="number"}function Ue(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function eA(t){return!!P8[hd.call(t)]}function Gn(t){return!!U8[hd.call(t)]}function Cf(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function O1(t){return t.colorStops!=null}function rwe(t){return t.image!=null}function $y(t){return t!==t}function gv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function pt(t,e){return t??e}function G0(t,e,r){return t??e??r}function sE(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return aE.apply(t,e)}function G8(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function ui(t,e){if(!t)throw new Error(e)}function Pi(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var W8="__ec_primitive__";function jb(t){t[W8]=!0}function bp(t){return t[W8]}var nwe=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return tr(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),H8=typeof Map=="function";function awe(){return H8?new Map:new nwe}var iwe=function(){function t(e){var r=Le(e);this.data=awe();var n=this;e instanceof t?e.each(a):e&&oe(e,a);function a(i,o){r?n.set(i,o):n.set(o,i)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,a){e.call(r,n,a)})},t.prototype.keys=function(){var e=this.data.keys();return H8?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function Xe(t){return new iwe(t)}function owe(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var a=t.length,n=0;n<e.length;n++)r[n+a]=e[n];return r}function M1(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&Me(r,e),r}function j8(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function zl(t,e){return t.hasOwnProperty(e)}function Kr(){}var swe=180/Math.PI;function Kf(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function uwe(t){return[t[0],t[1]]}function tA(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function lwe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function cwe(t){return Math.sqrt(fwe(t))}function fwe(t){return t[0]*t[0]+t[1]*t[1]}function tw(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function hwe(t,e){var r=cwe(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function $b(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var pwe=$b;function vwe(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var rf=vwe;function dwe(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function Oa(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function Uc(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function zc(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var sc=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),gwe=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new sc(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,a=e.offsetY,i=n-this._x,o=a-this._y;this._x=n,this._y=a,r.drift(i,o,e),this.handler.dispatchToElement(new sc(r,e),"drag",e.event);var s=this.handler.findHover(n,a,r).target,u=this._dropTarget;this._dropTarget=s,r!==s&&(u&&s!==u&&this.handler.dispatchToElement(new sc(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new sc(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new sc(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new sc(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),Ba=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof r=="function"&&(a=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),i[e]||(i[e]=[]);for(var s=0;s<i[e].length;s++)if(i[e][s].h===n)return this;var u={h:n,query:r,ctx:a||this,callAtLast:n.zrEventfulCallAtLast},l=i[e].length-1,f=i[e][l];return f&&f.callAtLast?i[e].splice(l,0,u):i[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var a=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!==r&&a.push(n[e][i]);n[e]=a}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var o=r.length,s=a.length,u=0;u<s;u++){var l=a[u];if(!(i&&i.filter&&l.query!=null&&!i.filter(e,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var o=r.length,s=r[o-1],u=a.length,l=0;l<u;l++){var f=a[l];if(!(i&&i.filter&&f.query!=null&&!i.filter(e,f.query)))switch(o){case 0:f.h.call(s);break;case 1:f.h.call(s,r[0]);break;case 2:f.h.call(s,r[0],r[1]);break;default:f.h.apply(s,r.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t}(),ywe=Math.log(2);function Kb(t,e,r,n,a,i){var o=n+"-"+a,s=t.length;if(i.hasOwnProperty(o))return i[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~a)/ywe);return t[r][u]}for(var l=n|1<<r,f=r+1;n&1<<f;)f++;for(var c=0,h=0,p=0;h<s;h++){var v=1<<h;v&a||(c+=(p%2?-1:1)*t[r][h]*Kb(t,e-1,f,l,a|v,i),p++)}return i[o]=c,c}function rA(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},a=Kb(r,8,0,0,0,n);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*Kb(r,7,o===0?1:0,1<<o,1<<s,n)/a*e[o];return function(u,l,f){var c=l*i[6]+f*i[7]+1;u[0]=(l*i[0]+f*i[1]+i[2])/c,u[1]=(l*i[3]+f*i[4]+i[5])/c}}}var nA="___zrEVENTSAVED",rw=[];function mwe(t,e,r,n,a){return Xb(rw,e,n,a,!0)&&Xb(t,r,rw[0],rw[1])}function Xb(t,e,r,n,a){if(e.getBoundingClientRect&&Qe.domSupported&&!$8(e)){var i=e[nA]||(e[nA]={}),o=_we(e,i),s=xwe(o,i,a);if(s)return s(t,r,n),!0}return!1}function _we(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,u=i%2,l=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",a[l]+":0",n[1-u]+":auto",a[1-l]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function xwe(t,e,r){for(var n=r?"invTrans":"trans",a=e[n],i=e.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var f=t[l].getBoundingClientRect(),c=2*l,h=f.left,p=f.top;o.push(h,p),u=u&&i&&h===i[c]&&p===i[c+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&a?a:(e.srcCoords=o,e[n]=r?rA(s,o):rA(o,s))}function $8(t){return t.nodeName.toUpperCase()==="CANVAS"}var wwe=/([&<>"'])/g,Swe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function On(t){return t==null?"":(t+"").replace(wwe,function(e,r){return Swe[r]})}var bwe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nw=[],Twe=Qe.browser.firefox&&+Qe.browser.version.split(".")[0]<39;function Yb(t,e,r,n){return r=r||{},n?aA(t,e,r):Twe&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):aA(t,e,r),r}function aA(t,e,r){if(Qe.domSupported&&t.getBoundingClientRect){var n=e.clientX,a=e.clientY;if($8(t)){var i=t.getBoundingClientRect();r.zrX=n-i.left,r.zrY=a-i.top;return}else if(Xb(nw,t,n,a)){r.zrX=nw[0],r.zrY=nw[1];return}}r.zrX=r.zrY=0}function uE(t){return t||window.event}function da(t,e,r){if(e=uE(e),e.zrX!=null)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Yb(t,o,e,r)}else{Yb(t,e,e,r);var i=Cwe(e);e.zrDelta=i?i/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&bwe.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function Cwe(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var a=Math.abs(n!==0?n:r),i=n>0?-1:n<0?1:r>0?-1:1;return 3*a*i}function qb(t,e,r,n){t.addEventListener(e,r,n)}function Ewe(t,e,r,n){t.removeEventListener(e,r,n)}var Ef=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function iA(t){return t.which===2||t.which===3}var Dwe=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var a=e.touches;if(a){for(var i={points:[],touches:[],target:r,event:e},o=0,s=a.length;o<s;o++){var u=a[o],l=Yb(n,u,{});i.points.push([l.zrX,l.zrY]),i.touches.push(u)}this._track.push(i)}},t.prototype._recognize=function(e){for(var r in aw)if(aw.hasOwnProperty(r)){var n=aw[r](this._track,e);if(n)return n}},t}();function oA(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function Owe(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var aw={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,a=(t[r-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=oA(n)/oA(a);!isFinite(i)&&(i=1),e.pinchScale=i;var o=Owe(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function nf(){return[1,0,0,1,0,0]}function lE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Mwe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function af(t,e,r){var n=e[0]*r[0]+e[2]*r[1],a=e[1]*r[0]+e[3]*r[1],i=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t}function Zb(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function cE(t,e,r,n){n===void 0&&(n=[0,0]);var a=e[0],i=e[2],o=e[4],s=e[1],u=e[3],l=e[5],f=Math.sin(r),c=Math.cos(r);return t[0]=a*c+s*f,t[1]=-a*f+s*c,t[2]=i*c+u*f,t[3]=-i*f+c*u,t[4]=c*(o-n[0])+f*(l-n[1])+n[0],t[5]=c*(l-n[1])-f*(o-n[0])+n[1],t}function Lwe(t,e,r){var n=r[0],a=r[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t}function fE(t,e){var r=e[0],n=e[2],a=e[4],i=e[1],o=e[3],s=e[5],u=r*o-i*n;return u?(u=1/u,t[0]=o*u,t[1]=-i*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*a)*u,t[5]=(i*a-r*s)*u,t):null}var Et=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,a){e.x=r.x+n.x*a,e.y=r.y+n.y*a},t.lerp=function(e,r,n,a){var i=1-a;e.x=i*r.x+a*n.x,e.y=i*r.y+a*n.y},t}(),Cg=Math.min,Eg=Math.max,bu=new Et,Tu=new Et,Cu=new Et,Eu=new Et,dh=new Et,gh=new Et,Dt=function(){function t(e,r,n,a){n<0&&(e=e+n,n=-n),a<0&&(r=r+a,a=-a),this.x=e,this.y=r,this.width=n,this.height=a}return t.prototype.union=function(e){var r=Cg(e.x,this.x),n=Cg(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Eg(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Eg(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,a=e.height/r.height,i=nf();return Zb(i,i,[-r.x,-r.y]),Lwe(i,i,[n,a]),Zb(i,i,[e.x,e.y]),i},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,a=n.x,i=n.x+n.width,o=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,f=e.y,c=e.y+e.height,h=!(i<u||l<a||s<f||c<o);if(r){var p=1/0,v=0,g=Math.abs(i-u),y=Math.abs(l-a),m=Math.abs(s-f),d=Math.abs(c-o),_=Math.min(g,y),x=Math.min(m,d);i<u||l<a?_>v&&(v=_,g<y?Et.set(gh,-g,0):Et.set(gh,y,0)):_<p&&(p=_,g<y?Et.set(dh,g,0):Et.set(dh,-y,0)),s<f||c<o?x>v&&(v=x,m<d?Et.set(gh,0,-m):Et.set(gh,0,d)):_<p&&(p=_,m<d?Et.set(dh,0,m):Et.set(dh,0,-d))}return r&&Et.copy(r,h?dh:gh),h},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],i=n[3],o=n[4],s=n[5];e.x=r.x*a+o,e.y=r.y*i+s,e.width=r.width*a,e.height=r.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}bu.x=Cu.x=r.x,bu.y=Eu.y=r.y,Tu.x=Eu.x=r.x+r.width,Tu.y=Cu.y=r.y+r.height,bu.transform(n),Eu.transform(n),Tu.transform(n),Cu.transform(n),e.x=Cg(bu.x,Tu.x,Cu.x,Eu.x),e.y=Cg(bu.y,Tu.y,Cu.y,Eu.y);var u=Eg(bu.x,Tu.x,Cu.x,Eu.x),l=Eg(bu.y,Tu.y,Cu.y,Eu.y);e.width=u-e.x,e.height=l-e.y},t}(),K8="silent";function kwe(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Rwe}}function Rwe(){Ef(this.event)}var Awe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ba),yh=function(){function t(e,r){this.x=e,this.y=r}return t}(),Nwe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],iw=new Dt(0,0,0,0),X8=function(t){Ce(e,t);function e(r,n,a,i,o){var s=t.call(this)||this;return s._hovered=new yh(0,0),s.storage=r,s.painter=n,s.painterRoot=i,s._pointerSize=o,a=a||new Awe,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new gwe(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(oe(Nwe,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,a=r.zrY,i=Y8(this,n,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=i?new yh(n,a):this.findHover(n,a),l=u.target,f=this.proxy;f.setCursor&&f.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==s&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new yh(0,0)},e.prototype.dispatch=function(r,n){var a=this[r];a&&a.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,a){r=r||{};var i=r.target;if(!(i&&i.silent)){for(var o="on"+n,s=kwe(n,r,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(n,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},e.prototype.findHover=function(r,n,a){var i=this.storage.getDisplayList(),o=new yh(r,n);if(sA(i,o,r,n,a),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,f=new Dt(r-l,n-l,u,u),c=i.length-1;c>=0;c--){var h=i[c];h!==a&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(iw.copy(h.getBoundingRect()),h.transform&&iw.applyTransform(h.transform),iw.intersect(f)&&s.push(h))}if(s.length)for(var p=4,v=Math.PI/12,g=Math.PI*2,y=0;y<l;y+=p)for(var m=0;m<g;m+=v){var d=r+y*Math.cos(m),_=n+y*Math.sin(m);if(sA(s,o,d,_,a),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new Dwe);var a=this._gestureMgr;n==="start"&&a.clear();var i=a.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&a.clear(),i){var o=i.type;r.gestureEvent=o;var s=new yh;s.target=i.target,this.dispatchToElement(s,o,i.event)}},e}(Ba);oe(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){X8.prototype[t]=function(e){var r=e.zrX,n=e.zrY,a=Y8(this,r,n),i,o;if((t!=="mouseup"||!a)&&(i=this.findHover(r,n),o=i.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||pwe(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}});function Fwe(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,a=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1}n.silent&&(a=!0);var s=n.__hostTarget;n=s||n.parent}return a?K8:!0}return!1}function sA(t,e,r,n,a){for(var i=t.length-1;i>=0;i--){var o=t[i],s=void 0;if(o!==a&&!o.ignore&&(s=Fwe(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==K8)){e.target=o;break}}}function Y8(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var q8=32,mh=7;function Bwe(t){for(var e=0;t>=q8;)e|=t&1,t>>=1;return t+e}function uA(t,e,r,n){var a=e+1;if(a===r)return 1;if(n(t[a++],t[e])<0){for(;a<r&&n(t[a],t[a-1])<0;)a++;Iwe(t,e,a)}else for(;a<r&&n(t[a],t[a-1])>=0;)a++;return a-e}function Iwe(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function lA(t,e,r,n,a){for(n===e&&n++;n<r;n++){for(var i=t[n],o=e,s=n,u;o<s;)u=o+s>>>1,a(i,t[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;l>0;)t[o+l]=t[o+l-1],l--}t[o]=i}}function ow(t,e,r,n,a,i){var o=0,s=0,u=1;if(i(t,e[r+a])>0){for(s=n-a;u<s&&i(t,e[r+a+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=a,u+=a}else{for(s=a+1;u<s&&i(t,e[r+a-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=a-u,u=a-l}for(o++;o<u;){var f=o+(u-o>>>1);i(t,e[r+f])>0?o=f+1:u=f}return u}function sw(t,e,r,n,a,i){var o=0,s=0,u=1;if(i(t,e[r+a])<0){for(s=a+1;u<s&&i(t,e[r+a-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=a-u,u=a-l}else{for(s=n-a;u<s&&i(t,e[r+a+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=a,u+=a}for(o++;o<u;){var f=o+(u-o>>>1);i(t,e[r+f])<0?u=f:o=f+1}return u}function Vwe(t,e){var r=mh,n,a,i=0,o=[];n=[],a=[];function s(p,v){n[i]=p,a[i]=v,i+=1}function u(){for(;i>1;){var p=i-2;if(p>=1&&a[p-1]<=a[p]+a[p+1]||p>=2&&a[p-2]<=a[p]+a[p-1])a[p-1]<a[p+1]&&p--;else if(a[p]>a[p+1])break;f(p)}}function l(){for(;i>1;){var p=i-2;p>0&&a[p-1]<a[p+1]&&p--,f(p)}}function f(p){var v=n[p],g=a[p],y=n[p+1],m=a[p+1];a[p]=g+m,p===i-3&&(n[p+1]=n[p+2],a[p+1]=a[p+2]),i--;var d=sw(t[y],t,v,g,0,e);v+=d,g-=d,g!==0&&(m=ow(t[v+g-1],t,y,m,m-1,e),m!==0&&(g<=m?c(v,g,y,m):h(v,g,y,m)))}function c(p,v,g,y){var m=0;for(m=0;m<v;m++)o[m]=t[p+m];var d=0,_=g,x=p;if(t[x++]=t[_++],--y===0){for(m=0;m<v;m++)t[x+m]=o[d+m];return}if(v===1){for(m=0;m<y;m++)t[x+m]=t[_+m];t[x+y]=o[d];return}for(var w=r,S,b,T;;){S=0,b=0,T=!1;do if(e(t[_],o[d])<0){if(t[x++]=t[_++],b++,S=0,--y===0){T=!0;break}}else if(t[x++]=o[d++],S++,b=0,--v===1){T=!0;break}while((S|b)<w);if(T)break;do{if(S=sw(t[_],o,d,v,0,e),S!==0){for(m=0;m<S;m++)t[x+m]=o[d+m];if(x+=S,d+=S,v-=S,v<=1){T=!0;break}}if(t[x++]=t[_++],--y===0){T=!0;break}if(b=ow(o[d],t,_,y,0,e),b!==0){for(m=0;m<b;m++)t[x+m]=t[_+m];if(x+=b,_+=b,y-=b,y===0){T=!0;break}}if(t[x++]=o[d++],--v===1){T=!0;break}w--}while(S>=mh||b>=mh);if(T)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),v===1){for(m=0;m<y;m++)t[x+m]=t[_+m];t[x+y]=o[d]}else{if(v===0)throw new Error;for(m=0;m<v;m++)t[x+m]=o[d+m]}}function h(p,v,g,y){var m=0;for(m=0;m<y;m++)o[m]=t[g+m];var d=p+v-1,_=y-1,x=g+y-1,w=0,S=0;if(t[x--]=t[d--],--v===0){for(w=x-(y-1),m=0;m<y;m++)t[w+m]=o[m];return}if(y===1){for(x-=v,d-=v,S=x+1,w=d+1,m=v-1;m>=0;m--)t[S+m]=t[w+m];t[x]=o[_];return}for(var b=r;;){var T=0,C=0,M=!1;do if(e(o[_],t[d])<0){if(t[x--]=t[d--],T++,C=0,--v===0){M=!0;break}}else if(t[x--]=o[_--],C++,T=0,--y===1){M=!0;break}while((T|C)<b);if(M)break;do{if(T=v-sw(o[_],t,p,v,v-1,e),T!==0){for(x-=T,d-=T,v-=T,S=x+1,w=d+1,m=T-1;m>=0;m--)t[S+m]=t[w+m];if(v===0){M=!0;break}}if(t[x--]=o[_--],--y===1){M=!0;break}if(C=y-ow(t[d],o,0,y,y-1,e),C!==0){for(x-=C,_-=C,y-=C,S=x+1,w=_+1,m=0;m<C;m++)t[S+m]=o[w+m];if(y<=1){M=!0;break}}if(t[x--]=t[d--],--v===0){M=!0;break}b--}while(T>=mh||C>=mh);if(M)break;b<0&&(b=0),b+=2}if(r=b,r<1&&(r=1),y===1){for(x-=v,d-=v,S=x+1,w=d+1,m=v-1;m>=0;m--)t[S+m]=t[w+m];t[x]=o[_]}else{if(y===0)throw new Error;for(w=x-(y-1),m=0;m<y;m++)t[w+m]=o[m]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:s}}function W0(t,e,r,n){r||(r=0),n||(n=t.length);var a=n-r;if(!(a<2)){var i=0;if(a<q8){i=uA(t,r,n,e),lA(t,r,n,r+i,e);return}var o=Vwe(t,e),s=Bwe(a);do{if(i=uA(t,r,n,e),i<s){var u=a;u>s&&(u=s),lA(t,r,r+u,r+i,e),i=u}o.pushRun(r,i),o.mergeRuns(),a-=i,r+=i}while(a!==0);o.forceMergeRuns()}}var Hi=1,H0=2,Jh=4,cA=!1;function uw(){cA||(cA=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function fA(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Pwe=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=fA}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,a=0,i=r.length;a<i;a++)this._updateAndAddDisplayable(r[a],null,e);n.length=this._displayListLen,W0(n,fA)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var a=e.getClipPath();if(e.ignoreClip)r=null;else if(a){r?r=r.slice():r=[];for(var i=a,o=e;i;)i.parent=o,i.updateTransform(),r.push(i),o=i,i=i.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var l=s[u];e.__dirty&&(l.__dirty|=Hi),this._updateAndAddDisplayable(l,r,n)}e.__dirty=0}else{var f=e;r&&r.length?f.__clipPaths=r:f.__clipPaths&&f.__clipPaths.length>0&&(f.__clipPaths=[]),isNaN(f.z)&&(uw(),f.z=0),isNaN(f.z2)&&(uw(),f.z2=0),isNaN(f.zlevel)&&(uw(),f.zlevel=0),this._displayList[this._displayListLen++]=f}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,r,n);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,r,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var a=St(this._roots,e);a>=0&&this._roots.splice(a,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Ky;Ky=Qe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Tp={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Tp.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?Tp.bounceIn(t*2)*.5:Tp.bounceOut(t*2-1)*.5+.5}},Dg=Math.pow,zs=Math.sqrt,Z8=1e-8,J8=1e-4,hA=zs(3),Og=1/3,Ii=Kf(),_a=Kf(),of=Kf();function As(t){return t>-1e-8&&t<Z8}function Q8(t){return t>Z8||t<-1e-8}function Jr(t,e,r,n,a){var i=1-a;return i*i*(i*t+3*a*e)+a*a*(a*n+3*i*r)}function pA(t,e,r,n,a){var i=1-a;return 3*(((e-t)*i+2*(r-e)*a)*i+(n-r)*a*a)}function Xy(t,e,r,n,a,i){var o=n+3*(e-r)-t,s=3*(r-e*2+t),u=3*(e-t),l=t-a,f=s*s-3*o*u,c=s*u-9*o*l,h=u*u-3*s*l,p=0;if(As(f)&&As(c))if(As(s))i[0]=0;else{var v=-u/s;v>=0&&v<=1&&(i[p++]=v)}else{var g=c*c-4*f*h;if(As(g)){var y=c/f,v=-s/o+y,m=-y/2;v>=0&&v<=1&&(i[p++]=v),m>=0&&m<=1&&(i[p++]=m)}else if(g>0){var d=zs(g),_=f*s+1.5*o*(-c+d),x=f*s+1.5*o*(-c-d);_<0?_=-Dg(-_,Og):_=Dg(_,Og),x<0?x=-Dg(-x,Og):x=Dg(x,Og);var v=(-s-(_+x))/(3*o);v>=0&&v<=1&&(i[p++]=v)}else{var w=(2*f*s-3*o*c)/(2*zs(f*f*f)),S=Math.acos(w)/3,b=zs(f),T=Math.cos(S),v=(-s-2*b*T)/(3*o),m=(-s+b*(T+hA*Math.sin(S)))/(3*o),C=(-s+b*(T-hA*Math.sin(S)))/(3*o);v>=0&&v<=1&&(i[p++]=v),m>=0&&m<=1&&(i[p++]=m),C>=0&&C<=1&&(i[p++]=C)}}return p}function ez(t,e,r,n,a){var i=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(As(o)){if(Q8(i)){var l=-s/i;l>=0&&l<=1&&(a[u++]=l)}}else{var f=i*i-4*o*s;if(As(f))a[0]=-i/(2*o);else if(f>0){var c=zs(f),l=(-i+c)/(2*o),h=(-i-c)/(2*o);l>=0&&l<=1&&(a[u++]=l),h>=0&&h<=1&&(a[u++]=h)}}return u}function qs(t,e,r,n,a,i){var o=(e-t)*a+t,s=(r-e)*a+e,u=(n-r)*a+r,l=(s-o)*a+o,f=(u-s)*a+s,c=(f-l)*a+l;i[0]=t,i[1]=o,i[2]=l,i[3]=c,i[4]=c,i[5]=f,i[6]=u,i[7]=n}function Uwe(t,e,r,n,a,i,o,s,u,l,f){var c,h=.005,p=1/0,v,g,y,m;Ii[0]=u,Ii[1]=l;for(var d=0;d<1;d+=.05)_a[0]=Jr(t,r,a,o,d),_a[1]=Jr(e,n,i,s,d),y=rf(Ii,_a),y<p&&(c=d,p=y);p=1/0;for(var _=0;_<32&&!(h<J8);_++)v=c-h,g=c+h,_a[0]=Jr(t,r,a,o,v),_a[1]=Jr(e,n,i,s,v),y=rf(_a,Ii),v>=0&&y<p?(c=v,p=y):(of[0]=Jr(t,r,a,o,g),of[1]=Jr(e,n,i,s,g),m=rf(of,Ii),g<=1&&m<p?(c=g,p=m):h*=.5);return zs(p)}function zwe(t,e,r,n,a,i,o,s,u){for(var l=t,f=e,c=0,h=1/u,p=1;p<=u;p++){var v=p*h,g=Jr(t,r,a,o,v),y=Jr(e,n,i,s,v),m=g-l,d=y-f;c+=Math.sqrt(m*m+d*d),l=g,f=y}return c}function Mn(t,e,r,n){var a=1-n;return a*(a*t+2*n*e)+n*n*r}function vA(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function Gwe(t,e,r,n,a){var i=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(As(i)){if(Q8(o)){var l=-s/o;l>=0&&l<=1&&(a[u++]=l)}}else{var f=o*o-4*i*s;if(As(f)){var l=-o/(2*i);l>=0&&l<=1&&(a[u++]=l)}else if(f>0){var c=zs(f),l=(-o+c)/(2*i),h=(-o-c)/(2*i);l>=0&&l<=1&&(a[u++]=l),h>=0&&h<=1&&(a[u++]=h)}}return u}function tz(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function Yy(t,e,r,n,a){var i=(e-t)*n+t,o=(r-e)*n+e,s=(o-i)*n+i;a[0]=t,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=r}function Wwe(t,e,r,n,a,i,o,s,u){var l,f=.005,c=1/0;Ii[0]=o,Ii[1]=s;for(var h=0;h<1;h+=.05){_a[0]=Mn(t,r,a,h),_a[1]=Mn(e,n,i,h);var p=rf(Ii,_a);p<c&&(l=h,c=p)}c=1/0;for(var v=0;v<32&&!(f<J8);v++){var g=l-f,y=l+f;_a[0]=Mn(t,r,a,g),_a[1]=Mn(e,n,i,g);var p=rf(_a,Ii);if(g>=0&&p<c)l=g,c=p;else{of[0]=Mn(t,r,a,y),of[1]=Mn(e,n,i,y);var m=rf(of,Ii);y<=1&&m<c?(l=y,c=m):f*=.5}}return zs(c)}function Hwe(t,e,r,n,a,i,o){for(var s=t,u=e,l=0,f=1/o,c=1;c<=o;c++){var h=c*f,p=Mn(t,r,a,h),v=Mn(e,n,i,h),g=p-s,y=v-u;l+=Math.sqrt(g*g+y*y),s=p,u=v}return l}var jwe=/cubic-bezier\(([0-9,\.e ]+)\)/;function rz(t){var e=t&&jwe.exec(t);if(e){var r=e[1].split(","),n=+Pi(r[0]),a=+Pi(r[1]),i=+Pi(r[2]),o=+Pi(r[3]);if(isNaN(n+a+i+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:Xy(0,n,i,1,u,s)&&Jr(0,a,o,1,s[0])}}}var $we=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Kr,this.ondestroy=e.ondestroy||Kr,this.onrestart=e.onrestart||Kr,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,a=e-this._startTime-this._pausedTime,i=a/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var u=a%n;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=et(e)?e:Tp[e]||rz(e)},t}(),nz=function(){function t(e){this.value=e}return t}(),Kwe=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new nz(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),pd=function(){function t(e){this._list=new Kwe,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,a=this._map,i=null;if(a[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete a[u.key],i=u.value,this._lastRemovedEntry=u}s?s.value=r:s=new nz(r),s.key=e,n.insertEntry(s),a[e]=s}return i},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),dA={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ii(t){return t=Math.round(t),t<0?0:t>255?255:t}function Xwe(t){return t=Math.round(t),t<0?0:t>360?360:t}function yv(t){return t<0?0:t>1?1:t}function lw(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?ii(parseFloat(e)/100*255):ii(parseInt(e,10))}function _l(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?yv(parseFloat(e)/100):yv(parseFloat(e))}function cw(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function Ns(t,e,r){return t+(e-t)*r}function ha(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function Jb(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var az=new pd(20),Mg=null;function uc(t,e){Mg&&Jb(Mg,e),Mg=az.put(t,Mg||e.slice())}function Ma(t,e){if(t){e=e||[];var r=az.get(t);if(r)return Jb(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in dA)return Jb(e,dA[n]),uc(t,e),e;var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){ha(e,0,0,0,1);return}return ha(e,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(n.slice(4),16)/15:1),uc(t,e),e}else if(a===7||a===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){ha(e,0,0,0,1);return}return ha(e,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(n.slice(7),16)/255:1),uc(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===a){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),f=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?ha(e,+l[0],+l[1],+l[2],1):ha(e,0,0,0,1);f=_l(l.pop());case"rgb":if(l.length>=3)return ha(e,lw(l[0]),lw(l[1]),lw(l[2]),l.length===3?f:_l(l[3])),uc(t,e),e;ha(e,0,0,0,1);return;case"hsla":if(l.length!==4){ha(e,0,0,0,1);return}return l[3]=_l(l[3]),Qb(l,e),uc(t,e),e;case"hsl":if(l.length!==3){ha(e,0,0,0,1);return}return Qb(l,e),uc(t,e),e;default:return}}ha(e,0,0,0,1)}}function Qb(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=_l(t[1]),a=_l(t[2]),i=a<=.5?a*(n+1):a+n-a*n,o=a*2-i;return e=e||[],ha(e,ii(cw(o,i,r+1/3)*255),ii(cw(o,i,r)*255),ii(cw(o,i,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function Ywe(t){if(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=i-a,s=(i+a)/2,u,l;if(o===0)u=0,l=0;else{s<.5?l=o/(i+a):l=o/(2-i-a);var f=((i-e)/6+o/2)/o,c=((i-r)/6+o/2)/o,h=((i-n)/6+o/2)/o;e===i?u=h-c:r===i?u=1/3+f-h:n===i&&(u=2/3+c-f),u<0&&(u+=1),u>1&&(u-=1)}var p=[u*360,l,s];return t[3]!=null&&p.push(t[3]),p}}function gA(t,e){var r=Ma(t);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-e)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Po(r,r.length===4?"rgba":"rgb")}}function fw(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var n=t*(e.length-1),a=Math.floor(n),i=Math.ceil(n),o=e[a],s=e[i],u=n-a;return r[0]=ii(Ns(o[0],s[0],u)),r[1]=ii(Ns(o[1],s[1],u)),r[2]=ii(Ns(o[2],s[2],u)),r[3]=yv(Ns(o[3],s[3],u)),r}}function qwe(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),a=Math.floor(n),i=Math.ceil(n),o=Ma(e[a]),s=Ma(e[i]),u=n-a,l=Po([ii(Ns(o[0],s[0],u)),ii(Ns(o[1],s[1],u)),ii(Ns(o[2],s[2],u)),yv(Ns(o[3],s[3],u))],"rgba");return r?{color:l,leftIndex:a,rightIndex:i,value:n}:l}}function hw(t,e,r,n){var a=Ma(t);if(t)return a=Ywe(a),e!=null&&(a[0]=Xwe(e)),r!=null&&(a[1]=_l(r)),n!=null&&(a[2]=_l(n)),Po(Qb(a),"rgba")}function Zwe(t,e){var r=Ma(t);if(r&&e!=null)return r[3]=yv(e),Po(r,"rgba")}function Po(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function qy(t,e){var r=Ma(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var yA=new pd(100);function mA(t){if(Ie(t)){var e=yA.get(t);return e||(e=gA(t,-.1),yA.put(t,e)),e}else if(O1(t)){var r=Me({},t);return r.colorStops=Ne(t.colorStops,function(n){return{offset:n.offset,color:gA(n.color,-.1)}}),r}return t}function Jwe(t){return t.type==="linear"}function Qwe(t){return t.type==="radial"}(function(){return Qe.hasGlobalWindow&&et(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var eT=Array.prototype.slice;function yo(t,e,r){return(e-t)*r+t}function pw(t,e,r,n){for(var a=e.length,i=0;i<a;i++)t[i]=yo(e[i],r[i],n);return t}function eSe(t,e,r,n){for(var a=e.length,i=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=yo(e[o][s],r[o][s],n)}return t}function Lg(t,e,r,n){for(var a=e.length,i=0;i<a;i++)t[i]=e[i]+r[i]*n;return t}function _A(t,e,r,n){for(var a=e.length,i=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function tSe(t,e){for(var r=t.length,n=e.length,a=r>n?e:t,i=Math.min(r,n),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(r,n);s++)a.push({offset:o.offset,color:o.color.slice()})}function rSe(t,e,r){var n=t,a=e;if(!(!n.push||!a.push)){var i=n.length,o=a.length;if(i!==o){var s=i>o;if(s)n.length=o;else for(var u=i;u<o;u++)n.push(r===1?a[u]:eT.call(a[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(r===1)isNaN(n[u])&&(n[u]=a[u]);else for(var f=0;f<l;f++)isNaN(n[u][f])&&(n[u][f]=a[u][f])}}function j0(t){if(zn(t)){var e=t.length;if(zn(t[0])){for(var r=[],n=0;n<e;n++)r.push(eT.call(t[n]));return r}return eT.call(t)}return t}function $0(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function nSe(t){return zn(t&&t[0])?2:1}var kg=0,K0=1,iz=2,Qh=3,tT=4,rT=5,xA=6;function wA(t){return t===tT||t===rT}function Rg(t){return t===K0||t===iz}var _h=[0,0,0,0],aSe=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=xA,u=r;if(zn(r)){var l=nSe(r);s=l,(l===1&&!rr(r[0])||l===2&&!rr(r[0][0]))&&(o=!0)}else if(rr(r)&&!$y(r))s=kg;else if(Ie(r))if(!isNaN(+r))s=kg;else{var f=Ma(r);f&&(u=f,s=Qh)}else if(O1(r)){var c=Me({},u);c.colorStops=Ne(r.colorStops,function(p){return{offset:p.offset,color:Ma(p.color)}}),Jwe(r)?s=tT:Qwe(r)&&(s=rT),u=c}i===0?this.valType=s:(s!==this.valType||s===xA)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:u,rawValue:r,percent:0};return n&&(h.easing=n,h.easingFunc=et(n)?n:Tp[n]||rz(n)),a.push(h),h},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,y){return g.time-y.time});for(var a=this.valType,i=n.length,o=n[i-1],s=this.discrete,u=Rg(a),l=wA(a),f=0;f<i;f++){var c=n[f],h=c.value,p=o.value;c.percent=c.time/e,s||(u&&f!==i-1?rSe(h,p,a):l&&tSe(h.colorStops,p.colorStops))}if(!s&&a!==rT&&r&&this.needsAnimate()&&r.needsAnimate()&&a===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,f=0;f<i;f++)a===kg?n[f].additiveValue=n[f].value-v:a===Qh?n[f].additiveValue=Lg([],n[f].value,v,-1):Rg(a)&&(n[f].additiveValue=a===K0?Lg([],n[f].value,v,-1):_A([],n[f].value,v,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,a=n?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=i===Qh,f,c=this._lastFr,h=Math.min,p,v;if(s===1)p=v=o[0];else{if(r<0)f=0;else if(r<this._lastFrP){var g=h(c+1,s-1);for(f=g;f>=0&&!(o[f].percent<=r);f--);f=h(f,s-2)}else{for(f=c;f<s&&!(o[f].percent>r);f++);f=h(f-1,s-2)}v=o[f+1],p=o[f]}if(p&&v){this._lastFr=f,this._lastFrP=r;var y=v.percent-p.percent,m=y===0?1:h((r-p.percent)/y,1);v.easingFunc&&(m=v.easingFunc(m));var d=n?this._additiveValue:l?_h:e[u];if((Rg(i)||l)&&!d&&(d=this._additiveValue=[]),this.discrete)e[u]=m<1?p.rawValue:v.rawValue;else if(Rg(i))i===K0?pw(d,p[a],v[a],m):eSe(d,p[a],v[a],m);else if(wA(i)){var _=p[a],x=v[a],w=i===tT;e[u]={type:w?"linear":"radial",x:yo(_.x,x.x,m),y:yo(_.y,x.y,m),colorStops:Ne(_.colorStops,function(b,T){var C=x.colorStops[T];return{offset:yo(b.offset,C.offset,m),color:$0(pw([],b.color,C.color,m))}}),global:x.global},w?(e[u].x2=yo(_.x2,x.x2,m),e[u].y2=yo(_.y2,x.y2,m)):e[u].r=yo(_.r,x.r,m)}else if(l)pw(d,p[a],v[a],m),n||(e[u]=$0(d));else{var S=yo(p[a],v[a],m);n?this._additiveValue=S:e[u]=S}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,a=this._additiveValue;r===kg?e[n]=e[n]+a:r===Qh?(Ma(e[n],_h),Lg(_h,_h,a,1),e[n]=$0(_h)):r===K0?Lg(e[n],e[n],a,1):r===iz&&_A(e[n],e[n],a,1)},t}(),hE=function(){function t(e,r,n,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&a){oE("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,tr(r),n)},t.prototype.whenWithKeys=function(e,r,n,a){for(var i=this._tracks,o=0;o<n.length;o++){var s=n[o],u=i[s];if(!u){u=i[s]=new aSe(s);var l=void 0,f=this._getAdditiveTrack(s);if(f){var c=f.keyframes,h=c[c.length-1];l=h&&h.value,f.valType===Qh&&l&&(l=$0(l))}else l=this._target[s];if(l==null)continue;e>0&&u.addKeyframe(0,j0(l),a),this._trackKeys.push(s)}u.addKeyframe(e,j0(r[s]),a)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var a=0;a<n.length;a++){var i=n[a].getTrack(e);i&&(r=i)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,f=l.length;if(s.prepare(a,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var c=l[f-1];c&&(r._target[s.propName]=c.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new $we({life:a,loop:this._loop,delay:this._delay||0,onframe:function(p){r._started=2;var v=r._additiveAnimators;if(v){for(var g=!1,y=0;y<v.length;y++)if(v[y]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(r._target,p);var m=r._onframeCbs;if(m)for(var y=0;y<m.length;y++)m[y](r._target,p)},ondestroy:function(){r._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Ne(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,a=this._trackKeys,i=0;i<e.length;i++){var o=n[e[i]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!n[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var a=0;a<r.length;a++){var i=r[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(e[i]=j0(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||tr(e);for(var n=0;n<r.length;n++){var a=r[n],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,e[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t}();function Gc(){return new Date().getTime()}var iSe=function(t){Ce(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,a=r.next;n?n.next=a:this._head=a,a?a.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=Gc()-this._pausedTime,a=n-this._time,i=this._head;i;){var o=i.next,s=i.step(n,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=n,r||(this.trigger("frame",a),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Ky(n),!r._paused&&r.update())}Ky(n)},e.prototype.start=function(){this._running||(this._time=Gc(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Gc(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Gc()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var a=new hE(r,n.loop);return this.addAnimator(a),a},e}(Ba),oSe=300,vw=Qe.domSupported,dw=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Ne(t,function(a){var i=a.replace("mouse","pointer");return r.hasOwnProperty(i)?i:a});return{mouse:t,touch:e,pointer:n}}(),SA={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},bA=!1;function nT(t){var e=t.pointerType;return e==="pen"||e==="touch"}function sSe(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function gw(t){t&&(t.zrByTouch=!0)}function uSe(t,e){return da(t.dom,new lSe(t,e),!0)}function oz(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var lSe=function(){function t(e,r){this.stopPropagation=Kr,this.stopImmediatePropagation=Kr,this.preventDefault=Kr,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),Ya={mousedown:function(t){t=da(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=da(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=da(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=da(this.dom,t);var e=t.toElement||t.relatedTarget;oz(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){bA=!0,t=da(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){bA||(t=da(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=da(this.dom,t),gw(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Ya.mousemove.call(this,t),Ya.mousedown.call(this,t)},touchmove:function(t){t=da(this.dom,t),gw(t),this.handler.processGesture(t,"change"),Ya.mousemove.call(this,t)},touchend:function(t){t=da(this.dom,t),gw(t),this.handler.processGesture(t,"end"),Ya.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<oSe&&Ya.click.call(this,t)},pointerdown:function(t){Ya.mousedown.call(this,t)},pointermove:function(t){nT(t)||Ya.mousemove.call(this,t)},pointerup:function(t){Ya.mouseup.call(this,t)},pointerout:function(t){nT(t)||Ya.mouseout.call(this,t)}};oe(["click","dblclick","contextmenu"],function(t){Ya[t]=function(e){e=da(this.dom,e),this.trigger(t,e)}});var aT={pointermove:function(t){nT(t)||aT.mousemove.call(this,t)},pointerup:function(t){aT.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function cSe(t,e){var r=e.domHandlers;Qe.pointerEventsSupported?oe(dw.pointer,function(n){X0(e,n,function(a){r[n].call(t,a)})}):(Qe.touchEventsSupported&&oe(dw.touch,function(n){X0(e,n,function(a){r[n].call(t,a),sSe(e)})}),oe(dw.mouse,function(n){X0(e,n,function(a){a=uE(a),e.touching||r[n].call(t,a)})}))}function fSe(t,e){Qe.pointerEventsSupported?oe(SA.pointer,r):Qe.touchEventsSupported||oe(SA.mouse,r);function r(n){function a(i){i=uE(i),oz(t,i.target)||(i=uSe(t,i),e.domHandlers[n].call(t,i))}X0(e,n,a,{capture:!0})}}function X0(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,qb(t.domTarget,e,r,n)}function yw(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&Ewe(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var TA=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),hSe=function(t){Ce(e,t);function e(r,n){var a=t.call(this)||this;return a.__pointerCapturing=!1,a.dom=r,a.painterRoot=n,a._localHandlerScope=new TA(r,Ya),vw&&(a._globalHandlerScope=new TA(document,aT)),cSe(a,a._localHandlerScope),a}return e.prototype.dispose=function(){yw(this._localHandlerScope),vw&&yw(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,vw&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?fSe(this,n):yw(n)}},e}(Ba),sz=1;Qe.hasGlobalWindow&&(sz=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Zy=sz,iT=.4,oT="#333",sT="#ccc",pSe="#eee",CA=lE,vSe=5e-5;function Du(t){return t>vSe||t<-5e-5}var Ou=[],lc=[],mw=nf(),_w=Math.abs,L1=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Du(this.rotation)||Du(this.x)||Du(this.y)||Du(this.scaleX-1)||Du(this.scaleY-1)||Du(this.skewX)||Du(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(CA(n),this.invTransform=null);return}n=n||nf(),r?this.getLocalTransform(n):CA(n),e&&(r?af(n,e,n):Mwe(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Ou);var n=Ou[0]<0?-1:1,a=Ou[1]<0?-1:1,i=((Ou[0]-n)*r+n)/Ou[0]||0,o=((Ou[1]-a)*r+a)/Ou[1]||0;e[0]*=i,e[1]*=i,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||nf(),fE(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],a=Math.atan2(e[1],e[0]),i=Math.PI/2+a-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),r=Math.sqrt(r),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||nf(),af(lc,e.invTransform,r),r=lc);var n=this.originX,a=this.originY;(n||a)&&(mw[4]=n,mw[5]=a,af(lc,r,mw),lc[4]-=n,lc[5]-=a,r=lc),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],a=this.invTransform;return a&&Oa(n,n,a),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],a=this.transform;return a&&Oa(n,n,a),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&_w(e[0]-1)>1e-10&&_w(e[3]-1)>1e-10?Math.sqrt(_w(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){dSe(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,a=e.originY||0,i=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,f=e.x,c=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||a||s||u){var v=n+s,g=a+u;r[4]=-v*i-h*g*o,r[5]=-g*o-p*v*i}else r[4]=r[5]=0;return r[0]=i,r[3]=o,r[1]=p*i,r[2]=h*o,l&&cE(r,r,l),r[4]+=n+f,r[5]+=a+c,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),mv=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function dSe(t,e){for(var r=0;r<mv.length;r++){var n=mv[r];t[n]=e[n]}}var EA={};function ta(t,e){e=e||Ul;var r=EA[e];r||(r=EA[e]=new pd(500));var n=r.get(t);return n==null&&(n=jf.measureText(t,e).width,r.put(t,n)),n}function DA(t,e,r,n){var a=ta(t,e),i=pE(e),o=ep(0,a,r),s=kc(0,i,n),u=new Dt(o,s,a,i);return u}function k1(t,e,r,n){var a=((t||"")+"").split(`
`),i=a.length;if(i===1)return DA(a[0],e,r,n);for(var o=new Dt(0,0,0,0),s=0;s<a.length;s++){var u=DA(a[s],e,r,n);s===0?o.copy(u):o.union(u)}return o}function ep(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function kc(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function pE(t){return ta("国",t)}function Zs(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Jy(t,e,r){var n=e.position||"inside",a=e.distance!=null?e.distance:5,i=r.height,o=r.width,s=i/2,u=r.x,l=r.y,f="left",c="top";if(n instanceof Array)u+=Zs(n[0],r.width),l+=Zs(n[1],r.height),f=null,c=null;else switch(n){case"left":u-=a,l+=s,f="right",c="middle";break;case"right":u+=a+o,l+=s,c="middle";break;case"top":u+=o/2,l-=a,f="center",c="bottom";break;case"bottom":u+=o/2,l+=i+a,f="center";break;case"inside":u+=o/2,l+=s,f="center",c="middle";break;case"insideLeft":u+=a,l+=s,c="middle";break;case"insideRight":u+=o-a,l+=s,f="right",c="middle";break;case"insideTop":u+=o/2,l+=a,f="center";break;case"insideBottom":u+=o/2,l+=i-a,f="center",c="bottom";break;case"insideTopLeft":u+=a,l+=a;break;case"insideTopRight":u+=o-a,l+=a,f="right";break;case"insideBottomLeft":u+=a,l+=i-a,c="bottom";break;case"insideBottomRight":u+=o-a,l+=i-a,f="right",c="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=f,t.verticalAlign=c,t}var xw="__zr_normal__",ww=mv.concat(["ignore"]),gSe=$f(mv,function(t,e){return t[e]=!0,t},{ignore:!1}),cc={},ySe=new Dt(0,0,0,0),R1=function(){function t(e){this.id=z8(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=e,a[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,a=n.local,i=r.innerTransformable,o=void 0,s=void 0,u=!1;i.parent=a?this:null;var l=!1;if(i.copyTransform(r),n.position!=null){var f=ySe;n.layoutRect?f.copy(n.layoutRect):f.copy(this.getBoundingRect()),a||f.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(cc,n,f):Jy(cc,n,f),i.x=cc.x,i.y=cc.y,o=cc.align,s=cc.verticalAlign;var c=n.origin;if(c&&n.rotation!=null){var h=void 0,p=void 0;c==="center"?(h=f.width*.5,p=f.height*.5):(h=Zs(c[0],f.width),p=Zs(c[1],f.height)),l=!0,i.originX=-i.x+h+(a?0:f.x),i.originY=-i.y+p+(a?0:f.y)}}n.rotation!=null&&(i.rotation=n.rotation);var v=n.offset;v&&(i.x+=v[0],i.y+=v[1],l||(i.originX=-v[0],i.originY=-v[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,d=void 0,_=void 0;g&&this.canBeInsideText()?(m=n.insideFill,d=n.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(d==null||d==="auto")&&(d=this.getInsideTextStroke(m),_=!0)):(m=n.outsideFill,d=n.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(d==null||d==="auto")&&(d=this.getOutsideStroke(m),_=!0)),m=m||"#000",(m!==y.fill||d!==y.stroke||_!==y.autoStroke||o!==y.align||s!==y.verticalAlign)&&(u=!0,y.fill=m,y.stroke=d,y.autoStroke=_,y.align=o,y.verticalAlign=s,r.setDefaultTextStyle(y)),r.__dirty|=Hi,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?sT:oT},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Ma(r);n||(n=[255,255,255,1]);for(var a=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*a+(i?0:255)*(1-a);return n[3]=1,Po(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Me(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(Ue(e))for(var n=e,a=tr(n),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var a=this.animators[n],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==xw)){var o=a.targetName,s=o?r[o]:r;a.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,ww)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var a=0;a<n.length;a++){var i=n[a];e[i]!=null&&!(i in r)&&(r[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(xw,!1,e)},t.prototype.useState=function(e,r,n,a){var i=e===xw,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,u=this.stateTransition;if(!(St(s,e)>=0&&(r||s.length===1))){var l;if(this.stateProxy&&!i&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!i){oE("State "+e+" not exists.");return}i||this.saveCurrentToNormalState(l);var f=!!(l&&l.hoverLayer||a);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!n&&!this.__inHover&&u&&u.duration>0,u);var c=this._textContent,h=this._textGuide;return c&&c.useState(e,r,n,f),h&&h.useState(e,r,n,f),i?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var a=[],i=this.currentStates,o=e.length,s=o===i.length;if(s){for(var u=0;u<o;u++)if(e[u]!==i[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=e[u],f=void 0;this.stateProxy&&(f=this.stateProxy(l,e)),f||(f=this.states[l]),f&&a.push(f)}var c=a[o-1],h=!!(c&&c.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(a),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,y=this._textGuide;g&&g.useStates(e,r,h),y&&y.useStates(e,r,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},t.prototype.isSilent=function(){for(var e=this.silent,r=this.parent;!e&&r;){if(r.silent){e=!0;break}r=r.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=St(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var a=this.currentStates.slice(),i=St(a,e),o=St(a,r)>=0;i>=0?o?a.splice(i,1):a[i]=r:n&&!o&&a.push(r),this.useStates(a)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,a=0;a<e.length;a++){var i=e[a];Me(r,i),i.textConfig&&(n=n||{},Me(n,i.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,a,i,o){var s=!(r&&a);r&&r.textConfig?(this.textConfig=Me({},a?this.textConfig:n.textConfig),Me(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,f=0;f<ww.length;f++){var c=ww[f],h=i&&gSe[c];r&&r[c]!=null?h?(l=!0,u[c]=r[c]):this[c]=r[c]:s&&n[c]!=null&&(h?(l=!0,u[c]=n[c]):this[c]=n[c])}if(!i)for(var f=0;f<this.animators.length;f++){var p=this.animators[f],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(r||n)[v]:r||n)}l&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new L1,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Me(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Hi;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var a=e?this[e]:this,i=new hE(a,r,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},t.prototype.addAnimator=function(e,r){var n=this.__zr,a=this;e.during(function(){a.updateDuringAnimation(r)}).done(function(){var i=a.animators,o=St(i,e);o>=0&&i.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,a=n.length,i=[],o=0;o<a;o++){var s=n[o];!e||e===s.scope?s.stop(r):i.push(s)}return this.animators=i,this},t.prototype.animateTo=function(e,r,n){Sw(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){Sw(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,a){for(var i=Sw(this,r,n,a),o=0;o<i.length;o++)i[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Hi;function r(n,a,i,o){Object.defineProperty(e,n,{get:function(){if(!this[a]){var u=this[a]=[];s(this,u)}return this[a]},set:function(u){this[i]=u[0],this[o]=u[1],this[a]=u,s(this,u)}});function s(u,l){Object.defineProperty(l,0,{get:function(){return u[i]},set:function(f){u[i]=f}}),Object.defineProperty(l,1,{get:function(){return u[o]},set:function(f){u[o]=f}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();di(R1,Ba);di(R1,L1);function Sw(t,e,r,n,a){r=r||{};var i=[];uz(t,"",t,e,r,n,i,a);var o=i.length,s=!1,u=r.done,l=r.aborted,f=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},c=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),i.length>0&&r.during&&i[0].during(function(v,g){r.during(g)});for(var h=0;h<i.length;h++){var p=i[h];f&&p.done(f),c&&p.aborted(c),r.force&&p.duration(r.duration),p.start(r.easing)}return i}function bw(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function mSe(t){return zn(t[0])}function _Se(t,e,r){if(zn(e[r]))if(zn(t[r])||(t[r]=[]),Gn(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),bw(t[r],e[r],n))}else{var a=e[r],i=t[r],o=a.length;if(mSe(a))for(var s=a[0].length,u=0;u<o;u++)i[u]?bw(i[u],a[u],s):i[u]=Array.prototype.slice.call(a[u]);else bw(i,a,o);i.length=a.length}else t[r]=e[r]}function xSe(t,e){return t===e||zn(t)&&zn(e)&&wSe(t,e)}function wSe(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function uz(t,e,r,n,a,i,o,s){for(var u=tr(n),l=a.duration,f=a.delay,c=a.additive,h=a.setToFinal,p=!Ue(i),v=t.animators,g=[],y=0;y<u.length;y++){var m=u[y],d=n[m];if(d!=null&&r[m]!=null&&(p||i[m]))if(Ue(d)&&!zn(d)&&!O1(d)){if(e){s||(r[m]=d,t.updateDuringAnimation(e));continue}uz(t,m,r[m],d,a,i&&i[m],o,s)}else g.push(m);else s||(r[m]=d,t.updateDuringAnimation(e),g.push(m))}var _=g.length;if(!c&&_)for(var x=0;x<v.length;x++){var w=v[x];if(w.targetName===e){var S=w.stopTracks(g);if(S){var b=St(v,w);v.splice(b,1)}}}if(a.force||(g=Mr(g,function(D){return!xSe(n[D],r[D])}),_=g.length),_>0||a.force&&!o.length){var T=void 0,C=void 0,M=void 0;if(s){C={},h&&(T={});for(var x=0;x<_;x++){var m=g[x];C[m]=r[m],h?T[m]=n[m]:r[m]=n[m]}}else if(h){M={};for(var x=0;x<_;x++){var m=g[x];M[m]=j0(r[m]),_Se(r,n,m)}}var w=new hE(r,!1,!1,c?Mr(v,function(E){return E.targetName===e}):null);w.targetName=e,a.scope&&(w.scope=a.scope),h&&T&&w.whenWithKeys(0,T,g),M&&w.whenWithKeys(0,M,g),w.whenWithKeys(l??500,s?C:n,g).delay(f||0),t.addAnimator(w,e),o.push(w)}}var yr=function(t){Ce(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,a=0;a<n.length;a++)if(n[a].name===r)return n[a]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var a=this._children,i=a.indexOf(n);i>=0&&(a.splice(i,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var a=St(this._children,r);return a>=0&&this.replaceAt(n,a),this},e.prototype.replaceAt=function(r,n){var a=this._children,i=a[n];if(r&&r!==this&&r.parent!==this&&r!==i){a[n]=r,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,a=this._children,i=St(a,r);return i<0?this:(a.splice(i,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,a=0;a<r.length;a++){var i=r[a];n&&i.removeSelfFromZr(n),i.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];r.call(n,o,i)}return this},e.prototype.traverse=function(r,n){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=r.call(n,i);i.isGroup&&!o&&i.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Dt(0,0,0,0),a=r||this._children,i=[],o=null,s=0;s<a.length;s++){var u=a[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),f=u.getLocalTransform(i);f?(Dt.applyTransform(n,l,f),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},e}(R1);yr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Y0={},lz={};function SSe(t){delete lz[t]}function bSe(t){if(!t)return!1;if(typeof t=="string")return qy(t,1)<iT;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,a=0;a<n;a++)r+=qy(e[a].color,1);return r/=n,r<iT}return!1}var TSe=function(){function t(e,r,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var i=new Pwe,o=n.renderer||"canvas";Y0[o]||(o=tr(Y0)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new Y0[o](r,i,n,e),u=n.ssr||s.ssrOnly;this.storage=i,this.painter=s;var l=!Qe.node&&!Qe.worker&&!u?new hSe(s.getViewportRoot(),s.root):null,f=n.useCoarsePointer,c=f==null||f==="auto"?Qe.touchEventsSupported:!!f,h=44,p;c&&(p=pt(n.pointerSize,h)),this.handler=new X8(i,s,l,s.root,p),this.animation=new iSe({stage:{update:u?null:function(){return a._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=bSe(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=Gc();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var a=Gc();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof yr&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,SSe(this.id))},t}();function OA(t,e){var r=new TSe(z8(),t,e);return lz[r.id]=r,r}function CSe(t,e){Y0[t]=e}var ESe=1e-4,cz=20;function DSe(t){return t.replace(/^\s+|\s+$/g,"")}function Sr(t,e,r,n){var a=e[0],i=e[1],o=r[0],s=r[1],u=i-a,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(t<=a)return o;if(t>=i)return s}else{if(t>=a)return o;if(t<=i)return s}else{if(t===a)return o;if(t===i)return s}return(t-a)/u*l+o}function Lr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Ie(t)?DSe(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Ar(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),cz),t=(+t).toFixed(e),r?t:+t}function tp(t){return t.sort(function(e,r){return e-r}),t}function ko(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return OSe(t)}function OSe(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,a=r>0?r:e.length,i=e.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-n)}function fz(t,e){var r=Math.log,n=Math.LN10,a=Math.floor(r(t[1]-t[0])/n),i=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function MSe(t,e){var r=Math.max(ko(t),ko(e)),n=t+e;return r>cz?n:Ar(n,r)}function hz(t){var e=Math.PI*2;return(t%e+e)%e}function Qy(t){return t>-1e-4&&t<ESe}var LSe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ho(t){if(t instanceof Date)return t;if(Ie(t)){var e=LSe.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function kSe(t){return Math.pow(10,vE(t))}function vE(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function pz(t,e){var r=vE(t),n=Math.pow(10,r),a=t/n,i;return a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10,t=i*n,r>=-20?+t.toFixed(r<0?-r:0):t}function em(t){var e=parseFloat(t);return e==t&&(e!==0||!Ie(t)||t.indexOf("x")<=0)?e:NaN}function RSe(t){return!isNaN(em(t))}function vz(){return Math.round(Math.random()*9)}function dz(t,e){return e===0?t:dz(e,t%e)}function MA(t,e){return t==null?e:e==null?t:t*e/dz(t,e)}function Ln(t){throw new Error(t)}function LA(t,e,r){return(e-t)*r+t}var gz="series\0",yz="\0_ec_\0";function Tr(t){return t instanceof Array?t:t==null?[]:[t]}function kA(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,a=r.length;n<a;n++){var i=r[n];!t.emphasis[e].hasOwnProperty(i)&&t[e].hasOwnProperty(i)&&(t.emphasis[e][i]=t[e][i])}}}var RA=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function vd(t){return Ue(t)&&!Le(t)&&!(t instanceof Date)?t.value:t}function ASe(t){return Ue(t)&&!(t instanceof Array)}function NSe(t,e,r){var n=r==="normalMerge",a=r==="replaceMerge",i=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=Xe();oe(e,function(u,l){if(!Ue(u)){e[l]=null;return}});var s=FSe(t,o,r);return(n||a)&&BSe(s,t,o,e),n&&ISe(s,e),n||a?VSe(s,e,a):i&&PSe(s,e),USe(s),s}function FSe(t,e,r){var n=[];if(r==="replaceAll")return n;for(var a=0;a<t.length;a++){var i=t[a];i&&i.id!=null&&e.set(i.id,a),n.push({existing:r==="replaceMerge"||_v(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function BSe(t,e,r,n){oe(n,function(a,i){if(!(!a||a.id==null)){var o=Cp(a.id),s=r.get(o);if(s!=null){var u=t[s];ui(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=a,u.existing=e[s],n[i]=null}}})}function ISe(t,e){oe(e,function(r,n){if(!(!r||r.name==null))for(var a=0;a<t.length;a++){var i=t[a].existing;if(!t[a].newOption&&i&&(i.id==null||r.id==null)&&!_v(r)&&!_v(i)&&mz("name",i,r)){t[a].newOption=r,e[n]=null;return}}})}function VSe(t,e,r){oe(e,function(n){if(n){for(var a,i=0;(a=t[i])&&(a.newOption||_v(a.existing)||a.existing&&n.id!=null&&!mz("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),i++}})}function PSe(t,e){oe(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function USe(t){var e=Xe();oe(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),oe(t,function(r){var n=r.newOption;ui(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),oe(t,function(r,n){var a=r.existing,i=r.newOption,o=r.keyInfo;if(Ue(i)){if(o.name=i.name!=null?Cp(i.name):a?a.name:gz+n,a)o.id=Cp(a.id);else if(i.id!=null)o.id=Cp(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function mz(t,e,r){var n=ji(e[t],null),a=ji(r[t],null);return n!=null&&a!=null&&n===a}function Cp(t){return ji(t,"")}function ji(t,e){return t==null?e:Ie(t)?t:rr(t)||Hb(t)?t+"":e}function dE(t){var e=t.name;return!!(e&&e.indexOf(gz))}function _v(t){return t&&t.id!=null&&Cp(t.id).indexOf(yz)===0}function zSe(t){return yz+t}function GSe(t,e,r){oe(t,function(n){var a=n.newOption;Ue(a)&&(n.keyInfo.mainType=e,n.keyInfo.subType=WSe(e,a,n.existing,r))})}function WSe(t,e,r,n){var a=e.type?e.type:r?r.subType:n.determineSubType(t,e);return a}function Gl(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Le(e.dataIndex)?Ne(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Le(e.name)?Ne(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function _r(){var t="__ec_inner_"+HSe++;return function(e){return e[t]||(e[t]={})}}var HSe=vz();function Ep(t,e,r){var n=gE(e,r),a=n.mainTypeSpecified,i=n.queryOptionMap,o=n.others,s=o,u=r?r.defaultMainType:null;return!a&&u&&i.set(u,{}),i.each(function(l,f){var c=dd(t,f,l,{useDefault:u===f,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[f+"Models"]=c.models,s[f+"Model"]=c.models[0]}),s}function gE(t,e){var r;if(Ie(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var a=Xe(),i={},o=!1;return oe(r,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){i[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],f=l[1],c=(l[2]||"").toLowerCase();if(!(!f||!c||e&&e.includeMainTypes&&St(e.includeMainTypes,f)<0)){o=o||!!f;var h=a.get(f)||a.set(f,{});h[c]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var bn={useDefault:!0,enableAll:!1,enableNone:!1},jSe={useDefault:!1,enableAll:!0,enableNone:!0};function dd(t,e,r,n){n=n||bn;var a=r.index,i=r.id,o=r.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=t.getComponent(e))?[u]:[],s}return a==="none"||a===!1?(ui(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(ui(n.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=t.queryComponents({mainType:e,index:a,id:i,name:o}),s)}function _z(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function $Se(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function KSe(t){return t==="auto"?Qe.domSupported?"html":"richText":t||"html"}function XSe(t,e,r,n,a){var i=e==null||e==="auto";if(n==null)return n;if(rr(n)){var o=LA(r||0,n,a);return Ar(o,i?Math.max(ko(r||0),ko(n)):e)}else{if(Ie(n))return a<1?r:n;for(var s=[],u=r,l=n,f=Math.max(u?u.length:0,l.length),c=0;c<f;++c){var h=t.getDimensionInfo(c);if(h&&h.type==="ordinal")s[c]=(a<1&&u?u:l)[c];else{var p=u&&u[c]?u[c]:0,v=l[c],o=LA(p,v,a);s[c]=Ar(o,i?Math.max(ko(p),ko(v)):e)}}return s}}var YSe=".",Mu="___EC__COMPONENT__CONTAINER___",xz="___EC__EXTENDED_CLASS___";function Ui(t){var e={main:"",sub:""};if(t){var r=t.split(YSe);e.main=r[0]||"",e.sub=r[1]||""}return e}function qSe(t){ui(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function ZSe(t){return!!(t&&t[xz])}function yE(t,e){t.$constructor=t,t.extend=function(r){var n=this,a;return JSe(n)?a=function(i){Ce(o,i);function o(){return i.apply(this,arguments)||this}return o}(n):(a=function(){(r.$constructor||n).apply(this,arguments)},ewe(a,this)),Me(a.prototype,r),a[xz]=!0,a.extend=this.extend,a.superCall=tbe,a.superApply=rbe,a.superClass=n,a}}function JSe(t){return et(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function wz(t,e){t.extend=e.extend}var QSe=Math.round(Math.random()*10);function ebe(t){var e=["__\0is_clz",QSe++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function tbe(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function rbe(t,e,r){return this.superClass.prototype[e].apply(t,r)}function A1(t){var e={};t.registerClass=function(n){var a=n.type||n.prototype.type;if(a){qSe(a),n.prototype.type=a;var i=Ui(a);if(!i.sub)e[i.main]=n;else if(i.sub!==Mu){var o=r(i);o[i.sub]=n}}return n},t.getClass=function(n,a,i){var o=e[n];if(o&&o[Mu]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var a=Ui(n),i=[],o=e[a.main];return o&&o[Mu]?oe(o,function(s,u){u!==Mu&&i.push(s)}):i.push(o),i},t.hasClass=function(n){var a=Ui(n);return!!e[a.main]},t.getAllClassMainTypes=function(){var n=[];return oe(e,function(a,i){n.push(i)}),n},t.hasSubTypes=function(n){var a=Ui(n),i=e[a.main];return i&&i[Mu]};function r(n){var a=e[n.main];return(!a||!a[Mu])&&(a=e[n.main]={},a[Mu]=!0),a}}function xv(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,a,i){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(a&&St(a,u)>=0||i&&St(i,u)<0)){var l=n.getShallow(u,e);l!=null&&(o[t[s][0]]=l)}}return o}}var nbe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],abe=xv(nbe),ibe=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return abe(this,e,r)},t}(),uT=new pd(50);function obe(t){if(typeof t=="string"){var e=uT.get(t);return e&&e.image}else return t}function Sz(t,e,r,n,a){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var i=uT.get(t),o={hostEl:r,cb:n,cbPayload:a};return i?(e=i.image,!N1(e)&&i.pending.push(o)):(e=jf.loadImage(t,AA,AA),e.__zrImageSrc=t,uT.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function AA(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function N1(t){return t&&t.width&&t.height}var Tw=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function sbe(t,e,r,n,a,i){if(!r){t.text="",t.isTruncated=!1;return}var o=(e+"").split(`
`);i=bz(r,n,a,i);for(var s=!1,u={},l=0,f=o.length;l<f;l++)Tz(u,o[l],i),o[l]=u.textLine,s=s||u.isTruncated;t.text=o.join(`
`),t.isTruncated=s}function bz(t,e,r,n){n=n||{};var a=Me({},n);a.font=e,r=pt(r,"..."),a.maxIterations=pt(n.maxIterations,2);var i=a.minChar=pt(n.minChar,0);a.cnCharWidth=ta("国",e);var o=a.ascCharWidth=ta("a",e);a.placeholder=pt(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<i&&s>=o;u++)s-=o;var l=ta(r,e);return l>s&&(r="",l=0),s=t-l,a.ellipsis=r,a.ellipsisWidth=l,a.contentWidth=s,a.containerWidth=t,a}function Tz(t,e,r){var n=r.containerWidth,a=r.font,i=r.contentWidth;if(!n){t.textLine="",t.isTruncated=!1;return}var o=ta(e,a);if(o<=n){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=r.maxIterations){e+=r.ellipsis;break}var u=s===0?ube(e,i,r.ascCharWidth,r.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,u),o=ta(e,a)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function ube(t,e,r,n){for(var a=0,i=0,o=t.length;i<o&&a<e;i++){var s=t.charCodeAt(i);a+=0<=s&&s<=127?r:n}return i}function lbe(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,a=e.font,i=r==="truncate",o=pE(a),s=pt(e.lineHeight,o),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",f=!1,c=e.width,h;c!=null&&(r==="break"||r==="breakAll")?h=t?Cz(t,e.font,c,r==="breakAll",0).lines:[]:h=t?t.split(`
`):[];var p=h.length*s,v=pt(e.height,p);if(p>v&&l){var g=Math.floor(v/s);f=f||h.length>g,h=h.slice(0,g)}if(t&&i&&c!=null)for(var y=bz(c,a,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m={},d=0;d<h.length;d++)Tz(m,h[d],y),h[d]=m.textLine,f=f||m.isTruncated;for(var _=v,x=0,d=0;d<h.length;d++)x=Math.max(ta(h[d],a),x);c==null&&(c=x);var w=x;return n&&(_+=n[0]+n[2],w+=n[1]+n[3],c+=n[1]+n[3]),u&&(w=c),{lines:h,height:v,outerWidth:w,outerHeight:_,lineHeight:s,calculatedLineHeight:o,contentWidth:x,contentHeight:p,width:c,isTruncated:f}}var cbe=function(){function t(){}return t}(),NA=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),fbe=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function hbe(t,e){var r=new fbe;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,a=e.height,i=e.overflow,o=(i==="break"||i==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:i==="breakAll"}:null,s=Tw.lastIndex=0,u;(u=Tw.exec(t))!=null;){var l=u.index;l>s&&Cw(r,t.substring(s,l),e,o),Cw(r,u[2],e,o,u[1]),s=Tw.lastIndex}s<t.length&&Cw(r,t.substring(s,t.length),e,o);var f=[],c=0,h=0,p=e.padding,v=i==="truncate",g=e.lineOverflow==="truncate",y={};function m(W,H,$){W.width=H,W.lineHeight=$,c+=$,h=Math.max(h,H)}e:for(var d=0;d<r.lines.length;d++){for(var _=r.lines[d],x=0,w=0,S=0;S<_.tokens.length;S++){var b=_.tokens[S],T=b.styleName&&e.rich[b.styleName]||{},C=b.textPadding=T.padding,M=C?C[1]+C[3]:0,D=b.font=T.font||e.font;b.contentHeight=pE(D);var E=pt(T.height,b.contentHeight);if(b.innerHeight=E,C&&(E+=C[0]+C[2]),b.height=E,b.lineHeight=G0(T.lineHeight,e.lineHeight,E),b.align=T&&T.align||e.align,b.verticalAlign=T&&T.verticalAlign||"middle",g&&a!=null&&c+b.lineHeight>a){var k=r.lines.length;S>0?(_.tokens=_.tokens.slice(0,S),m(_,w,x),r.lines=r.lines.slice(0,d+1)):r.lines=r.lines.slice(0,d),r.isTruncated=r.isTruncated||r.lines.length<k;break e}var O=T.width,A=O==null||O==="auto";if(typeof O=="string"&&O.charAt(O.length-1)==="%")b.percentWidth=O,f.push(b),b.contentWidth=ta(b.text,D);else{if(A){var I=T.backgroundColor,U=I&&I.image;U&&(U=obe(U),N1(U)&&(b.width=Math.max(b.width,U.width*E/U.height)))}var P=v&&n!=null?n-w:null;P!=null&&P<b.width?!A||P<M?(b.text="",b.width=b.contentWidth=0):(sbe(y,b.text,P-M,D,e.ellipsis,{minChar:e.truncateMinChar}),b.text=y.text,r.isTruncated=r.isTruncated||y.isTruncated,b.width=b.contentWidth=ta(b.text,D)):b.contentWidth=ta(b.text,D)}b.width+=M,w+=b.width,T&&(x=Math.max(x,b.lineHeight))}m(_,w,x)}r.outerWidth=r.width=pt(n,h),r.outerHeight=r.height=pt(a,c),r.contentHeight=c,r.contentWidth=h,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var d=0;d<f.length;d++){var b=f[d],B=b.percentWidth;b.width=parseInt(B,10)/100*r.width}return r}function Cw(t,e,r,n,a){var i=e==="",o=a&&r.rich[a]||{},s=t.lines,u=o.font||r.font,l=!1,f,c;if(n){var h=o.padding,p=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var v=Zs(o.width,n.width)+p;s.length>0&&v+n.accumWidth>n.width&&(f=e.split(`
`),l=!0),n.accumWidth=v}else{var g=Cz(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+p,c=g.linesWidths,f=g.lines}}else f=e.split(`
`);for(var y=0;y<f.length;y++){var m=f[y],d=new cbe;if(d.styleName=a,d.text=m,d.isLineHolder=!m&&!i,typeof o.width=="number"?d.width=o.width:d.width=c?c[y]:ta(m,u),!y&&!l){var _=(s[s.length-1]||(s[0]=new NA)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=d:(m||!x||i)&&_.push(d)}else s.push(new NA([d]))}}function pbe(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var vbe=$f(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function dbe(t){return pbe(t)?!!vbe[t]:!0}function Cz(t,e,r,n,a){for(var i=[],o=[],s="",u="",l=0,f=0,c=0;c<t.length;c++){var h=t.charAt(c);if(h===`
`){u&&(s+=u,f+=l),i.push(s),o.push(f),s="",u="",l=0,f=0;continue}var p=ta(h,e),v=n?!1:!dbe(h);if(i.length?f+p>r:a+f+p>r){f?(s||u)&&(v?(s||(s=u,u="",l=0,f=l),i.push(s),o.push(f-l),u+=h,l+=p,s="",f=l):(u&&(s+=u,u="",l=0),i.push(s),o.push(f),s=h,f=p)):v?(i.push(u),o.push(l),u=h,l=p):(i.push(h),o.push(p));continue}f+=p,v?(u+=h,l+=p):(u&&(s+=u,u="",l=0),s+=h)}return!i.length&&!s&&(s=t,u="",l=0),u&&(s+=u),s&&(i.push(s),o.push(f)),i.length===1&&(f+=a),{accumWidth:f,lines:i,linesWidths:o}}var lT="__zr_style_"+Math.round(Math.random()*10),xl={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},F1={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};xl[lT]=!0;var FA=["z","z2","invisible"],gbe=["invisible"],Xf=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=tr(r),a=0;a<n.length;a++){var i=n[a];i==="style"?this.useStyle(r[i]):t.prototype.attrKV.call(this,i,r[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&ybe(this,r,n)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();return i.contain(a[0],a[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,u=i.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Dt(0,0,0,0)),n?Dt.applyTransform(r,a,n):r.copy(a),(o||s||u)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(u),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+u-o));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Dt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Me(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=H0,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&H0)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(r){return M1(xl,r)},e.prototype.useStyle=function(r){r[lT]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[lT]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,FA)},e.prototype._applyStateObj=function(r,n,a,i,o,s){t.prototype._applyStateObj.call(this,r,n,a,i,o,s);var u=!(n&&i),l;if(n&&n.style?o?i?l=n.style:(l=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(l,n.style)):u&&(l=a.style),l)if(o){var f=this.style;if(this.style=this.createStyle(u?{}:f),u)for(var c=tr(f),h=0;h<c.length;h++){var p=c[h];p in l&&(l[p]=l[p],this.style[p]=f[p])}for(var v=tr(l),h=0;h<v.length;h++){var p=v[h];this.style[p]=this.style[p]}this._transitionState(r,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var g=this.__inHover?gbe:FA,h=0;h<g.length;h++){var p=g[h];n&&n[p]!=null?this[p]=n[p]:u&&a[p]!=null&&(this[p]=a[p])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(n.style=a),n},e.prototype._mergeStyle=function(r,n){return Me(r,n),r},e.prototype.getAnimationStyleProps=function(){return F1},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Hi|H0}(),e}(R1),Ew=new Dt(0,0,0,0),Dw=new Dt(0,0,0,0);function ybe(t,e,r){return Ew.copy(t.getBoundingRect()),t.transform&&Ew.applyTransform(t.transform),Dw.width=e,Dw.height=r,!Ew.intersect(Dw)}var kn=Math.min,Rn=Math.max,Ow=Math.sin,Mw=Math.cos,Lu=Math.PI*2,Ag=Kf(),Ng=Kf(),Fg=Kf();function Ez(t,e,r){if(t.length!==0){for(var n=t[0],a=n[0],i=n[0],o=n[1],s=n[1],u=1;u<t.length;u++)n=t[u],a=kn(a,n[0]),i=Rn(i,n[0]),o=kn(o,n[1]),s=Rn(s,n[1]);e[0]=a,e[1]=o,r[0]=i,r[1]=s}}function BA(t,e,r,n,a,i){a[0]=kn(t,r),a[1]=kn(e,n),i[0]=Rn(t,r),i[1]=Rn(e,n)}var IA=[],VA=[];function mbe(t,e,r,n,a,i,o,s,u,l){var f=ez,c=Jr,h=f(t,r,a,o,IA);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var p=0;p<h;p++){var v=c(t,r,a,o,IA[p]);u[0]=kn(v,u[0]),l[0]=Rn(v,l[0])}h=f(e,n,i,s,VA);for(var p=0;p<h;p++){var g=c(e,n,i,s,VA[p]);u[1]=kn(g,u[1]),l[1]=Rn(g,l[1])}u[0]=kn(t,u[0]),l[0]=Rn(t,l[0]),u[0]=kn(o,u[0]),l[0]=Rn(o,l[0]),u[1]=kn(e,u[1]),l[1]=Rn(e,l[1]),u[1]=kn(s,u[1]),l[1]=Rn(s,l[1])}function _be(t,e,r,n,a,i,o,s){var u=tz,l=Mn,f=Rn(kn(u(t,r,a),1),0),c=Rn(kn(u(e,n,i),1),0),h=l(t,r,a,f),p=l(e,n,i,c);o[0]=kn(t,a,h),o[1]=kn(e,i,p),s[0]=Rn(t,a,h),s[1]=Rn(e,i,p)}function xbe(t,e,r,n,a,i,o,s,u){var l=Uc,f=zc,c=Math.abs(a-i);if(c%Lu<1e-4&&c>1e-4){s[0]=t-r,s[1]=e-n,u[0]=t+r,u[1]=e+n;return}if(Ag[0]=Mw(a)*r+t,Ag[1]=Ow(a)*n+e,Ng[0]=Mw(i)*r+t,Ng[1]=Ow(i)*n+e,l(s,Ag,Ng),f(u,Ag,Ng),a=a%Lu,a<0&&(a=a+Lu),i=i%Lu,i<0&&(i=i+Lu),a>i&&!o?i+=Lu:a<i&&o&&(a+=Lu),o){var h=i;i=a,a=h}for(var p=0;p<i;p+=Math.PI/2)p>a&&(Fg[0]=Mw(p)*r+t,Fg[1]=Ow(p)*n+e,l(s,Fg,s),f(u,Fg,u))}var Pt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ku=[],Ru=[],Ti=[],is=[],Ci=[],Ei=[],Lw=Math.min,kw=Math.max,Au=Math.cos,Nu=Math.sin,oo=Math.abs,cT=Math.PI,_s=cT*2,Rw=typeof Float32Array<"u",xh=[];function Aw(t){var e=Math.round(t/cT*1e8)/1e8;return e%2*cT}function wbe(t,e){var r=Aw(t[0]);r<0&&(r+=_s);var n=r-t[0],a=t[1];a+=n,!e&&a-r>=_s?a=r+_s:e&&r-a>=_s?a=r-_s:!e&&r>a?a=r+(_s-Aw(r-a)):e&&r<a&&(a=r-(_s-Aw(a-r))),t[0]=r,t[1]=a}var Js=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=oo(n/Zy/e)||0,this._uy=oo(n/Zy/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(Pt.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=oo(e-this._xi),a=oo(r-this._yi),i=n>this._ux||a>this._uy;if(this.addData(Pt.L,e,r),this._ctx&&i&&this._ctx.lineTo(e,r),i)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+a*a;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,a,i,o){return this._drawPendingPt(),this.addData(Pt.C,e,r,n,a,i,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,a,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,a){return this._drawPendingPt(),this.addData(Pt.Q,e,r,n,a),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,a),this._xi=n,this._yi=a,this},t.prototype.arc=function(e,r,n,a,i,o){this._drawPendingPt(),xh[0]=a,xh[1]=i,wbe(xh,o),a=xh[0],i=xh[1];var s=i-a;return this.addData(Pt.A,e,r,n,n,a,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,a,i,o),this._xi=Au(i)*n+e,this._yi=Nu(i)*n+r,this},t.prototype.arcTo=function(e,r,n,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,a,i),this},t.prototype.rect=function(e,r,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,a),this.addData(Pt.R,e,r,n,a),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Pt.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&Rw&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,a=this._len,i=0;i<r;i++)n+=e[i].len();Rw&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+n));for(var i=0;i<r;i++)for(var o=e[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},t.prototype.addData=function(e,r,n,a,i,o,s,u,l){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var c=0;c<arguments.length;c++)f[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Rw&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Ti[0]=Ti[1]=Ci[0]=Ci[1]=Number.MAX_VALUE,is[0]=is[1]=Ei[0]=Ei[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,a=0,i=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(r=e[o],n=e[o+1],a=r,i=n),s){case Pt.M:r=a=e[o++],n=i=e[o++],Ci[0]=a,Ci[1]=i,Ei[0]=a,Ei[1]=i;break;case Pt.L:BA(r,n,e[o],e[o+1],Ci,Ei),r=e[o++],n=e[o++];break;case Pt.C:mbe(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Ci,Ei),r=e[o++],n=e[o++];break;case Pt.Q:_be(r,n,e[o++],e[o++],e[o],e[o+1],Ci,Ei),r=e[o++],n=e[o++];break;case Pt.A:var l=e[o++],f=e[o++],c=e[o++],h=e[o++],p=e[o++],v=e[o++]+p;o+=1;var g=!e[o++];u&&(a=Au(p)*c+l,i=Nu(p)*h+f),xbe(l,f,c,h,p,v,g,Ci,Ei),r=Au(v)*c+l,n=Nu(v)*h+f;break;case Pt.R:a=r=e[o++],i=n=e[o++];var y=e[o++],m=e[o++];BA(a,i,a+y,i+m,Ci,Ei);break;case Pt.Z:r=a,n=i;break}Uc(Ti,Ti,Ci),zc(is,is,Ei)}return o===0&&(Ti[0]=Ti[1]=is[0]=is[1]=0),new Dt(Ti[0],Ti[1],is[0]-Ti[0],is[1]-Ti[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,a=this._uy,i=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,f=0,c=0,h=0;h<r;){var p=e[h++],v=h===1;v&&(i=e[h],o=e[h+1],s=i,u=o);var g=-1;switch(p){case Pt.M:i=s=e[h++],o=u=e[h++];break;case Pt.L:{var y=e[h++],m=e[h++],d=y-i,_=m-o;(oo(d)>n||oo(_)>a||h===r-1)&&(g=Math.sqrt(d*d+_*_),i=y,o=m);break}case Pt.C:{var x=e[h++],w=e[h++],y=e[h++],m=e[h++],S=e[h++],b=e[h++];g=zwe(i,o,x,w,y,m,S,b,10),i=S,o=b;break}case Pt.Q:{var x=e[h++],w=e[h++],y=e[h++],m=e[h++];g=Hwe(i,o,x,w,y,m,10),i=y,o=m;break}case Pt.A:var T=e[h++],C=e[h++],M=e[h++],D=e[h++],E=e[h++],k=e[h++],O=k+E;h+=1,v&&(s=Au(E)*M+T,u=Nu(E)*D+C),g=kw(M,D)*Lw(_s,Math.abs(k)),i=Au(O)*M+T,o=Nu(O)*D+C;break;case Pt.R:{s=i=e[h++],u=o=e[h++];var A=e[h++],I=e[h++];g=A*2+I*2;break}case Pt.Z:{var d=s-i,_=u-o;g=Math.sqrt(d*d+_*_),i=s,o=u;break}}g>=0&&(l[c++]=g,f+=g)}return this._pathLen=f,f},t.prototype.rebuildPath=function(e,r){var n=this.data,a=this._ux,i=this._uy,o=this._len,s,u,l,f,c,h,p=r<1,v,g,y=0,m=0,d,_=0,x,w;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,d=r*g,!d)))e:for(var S=0;S<o;){var b=n[S++],T=S===1;switch(T&&(l=n[S],f=n[S+1],s=l,u=f),b!==Pt.L&&_>0&&(e.lineTo(x,w),_=0),b){case Pt.M:s=l=n[S++],u=f=n[S++],e.moveTo(l,f);break;case Pt.L:{c=n[S++],h=n[S++];var C=oo(c-l),M=oo(h-f);if(C>a||M>i){if(p){var D=v[m++];if(y+D>d){var E=(d-y)/D;e.lineTo(l*(1-E)+c*E,f*(1-E)+h*E);break e}y+=D}e.lineTo(c,h),l=c,f=h,_=0}else{var k=C*C+M*M;k>_&&(x=c,w=h,_=k)}break}case Pt.C:{var O=n[S++],A=n[S++],I=n[S++],U=n[S++],P=n[S++],B=n[S++];if(p){var D=v[m++];if(y+D>d){var E=(d-y)/D;qs(l,O,I,P,E,ku),qs(f,A,U,B,E,Ru),e.bezierCurveTo(ku[1],Ru[1],ku[2],Ru[2],ku[3],Ru[3]);break e}y+=D}e.bezierCurveTo(O,A,I,U,P,B),l=P,f=B;break}case Pt.Q:{var O=n[S++],A=n[S++],I=n[S++],U=n[S++];if(p){var D=v[m++];if(y+D>d){var E=(d-y)/D;Yy(l,O,I,E,ku),Yy(f,A,U,E,Ru),e.quadraticCurveTo(ku[1],Ru[1],ku[2],Ru[2]);break e}y+=D}e.quadraticCurveTo(O,A,I,U),l=I,f=U;break}case Pt.A:var W=n[S++],H=n[S++],$=n[S++],q=n[S++],Q=n[S++],Y=n[S++],ie=n[S++],J=!n[S++],ae=$>q?$:q,re=oo($-q)>.001,V=Q+Y,R=!1;if(p){var D=v[m++];y+D>d&&(V=Q+Y*(d-y)/D,R=!0),y+=D}if(re&&e.ellipse?e.ellipse(W,H,$,q,ie,Q,V,J):e.arc(W,H,ae,Q,V,J),R)break e;T&&(s=Au(Q)*$+W,u=Nu(Q)*q+H),l=Au(V)*$+W,f=Nu(V)*q+H;break;case Pt.R:s=l=n[S],u=f=n[S+1],c=n[S++],h=n[S++];var F=n[S++],N=n[S++];if(p){var D=v[m++];if(y+D>d){var L=d-y;e.moveTo(c,h),e.lineTo(c+Lw(L,F),h),L-=F,L>0&&e.lineTo(c+F,h+Lw(L,N)),L-=N,L>0&&e.lineTo(c+kw(F-L,0),h+N),L-=F,L>0&&e.lineTo(c,h+kw(N-L,0));break e}y+=D}e.rect(c,h,F,N);break;case Pt.Z:if(p){var D=v[m++];if(y+D>d){var E=(d-y)/D;e.lineTo(l*(1-E)+s*E,f*(1-E)+u*E);break e}y+=D}e.closePath(),l=s,f=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=Pt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function fc(t,e,r,n,a,i,o){if(a===0)return!1;var s=a,u=0,l=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||i>t+s&&i>r+s||i<t-s&&i<r-s)return!1;if(t!==r)u=(e-n)/(t-r),l=(t*n-r*e)/(t-r);else return Math.abs(i-t)<=s/2;var f=u*i-o+l,c=f*f/(u*u+1);return c<=s/2*s/2}function Sbe(t,e,r,n,a,i,o,s,u,l,f){if(u===0)return!1;var c=u;if(f>e+c&&f>n+c&&f>i+c&&f>s+c||f<e-c&&f<n-c&&f<i-c&&f<s-c||l>t+c&&l>r+c&&l>a+c&&l>o+c||l<t-c&&l<r-c&&l<a-c&&l<o-c)return!1;var h=Uwe(t,e,r,n,a,i,o,s,l,f);return h<=c/2}function bbe(t,e,r,n,a,i,o,s,u){if(o===0)return!1;var l=o;if(u>e+l&&u>n+l&&u>i+l||u<e-l&&u<n-l&&u<i-l||s>t+l&&s>r+l&&s>a+l||s<t-l&&s<r-l&&s<a-l)return!1;var f=Wwe(t,e,r,n,a,i,s,u);return f<=l/2}var PA=Math.PI*2;function Bg(t){return t%=PA,t<0&&(t+=PA),t}var wh=Math.PI*2;function Tbe(t,e,r,n,a,i,o,s,u){if(o===0)return!1;var l=o;s-=t,u-=e;var f=Math.sqrt(s*s+u*u);if(f-l>r||f+l<r)return!1;if(Math.abs(n-a)%wh<1e-4)return!0;if(i){var c=n;n=Bg(a),a=Bg(c)}else n=Bg(n),a=Bg(a);n>a&&(a+=wh);var h=Math.atan2(u,s);return h<0&&(h+=wh),h>=n&&h<=a||h+wh>=n&&h+wh<=a}function mo(t,e,r,n,a,i){if(i>e&&i>n||i<e&&i<n||n===e)return 0;var o=(i-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var u=o*(r-t)+t;return u===a?1/0:u>a?s:0}var os=Js.CMD,Fu=Math.PI*2,Cbe=1e-4;function Ebe(t,e){return Math.abs(t-e)<Cbe}var xn=[-1,-1,-1],ya=[-1,-1];function Dbe(){var t=ya[0];ya[0]=ya[1],ya[1]=t}function Obe(t,e,r,n,a,i,o,s,u,l){if(l>e&&l>n&&l>i&&l>s||l<e&&l<n&&l<i&&l<s)return 0;var f=Xy(e,n,i,s,l,xn);if(f===0)return 0;for(var c=0,h=-1,p=void 0,v=void 0,g=0;g<f;g++){var y=xn[g],m=y===0||y===1?.5:1,d=Jr(t,r,a,o,y);d<u||(h<0&&(h=ez(e,n,i,s,ya),ya[1]<ya[0]&&h>1&&Dbe(),p=Jr(e,n,i,s,ya[0]),h>1&&(v=Jr(e,n,i,s,ya[1]))),h===2?y<ya[0]?c+=p<e?m:-m:y<ya[1]?c+=v<p?m:-m:c+=s<v?m:-m:y<ya[0]?c+=p<e?m:-m:c+=s<p?m:-m)}return c}function Mbe(t,e,r,n,a,i,o,s){if(s>e&&s>n&&s>i||s<e&&s<n&&s<i)return 0;var u=Gwe(e,n,i,s,xn);if(u===0)return 0;var l=tz(e,n,i);if(l>=0&&l<=1){for(var f=0,c=Mn(e,n,i,l),h=0;h<u;h++){var p=xn[h]===0||xn[h]===1?.5:1,v=Mn(t,r,a,xn[h]);v<o||(xn[h]<l?f+=c<e?p:-p:f+=i<c?p:-p)}return f}else{var p=xn[0]===0||xn[0]===1?.5:1,v=Mn(t,r,a,xn[0]);return v<o?0:i<e?p:-p}}function Lbe(t,e,r,n,a,i,o,s){if(s-=e,s>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);xn[0]=-u,xn[1]=u;var l=Math.abs(n-a);if(l<1e-4)return 0;if(l>=Fu-1e-4){n=0,a=Fu;var f=i?1:-1;return o>=xn[0]+t&&o<=xn[1]+t?f:0}if(n>a){var c=n;n=a,a=c}n<0&&(n+=Fu,a+=Fu);for(var h=0,p=0;p<2;p++){var v=xn[p];if(v+t>o){var g=Math.atan2(s,v),f=i?1:-1;g<0&&(g=Fu+g),(g>=n&&g<=a||g+Fu>=n&&g+Fu<=a)&&(g>Math.PI/2&&g<Math.PI*1.5&&(f=-f),h+=f)}}return h}function Dz(t,e,r,n,a){for(var i=t.data,o=t.len(),s=0,u=0,l=0,f=0,c=0,h,p,v=0;v<o;){var g=i[v++],y=v===1;switch(g===os.M&&v>1&&(r||(s+=mo(u,l,f,c,n,a))),y&&(u=i[v],l=i[v+1],f=u,c=l),g){case os.M:f=i[v++],c=i[v++],u=f,l=c;break;case os.L:if(r){if(fc(u,l,i[v],i[v+1],e,n,a))return!0}else s+=mo(u,l,i[v],i[v+1],n,a)||0;u=i[v++],l=i[v++];break;case os.C:if(r){if(Sbe(u,l,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],e,n,a))return!0}else s+=Obe(u,l,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],n,a)||0;u=i[v++],l=i[v++];break;case os.Q:if(r){if(bbe(u,l,i[v++],i[v++],i[v],i[v+1],e,n,a))return!0}else s+=Mbe(u,l,i[v++],i[v++],i[v],i[v+1],n,a)||0;u=i[v++],l=i[v++];break;case os.A:var m=i[v++],d=i[v++],_=i[v++],x=i[v++],w=i[v++],S=i[v++];v+=1;var b=!!(1-i[v++]);h=Math.cos(w)*_+m,p=Math.sin(w)*x+d,y?(f=h,c=p):s+=mo(u,l,h,p,n,a);var T=(n-m)*x/_+m;if(r){if(Tbe(m,d,x,w,w+S,b,e,T,a))return!0}else s+=Lbe(m,d,x,w,w+S,b,T,a);u=Math.cos(w+S)*_+m,l=Math.sin(w+S)*x+d;break;case os.R:f=u=i[v++],c=l=i[v++];var C=i[v++],M=i[v++];if(h=f+C,p=c+M,r){if(fc(f,c,h,c,e,n,a)||fc(h,c,h,p,e,n,a)||fc(h,p,f,p,e,n,a)||fc(f,p,f,c,e,n,a))return!0}else s+=mo(h,c,h,p,n,a),s+=mo(f,p,f,c,n,a);break;case os.Z:if(r){if(fc(u,l,f,c,e,n,a))return!0}else s+=mo(u,l,f,c,n,a);u=f,l=c;break}}return!r&&!Ebe(l,c)&&(s+=mo(u,l,f,c,n,a)||0),s!==0}function kbe(t,e,r){return Dz(t,0,!1,e,r)}function Rbe(t,e,r,n){return Dz(t,e,!0,r,n)}var Oz=ot({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},xl),Abe={style:ot({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},F1.style)},Nw=mv.concat(["invisible","culling","z","z2","zlevel","parent"]),yt=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new e;a.buildPath===e.prototype.buildPath&&(a.buildPath=function(u){r.buildPath(u,r.shape)}),a.silent=!0;var i=a.style;for(var o in n)i[o]!==n[o]&&(i[o]=n[o]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var s=0;s<Nw.length;++s)a[Nw[s]]=this[Nw[s]];a.__dirty|=Hi}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=tr(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<n.length;i++){var o=n[i],s=r[o];o==="style"?this.style?Me(this.style,s):this.useStyle(s):o==="shape"?Me(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(Ie(r)){var n=qy(r,0);return n>.5?oT:n>.2?pSe:sT}else if(r)return sT}return oT},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(Ie(n)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=qy(r,0)<iT;if(i===o)return n}},e.prototype.buildPath=function(r,n,a){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new Js(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,a=!r;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&Jh)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){s.copy(r);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var f=this.strokeContainThreshold;l=Math.max(l,f??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return r},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect(),o=this.style;if(r=a[0],n=a[1],i.contain(r,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),Rbe(s,u/l,r,n)))return!0}if(this.hasFill())return kbe(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Jh,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var a=this.shape;return a||(a=this.shape={}),typeof r=="string"?a[r]=n:Me(a,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Jh)},e.prototype.createStyle=function(r){return M1(Oz,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Me({},this.shape))},e.prototype._applyStateObj=function(r,n,a,i,o,s){t.prototype._applyStateObj.call(this,r,n,a,i,o,s);var u=!(n&&i),l;if(n&&n.shape?o?i?l=n.shape:(l=Me({},a.shape),Me(l,n.shape)):(l=Me({},i?this.shape:a.shape),Me(l,n.shape)):u&&(l=a.shape),l)if(o){this.shape=Me({},this.shape);for(var f={},c=tr(l),h=0;h<c.length;h++){var p=c[h];typeof l[p]=="object"?this.shape[p]=l[p]:f[p]=l[p]}this._transitionState(r,{shape:f},s)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(n.shape=a),n},e.prototype.getAnimationStyleProps=function(){return Abe},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(i){Ce(o,i);function o(s){var u=i.call(this,s)||this;return r.init&&r.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return Ze(r.style)},o.prototype.getDefaultShape=function(){return Ze(r.shape)},o}(e);for(var a in r)typeof r[a]=="function"&&(n.prototype[a]=r[a]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Hi|H0|Jh}(),e}(Xf),Nbe=ot({strokeFirst:!0,font:Ul,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Oz),tm=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return M1(Nbe,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var a=k1(n,r.font,r.textAlign,r.textBaseline);if(a.x+=r.x||0,a.y+=r.y||0,this.hasStroke()){var i=r.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(Xf);tm.prototype.type="tspan";var Fbe=ot({x:0,y:0},xl),Bbe={style:ot({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},F1.style)};function Ibe(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var uu=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return M1(Fbe,r)},e.prototype._getSize=function(r){var n=this.style,a=n[r];if(a!=null)return a;var i=Ibe(n.image)?n.image:this.__image;if(!i)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?i[r]:i[r]/i[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Bbe},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Dt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Xf);uu.prototype.type="image";function Vbe(t,e){var r=e.x,n=e.y,a=e.width,i=e.height,o=e.r,s,u,l,f;a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),typeof o=="number"?s=u=l=f=o:o instanceof Array?o.length===1?s=u=l=f=o[0]:o.length===2?(s=l=o[0],u=f=o[1]):o.length===3?(s=o[0],u=f=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],f=o[3]):s=u=l=f=0;var c;s+u>a&&(c=s+u,s*=a/c,u*=a/c),l+f>a&&(c=l+f,l*=a/c,f*=a/c),u+l>i&&(c=u+l,u*=i/c,l*=i/c),s+f>i&&(c=s+f,s*=i/c,f*=i/c),t.moveTo(r+s,n),t.lineTo(r+a-u,n),u!==0&&t.arc(r+a-u,n+u,u,-Math.PI/2,0),t.lineTo(r+a,n+i-l),l!==0&&t.arc(r+a-l,n+i-l,l,0,Math.PI/2),t.lineTo(r+f,n+i),f!==0&&t.arc(r+f,n+i-f,f,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Wc=Math.round;function Mz(t,e,r){if(e){var n=e.x1,a=e.x2,i=e.y1,o=e.y2;t.x1=n,t.x2=a,t.y1=i,t.y2=o;var s=r&&r.lineWidth;return s&&(Wc(n*2)===Wc(a*2)&&(t.x1=t.x2=ul(n,s,!0)),Wc(i*2)===Wc(o*2)&&(t.y1=t.y2=ul(i,s,!0))),t}}function Lz(t,e,r){if(e){var n=e.x,a=e.y,i=e.width,o=e.height;t.x=n,t.y=a,t.width=i,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=ul(n,s,!0),t.y=ul(a,s,!0),t.width=Math.max(ul(n+i,s,!1)-t.x,i===0?0:1),t.height=Math.max(ul(a+o,s,!1)-t.y,o===0?0:1)),t}}function ul(t,e,r){if(!e)return t;var n=Wc(t*2);return(n+Wc(e))%2===0?n/2:(n+(r?1:-1))/2}var Pbe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),Ube={},Yt=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Pbe},e.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var u=Lz(Ube,n,this.style);a=u.x,i=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else a=n.x,i=n.y,o=n.width,s=n.height;n.r?Vbe(r,n):r.rect(a,i,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(yt);Yt.prototype.type="rect";var UA={fill:"#000"},zA=2,zbe={style:ot({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},F1.style)},Gr=function(t){Ce(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=UA,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,$be(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Dt(0,0,0,0),n=this._children,a=[],i=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(a);l?(r.copy(u),r.applyTransform(l),i=i||r.clone(),i.union(r)):(i=i||u.clone(),i.union(u))}this._rect=i||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||UA},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var a=n.rich,i=r.rich||a&&{};return Me(r,n),a&&i?(this._mergeRich(i,a),r.rich=i):i&&(r.rich=i),r},e.prototype._mergeRich=function(r,n){for(var a=tr(n),i=0;i<a.length;i++){var o=a[i];r[o]=r[o]||{},Me(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return zbe},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Ul,a=r.padding,i=XA(r),o=lbe(i,r),s=Fw(r),u=!!r.backgroundColor,l=o.outerHeight,f=o.outerWidth,c=o.contentWidth,h=o.lines,p=o.lineHeight,v=this._defaultStyle;this.isTruncated=!!o.isTruncated;var g=r.x||0,y=r.y||0,m=r.align||v.align||"left",d=r.verticalAlign||v.verticalAlign||"top",_=g,x=kc(y,o.contentHeight,d);if(s||a){var w=ep(g,f,m),S=kc(y,l,d);s&&this._renderBackground(r,r,w,S,f,l)}x+=p/2,a&&(_=KA(g,m,a),d==="top"?x+=a[0]:d==="bottom"&&(x-=a[2]));for(var b=0,T=!1,C=$A("fill"in r?r.fill:(T=!0,v.fill)),M=jA("stroke"in r?r.stroke:!u&&(!v.autoStroke||T)?(b=zA,v.stroke):null),D=r.textShadowBlur>0,E=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),k=o.calculatedLineHeight,O=0;O<h.length;O++){var A=this._getOrCreateChild(tm),I=A.createStyle();A.useStyle(I),I.text=h[O],I.x=_,I.y=x,I.textAlign=m,I.textBaseline="middle",I.opacity=r.opacity,I.strokeFirst=!0,D&&(I.shadowBlur=r.textShadowBlur||0,I.shadowColor=r.textShadowColor||"transparent",I.shadowOffsetX=r.textShadowOffsetX||0,I.shadowOffsetY=r.textShadowOffsetY||0),I.stroke=M,I.fill=C,M&&(I.lineWidth=r.lineWidth||b,I.lineDash=r.lineDash,I.lineDashOffset=r.lineDashOffset||0),I.font=n,WA(I,r),x+=p,E&&A.setBoundingRect(new Dt(ep(I.x,c,I.textAlign),kc(I.y,k,I.textBaseline),c,k))}},e.prototype._updateRichTexts=function(){var r=this.style,n=XA(r),a=hbe(n,r),i=a.width,o=a.outerWidth,s=a.outerHeight,u=r.padding,l=r.x||0,f=r.y||0,c=this._defaultStyle,h=r.align||c.align,p=r.verticalAlign||c.verticalAlign;this.isTruncated=!!a.isTruncated;var v=ep(l,o,h),g=kc(f,s,p),y=v,m=g;u&&(y+=u[3],m+=u[0]);var d=y+i;Fw(r)&&this._renderBackground(r,r,v,g,o,s);for(var _=!!r.backgroundColor,x=0;x<a.lines.length;x++){for(var w=a.lines[x],S=w.tokens,b=S.length,T=w.lineHeight,C=w.width,M=0,D=y,E=d,k=b-1,O=void 0;M<b&&(O=S[M],!O.align||O.align==="left");)this._placeToken(O,r,T,m,D,"left",_),C-=O.width,D+=O.width,M++;for(;k>=0&&(O=S[k],O.align==="right");)this._placeToken(O,r,T,m,E,"right",_),C-=O.width,E-=O.width,k--;for(D+=(i-(D-y)-(d-E)-C)/2;M<=k;)O=S[M],this._placeToken(O,r,T,m,D+O.width/2,"center",_),D+=O.width,M++;m+=T}},e.prototype._placeToken=function(r,n,a,i,o,s,u){var l=n.rich[r.styleName]||{};l.text=r.text;var f=r.verticalAlign,c=i+a/2;f==="top"?c=i+r.height/2:f==="bottom"&&(c=i+a-r.height/2);var h=!r.isLineHolder&&Fw(l);h&&this._renderBackground(l,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,c-r.height/2,r.width,r.height);var p=!!l.backgroundColor,v=r.textPadding;v&&(o=KA(o,s,v),c-=r.height/2-v[0]-r.innerHeight/2);var g=this._getOrCreateChild(tm),y=g.createStyle();g.useStyle(y);var m=this._defaultStyle,d=!1,_=0,x=$A("fill"in l?l.fill:"fill"in n?n.fill:(d=!0,m.fill)),w=jA("stroke"in l?l.stroke:"stroke"in n?n.stroke:!p&&!u&&(!m.autoStroke||d)?(_=zA,m.stroke):null),S=l.textShadowBlur>0||n.textShadowBlur>0;y.text=r.text,y.x=o,y.y=c,S&&(y.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,y.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=s,y.textBaseline="middle",y.font=r.font||Ul,y.opacity=G0(l.opacity,n.opacity,1),WA(y,l),w&&(y.lineWidth=G0(l.lineWidth,n.lineWidth,_),y.lineDash=pt(l.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=w),x&&(y.fill=x);var b=r.contentWidth,T=r.contentHeight;g.setBoundingRect(new Dt(ep(y.x,b,y.textAlign),kc(y.y,T,y.textBaseline),b,T))},e.prototype._renderBackground=function(r,n,a,i,o,s){var u=r.backgroundColor,l=r.borderWidth,f=r.borderColor,c=u&&u.image,h=u&&!c,p=r.borderRadius,v=this,g,y;if(h||r.lineHeight||l&&f){g=this._getOrCreateChild(Yt),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=a,m.y=i,m.width=o,m.height=s,m.r=p,g.dirtyShape()}if(h){var d=g.style;d.fill=u||null,d.fillOpacity=pt(r.fillOpacity,1)}else if(c){y=this._getOrCreateChild(uu),y.onload=function(){v.dirtyStyle()};var _=y.style;_.image=u.image,_.x=a,_.y=i,_.width=o,_.height=s}if(l&&f){var d=g.style;d.lineWidth=l,d.stroke=f,d.strokeOpacity=pt(r.strokeOpacity,1),d.lineDash=r.borderDash,d.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(d.strokeFirst=!0,d.lineWidth*=2)}var x=(g||y).style;x.shadowBlur=r.shadowBlur||0,x.shadowColor=r.shadowColor||"transparent",x.shadowOffsetX=r.shadowOffsetX||0,x.shadowOffsetY=r.shadowOffsetY||0,x.opacity=G0(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return jbe(r)&&(n=[r.fontStyle,r.fontWeight,Hbe(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Pi(n)||r.textFont||r.font},e}(Xf),Gbe={left:!0,right:1,center:1},Wbe={top:1,bottom:1,middle:1},GA=["fontStyle","fontWeight","fontSize","fontFamily"];function Hbe(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?nE+"px":t+"px"}function WA(t,e){for(var r=0;r<GA.length;r++){var n=GA[r],a=e[n];a!=null&&(t[n]=a)}}function jbe(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function $be(t){return HA(t),oe(t.rich,HA),t}function HA(t){if(t){t.font=Gr.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||Gbe[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||Wbe[r]?r:"top";var n=t.padding;n&&(t.padding=G8(t.padding))}}function jA(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function $A(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function KA(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function XA(t){var e=t.text;return e!=null&&(e+=""),e}function Fw(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Ft=_r(),Kbe=function(t,e,r,n){if(n){var a=Ft(n);a.dataIndex=r,a.dataType=e,a.seriesIndex=t,a.ssrType="chart",n.type==="group"&&n.traverse(function(i){var o=Ft(i);o.seriesIndex=t,o.dataIndex=r,o.dataType=e,o.ssrType="chart"})}},YA=1,qA={},kz=_r(),mE=_r(),_E=0,B1=1,I1=2,Xi=["emphasis","blur","select"],ZA=["normal","emphasis","blur","select"],Xbe=10,Ybe=9,wl="highlight",q0="downplay",Dp="select",Z0="unselect",Op="toggleSelect";function hc(t){return t!=null&&t!=="none"}function V1(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function Rz(t){V1(t,"emphasis",I1)}function Az(t){t.hoverState===I1&&V1(t,"normal",_E)}function xE(t){V1(t,"blur",B1)}function Nz(t){t.hoverState===B1&&V1(t,"normal",_E)}function qbe(t){t.selected=!0}function Zbe(t){t.selected=!1}function JA(t,e,r){e(t,r)}function Zo(t,e,r){JA(t,e,r),t.isGroup&&t.traverse(function(n){JA(n,e,r)})}function QA(t,e){switch(e){case"emphasis":t.hoverState=I1;break;case"normal":t.hoverState=_E;break;case"blur":t.hoverState=B1;break;case"select":t.selected=!0}}function Jbe(t,e,r,n){for(var a=t.style,i={},o=0;o<e.length;o++){var s=e[o],u=a[s];i[s]=u??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var l=t.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(i,e)}return i}function Qbe(t,e,r,n){var a=r&&St(r,"select")>=0,i=!1;if(t instanceof yt){var o=kz(t),s=a&&o.selectFill||o.normalFill,u=a&&o.selectStroke||o.normalStroke;if(hc(s)||hc(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(i=!0,n=Me({},n),l=Me({},l),l.fill=s):!hc(l.fill)&&hc(s)?(i=!0,n=Me({},n),l=Me({},l),l.fill=mA(s)):!hc(l.stroke)&&hc(u)&&(i||(n=Me({},n),l=Me({},l)),l.stroke=mA(u)),n.style=l}}if(n&&n.z2==null){i||(n=Me({},n));var f=t.z2EmphasisLift;n.z2=t.z2+(f??Xbe)}return n}function eTe(t,e,r){if(r&&r.z2==null){r=Me({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??Ybe)}return r}function tTe(t,e,r){var n=St(t.currentStates,e)>=0,a=t.style.opacity,i=n?null:Jbe(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=Me({},r),o=Me({opacity:n?a:i.opacity*.1},o),r.style=o),r}function Bw(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return Qbe(this,t,e,r);if(t==="blur")return tTe(this,t,r);if(t==="select")return eTe(this,t,r)}return r}function rTe(t){t.stateProxy=Bw;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=Bw),r&&(r.stateProxy=Bw)}function e3(t,e){!Vz(t,e)&&!t.__highByOuter&&Zo(t,Rz)}function t3(t,e){!Vz(t,e)&&!t.__highByOuter&&Zo(t,Az)}function Df(t,e){t.__highByOuter|=1<<(e||0),Zo(t,Rz)}function Of(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Zo(t,Az)}function nTe(t){Zo(t,xE)}function Fz(t){Zo(t,Nz)}function Bz(t){Zo(t,qbe)}function Iz(t){Zo(t,Zbe)}function Vz(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Pz(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(a,i){var o=mE(i),s=a==="series",u=s?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){Nz(l)}),s&&r.push(i)),o.isBlured=!1}),oe(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(r,!1,e)})}function fT(t,e,r,n){var a=n.getModel();r=r||"coordinateSystem";function i(l,f){for(var c=0;c<f.length;c++){var h=l.getItemGraphicEl(f[c]);h&&Fz(h)}}if(t!=null&&!(!e||e==="none")){var o=a.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];a.eachSeries(function(l){var f=o===l,c=l.coordinateSystem;c&&c.master&&(c=c.master);var h=c&&s?c===s:f;if(!(r==="series"&&!f||r==="coordinateSystem"&&!h||e==="series"&&f)){var p=n.getViewOfSeriesModel(l);if(p.group.traverse(function(y){y.__highByOuter&&f&&e==="self"||xE(y)}),zn(e))i(l.getData(),e);else if(Ue(e))for(var v=tr(e),g=0;g<v.length;g++)i(l.getData(v[g]),e[v[g]]);u.push(l),mE(l).isBlured=!0}}),a.eachComponent(function(l,f){if(l!=="series"){var c=n.getViewOfComponentModel(f);c&&c.toggleBlurSeries&&c.toggleBlurSeries(u,!0,a)}})}}function hT(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){mE(n).isBlured=!0;var a=r.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){xE(i)})}}}function aTe(t,e,r){var n=t.seriesIndex,a=t.getData(e.dataType);if(a){var i=Gl(a,e);i=(Le(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),u=0;!o&&u<s;)o=a.getItemGraphicEl(u++);if(o){var l=Ft(o);fT(n,l.focus,l.blurScope,r)}else{var f=t.get(["emphasis","focus"]),c=t.get(["emphasis","blurScope"]);f!=null&&fT(n,f,c,r)}}}function wE(t,e,r,n){var a={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return a;var i=n.getModel().getComponent(t,e);if(!i)return a;var o=n.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(r),u,l=0;l<s.length;l++)if(Ft(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function iTe(t,e,r){var n=Ft(t),a=wE(n.componentMainType,n.componentIndex,n.componentHighDownName,r),i=a.dispatchers,o=a.focusSelf;i?(o&&hT(n.componentMainType,n.componentIndex,r),oe(i,function(s){return e3(s,e)})):(fT(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&hT(n.componentMainType,n.componentIndex,r),e3(t,e))}function oTe(t,e,r){Pz(r);var n=Ft(t),a=wE(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;a?oe(a,function(i){return t3(i,e)}):t3(t,e)}function sTe(t,e,r){if(vT(e)){var n=e.dataType,a=t.getData(n),i=Gl(a,e);Le(i)||(i=[i]),t[e.type===Op?"toggleSelect":e.type===Dp?"select":"unselect"](i,n)}}function r3(t){var e=t.getAllData();oe(e,function(r){var n=r.data,a=r.type;n.eachItemGraphicEl(function(i,o){t.isSelected(o,a)?Bz(i):Iz(i)})})}function uTe(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();oe(n,function(a){a.data;var i=a.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};i!=null&&(s.dataType=i),e.push(s)}})}),e}function rm(t,e,r){Uz(t,!0),Zo(t,rTe),cTe(t,e,r)}function lTe(t){Uz(t,!1)}function wv(t,e,r,n){n?lTe(t):rm(t,e,r)}function cTe(t,e,r){var n=Ft(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var n3=["emphasis","blur","select"],fTe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function nm(t,e,r,n){r=r||"itemStyle";for(var a=0;a<n3.length;a++){var i=n3[a],o=e.getModel([i,r]),s=t.ensureState(i);s.style=o[fTe[r]]()}}function Uz(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function pT(t){return!!(t&&t.__highDownDispatcher)}function hTe(t){var e=qA[t];return e==null&&YA<=32&&(e=qA[t]=YA++),e}function vT(t){var e=t.type;return e===Dp||e===Z0||e===Op}function a3(t){var e=t.type;return e===wl||e===q0}function pTe(t){var e=kz(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var pc=Js.CMD,vTe=[[],[],[]],i3=Math.sqrt,dTe=Math.atan2;function zz(t,e){if(e){var r=t.data,n=t.len(),a,i,o,s,u,l,f=pc.M,c=pc.C,h=pc.L,p=pc.R,v=pc.A,g=pc.Q;for(o=0,s=0;o<n;){switch(a=r[o++],s=o,i=0,a){case f:i=1;break;case h:i=1;break;case c:i=3;break;case g:i=2;break;case v:var y=e[4],m=e[5],d=i3(e[0]*e[0]+e[1]*e[1]),_=i3(e[2]*e[2]+e[3]*e[3]),x=dTe(-e[1]/_,e[0]/d);r[o]*=d,r[o++]+=y,r[o]*=_,r[o++]+=m,r[o++]*=d,r[o++]*=_,r[o++]+=x,r[o++]+=x,o+=2,s=o;break;case p:l[0]=r[o++],l[1]=r[o++],Oa(l,l,e),r[s++]=l[0],r[s++]=l[1],l[0]+=r[o++],l[1]+=r[o++],Oa(l,l,e),r[s++]=l[0],r[s++]=l[1]}for(u=0;u<i;u++){var w=vTe[u];w[0]=r[o++],w[1]=r[o++],Oa(w,w,e),r[s++]=w[0],r[s++]=w[1]}}t.increaseVersion()}}var Iw=Math.sqrt,Ig=Math.sin,Vg=Math.cos,Sh=Math.PI;function o3(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function dT(t,e){return(t[0]*e[0]+t[1]*e[1])/(o3(t)*o3(e))}function s3(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(dT(t,e))}function u3(t,e,r,n,a,i,o,s,u,l,f){var c=u*(Sh/180),h=Vg(c)*(t-r)/2+Ig(c)*(e-n)/2,p=-1*Ig(c)*(t-r)/2+Vg(c)*(e-n)/2,v=h*h/(o*o)+p*p/(s*s);v>1&&(o*=Iw(v),s*=Iw(v));var g=(a===i?-1:1)*Iw((o*o*(s*s)-o*o*(p*p)-s*s*(h*h))/(o*o*(p*p)+s*s*(h*h)))||0,y=g*o*p/s,m=g*-s*h/o,d=(t+r)/2+Vg(c)*y-Ig(c)*m,_=(e+n)/2+Ig(c)*y+Vg(c)*m,x=s3([1,0],[(h-y)/o,(p-m)/s]),w=[(h-y)/o,(p-m)/s],S=[(-1*h-y)/o,(-1*p-m)/s],b=s3(w,S);if(dT(w,S)<=-1&&(b=Sh),dT(w,S)>=1&&(b=0),b<0){var T=Math.round(b/Sh*1e6)/1e6;b=Sh*2+T%2*Sh}f.addData(l,d,_,o,s,x,b,c,i)}var gTe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,yTe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function mTe(t){var e=new Js;if(!t)return e;var r=0,n=0,a=r,i=n,o,s=Js.CMD,u=t.match(gTe);if(!u)return e;for(var l=0;l<u.length;l++){for(var f=u[l],c=f.charAt(0),h=void 0,p=f.match(yTe)||[],v=p.length,g=0;g<v;g++)p[g]=parseFloat(p[g]);for(var y=0;y<v;){var m=void 0,d=void 0,_=void 0,x=void 0,w=void 0,S=void 0,b=void 0,T=r,C=n,M=void 0,D=void 0;switch(c){case"l":r+=p[y++],n+=p[y++],h=s.L,e.addData(h,r,n);break;case"L":r=p[y++],n=p[y++],h=s.L,e.addData(h,r,n);break;case"m":r+=p[y++],n+=p[y++],h=s.M,e.addData(h,r,n),a=r,i=n,c="l";break;case"M":r=p[y++],n=p[y++],h=s.M,e.addData(h,r,n),a=r,i=n,c="L";break;case"h":r+=p[y++],h=s.L,e.addData(h,r,n);break;case"H":r=p[y++],h=s.L,e.addData(h,r,n);break;case"v":n+=p[y++],h=s.L,e.addData(h,r,n);break;case"V":n=p[y++],h=s.L,e.addData(h,r,n);break;case"C":h=s.C,e.addData(h,p[y++],p[y++],p[y++],p[y++],p[y++],p[y++]),r=p[y-2],n=p[y-1];break;case"c":h=s.C,e.addData(h,p[y++]+r,p[y++]+n,p[y++]+r,p[y++]+n,p[y++]+r,p[y++]+n),r+=p[y-2],n+=p[y-1];break;case"S":m=r,d=n,M=e.len(),D=e.data,o===s.C&&(m+=r-D[M-4],d+=n-D[M-3]),h=s.C,T=p[y++],C=p[y++],r=p[y++],n=p[y++],e.addData(h,m,d,T,C,r,n);break;case"s":m=r,d=n,M=e.len(),D=e.data,o===s.C&&(m+=r-D[M-4],d+=n-D[M-3]),h=s.C,T=r+p[y++],C=n+p[y++],r+=p[y++],n+=p[y++],e.addData(h,m,d,T,C,r,n);break;case"Q":T=p[y++],C=p[y++],r=p[y++],n=p[y++],h=s.Q,e.addData(h,T,C,r,n);break;case"q":T=p[y++]+r,C=p[y++]+n,r+=p[y++],n+=p[y++],h=s.Q,e.addData(h,T,C,r,n);break;case"T":m=r,d=n,M=e.len(),D=e.data,o===s.Q&&(m+=r-D[M-4],d+=n-D[M-3]),r=p[y++],n=p[y++],h=s.Q,e.addData(h,m,d,r,n);break;case"t":m=r,d=n,M=e.len(),D=e.data,o===s.Q&&(m+=r-D[M-4],d+=n-D[M-3]),r+=p[y++],n+=p[y++],h=s.Q,e.addData(h,m,d,r,n);break;case"A":_=p[y++],x=p[y++],w=p[y++],S=p[y++],b=p[y++],T=r,C=n,r=p[y++],n=p[y++],h=s.A,u3(T,C,r,n,S,b,_,x,w,h,e);break;case"a":_=p[y++],x=p[y++],w=p[y++],S=p[y++],b=p[y++],T=r,C=n,r+=p[y++],n+=p[y++],h=s.A,u3(T,C,r,n,S,b,_,x,w,h,e);break}}(c==="z"||c==="Z")&&(h=s.Z,e.addData(h),r=a,n=i),o=h}return e.toStatic(),e}var Gz=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(yt);function Wz(t){return t.setData!=null}function Hz(t,e){var r=mTe(t),n=Me({},e);return n.buildPath=function(a){if(Wz(a)){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;r.rebuildPath(i,1)}},n.applyTransform=function(a){zz(r,a),this.dirtyShape()},n}function _Te(t,e){return new Gz(Hz(t,e))}function xTe(t,e){var r=Hz(t,e),n=function(a){Ce(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return i}(Gz);return n}function wTe(t,e){for(var r=[],n=t.length,a=0;a<n;a++){var i=t[a];r.push(i.getUpdatedPathProxy(!0))}var o=new yt(e);return o.createPathProxy(),o.buildPath=function(s){if(Wz(s)){s.appendPath(r);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function SE(t,e){e=e||{};var r=new yt;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?zz(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var STe=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),P1=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new STe},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(yt);P1.prototype.type="circle";var bTe=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),bE=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new bTe},e.prototype.buildPath=function(r,n){var a=.5522848,i=n.cx,o=n.cy,s=n.rx,u=n.ry,l=s*a,f=u*a;r.moveTo(i-s,o),r.bezierCurveTo(i-s,o-f,i-l,o-u,i,o-u),r.bezierCurveTo(i+l,o-u,i+s,o-f,i+s,o),r.bezierCurveTo(i+s,o+f,i+l,o+u,i,o+u),r.bezierCurveTo(i-l,o+u,i-s,o+f,i-s,o),r.closePath()},e}(yt);bE.prototype.type="ellipse";var jz=Math.PI,Vw=jz*2,Bu=Math.sin,vc=Math.cos,TTe=Math.acos,nn=Math.atan2,l3=Math.abs,Mp=Math.sqrt,rp=Math.max,Di=Math.min,Ka=1e-4;function CTe(t,e,r,n,a,i,o,s){var u=r-t,l=n-e,f=o-a,c=s-i,h=c*u-f*l;if(!(h*h<Ka))return h=(f*(e-i)-c*(t-a))/h,[t+h*u,e+h*l]}function Pg(t,e,r,n,a,i,o){var s=t-r,u=e-n,l=(o?i:-i)/Mp(s*s+u*u),f=l*u,c=-l*s,h=t+f,p=e+c,v=r+f,g=n+c,y=(h+v)/2,m=(p+g)/2,d=v-h,_=g-p,x=d*d+_*_,w=a-i,S=h*g-v*p,b=(_<0?-1:1)*Mp(rp(0,w*w*x-S*S)),T=(S*_-d*b)/x,C=(-S*d-_*b)/x,M=(S*_+d*b)/x,D=(-S*d+_*b)/x,E=T-y,k=C-m,O=M-y,A=D-m;return E*E+k*k>O*O+A*A&&(T=M,C=D),{cx:T,cy:C,x0:-f,y0:-c,x1:T*(a/w-1),y1:C*(a/w-1)}}function ETe(t){var e;if(Le(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function DTe(t,e){var r,n=rp(e.r,0),a=rp(e.r0||0,0),i=n>0,o=a>0;if(!(!i&&!o)){if(i||(n=a,a=0),a>n){var s=n;n=a,a=s}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var f=e.cx,c=e.cy,h=!!e.clockwise,p=l3(l-u),v=p>Vw&&p%Vw;if(v>Ka&&(p=v),!(n>Ka))t.moveTo(f,c);else if(p>Vw-Ka)t.moveTo(f+n*vc(u),c+n*Bu(u)),t.arc(f,c,n,u,l,!h),a>Ka&&(t.moveTo(f+a*vc(l),c+a*Bu(l)),t.arc(f,c,a,l,u,h));else{var g=void 0,y=void 0,m=void 0,d=void 0,_=void 0,x=void 0,w=void 0,S=void 0,b=void 0,T=void 0,C=void 0,M=void 0,D=void 0,E=void 0,k=void 0,O=void 0,A=n*vc(u),I=n*Bu(u),U=a*vc(l),P=a*Bu(l),B=p>Ka;if(B){var W=e.cornerRadius;W&&(r=ETe(W),g=r[0],y=r[1],m=r[2],d=r[3]);var H=l3(n-a)/2;if(_=Di(H,m),x=Di(H,d),w=Di(H,g),S=Di(H,y),C=b=rp(_,x),M=T=rp(w,S),(b>Ka||T>Ka)&&(D=n*vc(l),E=n*Bu(l),k=a*vc(u),O=a*Bu(u),p<jz)){var $=CTe(A,I,k,O,D,E,U,P);if($){var q=A-$[0],Q=I-$[1],Y=D-$[0],ie=E-$[1],J=1/Bu(TTe((q*Y+Q*ie)/(Mp(q*q+Q*Q)*Mp(Y*Y+ie*ie)))/2),ae=Mp($[0]*$[0]+$[1]*$[1]);C=Di(b,(n-ae)/(J+1)),M=Di(T,(a-ae)/(J-1))}}}if(!B)t.moveTo(f+A,c+I);else if(C>Ka){var re=Di(m,C),V=Di(d,C),R=Pg(k,O,A,I,n,re,h),F=Pg(D,E,U,P,n,V,h);t.moveTo(f+R.cx+R.x0,c+R.cy+R.y0),C<b&&re===V?t.arc(f+R.cx,c+R.cy,C,nn(R.y0,R.x0),nn(F.y0,F.x0),!h):(re>0&&t.arc(f+R.cx,c+R.cy,re,nn(R.y0,R.x0),nn(R.y1,R.x1),!h),t.arc(f,c,n,nn(R.cy+R.y1,R.cx+R.x1),nn(F.cy+F.y1,F.cx+F.x1),!h),V>0&&t.arc(f+F.cx,c+F.cy,V,nn(F.y1,F.x1),nn(F.y0,F.x0),!h))}else t.moveTo(f+A,c+I),t.arc(f,c,n,u,l,!h);if(!(a>Ka)||!B)t.lineTo(f+U,c+P);else if(M>Ka){var re=Di(g,M),V=Di(y,M),R=Pg(U,P,D,E,a,-V,h),F=Pg(A,I,k,O,a,-re,h);t.lineTo(f+R.cx+R.x0,c+R.cy+R.y0),M<T&&re===V?t.arc(f+R.cx,c+R.cy,M,nn(R.y0,R.x0),nn(F.y0,F.x0),!h):(V>0&&t.arc(f+R.cx,c+R.cy,V,nn(R.y0,R.x0),nn(R.y1,R.x1),!h),t.arc(f,c,a,nn(R.cy+R.y1,R.cx+R.x1),nn(F.cy+F.y1,F.cx+F.x1),h),re>0&&t.arc(f+F.cx,c+F.cy,re,nn(F.y1,F.x1),nn(F.y0,F.x0),!h))}else t.lineTo(f+U,c+P),t.arc(f,c,a,l,u,h)}t.closePath()}}}var OTe=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Qs=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new OTe},e.prototype.buildPath=function(r,n){DTe(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(yt);Qs.prototype.type="sector";var MTe=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),TE=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new MTe},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.PI*2;r.moveTo(a+n.r,i),r.arc(a,i,n.r,0,o,!1),r.moveTo(a+n.r0,i),r.arc(a,i,n.r0,0,o,!0)},e}(yt);TE.prototype.type="ring";function LTe(t,e,r,n){var a=[],i=[],o=[],s=[],u,l,f,c;if(n){f=[1/0,1/0],c=[-1/0,-1/0];for(var h=0,p=t.length;h<p;h++)Uc(f,f,t[h]),zc(c,c,t[h]);Uc(f,f,n[0]),zc(c,c,n[1])}for(var h=0,p=t.length;h<p;h++){var v=t[h];if(r)u=t[h?h-1:p-1],l=t[(h+1)%p];else if(h===0||h===p-1){a.push(uwe(t[h]));continue}else u=t[h-1],l=t[h+1];lwe(i,l,u),tw(i,i,e);var g=$b(v,u),y=$b(v,l),m=g+y;m!==0&&(g/=m,y/=m),tw(o,i,-g),tw(s,i,y);var d=tA([],v,o),_=tA([],v,s);n&&(zc(d,d,f),Uc(d,d,c),zc(_,_,f),Uc(_,_,c)),a.push(d),a.push(_)}return r&&a.push(a.shift()),a}function $z(t,e,r){var n=e.smooth,a=e.points;if(a&&a.length>=2){if(n){var i=LTe(a,n,r,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(r?o:o-1);s++){var u=i[s*2],l=i[s*2+1],f=a[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],f[0],f[1])}}else{t.moveTo(a[0][0],a[0][1]);for(var s=1,c=a.length;s<c;s++)t.lineTo(a[s][0],a[s][1])}r&&t.closePath()}}var kTe=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Yf=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new kTe},e.prototype.buildPath=function(r,n){$z(r,n,!0)},e}(yt);Yf.prototype.type="polygon";var RTe=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),gd=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new RTe},e.prototype.buildPath=function(r,n){$z(r,n,!1)},e}(yt);gd.prototype.type="polyline";var ATe={},NTe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),eu=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new NTe},e.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var u=Mz(ATe,n,this.style);a=u.x1,i=u.y1,o=u.x2,s=u.y2}else a=n.x1,i=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(r.moveTo(a,i),l<1&&(o=a*(1-l)+o*l,s=i*(1-l)+s*l),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(yt);eu.prototype.type="line";var En=[],FTe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function c3(t,e,r){var n=t.cpx2,a=t.cpy2;return n!=null||a!=null?[(r?pA:Jr)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?pA:Jr)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?vA:Mn)(t.x1,t.cpx1,t.x2,e),(r?vA:Mn)(t.y1,t.cpy1,t.y2,e)]}var CE=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new FTe},e.prototype.buildPath=function(r,n){var a=n.x1,i=n.y1,o=n.x2,s=n.y2,u=n.cpx1,l=n.cpy1,f=n.cpx2,c=n.cpy2,h=n.percent;h!==0&&(r.moveTo(a,i),f==null||c==null?(h<1&&(Yy(a,u,o,h,En),u=En[1],o=En[2],Yy(i,l,s,h,En),l=En[1],s=En[2]),r.quadraticCurveTo(u,l,o,s)):(h<1&&(qs(a,u,f,o,h,En),u=En[1],f=En[2],o=En[3],qs(i,l,c,s,h,En),l=En[1],c=En[2],s=En[3]),r.bezierCurveTo(u,l,f,c,o,s)))},e.prototype.pointAt=function(r){return c3(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=c3(this.shape,r,!0);return hwe(n,n)},e}(yt);CE.prototype.type="bezier-curve";var BTe=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),U1=function(t){Ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new BTe},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,f=Math.cos(s),c=Math.sin(s);r.moveTo(f*o+a,c*o+i),r.arc(a,i,o,s,u,!l)},e}(yt);U1.prototype.type="arc";var ITe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),a=0;a<r.length;a++)n=n||r[a].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),a=0;a<r.length;a++)r[a].path||r[a].createPathProxy(),r[a].path.setScale(n[0],n[1],r[a].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var a=n.paths||[],i=0;i<a.length;i++)a[i].buildPath(r,a[i].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),yt.prototype.getBoundingRect.call(this)},e}(yt),Kz=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}(),Xz=function(t){Ce(e,t);function e(r,n,a,i,o,s){var u=t.call(this,o)||this;return u.x=r??0,u.y=n??0,u.x2=a??1,u.y2=i??0,u.type="linear",u.global=s||!1,u}return e}(Kz),VTe=function(t){Ce(e,t);function e(r,n,a,i,o){var s=t.call(this,i)||this;return s.x=r??.5,s.y=n??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return e}(Kz),Iu=[0,0],Vu=[0,0],Ug=new Et,zg=new Et,am=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Et;for(var n=0;n<2;n++)this._axes[n]=new Et;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,a=this._axes,i=e.x,o=e.y,s=i+e.width,u=o+e.height;if(n[0].set(i,o),n[1].set(s,o),n[2].set(s,u),n[3].set(i,u),r)for(var l=0;l<4;l++)n[l].transform(r);Et.sub(a[0],n[1],n[0]),Et.sub(a[1],n[3],n[0]),a[0].normalize(),a[1].normalize();for(var l=0;l<2;l++)this._origin[l]=a[l].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,a=!r;return Ug.set(1/0,1/0),zg.set(0,0),!this._intersectCheckOneSide(this,e,Ug,zg,a,1)&&(n=!1,a)||!this._intersectCheckOneSide(e,this,Ug,zg,a,-1)&&(n=!1,a)||a||Et.copy(r,n?Ug:zg),n},t.prototype._intersectCheckOneSide=function(e,r,n,a,i,o){for(var s=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,Iu),this._getProjMinMaxOnAxis(u,r._corners,Vu),Iu[1]<Vu[0]||Iu[0]>Vu[1]){if(s=!1,i)return s;var f=Math.abs(Vu[0]-Iu[1]),c=Math.abs(Iu[0]-Vu[1]);Math.min(f,c)>a.len()&&(f<c?Et.scale(a,l,-f*o):Et.scale(a,l,c*o))}else if(n){var f=Math.abs(Vu[0]-Iu[1]),c=Math.abs(Iu[0]-Vu[1]);Math.min(f,c)<n.len()&&(f<c?Et.scale(n,l,f*o):Et.scale(n,l,-c*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var a=this._axes[e],i=this._origin,o=r[0].dot(a)+i[e],s=o,u=o,l=1;l<r.length;l++){var f=r[l].dot(a)+i[e];s=Math.min(f,s),u=Math.max(f,u)}n[0]=s,n[1]=u},t}(),PTe=[],UTe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var a=0;a<r.length;a++)this.addDisplayable(r[a],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Dt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var a=this._displayables[n],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(PTe)),r.union(i)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e}(Xf),Yz=_r();function z1(t,e,r,n,a){var i;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();i=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var l=void 0,f=void 0,c=void 0;n?(l=pt(n.duration,200),f=pt(n.easing,"cubicOut"),c=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),f=e.getShallow(u?"animationEasingUpdate":"animationEasing"),c=e.getShallow(u?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(l=i.duration),i.easing!=null&&(f=i.easing),i.delay!=null&&(c=i.delay)),et(c)&&(c=c(r,a)),et(l)&&(l=l(r));var h={duration:l||0,delay:c,easing:f};return h}else return null}function EE(t,e,r,n,a,i,o){var s=!1,u;et(a)?(o=i,i=a,a=null):Ue(a)&&(i=a.cb,o=a.during,s=a.isFrom,u=a.removeOpt,a=a.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var f=z1(t,n,a,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null);if(f&&f.duration>0){var c=f.duration,h=f.delay,p=f.easing,v={duration:c,delay:h||0,easing:p,done:i,force:!!i||!!o,setToFinal:!l,scope:t,during:o};s?e.animateFrom(r,v):e.animateTo(r,v)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),i&&i()}function Wn(t,e,r,n,a,i){EE("update",t,e,r,n,a,i)}function li(t,e,r,n,a,i){EE("enter",t,e,r,n,a,i)}function Lp(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function im(t,e,r,n,a,i){Lp(t)||EE("leave",t,e,r,n,a,i)}function f3(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),im(t,{style:{opacity:0}},e,r,n)}function gT(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(a){a.isGroup||f3(a,e,r,n)}):f3(t,e,r,n)}function DE(t){Yz(t).oldStyle=t.style}function zTe(t){return Yz(t).oldStyle}var om=Math.max,sm=Math.min,yT={};function GTe(t){return yt.extend(t)}var WTe=xTe;function HTe(t,e){return WTe(t,e)}function gi(t,e){yT[t]=e}function jTe(t){if(yT.hasOwnProperty(t))return yT[t]}function OE(t,e,r,n){var a=_Te(t,e);return r&&(n==="center"&&(r=Zz(r,a.getBoundingRect())),Jz(a,r)),a}function qz(t,e,r){var n=new uu({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(a){if(r==="center"){var i={width:a.width,height:a.height};n.setStyle(Zz(e,i))}}});return n}function Zz(t,e){var r=e.width/e.height,n=t.height*r,a;n<=t.width?a=t.height:(n=t.width,a=n/r);var i=t.x+t.width/2,o=t.y+t.height/2;return{x:i-n/2,y:o-a/2,width:n,height:a}}var $Te=wTe;function Jz(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function Sv(t,e){return Mz(t,t,{lineWidth:e}),t}function KTe(t){return Lz(t.shape,t.shape,t.style),t}var J0=ul;function G1(t,e){for(var r=lE([]);t&&t!==e;)af(r,t.getLocalTransform(),r),t=t.parent;return r}function bv(t,e,r){return e&&!zn(e)&&(e=L1.getLocalTransform(e)),r&&(e=fE([],e)),Oa([],t,e)}function ME(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),a=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),i=[t==="left"?-n:t==="right"?n:0,t==="top"?-a:t==="bottom"?a:0];return i=bv(i,e,r),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function h3(t){return!t.isGroup}function XTe(t){return t.shape!=null}function Qz(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(u){h3(u)&&u.anid&&(s[u.anid]=u)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return XTe(o)&&(s.shape=Me({},o.shape)),s}var i=n(t);e.traverse(function(o){if(h3(o)&&o.anid){var s=i[o.anid];if(s){var u=a(o);o.attr(a(s)),Wn(o,u,r,Ft(o).dataIndex)}}})}function eG(t,e){return Ne(t,function(r){var n=r[0];n=om(n,e.x),n=sm(n,e.x+e.width);var a=r[1];return a=om(a,e.y),a=sm(a,e.y+e.height),[n,a]})}function YTe(t,e){var r=om(t.x,e.x),n=sm(t.x+t.width,e.x+e.width),a=om(t.y,e.y),i=sm(t.y+t.height,e.y+e.height);if(n>=r&&i>=a)return{x:r,y:a,width:n-r,height:i-a}}function W1(t,e,r){var n=Me({rectHover:!0},e),a=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(a.image=t.slice(8),ot(a,r),new uu(n)):OE(t.replace("path://",""),n,r,"center")}function np(t,e,r,n,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(tG(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function tG(t,e,r,n,a,i,o,s){var u=r-t,l=n-e,f=o-a,c=s-i,h=Pw(f,c,u,l);if(qTe(h))return!1;var p=t-a,v=e-i,g=Pw(p,v,u,l)/h;if(g<0||g>1)return!1;var y=Pw(p,v,f,c)/h;return!(y<0||y>1)}function Pw(t,e,r,n){return t*n-r*e}function qTe(t){return t<=1e-6&&t>=-1e-6}function yd(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,a=Ie(e)?{formatter:e}:e,i=r.mainType,o=r.componentIndex,s={componentType:i,name:n,$vars:["name"]};s[i+"Index"]=o;var u=t.formatterParamsExtra;u&&oe(tr(u),function(f){zl(s,f)||(s[f]=u[f],s.$vars.push(f))});var l=Ft(t.el);l.componentMainType=i,l.componentIndex=o,l.tooltipConfig={name:n,option:ot({content:n,encodeHTMLContent:!0,formatterParams:s},a)}}function p3(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function md(t,e){if(t)if(Le(t))for(var r=0;r<t.length;r++)p3(t[r],e);else p3(t,e)}gi("circle",P1);gi("ellipse",bE);gi("sector",Qs);gi("ring",TE);gi("polygon",Yf);gi("polyline",gd);gi("rect",Yt);gi("line",eu);gi("bezierCurve",CE);gi("arc",U1);const ZTe=Object.freeze(Object.defineProperty({__proto__:null,Arc:U1,BezierCurve:CE,BoundingRect:Dt,Circle:P1,CompoundPath:ITe,Ellipse:bE,Group:yr,Image:uu,IncrementalDisplayable:UTe,Line:eu,LinearGradient:Xz,OrientedBoundingRect:am,Path:yt,Point:Et,Polygon:Yf,Polyline:gd,RadialGradient:VTe,Rect:Yt,Ring:TE,Sector:Qs,Text:Gr,applyTransform:bv,clipPointsByRect:eG,clipRectByRect:YTe,createIcon:W1,extendPath:HTe,extendShape:GTe,getShapeClass:jTe,getTransform:G1,groupTransition:Qz,initProps:li,isElementRemoved:Lp,lineLineIntersect:tG,linePolygonIntersect:np,makeImage:qz,makePath:OE,mergePath:$Te,registerShape:gi,removeElement:im,removeElementWithFadeOut:gT,resizePath:Jz,setTooltipConfig:yd,subPixelOptimize:J0,subPixelOptimizeLine:Sv,subPixelOptimizeRect:KTe,transformDirection:ME,traverseElements:md,updateProps:Wn},Symbol.toStringTag,{value:"Module"}));var H1={};function JTe(t,e){for(var r=0;r<Xi.length;r++){var n=Xi[r],a=e[n],i=t.ensureState(n);i.style=i.style||{},i.style.text=a}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function v3(t,e,r){var n=t.labelFetcher,a=t.labelDataIndex,i=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=et(t.defaultText)?t.defaultText(a,t,r):t.defaultText);for(var u={normal:s},l=0;l<Xi.length;l++){var f=Xi[l],c=e[f];u[f]=pt(n?n.getFormattedLabel(a,f,null,i,c&&c.get("formatter")):null,s)}return u}function j1(t,e,r,n){r=r||H1;for(var a=t instanceof Gr,i=!1,o=0;o<ZA.length;o++){var s=e[ZA[o]];if(s&&s.getShallow("show")){i=!0;break}}var u=a?t:t.getTextContent();if(i){a||(u||(u=new Gr,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=v3(r,e),f=e.normal,c=!!f.getShallow("show"),h=jo(f,n&&n.normal,r,!1,!a);h.text=l.normal,a||t.setTextConfig(d3(f,r,!1));for(var o=0;o<Xi.length;o++){var p=Xi[o],s=e[p];if(s){var v=u.ensureState(p),g=!!pt(s.getShallow("show"),c);if(g!==c&&(v.ignore=!g),v.style=jo(s,n&&n[p],r,!0,!a),v.style.text=l[p],!a){var y=t.ensureState(p);y.textConfig=d3(s,r,!0)}}}u.silent=!!f.getShallow("silent"),u.style.x!=null&&(h.x=u.style.x),u.style.y!=null&&(h.y=u.style.y),u.ignore=!c,u.useStyle(h),u.dirty(),r.enableTextSetter&&(K1(u).setLabelText=function(m){var d=v3(r,e,m);JTe(u,d)})}else u&&(u.ignore=!0);t.dirty()}function $1(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<Xi.length;n++){var a=Xi[n];r[a]=t.getModel([a,e])}return r}function jo(t,e,r,n,a){var i={};return QTe(i,t,r,n,a),e&&Me(i,e),i}function d3(t,e,r){e=e||{};var n={},a,i=t.getShallow("rotate"),o=pt(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return a=t.getShallow("position")||(r?null:"inside"),a==="outside"&&(a=e.defaultOutsidePosition||"top"),a!=null&&(n.position=a),s!=null&&(n.offset=s),i!=null&&(i*=Math.PI/180,n.rotation=i),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function QTe(t,e,r,n,a){r=r||H1;var i=e.ecModel,o=i&&i.option.textStyle,s=eCe(e),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var f=e.getModel(["rich",l]);_3(u[l]={},f,o,r,n,a,!1,!0)}}u&&(t.rich=u);var c=e.get("overflow");c&&(t.overflow=c);var h=e.get("minMargin");h!=null&&(t.margin=h),_3(t,e,o,r,n,a,!0,!1)}function eCe(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||H1).rich;if(r){e=e||{};for(var n=tr(r),a=0;a<n.length;a++){var i=n[a];e[i]=1}}t=t.parentModel}return e}var g3=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],y3=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],m3=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function _3(t,e,r,n,a,i,o,s){r=!a&&r||H1;var u=n&&n.inheritColor,l=e.getShallow("color"),f=e.getShallow("textBorderColor"),c=pt(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(f==="inherit"||f==="auto")&&(u?f=u:f=null),i||(l=l||r.color,f=f||r.textBorderColor),l!=null&&(t.fill=l),f!=null&&(t.stroke=f);var h=pt(e.getShallow("textBorderWidth"),r.textBorderWidth);h!=null&&(t.lineWidth=h);var p=pt(e.getShallow("textBorderType"),r.textBorderType);p!=null&&(t.lineDash=p);var v=pt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);v!=null&&(t.lineDashOffset=v),!a&&c==null&&!s&&(c=n&&n.defaultOpacity),c!=null&&(t.opacity=c),!a&&!i&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<g3.length;g++){var y=g3[g],m=pt(e.getShallow(y),r[y]);m!=null&&(t[y]=m)}for(var g=0;g<y3.length;g++){var y=y3[g],m=e.getShallow(y);m!=null&&(t[y]=m)}if(t.verticalAlign==null){var d=e.getShallow("baseline");d!=null&&(t.verticalAlign=d)}if(!o||!n.disableBox){for(var g=0;g<m3.length;g++){var y=m3[g],m=e.getShallow(y);m!=null&&(t[y]=m)}var _=e.getShallow("borderType");_!=null&&(t.borderDash=_),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function rG(t,e){var r=e&&e.getModel("textStyle");return Pi([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var K1=_r();function tCe(t,e,r,n){if(t){var a=K1(t);a.prevValue=a.value,a.value=r;var i=e.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=n,a.statesModels=e)}}var rCe=["textStyle","color"],Uw=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],zw=new Gr,nCe=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(rCe):null)},t.prototype.getFont=function(){return rG({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Uw.length;n++)r[Uw[n]]=this.getShallow(Uw[n]);return zw.useStyle(r),zw.update(),zw.getBoundingRect()},t}(),nG=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],aCe=xv(nG),iCe=function(){function t(){}return t.prototype.getLineStyle=function(e){return aCe(this,e)},t}(),aG=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],oCe=xv(aG),sCe=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return oCe(this,e,r)},t}(),cr=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){ct(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,a=n==null?n:n[e];if(a==null&&!r){var i=this.parentModel;i&&(a=i.getShallow(e))}return a},t.prototype.getModel=function(e,r){var n=e!=null,a=n?this.parsePath(e):null,i=n?this._doGet(a):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new t(i,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Ze(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Qe.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var a=0;a<e.length&&!(e[a]&&(n=n&&typeof n=="object"?n[e[a]]:null,n==null));a++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();yE(cr);ebe(cr);di(cr,iCe);di(cr,sCe);di(cr,ibe);di(cr,nCe);var uCe=Math.round(Math.random()*10);function _d(t){return[t||"",uCe++].join("_")}function lCe(t){var e={};t.registerSubTypeDefaulter=function(r,n){var a=Ui(r);e[a.main]=n},t.determineSubType=function(r,n){var a=n.type;if(!a){var i=Ui(r).main;t.hasSubTypes(r)&&e[i]&&(a=e[i](n))}return a}}function cCe(t,e){t.topologicalTravel=function(i,o,s,u){if(!i.length)return;var l=r(o),f=l.graph,c=l.noEntryList,h={};for(oe(i,function(d){h[d]=!0});c.length;){var p=c.pop(),v=f[p],g=!!h[p];g&&(s.call(u,p,v.originalDeps.slice()),delete h[p]),oe(v.successor,g?m:y)}oe(h,function(){var d="";throw new Error(d)});function y(d){f[d].entryCount--,f[d].entryCount===0&&c.push(d)}function m(d){h[d]=!0,y(d)}};function r(i){var o={},s=[];return oe(i,function(u){var l=n(o,u),f=l.originalDeps=e(u),c=a(f,i);l.entryCount=c.length,l.entryCount===0&&s.push(u),oe(c,function(h){St(l.predecessor,h)<0&&l.predecessor.push(h);var p=n(o,h);St(p.successor,h)<0&&p.successor.push(u)})}),{graph:o,noEntryList:s}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return oe(i,function(u){St(o,u)>=0&&s.push(u)}),s}}function X1(t,e){return ct(ct({},t,!0),e,!0)}const fCe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},hCe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var um="ZH",LE="EN",sf=LE,Q0={},kE={},iG=Qe.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||sf).toUpperCase();return t.indexOf(um)>-1?um:sf}():sf;function oG(t,e){t=t.toUpperCase(),kE[t]=new cr(e),Q0[t]=e}function pCe(t){if(Ie(t)){var e=Q0[t.toUpperCase()]||{};return t===um||t===LE?Ze(e):ct(Ze(e),Ze(Q0[sf]),!1)}else return ct(Ze(t),Ze(Q0[sf]),!1)}function vCe(t){return kE[t]}function dCe(){return kE[sf]}oG(LE,fCe);oG(um,hCe);var RE=1e3,AE=RE*60,kp=AE*60,wa=kp*24,x3=wa*365,ap={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Gg="{yyyy}-{MM}-{dd}",w3={year:"{yyyy}",month:"{yyyy}-{MM}",day:Gg,hour:Gg+" "+ap.hour,minute:Gg+" "+ap.minute,second:Gg+" "+ap.second,millisecond:ap.none},Gw=["year","month","day","hour","minute","second","millisecond"],sG=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function ss(t,e){return t+="","0000".substr(0,e-t.length)+t}function uf(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function gCe(t){return t===uf(t)}function yCe(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Y1(t,e,r,n){var a=Ho(t),i=a[NE(r)](),o=a[lf(r)]()+1,s=Math.floor((o-1)/3)+1,u=a[q1(r)](),l=a["get"+(r?"UTC":"")+"Day"](),f=a[Tv(r)](),c=(f-1)%12+1,h=a[Z1(r)](),p=a[J1(r)](),v=a[Q1(r)](),g=f>=12?"pm":"am",y=g.toUpperCase(),m=n instanceof cr?n:vCe(n||iG)||dCe(),d=m.getModel("time"),_=d.get("month"),x=d.get("monthAbbr"),w=d.get("dayOfWeek"),S=d.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,ss(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,_[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,ss(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,ss(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,w[l]).replace(/{ee}/g,S[l]).replace(/{e}/g,l+"").replace(/{HH}/g,ss(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,ss(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,ss(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,ss(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,ss(v,3)).replace(/{S}/g,v+"")}function mCe(t,e,r,n,a){var i=null;if(Ie(r))i=r;else if(et(r))i=r(t.value,e,{level:t.level});else{var o=Me({},ap);if(t.level>0)for(var s=0;s<Gw.length;++s)o[Gw[s]]="{primary|"+o[Gw[s]]+"}";var u=r?r.inherit===!1?r:ot(r,o):o,l=uG(t.value,a);if(u[l])i=u[l];else if(u.inherit){for(var f=sG.indexOf(l),s=f-1;s>=0;--s)if(u[l]){i=u[l];break}i=i||o.none}if(Le(i)){var c=t.level==null?0:t.level>=0?t.level:i.length+t.level;c=Math.min(c,i.length-1),i=i[c]}}return Y1(new Date(t.value),i,a,n)}function uG(t,e){var r=Ho(t),n=r[lf(e)]()+1,a=r[q1(e)](),i=r[Tv(e)](),o=r[Z1(e)](),s=r[J1(e)](),u=r[Q1(e)](),l=u===0,f=l&&s===0,c=f&&o===0,h=c&&i===0,p=h&&a===1,v=p&&n===1;return v?"year":p?"month":h?"day":c?"hour":f?"minute":l?"second":"millisecond"}function S3(t,e,r){var n=rr(t)?Ho(t):t;switch(e=e||uG(t,r),e){case"year":return n[NE(r)]();case"half-year":return n[lf(r)]()>=6?1:0;case"quarter":return Math.floor((n[lf(r)]()+1)/4);case"month":return n[lf(r)]();case"day":return n[q1(r)]();case"half-day":return n[Tv(r)]()/24;case"hour":return n[Tv(r)]();case"minute":return n[Z1(r)]();case"second":return n[J1(r)]();case"millisecond":return n[Q1(r)]()}}function NE(t){return t?"getUTCFullYear":"getFullYear"}function lf(t){return t?"getUTCMonth":"getMonth"}function q1(t){return t?"getUTCDate":"getDate"}function Tv(t){return t?"getUTCHours":"getHours"}function Z1(t){return t?"getUTCMinutes":"getMinutes"}function J1(t){return t?"getUTCSeconds":"getSeconds"}function Q1(t){return t?"getUTCMilliseconds":"getMilliseconds"}function _Ce(t){return t?"setUTCFullYear":"setFullYear"}function lG(t){return t?"setUTCMonth":"setMonth"}function cG(t){return t?"setUTCDate":"setDate"}function fG(t){return t?"setUTCHours":"setHours"}function hG(t){return t?"setUTCMinutes":"setMinutes"}function pG(t){return t?"setUTCSeconds":"setSeconds"}function vG(t){return t?"setUTCMilliseconds":"setMilliseconds"}function dG(t){if(!RSe(t))return Ie(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function gG(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var e_=G8;function mT(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(f){return f&&Pi(f)?f:"-"}function i(f){return!!(f!=null&&!isNaN(f)&&isFinite(f))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?Ho(t):t;if(isNaN(+u)){if(s)return"-"}else return Y1(u,n,r)}if(e==="ordinal")return Hb(t)?a(t):rr(t)&&i(t)?t+"":"-";var l=em(t);return i(l)?dG(l):Hb(t)?a(t):typeof t=="boolean"?t+"":"-"}var b3=["a","b","c","d","e","f","g"],Ww=function(t,e){return"{"+t+(e??"")+"}"};function yG(t,e,r){Le(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],i=0;i<a.length;i++){var o=b3[i];t=t.replace(Ww(o),Ww(o,0))}for(var s=0;s<n;s++)for(var u=0;u<a.length;u++){var l=e[s][a[u]];t=t.replace(Ww(b3[u],s),r?On(l):l)}return t}function xCe(t,e){var r=Ie(t)?{color:t,extraCssText:e}:t||{},n=r.color,a=r.type;e=r.extraCssText;var i=r.renderMode||"html";if(!n)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+On(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+On(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Wl(t,e){return e=e||"transparent",Ie(t)?t:Ue(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function T3(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var ey=oe,wCe=["left","right","top","bottom","width","height"],Wg=[["width","left","right"],["height","top","bottom"]];function FE(t,e,r,n,a){var i=0,o=0;n==null&&(n=1/0),a==null&&(a=1/0);var s=0;e.eachChild(function(u,l){var f=u.getBoundingRect(),c=e.childAt(l+1),h=c&&c.getBoundingRect(),p,v;if(t==="horizontal"){var g=f.width+(h?-h.x+f.x:0);p=i+g,p>n||u.newline?(i=0,p=g,o+=s+r,s=f.height):s=Math.max(s,f.height)}else{var y=f.height+(h?-h.y+f.y:0);v=o+y,v>a||u.newline?(i+=s+r,o=0,v=y,s=f.width):s=Math.max(s,f.width)}u.newline||(u.x=i,u.y=o,u.markRedraw(),t==="horizontal"?i=p+r:o=v+r)})}var cf=FE;Mt(FE,"vertical");Mt(FE,"horizontal");function tu(t,e,r){r=e_(r||0);var n=e.width,a=e.height,i=Lr(t.left,n),o=Lr(t.top,a),s=Lr(t.right,n),u=Lr(t.bottom,a),l=Lr(t.width,n),f=Lr(t.height,a),c=r[2]+r[0],h=r[1]+r[3],p=t.aspect;switch(isNaN(l)&&(l=n-s-h-i),isNaN(f)&&(f=a-u-c-o),p!=null&&(isNaN(l)&&isNaN(f)&&(p>n/a?l=n*.8:f=a*.8),isNaN(l)&&(l=p*f),isNaN(f)&&(f=l/p)),isNaN(i)&&(i=n-s-l-h),isNaN(o)&&(o=a-u-f-c),t.left||t.right){case"center":i=n/2-l/2-r[3];break;case"right":i=n-l-h;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-f/2-r[0];break;case"bottom":o=a-f-c;break}i=i||0,o=o||0,isNaN(l)&&(l=n-h-i-(s||0)),isNaN(f)&&(f=a-c-o-(u||0));var v=new Dt(i+r[3],o+r[0],l,f);return v.margin=r,v}function SCe(t,e,r,n,a,i){i=i||t,i.x=t.x,i.y=t.y;var o;if(o=t.getBoundingRect(),t.needLocalTransform()){var s=t.getLocalTransform();o=o.clone(),o.applyTransform(s)}var u=tu(ot({width:o.width,height:o.height},e),r,n),l=u.x-o.x,f=u.y-o.y;return i.x+=l,i.y+=f,i===t&&t.markRedraw(),!0}function Cv(t){var e=t.layoutMode||t.constructor.layoutMode;return Ue(e)?e:e?{type:e}:null}function Mf(t,e,r){var n=r&&r.ignoreSize;!Le(n)&&(n=[n,n]);var a=o(Wg[0],0),i=o(Wg[1],1);l(Wg[0],t,a),l(Wg[1],t,i);function o(f,c){var h={},p=0,v={},g=0,y=2;if(ey(f,function(_){v[_]=t[_]}),ey(f,function(_){s(e,_)&&(h[_]=v[_]=e[_]),u(h,_)&&p++,u(v,_)&&g++}),n[c])return u(e,f[1])?v[f[2]]=null:u(e,f[2])&&(v[f[1]]=null),v;if(g===y||!p)return v;if(p>=y)return h;for(var m=0;m<f.length;m++){var d=f[m];if(!s(h,d)&&s(t,d)){h[d]=t[d];break}}return h}function s(f,c){return f.hasOwnProperty(c)}function u(f,c){return f[c]!=null&&f[c]!=="auto"}function l(f,c,h){ey(f,function(p){c[p]=h[p]})}}function xd(t){return bCe({},t)}function bCe(t,e){return e&&t&&ey(wCe,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var TCe=_r(),Nt=function(t){Ce(e,t);function e(r,n,a){var i=t.call(this,r,n,a)||this;return i.uid=_d("ec_cpt_model"),i}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a)},e.prototype.mergeDefaultAndTheme=function(r,n){var a=Cv(this),i=a?xd(r):{},o=n.getTheme();ct(r,o.get(this.mainType)),ct(r,this.getDefaultOption()),a&&Mf(r,i,a)},e.prototype.mergeOption=function(r,n){ct(this.option,r,!0);var a=Cv(this);a&&Mf(this.option,r,a)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!ZSe(r))return r.defaultOption;var n=TCe(this);if(!n.defaultOption){for(var a=[],i=r;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},u=a.length-1;u>=0;u--)s=ct(s,a[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var a=r+"Index",i=r+"Id";return dd(this.ecModel,r,{index:this.get(a,!0),id:this.get(i,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(cr);wz(Nt,cr);A1(Nt);lCe(Nt);cCe(Nt,CCe);function CCe(t){var e=[];return oe(Nt.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Ne(e,function(r){return Ui(r).main}),t!=="dataset"&&St(e,"dataset")<=0&&e.unshift("dataset"),e}var mG="";typeof navigator<"u"&&(mG=navigator.platform||"");var dc="rgba(0, 0, 0, 0.2)";const ECe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:dc,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:dc,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:dc,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:dc,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:dc,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:dc,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mG.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var _G=Xe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ia="original",Hn="arrayRows",qi="objectRows",Jo="keyedColumns",Gs="typedArray",xG="unknown",Uo="column",qf="row",Xn={Must:1,Might:2,Not:3},wG=_r();function DCe(t){wG(t).datasetMap=Xe()}function SG(t,e,r){var n={},a=bG(e);if(!a||!t)return n;var i=[],o=[],s=e.ecModel,u=wG(s).datasetMap,l=a.uid+"_"+r.seriesLayoutBy,f,c;t=t.slice(),oe(t,function(g,y){var m=Ue(g)?g:t[y]={name:g};m.type==="ordinal"&&f==null&&(f=y,c=v(m)),n[m.name]=[]});var h=u.get(l)||u.set(l,{categoryWayDim:c,valueWayDim:0});oe(t,function(g,y){var m=g.name,d=v(g);if(f==null){var _=h.valueWayDim;p(n[m],_,d),p(o,_,d),h.valueWayDim+=d}else if(f===y)p(n[m],0,d),p(i,0,d);else{var _=h.categoryWayDim;p(n[m],_,d),p(o,_,d),h.categoryWayDim+=d}});function p(g,y,m){for(var d=0;d<m;d++)g.push(y+d)}function v(g){var y=g.dimsDef;return y?y.length:1}return i.length&&(n.itemName=i),o.length&&(n.seriesName=o),n}function bG(t){var e=t.get("data",!0);if(!e)return dd(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},bn).models[0]}function OCe(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:dd(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},bn).models}function TG(t,e){return MCe(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function MCe(t,e,r,n,a,i){var o,s=5;if(Gn(t))return Xn.Not;var u,l;if(n){var f=n[i];Ue(f)?(u=f.name,l=f.type):Ie(f)&&(u=f)}if(l!=null)return l==="ordinal"?Xn.Must:Xn.Not;if(e===Hn){var c=t;if(r===qf){for(var h=c[i],p=0;p<(h||[]).length&&p<s;p++)if((o=x(h[a+p]))!=null)return o}else for(var p=0;p<c.length&&p<s;p++){var v=c[a+p];if(v&&(o=x(v[i]))!=null)return o}}else if(e===qi){var g=t;if(!u)return Xn.Not;for(var p=0;p<g.length&&p<s;p++){var y=g[p];if(y&&(o=x(y[u]))!=null)return o}}else if(e===Jo){var m=t;if(!u)return Xn.Not;var h=m[u];if(!h||Gn(h))return Xn.Not;for(var p=0;p<h.length&&p<s;p++)if((o=x(h[p]))!=null)return o}else if(e===Ia)for(var d=t,p=0;p<d.length&&p<s;p++){var y=d[p],_=vd(y);if(!Le(_))return Xn.Not;if((o=x(_[i]))!=null)return o}function x(w){var S=Ie(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return S?Xn.Might:Xn.Not;if(S&&w!=="-")return Xn.Must}return Xn.Not}var _T=Xe();function LCe(t,e){ui(_T.get(t)==null&&e),_T.set(t,e)}function kCe(t,e,r){var n=_T.get(e);if(!n)return r;var a=n(t);return a?r.concat(a):r}var C3=_r();_r();var BE=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var a=Tr(this.get("color",!0)),i=this.get("colorLayer",!0);return ACe(this,C3,a,i,e,r,n)},t.prototype.clearColorPalette=function(){NCe(this,C3)},t}();function RCe(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function ACe(t,e,r,n,a,i,o){i=i||t;var s=e(i),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(a))return l[a];var f=o==null||!n?r:RCe(n,o);if(f=f||r,!(!f||!f.length)){var c=f[u];return a&&(l[a]=c),s.paletteIdx=(u+1)%f.length,c}}function NCe(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Hg,bh,E3,D3="\0_ec_inner",FCe=1,IE=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,a,i,o,s){i=i||{},this.option=null,this._theme=new cr(i),this._locale=new cr(o),this._optionManager=s},e.prototype.setOption=function(r,n,a){var i=L3(n);this._optionManager.setOption(r,a,i),this._resetOption(null,i)},e.prototype.resetOption=function(r,n){return this._resetOption(r,L3(n))},e.prototype._resetOption=function(r,n){var a=!1,i=this._optionManager;if(!r||r==="recreate"){var o=i.mountOption(r==="recreate");!this.option||r==="recreate"?E3(this,o):(this.restoreData(),this._mergeOption(o,n)),a=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var u=i.getMediaOption(this);u.length&&oe(u,function(l){a=!0,this._mergeOption(l,n)},this)}return a},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],u=Xe(),l=n&&n.replaceMergeMainTypeMap;DCe(this),oe(r,function(c,h){c!=null&&(Nt.hasClass(h)?h&&(s.push(h),u.set(h,!0)):a[h]=a[h]==null?Ze(c):ct(a[h],c,!0))}),l&&l.each(function(c,h){Nt.hasClass(h)&&!u.get(h)&&(s.push(h),u.set(h,!0))}),Nt.topologicalTravel(s,Nt.getAllClassMainTypes(),f,this);function f(c){var h=kCe(this,c,Tr(r[c])),p=i.get(c),v=p?l&&l.get(c)?"replaceMerge":"normalMerge":"replaceAll",g=NSe(p,h,v);GSe(g,c,Nt),a[c]=null,i.set(c,null),o.set(c,0);var y=[],m=[],d=0,_;oe(g,function(x,w){var S=x.existing,b=x.newOption;if(!b)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var T=c==="series",C=Nt.getClass(c,x.keyInfo.subType,!T);if(!C)return;if(c==="tooltip"){if(_)return;_=!0}if(S&&S.constructor===C)S.name=x.keyInfo.name,S.mergeOption(b,this),S.optionUpdated(b,!1);else{var M=Me({componentIndex:w},x.keyInfo);S=new C(b,this,this,M),Me(S,M),x.brandNew&&(S.__requireNewView=!0),S.init(b,this,this),S.optionUpdated(null,!0)}}S?(y.push(S.option),m.push(S),d++):(y.push(void 0),m.push(void 0))},this),a[c]=y,i.set(c,m),o.set(c,d),c==="series"&&Hg(this)}this._seriesIndices||Hg(this)},e.prototype.getOption=function(){var r=Ze(this.option);return oe(r,function(n,a){if(Nt.hasClass(a)){for(var i=Tr(n),o=i.length,s=!1,u=o-1;u>=0;u--)i[u]&&!_v(i[u])?s=!0:(i[u]=null,!s&&o--);i.length=o,r[a]=i}}),delete r[D3],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var a=this._componentsMap.get(r);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var a=r.index,i=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return a!=null?(u=[],oe(Tr(a),function(l){s[l]&&u.push(s[l])})):i!=null?u=O3("id",i,s):o!=null?u=O3("name",o,s):u=Mr(s,function(l){return!!l}),M3(u,r)},e.prototype.findComponents=function(r){var n=r.query,a=r.mainType,i=s(n),o=i?this.queryComponents(i):Mr(this._componentsMap.get(a),function(l){return!!l});return u(M3(o,r));function s(l){var f=a+"Index",c=a+"Id",h=a+"Name";return l&&(l[f]!=null||l[c]!=null||l[h]!=null)?{mainType:a,index:l[f],id:l[c],name:l[h]}:null}function u(l){return r.filter?Mr(l,r.filter):l}},e.prototype.eachComponent=function(r,n,a){var i=this._componentsMap;if(et(r)){var o=n,s=r;i.each(function(c,h){for(var p=0;c&&p<c.length;p++){var v=c[p];v&&s.call(o,h,v,v.componentIndex)}})}else for(var u=Ie(r)?i.get(r):Ue(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var f=u[l];f&&n.call(a,f,f.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=ji(r,null);return Mr(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return Mr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return Mr(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){bh(this),oe(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];r.call(n,i,a)},this)},e.prototype.eachRawSeries=function(r,n){oe(this._componentsMap.get("series"),function(a){a&&r.call(n,a,a.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,a){bh(this),oe(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===r&&n.call(a,o,i)},this)},e.prototype.eachRawSeriesByType=function(r,n,a){return oe(this.getSeriesByType(r),n,a)},e.prototype.isSeriesFiltered=function(r){return bh(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){bh(this);var a=[];oe(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Xe(a)},e.prototype.restoreData=function(r){Hg(this);var n=this._componentsMap,a=[];n.each(function(i,o){Nt.hasClass(o)&&a.push(o)}),Nt.topologicalTravel(a,Nt.getAllClassMainTypes(),function(i){oe(n.get(i),function(o){o&&(i!=="series"||!BCe(o,r))&&o.restoreData()})})},e.internalField=function(){Hg=function(r){var n=r._seriesIndices=[];oe(r._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),r._seriesIndicesMap=Xe(n)},bh=function(r){},E3=function(r,n){r.option={},r.option[D3]=FCe,r._componentsMap=Xe({series:[]}),r._componentsCount=Xe();var a=n.aria;Ue(a)&&a.enabled==null&&(a.enabled=!0),ICe(n,r._theme.option),ct(n,ECe,!1),r._mergeOption(n,null)}}(),e}(cr);function BCe(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,a=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||a!=null&&t.name!==a}}function ICe(t,e){var r=t.color&&!t.colorLayer;oe(e,function(n,a){a==="colorLayer"&&r||Nt.hasClass(a)||(typeof n=="object"?t[a]=t[a]?ct(t[a],n,!1):Ze(n):t[a]==null&&(t[a]=n))})}function O3(t,e,r){if(Le(e)){var n=Xe();return oe(e,function(i){if(i!=null){var o=ji(i,null);o!=null&&n.set(i,!0)}}),Mr(r,function(i){return i&&n.get(i[t])})}else{var a=ji(e,null);return Mr(r,function(i){return i&&a!=null&&i[t]===a})}}function M3(t,e){return e.hasOwnProperty("subType")?Mr(t,function(r){return r&&r.subType===e.subType}):t}function L3(t){var e=Xe();return t&&oe(Tr(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}di(IE,BE);var VCe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],CG=function(){function t(e){oe(VCe,function(r){this[r]=Ke(e[r],e)},this)}return t}(),Hw={},VE=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];oe(Hw,function(a,i){var o=a.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){oe(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){Hw[e]=r},t.get=function(e){return Hw[e]},t}(),PCe=/^(min|max)?(.+)$/,UCe=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(oe(Tr(e.series),function(o){o&&o.data&&Gn(o.data)&&jb(o.data)}),oe(Tr(e.dataset),function(o){o&&o.source&&Gn(o.source)&&jb(o.source)})),e=Ze(e);var a=this._optionBackup,i=zCe(e,r,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Ze(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var a=e.getComponent("timeline");a&&(r=Ze(n[a.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var u=0,l=a.length;u<l;u++)GCe(a[u].query,r,n)&&o.push(u);return!o.length&&i&&(o=[-1]),o.length&&!HCe(o,this._currentMediaIndices)&&(s=Ne(o,function(f){return Ze(f===-1?i.option:a[f].option)})),this._currentMediaIndices=o,s},t}();function zCe(t,e,r){var n=[],a,i,o=t.baseOption,s=t.timeline,u=t.options,l=t.media,f=!!t.media,c=!!(u||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((c||f)&&(t.options=t.media=null),i=t),f&&Le(l)&&oe(l,function(p){p&&p.option&&(p.query?n.push(p):a||(a=p))}),h(i),oe(u,function(p){return h(p)}),oe(n,function(p){return h(p.option)});function h(p){oe(e,function(v){v(p,r)})}return{baseOption:i,timelineOptions:u||[],mediaDefault:a,mediaList:n}}function GCe(t,e,r){var n={width:e,height:r,aspectratio:e/r},a=!0;return oe(t,function(i,o){var s=o.match(PCe);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();WCe(n[l],i,u)||(a=!1)}}),a}function WCe(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function HCe(t,e){return t.join(",")===e.join(",")}var Ga=oe,Ev=Ue,k3=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function jw(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=k3.length;r<n;r++){var a=k3[r],i=e.normal,o=e.emphasis;i&&i[a]&&(t[a]=t[a]||{},t[a].normal?ct(t[a].normal,i[a]):t[a].normal=i[a],i[a]=null),o&&o[a]&&(t[a]=t[a]||{},t[a].emphasis?ct(t[a].emphasis,o[a]):t[a].emphasis=o[a],o[a]=null)}}function un(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,a=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,ot(t[e],n)):t[e]=n),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a,a.focus&&(t.emphasis.focus=a.focus),a.blurScope&&(t.emphasis.blurScope=a.blurScope))}}function ip(t){un(t,"itemStyle"),un(t,"lineStyle"),un(t,"areaStyle"),un(t,"label"),un(t,"labelLine"),un(t,"upperLabel"),un(t,"edgeLabel")}function wr(t,e){var r=Ev(t)&&t[e],n=Ev(r)&&r.textStyle;if(n)for(var a=0,i=RA.length;a<i;a++){var o=RA[a];n.hasOwnProperty(o)&&(r[o]=n[o])}}function ga(t){t&&(ip(t),wr(t,"label"),t.emphasis&&wr(t.emphasis,"label"))}function jCe(t){if(Ev(t)){jw(t),ip(t),wr(t,"label"),wr(t,"upperLabel"),wr(t,"edgeLabel"),t.emphasis&&(wr(t.emphasis,"label"),wr(t.emphasis,"upperLabel"),wr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(jw(e),ga(e));var r=t.markLine;r&&(jw(r),ga(r));var n=t.markArea;n&&ga(n);var a=t.data;if(t.type==="graph"){a=a||t.nodes;var i=t.links||t.edges;if(i&&!Gn(i))for(var o=0;o<i.length;o++)ga(i[o]);oe(t.categories,function(l){ip(l)})}if(a&&!Gn(a))for(var o=0;o<a.length;o++)ga(a[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)ga(s[o]);if(r=t.markLine,r&&r.data)for(var u=r.data,o=0;o<u.length;o++)Le(u[o])?(ga(u[o][0]),ga(u[o][1])):ga(u[o]);t.type==="gauge"?(wr(t,"axisLabel"),wr(t,"title"),wr(t,"detail")):t.type==="treemap"?(un(t.breadcrumb,"itemStyle"),oe(t.levels,function(l){ip(l)})):t.type==="tree"&&ip(t.leaves)}}function so(t){return Le(t)?t:t?[t]:[]}function R3(t){return(Le(t)?t[0]:t)||{}}function $Ce(t,e){Ga(so(t.series),function(n){Ev(n)&&jCe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ga(r,function(n){Ga(so(t[n]),function(a){a&&(wr(a,"axisLabel"),wr(a.axisPointer,"label"))})}),Ga(so(t.parallel),function(n){var a=n&&n.parallelAxisDefault;wr(a,"axisLabel"),wr(a&&a.axisPointer,"label")}),Ga(so(t.calendar),function(n){un(n,"itemStyle"),wr(n,"dayLabel"),wr(n,"monthLabel"),wr(n,"yearLabel")}),Ga(so(t.radar),function(n){wr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Ga(so(t.geo),function(n){Ev(n)&&(ga(n),Ga(so(n.regions),function(a){ga(a)}))}),Ga(so(t.timeline),function(n){ga(n),un(n,"label"),un(n,"itemStyle"),un(n,"controlStyle",!0);var a=n.data;Le(a)&&oe(a,function(i){Ue(i)&&(un(i,"label"),un(i,"itemStyle"))})}),Ga(so(t.toolbox),function(n){un(n,"iconStyle"),Ga(n.feature,function(a){un(a,"iconStyle")})}),wr(R3(t.axisPointer),"label"),wr(R3(t.tooltip).axisPointer,"label")}function KCe(t,e){for(var r=e.split(","),n=t,a=0;a<r.length&&(n=n&&n[r[a]],n!=null);a++);return n}function XCe(t,e,r,n){for(var a=e.split(","),i=t,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];i[a[s]]==null&&(i[a[s]]=r)}function A3(t){t&&oe(YCe,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var YCe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],qCe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],$w=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Th(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<$w.length;r++){var n=$w[r][1],a=$w[r][0];e[n]!=null&&(e[a]=e[n])}}function N3(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function F3(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function ZCe(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function EG(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&EG(t[r].children,e)}function DG(t,e){$Ce(t,e),t.series=Tr(t.series),oe(t.series,function(r){if(Ue(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),N3(r.label);var a=r.data;if(a&&!Gn(a))for(var i=0;i<a.length;i++)N3(a[i]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=KCe(r,"pointer.color");o!=null&&XCe(r,"itemStyle.color",o)}else if(n==="bar"){Th(r),Th(r.backgroundStyle),Th(r.emphasis);var a=r.data;if(a&&!Gn(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(Th(a[i]),Th(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),F3(r),EG(r.data,F3)}else n==="graph"||n==="sankey"?ZCe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&ot(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),A3(r)}}),t.dataRange&&(t.visualMap=t.dataRange),oe(qCe,function(r){var n=t[r];n&&(Le(n)||(n=[n]),oe(n,function(a){A3(a)}))})}function JCe(t){var e=Xe();t.eachSeries(function(r){var n=r.get("stack");if(n){var a=e.get(n)||e.set(n,[]),i=r.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),e.each(QCe)}function QCe(t){oe(t,function(e,r){var n=[],a=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(l,f,c){var h=o.get(e.stackedDimension,c);if(isNaN(h))return a;var p,v;s?v=o.getRawIndex(c):p=o.get(e.stackedByDimension,c);for(var g=NaN,y=r-1;y>=0;y--){var m=t[y];if(s||(v=m.data.rawIndexOf(m.stackedByDimension,p)),v>=0){var d=m.data.getByRawIndex(m.stackResultDimension,v);if(u==="all"||u==="positive"&&d>0||u==="negative"&&d<0||u==="samesign"&&h>=0&&d>0||u==="samesign"&&h<=0&&d<0){h=MSe(h,d),g=d;break}}}return n[0]=h,n[1]=g,n})})}var t_=function(){function t(e){this.data=e.data||(e.sourceFormat===Jo?{}:[]),this.sourceFormat=e.sourceFormat||xG,this.seriesLayoutBy=e.seriesLayoutBy||Uo,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var a=r[n];a.type==null&&TG(this,n)===Xn.Must&&(a.type="ordinal")}}return t}();function PE(t){return t instanceof t_}function xT(t,e,r){r=r||MG(t);var n=e.seriesLayoutBy,a=t2e(t,r,n,e.sourceHeader,e.dimensions),i=new t_({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:Ze(e)});return i}function OG(t){return new t_({data:t,sourceFormat:Gn(t)?Gs:Ia})}function e2e(t){return new t_({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Ze(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function MG(t){var e=xG;if(Gn(t))e=Gs;else if(Le(t)){t.length===0&&(e=Hn);for(var r=0,n=t.length;r<n;r++){var a=t[r];if(a!=null){if(Le(a)||Gn(a)){e=Hn;break}else if(Ue(a)){e=qi;break}}}}else if(Ue(t)){for(var i in t)if(zl(t,i)&&zn(t[i])){e=Jo;break}}return e}function t2e(t,e,r,n,a){var i,o;if(!t)return{dimensionsDefine:B3(a),startIndex:o,dimensionsDetectedCount:i};if(e===Hn){var s=t;n==="auto"||n==null?I3(function(l){l!=null&&l!=="-"&&(Ie(l)?o==null&&(o=1):o=0)},r,s,10):o=rr(n)?n:n?1:0,!a&&o===1&&(a=[],I3(function(l,f){a[f]=l!=null?l+"":""},r,s,1/0)),i=a?a.length:r===qf?s.length:s[0]?s[0].length:null}else if(e===qi)a||(a=r2e(t));else if(e===Jo)a||(a=[],oe(t,function(l,f){a.push(f)}));else if(e===Ia){var u=vd(t[0]);i=Le(u)&&u.length||1}return{startIndex:o,dimensionsDefine:B3(a),dimensionsDetectedCount:i}}function r2e(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return tr(r)}function B3(t){if(t){var e=Xe();return Ne(t,function(r,n){r=Ue(r)?r:{name:r};var a={name:r.name,displayName:r.displayName,type:r.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=e.get(a.name);return i?a.name+="-"+i.count++:e.set(a.name,{count:1}),a})}}function I3(t,e,r,n){if(e===qf)for(var a=0;a<r.length&&a<n;a++)t(r[a]?r[a][0]:null,a);else for(var i=r[0]||[],a=0;a<i.length&&a<n;a++)t(i[a],a)}function LG(t){var e=t.sourceFormat;return e===qi||e===Jo}var Pu,Uu,zu,V3,P3,kG=function(){function t(e,r){var n=PE(e)?e:OG(e);this._source=n;var a=this._data=n.data;n.sourceFormat===Gs&&(this._offset=0,this._dimSize=r,this._data=a),P3(this,a,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;P3=function(o,s,u){var l=u.sourceFormat,f=u.seriesLayoutBy,c=u.startIndex,h=u.dimensionsDefine,p=V3[UE(l,f)];if(Me(o,p),l===Gs)o.getItem=r,o.count=a,o.fillStorage=n;else{var v=RG(l,f);o.getItem=Ke(v,null,s,c,h);var g=AG(l,f);o.count=Ke(g,null,s,c,h)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,f=l*o,c=0;c<l;c++)s[c]=u[f+c];return s},n=function(o,s,u,l){for(var f=this._data,c=this._dimSize,h=0;h<c;h++){for(var p=l[h],v=p[0]==null?1/0:p[0],g=p[1]==null?-1/0:p[1],y=s-o,m=u[h],d=0;d<y;d++){var _=f[d*c+h];m[o+d]=_,_<v&&(v=_),_>g&&(g=_)}p[0]=v,p[1]=g}},a=function(){return this._data?this._data.length/this._dimSize:0};V3=(e={},e[Hn+"_"+Uo]={pure:!0,appendData:i},e[Hn+"_"+qf]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[qi]={pure:!0,appendData:i},e[Jo]={pure:!0,appendData:function(o){var s=this._data;oe(o,function(u,l){for(var f=s[l]||(s[l]=[]),c=0;c<(u||[]).length;c++)f.push(u[c])})}},e[Ia]={appendData:i},e[Gs]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),U3=function(t,e,r,n){return t[n]},n2e=(Pu={},Pu[Hn+"_"+Uo]=function(t,e,r,n){return t[n+e]},Pu[Hn+"_"+qf]=function(t,e,r,n,a){n+=e;for(var i=a||[],o=t,s=0;s<o.length;s++){var u=o[s];i[s]=u?u[n]:null}return i},Pu[qi]=U3,Pu[Jo]=function(t,e,r,n,a){for(var i=a||[],o=0;o<r.length;o++){var s=r[o].name,u=t[s];i[o]=u?u[n]:null}return i},Pu[Ia]=U3,Pu);function RG(t,e){var r=n2e[UE(t,e)];return r}var z3=function(t,e,r){return t.length},a2e=(Uu={},Uu[Hn+"_"+Uo]=function(t,e,r){return Math.max(0,t.length-e)},Uu[Hn+"_"+qf]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},Uu[qi]=z3,Uu[Jo]=function(t,e,r){var n=r[0].name,a=t[n];return a?a.length:0},Uu[Ia]=z3,Uu);function AG(t,e){var r=a2e[UE(t,e)];return r}var Kw=function(t,e,r){return t[e]},i2e=(zu={},zu[Hn]=Kw,zu[qi]=function(t,e,r){return t[r]},zu[Jo]=Kw,zu[Ia]=function(t,e,r){var n=vd(t);return n instanceof Array?n[e]:n},zu[Gs]=Kw,zu);function NG(t){var e=i2e[t];return e}function UE(t,e){return t===Hn?t+"_"+e:t}function Lf(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var a=t.getStore(),i=a.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=a.getDimensionProperty(o);return NG(i)(n,o,s)}else{var u=n;return i===Ia&&(u=vd(n)),u}}}}var o2e=/\{@(.+?)\}/g,s2e=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),a=this.getRawValue(e,r),i=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),l=u&&u[n.getItemVisual(e,"drawType")||"fill"],f=u&&u.stroke,c=this.mainType,h=c==="series",p=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:i,data:s,dataType:r,value:a,color:l,borderColor:f,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,a,i,o){r=r||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),a!=null&&Le(u.value)&&(u.value=u.value[a]),!i){var l=s.getItemModel(e);i=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(et(i))return u.status=r,u.dimensionIndex=a,i(u);if(Ie(i)){var f=yG(i,u);return f.replace(o2e,function(c,h){var p=h.length,v=h;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var g=Lf(s,e,v);if(o&&Le(o.interpolatedValue)){var y=s.getDimensionIndex(v);y>=0&&(g=o.interpolatedValue[y])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,r){return Lf(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function G3(t){var e,r;return Ue(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function Rp(t){return new u2e(t)}var u2e=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var o=f(this._modBy),s=this._modDataCount||0,u=f(e&&e.modBy),l=e&&e.modDataCount||0;(o!==u||s!==l)&&(i="reset");function f(d){return!(d>=1)&&(d=1),d}var c;(this._dirty||i==="reset")&&(this._dirty=!1,c=this._doReset(n)),this._modBy=u,this._modDataCount=l;var h=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(c||p<v)){var g=this._progress;if(Le(g))for(var y=0;y<g.length;y++)this._doProgress(g[y],p,v,u,l);else this._doProgress(g,p,v,u,l)}this._dueIndex=v;var m=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,a,i){W3.reset(r,n,a,i),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:W3.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Le(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),W3=function(){var t,e,r,n,a,i={reset:function(u,l,f,c){e=u,t=l,r=f,n=c,a=Math.ceil(n/r),i.next=r>1&&n>0?s:o}};return i;function o(){return e<t?e++:null}function s(){var u=e%a*r+Math.ceil(e/a),l=e>=t?null:u<n?u:e;return e++,l}}();function ty(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!rr(t)&&t!=null&&t!=="-"&&(t=+Ho(t)),t==null||t===""?NaN:Number(t))}Xe({number:function(t){return parseFloat(t)},time:function(t){return+Ho(t)},trim:function(t){return Ie(t)?Pi(t):t}});var l2e=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=rr(e)?e:em(e),a=rr(r)?r:em(r),i=isNaN(n),o=isNaN(a);if(i&&(n=this._incomparable),o&&(a=this._incomparable),i&&o){var s=Ie(e),u=Ie(r);s&&(n=u?e:0),u&&(a=s?r:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},t}(),c2e=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return ty(e,r)},t}();function f2e(t,e){var r=new c2e,n=t.data,a=r.sourceFormat=t.sourceFormat,i=t.startIndex,o="";t.seriesLayoutBy!==Uo&&Ln(o);var s=[],u={},l=t.dimensionsDefine;if(l)oe(l,function(g,y){var m=g.name,d={index:y,name:m,displayName:g.displayName};if(s.push(d),m!=null){var _="";zl(u,m)&&Ln(_),u[m]=d}});else for(var f=0;f<t.dimensionsDetectedCount;f++)s.push({index:f});var c=RG(a,Uo);e.__isBuiltIn&&(r.getRawDataItem=function(g){return c(n,i,s,g)},r.getRawData=Ke(h2e,null,t)),r.cloneRawData=Ke(p2e,null,t);var h=AG(a,Uo);r.count=Ke(h,null,n,i,s);var p=NG(a);r.retrieveValue=function(g,y){var m=c(n,i,s,g);return v(m,y)};var v=r.retrieveValueFromItem=function(g,y){if(g!=null){var m=s[y];if(m)return p(g,y,m.name)}};return r.getDimensionInfo=Ke(v2e,null,s,u),r.cloneAllDimensionInfo=Ke(d2e,null,s),r}function h2e(t){var e=t.sourceFormat;if(!zE(e)){var r="";Ln(r)}return t.data}function p2e(t){var e=t.sourceFormat,r=t.data;if(!zE(e)){var n="";Ln(n)}if(e===Hn){for(var a=[],i=0,o=r.length;i<o;i++)a.push(r[i].slice());return a}else if(e===qi){for(var a=[],i=0,o=r.length;i<o;i++)a.push(Me({},r[i]));return a}}function v2e(t,e,r){if(r!=null){if(rr(r)||!isNaN(r)&&!zl(e,r))return t[r];if(zl(e,r))return e[r]}}function d2e(t){return Ze(t)}var FG=Xe();function g2e(t){t=Ze(t);var e=t.type,r="";e||Ln(r);var n=e.split(":");n.length!==2&&Ln(r);var a=!1;n[0]==="echarts"&&(e=n[1],a=!0),t.__isBuiltIn=a,FG.set(e,t)}function y2e(t,e,r){var n=Tr(t),a=n.length,i="";a||Ln(i);for(var o=0,s=a;o<s;o++){var u=n[o];e=m2e(u,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function m2e(t,e,r,n){var a="";e.length||Ln(a),Ue(t)||Ln(a);var i=t.type,o=FG.get(i);o||Ln(a);var s=Ne(e,function(l){return f2e(l,o)}),u=Tr(o.transform({upstream:s[0],upstreamList:s,config:Ze(t.config)}));return Ne(u,function(l,f){var c="";Ue(l)||Ln(c),l.data||Ln(c);var h=MG(l.data);zE(h)||Ln(c);var p,v=e[0];if(v&&f===0&&!l.dimensions){var g=v.startIndex;g&&(l.data=v.data.slice(0,g).concat(l.data)),p={seriesLayoutBy:Uo,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else p={seriesLayoutBy:Uo,sourceHeader:0,dimensions:l.dimensions};return xT(l.data,p,null)})}function zE(t){return t===Hn||t===qi}var r_="undefined",_2e=typeof Uint32Array===r_?Array:Uint32Array,x2e=typeof Uint16Array===r_?Array:Uint16Array,BG=typeof Int32Array===r_?Array:Int32Array,H3=typeof Float64Array===r_?Array:Float64Array,IG={float:H3,int:BG,ordinal:Array,number:Array,time:H3},Xw;function gc(t){return t>65535?_2e:x2e}function yc(){return[1/0,-1/0]}function w2e(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function j3(t,e,r,n,a){var i=IG[r||"float"];if(a){var o=t[e],s=o&&o.length;if(s!==n){for(var u=new i(n),l=0;l<s;l++)u[l]=o[l];t[e]=u}}else t[e]=new i(n)}var wT=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Xe()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource(),i=this.defaultDimValueGetter=Xw[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],LG(a),this._dimensions=Ne(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(e);if(i!=null){if(a[i].type===r)return i}else i=a.length;return a[i]={type:r},n.set(e,i),this._chunks[i]=new IG[r||"float"](this._rawCount),this._rawExtent[i]=yc(),i},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],a=this._dimensions[e],i=this._rawExtent,o=a.ordinalOffset||0,s=n.length;o===0&&(i[e]=yc());for(var u=i[e],l=o;l<s;l++){var f=n[l]=r.parseAndCollect(n[l]);isNaN(f)||(u[0]=Math.min(f,u[0]),u[1]=Math.max(f,u[1]))}a.ordinalMeta=r,a.ordinalOffset=s,a.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var a=r.count();return r.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,r||0),l=0;l<i;l++){var f=a[l];j3(n,l,f.type,u,!0)}for(var c=[],h=s;h<u;h++)for(var p=h-s,v=0;v<i;v++){var f=a[v],g=Xw.arrayRows.call(this,e[p]||c,f.property,p,v);n[v][h]=g;var y=o[v];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,r,n){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=Ne(o,function(d){return d.property}),f=0;f<s;f++){var c=o[f];u[f]||(u[f]=yc()),j3(i,f,c.type,r,n)}if(a.fillStorage)a.fillStorage(e,r,i,u);else for(var h=[],p=e;p<r;p++){h=a.getItem(p,h);for(var v=0;v<s;v++){var g=i[v],y=this._dimValueGetter(h,l[v],p,v);g[p]=y;var m=u[v];y<m[0]&&(m[0]=y),y>m[1]&&(m[1]=y)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],a=[];if(r==null){r=e,e=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=e;for(var i=0,o=a.length;i<o;i++)n.push(this.get(a[i],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var a=0,i=this.count();a<i;a++){var o=this.get(e,a);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(i){isNaN(i)||r.push(i)});var n=r.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(r[o]<e)a=o+1;else if(r[o]>e)i=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var a=this._chunks,i=a[e],o=[];if(!i)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,f=0,c=this.count();f<c;f++){var h=this.getRawIndex(f),p=r-i[h],v=Math.abs(p);v<=n&&((v<s||v===s&&p>=0&&u<0)&&(s=v,u=p,l=0),p===u&&(o[l++]=f))}return o.length=l,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,a=this._count;if(n===Array){e=new n(a);for(var i=0;i<a;i++)e[i]=r[i]}else e=new n(r.buffer,0,a)}else{var n=gc(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=gc(n._rawCount),o=new i(a),s=[],u=e.length,l=0,f=e[0],c=n._chunks,h=0;h<a;h++){var p=void 0,v=n.getRawIndex(h);if(u===0)p=r(h);else if(u===1){var g=c[f][v];p=r(g,h)}else{for(var y=0;y<u;y++)s[y]=c[e[y]][v];s[y]=h,p=r.apply(null,s)}p&&(o[l++]=v)}return l<a&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var a=tr(e),i=a.length;if(!i)return this;var o=r.count(),s=gc(r._rawCount),u=new s(o),l=0,f=a[0],c=e[f][0],h=e[f][1],p=r._chunks,v=!1;if(!r._indices){var g=0;if(i===1){for(var y=p[a[0]],m=0;m<n;m++){var d=y[m];(d>=c&&d<=h||isNaN(d))&&(u[l++]=g),g++}v=!0}else if(i===2){for(var y=p[a[0]],_=p[a[1]],x=e[a[1]][0],w=e[a[1]][1],m=0;m<n;m++){var d=y[m],S=_[m];(d>=c&&d<=h||isNaN(d))&&(S>=x&&S<=w||isNaN(S))&&(u[l++]=g),g++}v=!0}}if(!v)if(i===1)for(var m=0;m<o;m++){var b=r.getRawIndex(m),d=p[a[0]][b];(d>=c&&d<=h||isNaN(d))&&(u[l++]=b)}else for(var m=0;m<o;m++){for(var T=!0,b=r.getRawIndex(m),C=0;C<i;C++){var M=a[C],d=p[M][b];(d<e[M][0]||d>e[M][1])&&(T=!1)}T&&(u[l++]=r.getRawIndex(m))}return l<o&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var a=e._chunks,i=[],o=r.length,s=e.count(),u=[],l=e._rawExtent,f=0;f<r.length;f++)l[r[f]]=yc();for(var c=0;c<s;c++){for(var h=e.getRawIndex(c),p=0;p<o;p++)u[p]=a[r[p]][h];u[o]=c;var v=n&&n.apply(null,u);if(v!=null){typeof v!="object"&&(i[0]=v,v=i);for(var f=0;f<v.length;f++){var g=r[f],y=v[f],m=l[g],d=a[g];d&&(d[h]=y),y<m[0]&&(m[0]=y),y>m[1]&&(m[1]=y)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),a=n._chunks,i=a[e],o=this.count(),s=0,u=Math.floor(1/r),l=this.getRawIndex(0),f,c,h,p=new(gc(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));p[s++]=l;for(var v=1;v<o-1;v+=u){for(var g=Math.min(v+u,o-1),y=Math.min(v+u*2,o),m=(y+g)/2,d=0,_=g;_<y;_++){var x=this.getRawIndex(_),w=i[x];isNaN(w)||(d+=w)}d/=y-g;var S=v,b=Math.min(v+u,o),T=v-1,C=i[l];f=-1,h=S;for(var M=-1,D=0,_=S;_<b;_++){var x=this.getRawIndex(_),w=i[x];if(isNaN(w)){D++,M<0&&(M=x);continue}c=Math.abs((T-m)*(w-C)-(T-_)*(d-C)),c>f&&(f=c,h=x)}D>0&&D<b-S&&(p[s++]=Math.min(M,h),h=Math.max(M,h)),p[s++]=h,l=h}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},t.prototype.minmaxDownSample=function(e,r){for(var n=this.clone([e],!0),a=n._chunks,i=Math.floor(1/r),o=a[e],s=this.count(),u=new(gc(this._rawCount))(Math.ceil(s/i)*2),l=0,f=0;f<s;f+=i){var c=f,h=o[this.getRawIndex(c)],p=f,v=o[this.getRawIndex(p)],g=i;f+i>s&&(g=s-f);for(var y=0;y<g;y++){var m=this.getRawIndex(f+y),d=o[m];d<h&&(h=d,c=f+y),d>v&&(v=d,p=f+y)}var _=this.getRawIndex(c),x=this.getRawIndex(p);c<p?(u[l++]=_,u[l++]=x):(u[l++]=x,u[l++]=_)}return n._count=l,n._indices=u,n._updateGetRawIdx(),n},t.prototype.downSample=function(e,r,n,a){for(var i=this.clone([e],!0),o=i._chunks,s=[],u=Math.floor(1/r),l=o[e],f=this.count(),c=i._rawExtent[e]=yc(),h=new(gc(this._rawCount))(Math.ceil(f/u)),p=0,v=0;v<f;v+=u){u>f-v&&(u=f-v,s.length=u);for(var g=0;g<u;g++){var y=this.getRawIndex(v+g);s[g]=l[y]}var m=n(s),d=this.getRawIndex(Math.min(v+a(s,m)||0,f-1));l[d]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),h[p++]=d}return i._count=p,i._indices=h,i._updateGetRawIdx(),i},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(n){case 0:r(i);break;case 1:r(a[e[0]][s],i);break;case 2:r(a[e[0]][s],a[e[1]][s],i);break;default:for(var u=0,l=[];u<n;u++)l[u]=a[e[u]][s];l[u]=i,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=yc();if(!r)return n;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<a;l++){var f=this.getRawIndex(l),c=r[f];c<s&&(s=c),c>u&&(u=c)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][r]);return n},t.prototype.clone=function(e,r){var n=new t,a=this._chunks,i=e&&$f(e,function(s,u){return s[u]=!0,s},{});if(i)for(var o=0;o<a.length;o++)n._chunks[o]=i[o]?w2e(a[o]):a[o];else n._chunks=a;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Ze(this._extent),e._rawExtent=Ze(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var a=0;a<n;a++)r[a]=this._indices[a]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,a,i){return ty(r[i],this._dimensions[i])}Xw={arrayRows:e,objectRows:function(r,n,a,i){return ty(r[n],this._dimensions[i])},keyedColumns:e,original:function(r,n,a,i){var o=r&&(r.value==null?r:r.value);return ty(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(r,n,a,i){return r[i]}}}(),t}(),S2e=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,a,i;if(jg(e)){var o=e,s=void 0,u=void 0,l=void 0;if(n){var f=r[0];f.prepareSource(),l=f.getSource(),s=l.data,u=l.sourceFormat,i=[f._getVersionSign()]}else s=o.get("data",!0),u=Gn(s)?Gs:Ia,i=[];var c=this._getSourceMetaRawOption()||{},h=l&&l.metaRawOption||{},p=pt(c.seriesLayoutBy,h.seriesLayoutBy)||null,v=pt(c.sourceHeader,h.sourceHeader),g=pt(c.dimensions,h.dimensions),y=p!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||g;a=y?[xT(s,{seriesLayoutBy:p,sourceHeader:v,dimensions:g},u)]:[]}else{var m=e;if(n){var d=this._applyTransform(r);a=d.sourceList,i=d.upstreamSignList}else{var _=m.get("source",!0);a=[xT(_,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),a=r.get("fromTransformResult",!0);if(a!=null){var i="";e.length!==1&&$3(i)}var o,s=[],u=[];return oe(e,function(l){l.prepareSource();var f=l.getSource(a||0),c="";a!=null&&!f&&$3(c),s.push(f),u.push(l._getVersionSign())}),n?o=y2e(n,s,{datasetIndex:r.componentIndex}):a!=null&&(o=[e2e(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];jg(this._sourceHost)&&u?s=u._innerGetDataStore(e,r,n):(s=new wT,s.initData(new kG(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(jg(e)){var r=bG(e);return r?[r.getSourceManager()]:[]}else return Ne(OCe(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,a;if(jg(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),a=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;r=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:a}},t}();function jg(t){return t.mainType==="series"}function $3(t){throw new Error(t)}var b2e="line-height:1";function VG(t){var e=t.lineHeight;return e==null?b2e:"line-height:"+On(e+"")+"px"}function PG(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,a=t.fontWeight||"400",i=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+On(n+"")+"px;color:"+On(r)+";font-weight:"+On(a+""),valueStyle:"font-size:"+On(o+"")+"px;color:"+On(i)+";font-weight:"+On(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var T2e=[0,10,20,30],C2e=["",`
`,`

`,`


`];function Dv(t,e){return e.type=t,e}function ST(t){return t.type==="section"}function UG(t){return ST(t)?E2e:D2e}function zG(t){if(ST(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return oe(t.blocks,function(a){var i=zG(a);i>=e&&(e=i+ +(n&&(!i||ST(a)&&!a.noHeader)))}),e}return 0}function E2e(t,e,r,n){var a=e.noHeader,i=O2e(zG(e)),o=[],s=e.blocks||[];ui(!s||Le(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(zl(l,u)){var f=new l2e(l[u],null);s.sort(function(g,y){return f.evaluate(g.sortParam,y.sortParam)})}else u==="seriesDesc"&&s.reverse()}oe(s,function(g,y){var m=e.valueFormatter,d=UG(g)(m?Me(Me({},t),{valueFormatter:m}):t,g,y>0?i.html:0,n);d!=null&&o.push(d)});var c=t.renderMode==="richText"?o.join(i.richText):bT(n,o.join(""),a?r:i.html);if(a)return c;var h=mT(e.header,"ordinal",t.useUTC),p=PG(n,t.renderMode).nameStyle,v=VG(n);return t.renderMode==="richText"?GG(t,h,p)+i.richText+c:bT(n,'<div style="'+p+";"+v+';">'+On(h)+"</div>"+c,r)}function D2e(t,e,r,n){var a=t.renderMode,i=e.noName,o=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,f=e.valueFormatter||t.valueFormatter||function(x){return x=Le(x)?x:[x],Ne(x,function(w,S){return mT(w,Le(p)?p[S]:p,l)})};if(!(i&&o)){var c=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a),h=i?"":mT(u,"ordinal",l),p=e.valueType,v=o?[]:f(e.value,e.dataIndex),g=!s||!i,y=!s&&i,m=PG(n,a),d=m.nameStyle,_=m.valueStyle;return a==="richText"?(s?"":c)+(i?"":GG(t,h,d))+(o?"":k2e(t,v,g,y,_)):bT(n,(s?"":c)+(i?"":M2e(h,!s,d))+(o?"":L2e(v,g,y,_)),r)}}function K3(t,e,r,n,a,i){if(t){var o=UG(t),s={useUTC:a,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,i)}}function O2e(t){return{html:T2e[t],richText:C2e[t]}}function bT(t,e,r){var n='<div style="clear:both"></div>',a="margin: "+r+"px 0 0",i=VG(t);return'<div style="'+a+";"+i+';">'+e+n+"</div>"}function M2e(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+On(t)+"</span>"}function L2e(t,e,r,n){var a=r?"10px":"20px",i=e?"float:right;margin-left:"+a:"";return t=Le(t)?t:[t],'<span style="'+i+";"+n+'">'+Ne(t,function(o){return On(o)}).join("&nbsp;&nbsp;")+"</span>"}function GG(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function k2e(t,e,r,n,a){var i=[a],o=n?10:20;return r&&i.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Le(e)?e.join("  "):e,i)}function R2e(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return Wl(n)}function WG(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var Yw=function(){function t(){this.richTextStyles={},this._nextStyleNameId=vz()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var a=n==="richText"?this._generateStyleName():null,i=xCe({color:r,type:e,renderMode:n,markerId:a});return Ie(i)?i:(this.richTextStyles[a]=i.style,i.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};Le(r)?oe(r,function(i){return Me(n,i)}):Me(n,r);var a=this._generateStyleName();return this.richTextStyles[a]=n,"{"+a+"|"+e+"}"},t}();function A2e(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,a=e.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=e.getRawValue(r),u=Le(s),l=R2e(e,r),f,c,h,p;if(o>1||u&&!o){var v=N2e(s,e,r,i,l);f=v.inlineValues,c=v.inlineValueTypes,h=v.blocks,p=v.inlineValues[0]}else if(o){var g=a.getDimensionInfo(i[0]);p=f=Lf(a,r,i[0]),c=g.type}else p=f=u?s[0]:s;var y=dE(e),m=y&&e.name||"",d=a.getName(r),_=n?m:d;return Dv("section",{header:m,noHeader:n||!y,sortParam:p,blocks:[Dv("nameValue",{markerType:"item",markerColor:l,name:_,noName:!Pi(_),value:f,valueType:c,dataIndex:r})].concat(h||[])})}function N2e(t,e,r,n,a){var i=e.getData(),o=$f(t,function(c,h,p){var v=i.getDimensionInfo(p);return c=c||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],u=[],l=[];n.length?oe(n,function(c){f(Lf(i,r,c),c)}):oe(t,f);function f(c,h){var p=i.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(o?l.push(Dv("nameValue",{markerType:"subItem",markerColor:a,name:p.displayName,value:c,valueType:p.type})):(s.push(c),u.push(p.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var us=_r();function $g(t,e){return t.getName(e)||t.getId(e)}var ry="__universalTransitionEnabled",ci=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,a){this.seriesIndex=this.componentIndex,this.dataTask=Rp({count:B2e,reset:I2e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,a);var i=us(this).sourceManager=new S2e(this);i.prepareSource();var o=this.getInitialData(r,a);Y3(o,this),this.dataTask.context.data=o,us(this).dataBeforeProcessed=o,X3(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var a=Cv(this),i=a?xd(r):{},o=this.subType;Nt.hasClass(o)&&(o+="Series"),ct(r,n.getTheme().get(this.subType)),ct(r,this.getDefaultOption()),kA(r,"label",["show"]),this.fillDataTextStyle(r.data),a&&Mf(r,i,a)},e.prototype.mergeOption=function(r,n){r=ct(this.option,r,!0),this.fillDataTextStyle(r.data);var a=Cv(this);a&&Mf(this.option,r,a);var i=us(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(r,n);Y3(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,us(this).dataBeforeProcessed=o,X3(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!Gn(r))for(var n=["show"],a=0;a<r.length;a++)r[a]&&r[a].label&&kA(r[a],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=TT(this);if(n){var a=n.context.data;return r==null||!a.getLinkedData?a:a.getLinkedData(r)}else return us(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=TT(this);if(n){var a=n.context;a.outputData=r,n!==this.dataTask&&(a.data=r)}us(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Xe(r)},e.prototype.getSourceManager=function(){return us(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return us(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,a){return A2e({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Qe.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,a){var i=this.ecModel,o=BE.prototype.getColorFromPalette.call(this,r,n,a);return o||(o=i.getColorFromPalette(r,n,a)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var u=r[s],l=$g(o,u);a[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,n){for(var a=[],i=0;i<r.length;i++)a[0]=r[i],this.isSelected(r[i],n)?this.unselect(a,n):this.select(a,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=tr(r),a=[],i=0;i<n.length;i++){var o=r[n[i]];o>=0&&a.push(o)}return a},e.prototype.isSelected=function(r,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[$g(i,r)])&&!i.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[ry])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var a,i,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Ue(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,f=0;f<u;f++){var c=n[f],h=$g(r,c);l[h]=!0,this._selectedDataIndicesMap[h]=r.getRawIndex(c)}}else if(s==="single"||s===!0){var p=n[u-1],h=$g(r,p);o.selectedMap=(a={},a[h]=!0,a),this._selectedDataIndicesMap=(i={},i[h]=r.getRawIndex(p),i)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(a){var i=r.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return Nt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(Nt);di(ci,s2e);di(ci,BE);wz(ci,Nt);function X3(t){var e=t.name;dE(t)||(t.name=F2e(t)||e)}function F2e(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return oe(r,function(a){var i=e.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function B2e(t){return t.model.getRawData().count()}function I2e(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),V2e}function V2e(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Y3(t,e){oe(owe(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,Mt(P2e,e))})}function P2e(t,e){var r=TT(t);return r&&r.setOutputEnd((e||this).count()),e}function TT(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(t.uid))}return n}}var jn=function(){function t(){this.group=new yr,this.uid=_d("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,a){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,a){},t.prototype.updateLayout=function(e,r,n,a){},t.prototype.updateVisual=function(e,r,n,a){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();yE(jn);A1(jn);function wd(){var t=_r();return function(e){var r=t(e),n=e.pipelineContext,a=!!r.large,i=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(a!==o||i!==s)&&"reset"}}var HG=_r(),U2e=wd(),La=function(){function t(){this.group=new yr,this.uid=_d("viewChart"),this.renderTask=Rp({plan:z2e,reset:G2e}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,a){},t.prototype.highlight=function(e,r,n,a){var i=e.getData(a&&a.dataType);i&&Z3(i,a,"emphasis")},t.prototype.downplay=function(e,r,n,a){var i=e.getData(a&&a.dataType);i&&Z3(i,a,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.updateLayout=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.updateVisual=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.eachRendered=function(e){md(this.group,e)},t.markUpdateMethod=function(e,r){HG(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function q3(t,e,r){t&&pT(t)&&(e==="emphasis"?Df:Of)(t,r)}function Z3(t,e,r){var n=Gl(t,e),a=e&&e.highlightKey!=null?hTe(e.highlightKey):null;n!=null?oe(Tr(n),function(i){q3(t.getItemGraphicEl(i),r,a)}):t.eachItemGraphicEl(function(i){q3(i,r,a)})}yE(La);A1(La);function z2e(t){return U2e(t.model)}function G2e(t){var e=t.model,r=t.ecModel,n=t.api,a=t.payload,i=e.pipelineContext.progressiveRender,o=t.view,s=a&&HG(a).updateMethod,u=i?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,r,n,a),W2e[u]}var W2e={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},lm="\0__throttleOriginMethod",J3="\0__throttleRate",Q3="\0__throttleType";function GE(t,e,r){var n,a=0,i=0,o=null,s,u,l,f;e=e||0;function c(){i=new Date().getTime(),o=null,t.apply(u,l||[])}var h=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];n=new Date().getTime(),u=this,l=p;var g=f||e,y=f||r;f=null,s=n-(y?a:i)-g,clearTimeout(o),y?o=setTimeout(c,g):s>=0?c():o=setTimeout(c,-s),a=n};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(p){f=p},h}function Sd(t,e,r,n){var a=t[e];if(a){var i=a[lm]||a,o=a[Q3],s=a[J3];if(s!==r||o!==n){if(r==null||!n)return t[e]=i;a=t[e]=GE(i,r,n==="debounce"),a[lm]=i,a[Q3]=n,a[J3]=r}return a}}function cm(t,e){var r=t[e];r&&r[lm]&&(r.clear&&r.clear(),t[e]=r[lm])}var eN=_r(),tN={itemStyle:xv(aG,!0),lineStyle:xv(nG,!0)},H2e={lineStyle:"stroke",itemStyle:"fill"};function jG(t,e){var r=t.visualStyleMapper||tN[e];return r||(console.warn("Unknown style type '"+e+"'."),tN.itemStyle)}function $G(t,e){var r=t.visualDrawType||H2e[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var j2e={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=t.getModel(n),i=jG(t,n),o=i(a),s=a.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var u=$G(t,n),l=o[u],f=et(l)?l:null,c=o.fill==="auto"||o.stroke==="auto";if(!o[u]||f||c){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=h,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||et(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||et(o.stroke)?h:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&f)return r.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var g=t.getDataParams(v),y=Me({},o);y[u]=f(g),p.setItemVisual(v,"style",y)}}}},Ch=new cr,$2e={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=jG(t,n),i=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){Ch.option=u[n];var l=a(Ch),f=o.ensureUniqueItemVisual(s,"style");Me(f,l),Ch.option.decal&&(o.setItemVisual(s,"decal",Ch.option.decal),Ch.option.decal.dirty=!0),i in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},K2e={performRawSeries:!0,overallReset:function(t){var e=Xe();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var a=r.type+"-"+n,i=e.get(a);i||(i={},e.set(a,i)),eN(r).scope=i}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),a={},i=r.getData(),o=eN(r).scope,s=r.visualStyleAccessPath||"itemStyle",u=$G(r,s);i.each(function(l){var f=i.getRawIndex(l);a[f]=l}),n.each(function(l){var f=a[l],c=i.getItemVisual(f,"colorFromPalette");if(c){var h=i.ensureUniqueItemVisual(f,"style"),p=n.getName(l)||l+"",v=n.count();h[u]=r.getColorFromPalette(p,o,v)}})}})}},Kg=Math.PI;function X2e(t,e){e=e||{},ot(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new yr,n=new Yt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var a=new Gr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new Yt({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(i);var o;return e.showSpinner&&(o=new U1({shape:{startAngle:-Kg/2,endAngle:-Kg/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Kg*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Kg*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=a.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),f=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:f}),i.setShape({x:l-u,y:f-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var KG=function(){function t(e,r,n,a){this._stageTaskMap=Xe(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),a=n.context,i=!r&&n.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=i?n.step:null,s=a&&a.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&i>=n.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=Xe();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;n.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),r._pipe(a,a.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;oe(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,{}),o="";ui(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,r,n),a.overallReset&&this._createOverallStageTask(a,i,r,n)},this)},t.prototype.prepareView=function(e,r,n,a){var i=e.renderTask,o=i.context;o.model=r,o.ecModel=n,o.api=a,i.__block=!e.incrementalPrepareRender,this._pipe(r,i)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,a){a=a||{};var i=!1,o=this;oe(e,function(u,l){if(!(a.visualType&&a.visualType!==u.visualType)){var f=o._stageTaskMap.get(u.uid),c=f.seriesTaskMap,h=f.overallTask;if(h){var p,v=h.agentStubMap;v.each(function(y){s(a,y)&&(y.dirty(),p=!0)}),p&&h.dirty(),o.updatePayload(h,n);var g=o.getPerformArgs(h,a.block);v.each(function(y){y.perform(g)}),h.perform(g)&&(i=!0)}else c&&c.each(function(y,m){s(a,y)&&y.dirty();var d=o.getPerformArgs(y,a.block);d.skip=!u.performRawSeries&&r.isSeriesFiltered(y.context.model),o.updatePayload(y,n),y.perform(d)&&(i=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,a){var i=this,o=r.seriesTaskMap,s=r.seriesTaskMap=Xe(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(f):u?n.eachRawSeriesByType(u,f):l&&l(n,a).each(f);function f(c){var h=c.uid,p=s.set(h,o&&o.get(h)||Rp({plan:Q2e,reset:eEe,count:rEe}));p.context={model:c,ecModel:n,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(c,p)}},t.prototype._createOverallStageTask=function(e,r,n,a){var i=this,o=r.overallTask=r.overallTask||Rp({reset:Y2e});o.context={ecModel:n,api:a,overallReset:e.overallReset,scheduler:i};var s=o.agentStubMap,u=o.agentStubMap=Xe(),l=e.seriesType,f=e.getTargetSeries,c=!0,h=!1,p="";ui(!e.createOnAllSeries,p),l?n.eachRawSeriesByType(l,v):f?f(n,a).each(v):(c=!1,oe(n.getSeries(),v));function v(g){var y=g.uid,m=u.set(y,s&&s.get(y)||(h=!0,Rp({reset:q2e,onDirty:J2e})));m.context={model:g,overallProgress:c},m.agent=o,m.__block=c,i._pipe(g,m)}h&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a},t.wrapStageHandler=function(e,r){return et(e)&&(e={overallReset:e,seriesType:nEe(e)}),e.uid=_d("stageHandler"),r&&(e.visualType=r),e},t}();function Y2e(t){t.overallReset(t.ecModel,t.api,t.payload)}function q2e(t){return t.overallProgress&&Z2e}function Z2e(){this.agent.dirty(),this.getDownstream().dirty()}function J2e(){this.agent&&this.agent.dirty()}function Q2e(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function eEe(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Tr(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Ne(e,function(r,n){return XG(n)}):tEe}var tEe=XG(0);function XG(t){return function(e,r){var n=r.data,a=r.resetDefines[t];if(a&&a.dataEach)for(var i=e.start;i<e.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(e,n)}}function rEe(t){return t.data.count()}function nEe(t){fm=null;try{t(Ov,YG)}catch{}return fm}var Ov={},YG={},fm;qG(Ov,IE);qG(YG,CG);Ov.eachSeriesByType=Ov.eachRawSeriesByType=function(t){fm=t};Ov.eachComponent=function(t){t.mainType==="series"&&t.subType&&(fm=t.subType)};function qG(t,e){for(var r in e.prototype)t[r]=Kr}var rN=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const aEe={color:rN,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],rN]};var sn="#B9B8CE",nN="#100C2A",Xg=function(){return{axisLine:{lineStyle:{color:sn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},aN=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],ZG={darkMode:!0,color:aN,backgroundColor:nN,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:sn},pageTextStyle:{color:sn}},textStyle:{color:sn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:sn}},dataZoom:{borderColor:"#71708A",textStyle:{color:sn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:sn}},timeline:{lineStyle:{color:sn},label:{color:sn},controlStyle:{color:sn,borderColor:sn}},calendar:{itemStyle:{color:nN},dayLabel:{color:sn},monthLabel:{color:sn},yearLabel:{color:sn}},timeAxis:Xg(),logAxis:Xg(),valueAxis:Xg(),categoryAxis:Xg(),line:{symbol:"circle"},graph:{color:aN},gauge:{title:{color:sn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:sn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};ZG.categoryAxis.splitLine.show=!1;var iEe=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},a={};if(Ie(e)){var i=Ui(e);r.mainType=i.main||null,r.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};oe(e,function(u,l){for(var f=!1,c=0;c<o.length;c++){var h=o[c],p=l.lastIndexOf(h);if(p>0&&p===l.length-h.length){var v=l.slice(0,p);v!=="data"&&(r.mainType=v,r[h.toLowerCase()]=u,f=!0)}}s.hasOwnProperty(l)&&(n[l]=u,f=!0),f||(a[l]=u)})}return{cptQuery:r,dataQuery:n,otherQuery:a}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=r.cptQuery,l=r.dataQuery;return f(u,o,"mainType")&&f(u,o,"subType")&&f(u,o,"index","componentIndex")&&f(u,o,"name")&&f(u,o,"id")&&f(l,i,"name")&&f(l,i,"dataIndex")&&f(l,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,a,i));function f(c,h,p,v){return c[p]==null||h[v||p]===c[p]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),CT=["symbol","symbolSize","symbolRotate","symbolOffset"],iN=CT.concat(["symbolKeepAspect"]),oEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},a={},i=!1,o=0;o<CT.length;o++){var s=CT[o],u=t.get(s);et(u)?(i=!0,a[s]=u):n[s]=u}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(Me({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var l=tr(a);function f(c,h){for(var p=t.getRawValue(h),v=t.getDataParams(h),g=0;g<l.length;g++){var y=l[g];c.setItemVisual(h,y,a[y](p,v))}}return{dataEach:i?f:null}}},sEe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(a,i){for(var o=a.getItemModel(i),s=0;s<iN.length;s++){var u=iN[s],l=o.getShallow(u,!0);l!=null&&a.setItemVisual(i,u,l)}}return{dataEach:r.hasItemOption?n:null}}};function JG(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function uEe(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function lEe(t,e,r,n){switch(r){case"color":var a=t.ensureUniqueItemVisual(e,"style");a[t.getVisual("drawType")]=n,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,n);break}}function mc(t,e,r,n,a){var i=t+e;r.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=a.selected,f=0;f<l.length;f++)if(l[f].seriesIndex===s){var c=o.getData(),h=Gl(c,a.fromActionPayload);r.trigger(i,{type:i,seriesId:o.id,name:Le(h)?c.getName(h[0]):c.getName(h),selected:Ie(u)?u:Me({},u)})}})}function cEe(t,e,r){t.on("selectchanged",function(n){var a=r.getModel();n.isFromClick?(mc("map","selectchanged",e,a,n),mc("pie","selectchanged",e,a,n)):n.fromAction==="select"?(mc("map","selected",e,a,n),mc("pie","selected",e,a,n)):n.fromAction==="unselect"&&(mc("map","unselected",e,a,n),mc("pie","unselected",e,a,n))})}function op(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var fEe=Math.round(Math.random()*9),hEe=typeof Object.defineProperty=="function",pEe=function(){function t(){this._id="__ec_inner_"+fEe++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return hEe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),vEe=yt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,a=e.width/2,i=e.height/2;t.moveTo(r,n-i),t.lineTo(r+a,n+i),t.lineTo(r-a,n+i),t.closePath()}}),dEe=yt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,a=e.width/2,i=e.height/2;t.moveTo(r,n-i),t.lineTo(r+a,n),t.lineTo(r,n+i),t.lineTo(r-a,n),t.closePath()}}),gEe=yt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,a=e.width/5*3,i=Math.max(a,e.height),o=a/2,s=o*o/(i-o),u=n-i+o+s,l=Math.asin(s/o),f=Math.cos(l)*o,c=Math.sin(l),h=Math.cos(l),p=o*.6,v=o*.7;t.moveTo(r-f,u+s),t.arc(r,u,o,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+f-c*p,u+s+h*p,r,n-v,r,n),t.bezierCurveTo(r,n-v,r-f+c*p,u+s+h*p,r-f,u+s),t.closePath()}}),yEe=yt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,a=e.x,i=e.y,o=n/3*2;t.moveTo(a,i),t.lineTo(a+o,i+r),t.lineTo(a,i+r/4*3),t.lineTo(a-o,i+r),t.lineTo(a,i),t.closePath()}}),mEe={line:eu,rect:Yt,roundRect:Yt,square:Yt,circle:P1,diamond:dEe,pin:gEe,arrow:yEe,triangle:vEe},_Ee={line:function(t,e,r,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+r,a.y2=e+n/2},rect:function(t,e,r,n,a){a.x=t,a.y=e,a.width=r,a.height=n},roundRect:function(t,e,r,n,a){a.x=t,a.y=e,a.width=r,a.height=n,a.r=Math.min(r,n)/4},square:function(t,e,r,n,a){var i=Math.min(r,n);a.x=t,a.y=e,a.width=i,a.height=i},circle:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.r=Math.min(r,n)/2},diamond:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.width=r,a.height=n},pin:function(t,e,r,n,a){a.x=t+r/2,a.y=e+n/2,a.width=r,a.height=n},arrow:function(t,e,r,n,a){a.x=t+r/2,a.y=e+n/2,a.width=r,a.height=n},triangle:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.width=r,a.height=n}},hm={};oe(mEe,function(t,e){hm[e]=new t});var xEe=yt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=Jy(t,e,r),a=this.shape;return a&&a.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var a=hm[n];a||(n="rect",a=hm[n]),_Ee[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,r)}}});function wEe(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function ru(t,e,r,n,a,i,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=qz(t.slice(8),new Dt(e,r,n,a),o?"center":"cover"):t.indexOf("path://")===0?u=OE(t.slice(7),{},new Dt(e,r,n,a),o?"center":"cover"):u=new xEe({shape:{symbolType:t,x:e,y:r,width:n,height:a}}),u.__isEmptyBrush=s,u.setColor=wEe,i&&u.setColor(i),u}function SEe(t){return Le(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function QG(t,e){if(t!=null)return Le(t)||(t=[t,t]),[Lr(t[0],e[0])||0,Lr(pt(t[1],t[0]),e[1])||0]}function ll(t){return isFinite(t)}function bEe(t,e,r){var n=e.x==null?0:e.x,a=e.x2==null?1:e.x2,i=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,a=a*r.width+r.x,i=i*r.height+r.y,o=o*r.height+r.y),n=ll(n)?n:0,a=ll(a)?a:1,i=ll(i)?i:0,o=ll(o)?o:0;var s=t.createLinearGradient(n,i,a,o);return s}function TEe(t,e,r){var n=r.width,a=r.height,i=Math.min(n,a),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*a+r.y,u=u*i),o=ll(o)?o:.5,s=ll(s)?s:.5,u=u>=0&&ll(u)?u:.5;var l=t.createRadialGradient(o,s,0,o,s,u);return l}function ET(t,e,r){for(var n=e.type==="radial"?TEe(t,e,r):bEe(t,e,r),a=e.colorStops,i=0;i<a.length;i++)n.addColorStop(a[i].offset,a[i].color);return n}function CEe(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function Yg(t){return parseInt(t,10)}function qg(t,e,r){var n=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[a]||Yg(s[n])||Yg(t.style[n]))-(Yg(s[i])||0)-(Yg(s[o])||0)|0}function EEe(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:rr(t)?[t]:Le(t)?t:null}function e9(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&EEe(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var a=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&a!==1&&(r=Ne(r,function(i){return i/a}),n/=a)}return[r,n]}var DEe=new Js(!0);function pm(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function oN(t){return typeof t=="string"&&t!=="none"}function vm(t){var e=t.fill;return e!=null&&e!=="none"}function sN(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function uN(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function DT(t,e,r){var n=Sz(e.image,e.__image,r);if(N1(n)){var a=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(e.x||0,e.y||0),i.rotateSelf(0,0,(e.rotation||0)*swe),i.scaleSelf(e.scaleX||1,e.scaleY||1),a.setTransform(i)}return a}}function OEe(t,e,r,n){var a,i=pm(r),o=vm(r),s=r.strokePercent,u=s<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var f=e.path||DEe,c=e.__dirty;if(!n){var h=r.fill,p=r.stroke,v=o&&!!h.colorStops,g=i&&!!p.colorStops,y=o&&!!h.image,m=i&&!!p.image,d=void 0,_=void 0,x=void 0,w=void 0,S=void 0;(v||g)&&(S=e.getBoundingRect()),v&&(d=c?ET(t,h,S):e.__canvasFillGradient,e.__canvasFillGradient=d),g&&(_=c?ET(t,p,S):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),y&&(x=c||!e.__canvasFillPattern?DT(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=x),m&&(w=c||!e.__canvasStrokePattern?DT(t,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),v?t.fillStyle=d:y&&(x?t.fillStyle=x:o=!1),g?t.strokeStyle=_:m&&(w?t.strokeStyle=w:i=!1)}var b=e.getGlobalScale();f.setScale(b[0],b[1],e.segmentIgnoreThreshold);var T,C;t.setLineDash&&r.lineDash&&(a=e9(e),T=a[0],C=a[1]);var M=!0;(l||c&Jh)&&(f.setDPR(t.dpr),u?f.setContext(null):(f.setContext(t),M=!1),f.reset(),e.buildPath(f,e.shape,n),f.toStatic(),e.pathUpdated()),M&&f.rebuildPath(t,u?s:1),T&&(t.setLineDash(T),t.lineDashOffset=C),n||(r.strokeFirst?(i&&uN(t,r),o&&sN(t,r)):(o&&sN(t,r),i&&uN(t,r))),T&&t.setLineDash([])}function MEe(t,e,r){var n=e.__image=Sz(r.image,e.__image,e,e.onload);if(!(!n||!N1(n))){var a=r.x||0,i=r.y||0,o=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,f=r.sy||0;t.drawImage(n,l,f,r.sWidth,r.sHeight,a,i,o,s)}else if(r.sx&&r.sy){var l=r.sx,f=r.sy,c=o-l,h=s-f;t.drawImage(n,l,f,c,h,a,i,o,s)}else t.drawImage(n,a,i,o,s)}}function LEe(t,e,r){var n,a=r.text;if(a!=null&&(a+=""),a){t.font=r.font||Ul,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var i=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=e9(e),i=n[0],o=n[1]),i&&(t.setLineDash(i),t.lineDashOffset=o),r.strokeFirst?(pm(r)&&t.strokeText(a,r.x,r.y),vm(r)&&t.fillText(a,r.x,r.y)):(vm(r)&&t.fillText(a,r.x,r.y),pm(r)&&t.strokeText(a,r.x,r.y)),i&&t.setLineDash([])}}var lN=["shadowBlur","shadowOffsetX","shadowOffsetY"],cN=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function t9(t,e,r,n,a){var i=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){Fn(t,a),i=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?xl.opacity:o}(n||e.blend!==r.blend)&&(i||(Fn(t,a),i=!0),t.globalCompositeOperation=e.blend||xl.blend);for(var s=0;s<lN.length;s++){var u=lN[s];(n||e[u]!==r[u])&&(i||(Fn(t,a),i=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(i||(Fn(t,a),i=!0),t.shadowColor=e.shadowColor||xl.shadowColor),i}function fN(t,e,r,n,a){var i=Mv(e,a.inHover),o=n?null:r&&Mv(r,a.inHover)||{};if(i===o)return!1;var s=t9(t,i,o,n,a);if((n||i.fill!==o.fill)&&(s||(Fn(t,a),s=!0),oN(i.fill)&&(t.fillStyle=i.fill)),(n||i.stroke!==o.stroke)&&(s||(Fn(t,a),s=!0),oN(i.stroke)&&(t.strokeStyle=i.stroke)),(n||i.opacity!==o.opacity)&&(s||(Fn(t,a),s=!0),t.globalAlpha=i.opacity==null?1:i.opacity),e.hasStroke()){var u=i.lineWidth,l=u/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Fn(t,a),s=!0),t.lineWidth=l)}for(var f=0;f<cN.length;f++){var c=cN[f],h=c[0];(n||i[h]!==o[h])&&(s||(Fn(t,a),s=!0),t[h]=i[h]||c[1])}return s}function kEe(t,e,r,n,a){return t9(t,Mv(e,a.inHover),r&&Mv(r,a.inHover),n,a)}function r9(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function REe(t,e,r){for(var n=!1,a=0;a<t.length;a++){var i=t[a];n=n||i.isZeroArea(),r9(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}r.allClipped=n}function AEe(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var hN=1,pN=2,vN=3,dN=4;function NEe(t){var e=vm(t),r=pm(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Fn(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Mv(t,e){return e&&t.__hoverStyle||t.style}function n9(t,e){cl(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function cl(t,e,r,n){var a=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=-2,e.__isRendered=!1;return}var i=e.__clipPaths,o=r.prevElClipPaths,s=!1,u=!1;if((!o||CEe(i,o))&&(o&&o.length&&(Fn(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),i&&i.length&&(Fn(t,r),t.save(),REe(i,t,r),s=!0),r.prevElClipPaths=i),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var f=e instanceof yt&&e.autoBatch&&NEe(e.style);s||AEe(a,l.transform)?(Fn(t,r),r9(t,e)):f||Fn(t,r);var c=Mv(e,r.inHover);e instanceof yt?(r.lastDrawType!==hN&&(u=!0,r.lastDrawType=hN),fN(t,e,l,u,r),(!f||!r.batchFill&&!r.batchStroke)&&t.beginPath(),OEe(t,e,c,f),f&&(r.batchFill=c.fill||"",r.batchStroke=c.stroke||"")):e instanceof tm?(r.lastDrawType!==vN&&(u=!0,r.lastDrawType=vN),fN(t,e,l,u,r),LEe(t,e,c)):e instanceof uu?(r.lastDrawType!==pN&&(u=!0,r.lastDrawType=pN),kEe(t,e,l,u,r),MEe(t,e,c)):e.getTemporalDisplayables&&(r.lastDrawType!==dN&&(u=!0,r.lastDrawType=dN),FEe(t,e,r)),f&&n&&Fn(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function FEe(t,e,r){var n=e.getDisplayables(),a=e.getTemporalDisplayables();t.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),cl(t,u,i,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),i.prevEl=u}for(var l=0,f=a.length;l<f;l++){var u=a[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),cl(t,u,i,l===f-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),i.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var qw=new pEe,gN=new pd(100),yN=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function OT(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),a=n.painter.type==="svg";t.dirty&&qw.delete(t);var i=qw.get(t);if(i)return i;var o=ot(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/r,qw.set(t,s),t.dirty=!1,s;function u(l){for(var f=[r],c=!0,h=0;h<yN.length;++h){var p=o[yN[h]];if(p!=null&&!Le(p)&&!Ie(p)&&!rr(p)&&typeof p!="boolean"){c=!1;break}f.push(p)}var v;if(c){v=f.join(",")+(a?"-svg":"");var g=gN.get(v);g&&(a?l.svgElement=g:l.image=g)}var y=i9(o.dashArrayX),m=BEe(o.dashArrayY),d=a9(o.symbol),_=IEe(y),x=o9(m),w=!a&&jf.createCanvas(),S=a&&{tag:"g",attrs:{},key:"dcl",children:[]},b=C(),T;w&&(w.width=b.width*r,w.height=b.height*r,T=w.getContext("2d")),M(),c&&gN.put(v,w||S),l.image=w,l.svgElement=S,l.svgWidth=b.width,l.svgHeight=b.height;function C(){for(var D=1,E=0,k=_.length;E<k;++E)D=MA(D,_[E]);for(var O=1,E=0,k=d.length;E<k;++E)O=MA(O,d[E].length);D*=O;var A=x*_.length*d.length;return{width:Math.max(1,Math.min(D,o.maxTileWidth)),height:Math.max(1,Math.min(A,o.maxTileHeight))}}function M(){T&&(T.clearRect(0,0,w.width,w.height),o.backgroundColor&&(T.fillStyle=o.backgroundColor,T.fillRect(0,0,w.width,w.height)));for(var D=0,E=0;E<m.length;++E)D+=m[E];if(D<=0)return;for(var k=-x,O=0,A=0,I=0;k<b.height;){if(O%2===0){for(var U=A/2%d.length,P=0,B=0,W=0;P<b.width*2;){for(var H=0,E=0;E<y[I].length;++E)H+=y[I][E];if(H<=0)break;if(B%2===0){var $=(1-o.symbolSize)*.5,q=P+y[I][B]*$,Q=k+m[O]*$,Y=y[I][B]*o.symbolSize,ie=m[O]*o.symbolSize,J=W/2%d[U].length;ae(q,Q,Y,ie,d[U][J])}P+=y[I][B],++W,++B,B===y[I].length&&(B=0)}++I,I===y.length&&(I=0)}k+=m[O],++A,++O,O===m.length&&(O=0)}function ae(re,V,R,F,N){var L=a?1:r,G=ru(N,re*L,V*L,R*L,F*L,o.color,o.symbolKeepAspect);if(a){var z=n.painter.renderOneToVNode(G);z&&S.children.push(z)}else n9(T,G)}}}}function a9(t){if(!t||t.length===0)return[["rect"]];if(Ie(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!Ie(t[r])){e=!1;break}if(e)return a9([t]);for(var n=[],r=0;r<t.length;++r)Ie(t[r])?n.push([t[r]]):n.push(t[r]);return n}function i9(t){if(!t||t.length===0)return[[0,0]];if(rr(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!rr(t[n])){r=!1;break}if(r)return i9([t]);for(var a=[],n=0;n<t.length;++n)if(rr(t[n])){var e=Math.ceil(t[n]);a.push([e,e])}else{var e=Ne(t[n],function(s){return Math.ceil(s)});e.length%2===1?a.push(e.concat(e)):a.push(e)}return a}function BEe(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(rr(t)){var e=Math.ceil(t);return[e,e]}var r=Ne(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function IEe(t){return Ne(t,function(e){return o9(e)})}function o9(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function VEe(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=OT(s,e)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=OT(a,e)}}})}var qa=new Ba,s9={};function PEe(t,e){s9[t]=e}function UEe(t){return s9[t]}var zEe=1,GEe=800,WEe=900,HEe=1e3,jEe=2e3,$Ee=5e3,u9=1e3,KEe=1100,WE=2e3,l9=3e3,XEe=4e3,n_=4500,YEe=4600,qEe=5e3,ZEe=6e3,c9=7e3,JEe={PROCESSOR:{FILTER:HEe,SERIES_FILTER:GEe,STATISTIC:$Ee},VISUAL:{LAYOUT:u9,PROGRESSIVE_LAYOUT:KEe,GLOBAL:WE,CHART:l9,POST_CHART_LAYOUT:YEe,COMPONENT:XEe,BRUSH:qEe,CHART_ITEM:n_,ARIA:ZEe,DECAL:c9}},an="__flagInMainProcess",Dn="__pendingUpdate",Zw="__needsUpdateStatus",mN=/^[a-zA-Z0-9_]+$/,Jw="__connectUpdateStatus",_N=0,QEe=1,eDe=2;function f9(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return p9(this,t,e)}}function h9(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return p9(this,t,e)}}function p9(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Ba.prototype[e].apply(t,r)}var v9=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ba),d9=v9.prototype;d9.on=h9("on");d9.off=h9("off");var _c,Qw,Zg,ls,eS,tS,rS,Eh,Dh,xN,wN,nS,SN,Jg,bN,g9,ca,TN,y9=function(t){Ce(e,t);function e(r,n,a){var i=t.call(this,new iEe)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},Ie(n)&&(n=m9[n]),i._dom=r;var o="canvas",s="auto",u=!1;a.ssr;var l=i._zr=OA(r,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:pt(a.useDirtyRect,u),useCoarsePointer:pt(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=GE(Ke(l.flush,l),17),n=Ze(n),n&&DG(n,!0),i._theme=n,i._locale=pCe(a.locale||iG),i._coordSysMgr=new VE;var f=i._api=bN(i);function c(h,p){return h.__prio-p.__prio}return W0(gm,c),W0(MT,c),i._scheduler=new KG(i,f,MT,gm),i._messageCenter=new v9,i._initEvents(),i.resize=Ke(i.resize,i),l.animation.on("frame",i._onframe,i),xN(l,i),wN(l,i),jb(i),i}return e.prototype._onframe=function(){if(!this._disposed){TN(this);var r=this._scheduler;if(this[Dn]){var n=this[Dn].silent;this[an]=!0;try{_c(this),ls.update.call(this,null,this[Dn].updateParams)}catch(u){throw this[an]=!1,this[Dn]=null,u}this._zr.flush(),this[an]=!1,this[Dn]=null,Eh.call(this,n),Dh.call(this,n)}else if(r.unfinished){var a=zEe,i=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(i),r.performDataProcessorTasks(i),tS(this,i),r.performVisualTasks(i),Jg(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,a){if(!this[an]){if(this._disposed){this.id;return}var i,o,s;if(Ue(n)&&(a=n.lazyUpdate,i=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[an]=!0,!this._model||n){var u=new UCe(this._api),l=this._theme,f=this._model=new IE;f.scheduler=this._scheduler,f.ssr=this._ssr,f.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:o},LT);var c={seriesTransition:s,optionChanged:!0};if(a)this[Dn]={silent:i,updateParams:c},this[an]=!1,this.getZr().wakeUp();else{try{_c(this),ls.update.call(this,null,c)}catch(h){throw this[Dn]=null,this[an]=!1,h}this._ssr||this._zr.flush(),this[Dn]=null,this[an]=!1,Eh.call(this,i),Dh.call(this,i)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Qe.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(Qe.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return oe(n,function(a){a.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,a=this._model,i=[],o=this;oe(n,function(u){a.eachComponent({mainType:u},function(l){var f=o._componentsMap[l.__viewId];f.group.ignore||(i.push(f),f.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return oe(i,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(CN[a]){var u=s,l=s,f=-s,c=-s,h=[],p=r&&r.pixelRatio||this.getDevicePixelRatio();oe(Np,function(_,x){if(_.group===a){var w=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(Ze(r)),S=_.getDom().getBoundingClientRect();u=i(S.left,u),l=i(S.top,l),f=o(S.right,f),c=o(S.bottom,c),h.push({dom:w,left:S.left,top:S.top})}}),u*=p,l*=p,f*=p,c*=p;var v=f-u,g=c-l,y=jf.createCanvas(),m=OA(y,{renderer:n?"svg":"canvas"});if(m.resize({width:v,height:g}),n){var d="";return oe(h,function(_){var x=_.left-u,w=_.top-l;d+='<g transform="translate('+x+","+w+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=d,r.connectedBackgroundColor&&m.painter.setBackgroundColor(r.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return r.connectedBackgroundColor&&m.add(new Yt({shape:{x:0,y:0,width:v,height:g},style:{fill:r.connectedBackgroundColor}})),oe(h,function(_){var x=new uu({style:{x:_.left*p-u,y:_.top*p-l,image:_.dom}});m.add(x)}),m.refreshImmediately(),y.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return eS(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return eS(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var a=this._model,i,o=Ep(a,r);return oe(o,function(s,u){u.indexOf("Models")>=0&&oe(s,function(l){var f=l.coordinateSystem;if(f&&f.containPoint)i=i||!!f.containPoint(n);else if(u==="seriesModels"){var c=this._chartsMap[l.__viewId];c&&c.containPoint&&(i=i||c.containPoint(n,l))}},this)},this),!!i},e.prototype.getVisual=function(r,n){var a=this._model,i=Ep(a,r,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),u=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return u!=null?JG(s,u,n):uEe(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;oe(tDe,function(n){var a=function(i){var o=r.getModel(),s=i.target,u,l=n==="globalout";if(l?u={}:s&&op(s,function(v){var g=Ft(v);if(g&&g.dataIndex!=null){var y=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=y&&y.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return u=Me({},g.eventData),!0},!0),u){var f=u.componentType,c=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",c=u.seriesIndex);var h=f&&c!=null&&o.getComponent(f,c),p=h&&r[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];u.event=i,u.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:h,view:p},r.trigger(n,u)}};a.zrEventfulCallAtLast=!0,r._zr.on(n,a,r)}),oe(Ap,function(n,a){r._messageCenter.on(a,function(i){this.trigger(a,i)},r)}),oe(["selectchanged"],function(n){r._messageCenter.on(n,function(a){this.trigger(n,a)},r)}),cEe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&_z(this.getDom(),jE,"");var n=this,a=n._api,i=n._model;oe(n._componentsViews,function(o){o.dispose(i,a)}),oe(n._chartsViews,function(o){o.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Np[n.id]},e.prototype.resize=function(r){if(!this[an]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=r&&r.silent;this[Dn]&&(i==null&&(i=this[Dn].silent),a=!0,this[Dn]=null),this[an]=!0;try{a&&_c(this),ls.update.call(this,{type:"resize",animation:Me({duration:0},r&&r.animation)})}catch(o){throw this[an]=!1,o}this[an]=!1,Eh.call(this,i),Dh.call(this,i)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Ue(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!kT[r]){var a=kT[r](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=Me({},r);return n.type=Ap[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Ue(n)||(n={silent:!!n}),!!dm[r.type]&&this._model){if(this[an]){this._pendingActions.push(r);return}var a=n.silent;rS.call(this,r,a);var i=n.flush;i?this._zr.flush():i!==!1&&Qe.browser.weChat&&this._throttledZrFlush(),Eh.call(this,a),Dh.call(this,a)}},e.prototype.updateLabelLayout=function(){qa.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);i.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){_c=function(c){var h=c._scheduler;h.restorePipelines(c._model),h.prepareStageTasks(),Qw(c,!0),Qw(c,!1),h.plan()},Qw=function(c,h){for(var p=c._model,v=c._scheduler,g=h?c._componentsViews:c._chartsViews,y=h?c._componentsMap:c._chartsMap,m=c._zr,d=c._api,_=0;_<g.length;_++)g[_].__alive=!1;h?p.eachComponent(function(S,b){S!=="series"&&x(b)}):p.eachSeries(x);function x(S){var b=S.__requireNewView;S.__requireNewView=!1;var T="_ec_"+S.id+"_"+S.type,C=!b&&y[T];if(!C){var M=Ui(S.type),D=h?jn.getClass(M.main,M.sub):La.getClass(M.sub);C=new D,C.init(p,d),y[T]=C,g.push(C),m.add(C.group)}S.__viewId=C.__id=T,C.__alive=!0,C.__model=S,C.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!h&&v.prepareView(C,S,p,d)}for(var _=0;_<g.length;){var w=g[_];w.__alive?_++:(!h&&w.renderTask.dispose(),m.remove(w.group),w.dispose(p,d),g.splice(_,1),y[w.__id]===w&&delete y[w.__id],w.__id=w.group.__ecComponentInfo=null)}},Zg=function(c,h,p,v,g){var y=c._model;if(y.setUpdatePayload(p),!v){oe([].concat(c._componentsViews).concat(c._chartsViews),w);return}var m={};m[v+"Id"]=p[v+"Id"],m[v+"Index"]=p[v+"Index"],m[v+"Name"]=p[v+"Name"];var d={mainType:v,query:m};g&&(d.subType=g);var _=p.excludeSeriesId,x;_!=null&&(x=Xe(),oe(Tr(_),function(S){var b=ji(S,null);b!=null&&x.set(b,!0)})),y&&y.eachComponent(d,function(S){var b=x&&x.get(S.id)!=null;if(!b)if(a3(p))if(S instanceof ci)p.type===wl&&!p.notBlur&&!S.get(["emphasis","disabled"])&&aTe(S,p,c._api);else{var T=wE(S.mainType,S.componentIndex,p.name,c._api),C=T.focusSelf,M=T.dispatchers;p.type===wl&&C&&!p.notBlur&&hT(S.mainType,S.componentIndex,c._api),M&&oe(M,function(D){p.type===wl?Df(D):Of(D)})}else vT(p)&&S instanceof ci&&(sTe(S,p,c._api),r3(S),ca(c))},c),y&&y.eachComponent(d,function(S){var b=x&&x.get(S.id)!=null;b||w(c[v==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},c);function w(S){S&&S.__alive&&S[h]&&S[h](S.__model,y,c._api,p)}},ls={prepareAndUpdate:function(c){_c(this),ls.update.call(this,c,{optionChanged:c.newOption!=null})},update:function(c,h){var p=this._model,v=this._api,g=this._zr,y=this._coordSysMgr,m=this._scheduler;if(p){p.setUpdatePayload(c),m.restoreData(p,c),m.performSeriesTasks(p),y.create(p,v),m.performDataProcessorTasks(p,c),tS(this,p),y.update(p,v),r(p),m.performVisualTasks(p,c),nS(this,p,v,c,h);var d=p.get("backgroundColor")||"transparent",_=p.get("darkMode");g.setBackgroundColor(d),_!=null&&_!=="auto"&&g.setDarkMode(_),qa.trigger("afterupdate",p,v)}},updateTransform:function(c){var h=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(c);var g=[];p.eachComponent(function(m,d){if(m!=="series"){var _=h.getViewOfComponentModel(d);if(_&&_.__alive)if(_.updateTransform){var x=_.updateTransform(d,p,v,c);x&&x.update&&g.push(_)}else g.push(_)}});var y=Xe();p.eachSeries(function(m){var d=h._chartsMap[m.__viewId];if(d.updateTransform){var _=d.updateTransform(m,p,v,c);_&&_.update&&y.set(m.uid,1)}else y.set(m.uid,1)}),r(p),this._scheduler.performVisualTasks(p,c,{setDirty:!0,dirtyMap:y}),Jg(this,p,v,c,{},y),qa.trigger("afterupdate",p,v)}},updateView:function(c){var h=this._model;h&&(h.setUpdatePayload(c),La.markUpdateMethod(c,"updateView"),r(h),this._scheduler.performVisualTasks(h,c,{setDirty:!0}),nS(this,h,this._api,c,{}),qa.trigger("afterupdate",h,this._api))},updateVisual:function(c){var h=this,p=this._model;p&&(p.setUpdatePayload(c),p.eachSeries(function(v){v.getData().clearAllVisual()}),La.markUpdateMethod(c,"updateVisual"),r(p),this._scheduler.performVisualTasks(p,c,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,g){if(v!=="series"){var y=h.getViewOfComponentModel(g);y&&y.__alive&&y.updateVisual(g,p,h._api,c)}}),p.eachSeries(function(v){var g=h._chartsMap[v.__viewId];g.updateVisual(v,p,h._api,c)}),qa.trigger("afterupdate",p,this._api))},updateLayout:function(c){ls.update.call(this,c)}},eS=function(c,h,p,v){if(c._disposed){c.id;return}for(var g=c._model,y=c._coordSysMgr.getCoordinateSystems(),m,d=Ep(g,p),_=0;_<y.length;_++){var x=y[_];if(x[h]&&(m=x[h](g,d,v))!=null)return m}},tS=function(c,h){var p=c._chartsMap,v=c._scheduler;h.eachSeries(function(g){v.updateStreamModes(g,p[g.__viewId])})},rS=function(c,h){var p=this,v=this.getModel(),g=c.type,y=c.escapeConnect,m=dm[g],d=m.actionInfo,_=(d.update||"update").split(":"),x=_.pop(),w=_[0]!=null&&Ui(_[0]);this[an]=!0;var S=[c],b=!1;c.batch&&(b=!0,S=Ne(c.batch,function(O){return O=ot(Me({},O),c),O.batch=null,O}));var T=[],C,M=vT(c),D=a3(c);if(D&&Pz(this._api),oe(S,function(O){if(C=m.action(O,p._model,p._api),C=C||Me({},O),C.type=d.event||C.type,T.push(C),D){var A=gE(c),I=A.queryOptionMap,U=A.mainTypeSpecified,P=U?I.keys()[0]:"series";Zg(p,x,O,P),ca(p)}else M?(Zg(p,x,O,"series"),ca(p)):w&&Zg(p,x,O,w.main,w.sub)}),x!=="none"&&!D&&!M&&!w)try{this[Dn]?(_c(this),ls.update.call(this,c),this[Dn]=null):ls[x].call(this,c)}catch(O){throw this[an]=!1,O}if(b?C={type:d.event||g,escapeConnect:y,batch:T}:C=T[0],this[an]=!1,!h){var E=this._messageCenter;if(E.trigger(C.type,C),M){var k={type:"selectchanged",escapeConnect:y,selected:uTe(v),isFromClick:c.isFromClick||!1,fromAction:c.type,fromActionPayload:c};E.trigger(k.type,k)}}},Eh=function(c){for(var h=this._pendingActions;h.length;){var p=h.shift();rS.call(this,p,c)}},Dh=function(c){!c&&this.trigger("updated")},xN=function(c,h){c.on("rendered",function(p){h.trigger("rendered",p),c.animation.isFinished()&&!h[Dn]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},wN=function(c,h){c.on("mouseover",function(p){var v=p.target,g=op(v,pT);g&&(iTe(g,p,h._api),ca(h))}).on("mouseout",function(p){var v=p.target,g=op(v,pT);g&&(oTe(g,p,h._api),ca(h))}).on("click",function(p){var v=p.target,g=op(v,function(d){return Ft(d).dataIndex!=null},!0);if(g){var y=g.selected?"unselect":"select",m=Ft(g);h._api.dispatchAction({type:y,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function r(c){c.clearColorPalette(),c.eachSeries(function(h){h.clearColorPalette()})}function n(c){var h=[],p=[],v=!1;if(c.eachComponent(function(d,_){var x=_.get("zlevel")||0,w=_.get("z")||0,S=_.getZLevelKey();v=v||!!S,(d==="series"?p:h).push({zlevel:x,z:w,idx:_.componentIndex,type:d,key:S})}),v){var g=h.concat(p),y,m;W0(g,function(d,_){return d.zlevel===_.zlevel?d.z-_.z:d.zlevel-_.zlevel}),oe(g,function(d){var _=c.getComponent(d.type,d.idx),x=d.zlevel,w=d.key;y!=null&&(x=Math.max(y,x)),w?(x===y&&w!==m&&x++,m=w):m&&(x===y&&x++,m=""),y=x,_.setZLevel(x)})}}nS=function(c,h,p,v,g){n(h),SN(c,h,p,v,g),oe(c._chartsViews,function(y){y.__alive=!1}),Jg(c,h,p,v,g),oe(c._chartsViews,function(y){y.__alive||y.remove(h,p)})},SN=function(c,h,p,v,g,y){oe(y||c._componentsViews,function(m){var d=m.__model;l(d,m),m.render(d,h,p,v),s(d,m),f(d,m)})},Jg=function(c,h,p,v,g,y){var m=c._scheduler;g=Me(g||{},{updatedSeries:h.getSeries()}),qa.trigger("series:beforeupdate",h,p,g);var d=!1;h.eachSeries(function(_){var x=c._chartsMap[_.__viewId];x.__alive=!0;var w=x.renderTask;m.updatePayload(w,v),l(_,x),y&&y.get(_.uid)&&w.dirty(),w.perform(m.getPerformArgs(w))&&(d=!0),x.group.silent=!!_.get("silent"),o(_,x),r3(_)}),m.unfinished=d||m.unfinished,qa.trigger("series:layoutlabels",h,p,g),qa.trigger("series:transition",h,p,g),h.eachSeries(function(_){var x=c._chartsMap[_.__viewId];s(_,x),f(_,x)}),i(c,h),qa.trigger("series:afterupdate",h,p,g)},ca=function(c){c[Zw]=!0,c.getZr().wakeUp()},TN=function(c){c[Zw]&&(c.getZr().storage.traverse(function(h){Lp(h)||a(h)}),c[Zw]=!1)};function a(c){for(var h=[],p=c.currentStates,v=0;v<p.length;v++){var g=p[v];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}c.selected&&c.states.select&&h.push("select"),c.hoverState===I1&&c.states.emphasis?h.push("emphasis"):c.hoverState===B1&&c.states.blur&&h.push("blur"),c.useStates(h)}function i(c,h){var p=c._zr,v=p.storage,g=0;v.traverse(function(y){y.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!Qe.node&&!Qe.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var m=c._chartsMap[y.__viewId];m.__alive&&m.eachRendered(function(d){d.states.emphasis&&(d.states.emphasis.hoverLayer=!0)})}})}function o(c,h){var p=c.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function s(c,h){if(!c.preventAutoZ){var p=c.get("z")||0,v=c.get("zlevel")||0;h.eachRendered(function(g){return u(g,p,v,-1/0),!0})}}function u(c,h,p,v){var g=c.getTextContent(),y=c.getTextGuideLine(),m=c.isGroup;if(m)for(var d=c.childrenRef(),_=0;_<d.length;_++)v=Math.max(u(d[_],h,p,v),v);else c.z=h,c.zlevel=p,v=Math.max(c.z2,v);if(g&&(g.z=h,g.zlevel=p,isFinite(v)&&(g.z2=v+2)),y){var x=c.textGuideLineConfig;y.z=h,y.zlevel=p,isFinite(v)&&(y.z2=v+(x&&x.showAbove?1:-1))}return v}function l(c,h){h.eachRendered(function(p){if(!Lp(p)){var v=p.getTextContent(),g=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function f(c,h){var p=c.getModel("stateAnimation"),v=c.isAnimationEnabled(),g=p.get("duration"),y=g>0?{duration:g,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Lp(m))return;if(m instanceof yt&&pTe(m),m.__dirty){var d=m.prevStates;d&&m.useStates(d)}if(v){m.stateTransition=y;var _=m.getTextContent(),x=m.getTextGuideLine();_&&(_.stateTransition=y),x&&(x.stateTransition=y)}m.__dirty&&a(m)}})}bN=function(c){return new(function(h){Ce(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return c._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return c._model.getComponent(g.mainType,g.index);v=v.parent}},p.prototype.enterEmphasis=function(v,g){Df(v,g),ca(c)},p.prototype.leaveEmphasis=function(v,g){Of(v,g),ca(c)},p.prototype.enterBlur=function(v){nTe(v),ca(c)},p.prototype.leaveBlur=function(v){Fz(v),ca(c)},p.prototype.enterSelect=function(v){Bz(v),ca(c)},p.prototype.leaveSelect=function(v){Iz(v),ca(c)},p.prototype.getModel=function(){return c.getModel()},p.prototype.getViewOfComponentModel=function(v){return c.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return c.getViewOfSeriesModel(v)},p}(CG))(c)},g9=function(c){function h(p,v){for(var g=0;g<p.length;g++){var y=p[g];y[Jw]=v}}oe(Ap,function(p,v){c._messageCenter.on(v,function(g){if(CN[c.group]&&c[Jw]!==_N){if(g&&g.escapeConnect)return;var y=c.makeActionFromEvent(g),m=[];oe(Np,function(d){d!==c&&d.group===c.group&&m.push(d)}),h(m,_N),oe(m,function(d){d[Jw]!==QEe&&d.dispatchAction(y)}),h(m,eDe)}})})}}(),e}(Ba),HE=y9.prototype;HE.on=f9("on");HE.off=f9("off");HE.one=function(t,e,r){var n=this;function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),n.off(t,a)}this.on.call(this,t,a,r)};var tDe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var dm={},Ap={},MT=[],LT=[],gm=[],m9={},kT={},Np={},CN={},rDe=+new Date-0,jE="_echarts_instance_";function nDe(t,e,r){{var n=aDe(t);if(n)return n}var a=new y9(t,e,r);return a.id="ec_"+rDe++,Np[a.id]=a,_z(t,jE,a.id),g9(a),qa.trigger("afterinit",a),a}function aDe(t){return Np[$Se(t,jE)]}function _9(t,e){m9[t]=e}function x9(t){St(LT,t)<0&&LT.push(t)}function w9(t,e){KE(MT,t,e,jEe)}function iDe(t){$E("afterinit",t)}function oDe(t){$E("afterupdate",t)}function $E(t,e){qa.on(t,e)}function Zi(t,e,r){et(e)&&(r=e,e="");var n=Ue(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!Ap[e]&&(ui(mN.test(n)&&mN.test(e)),dm[n]||(dm[n]={action:r,actionInfo:t}),Ap[e]=n)}function sDe(t,e){VE.register(t,e)}function uDe(t,e){KE(gm,t,e,u9,"layout")}function Xl(t,e){KE(gm,t,e,l9,"visual")}var EN=[];function KE(t,e,r,n,a){if((et(e)||Ue(e))&&(r=e,e=n),!(St(EN,r)>=0)){EN.push(r);var i=KG.wrapStageHandler(r,a);i.__prio=e,i.__raw=r,t.push(i)}}function S9(t,e){kT[t]=e}function lDe(t,e,r){var n=UEe("registerMap");n&&n(t,e,r)}var cDe=g2e;Xl(WE,j2e);Xl(n_,$2e);Xl(n_,K2e);Xl(WE,oEe);Xl(n_,sEe);Xl(c9,VEe);x9(DG);w9(WEe,JCe);S9("default",X2e);Zi({type:wl,event:wl,update:wl},Kr);Zi({type:q0,event:q0,update:q0},Kr);Zi({type:Dp,event:Dp,update:Dp},Kr);Zi({type:Z0,event:Z0,update:Z0},Kr);Zi({type:Op,event:Op,update:Op},Kr);_9("light",aEe);_9("dark",ZG);function Oh(t){return t==null?0:t.length||1}function DN(t){return t}var Lv=function(){function t(e,r,n,a,i,o){this._old=e,this._new=r,this._oldKeyGetter=n||DN,this._newKeyGetter=a||DN,this.context=i,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},a=new Array(e.length),i=new Array(r.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(r,n,i,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=a[o],u=n[s],l=Oh(u);if(l>1){var f=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(f,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},a={},i=[],o=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(r,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var u=i[s],l=n[u],f=a[u],c=Oh(l),h=Oh(f);if(c>1&&h===1)this._updateManyToOne&&this._updateManyToOne(f,l),a[u]=null;else if(c===1&&h>1)this._updateOneToMany&&this._updateOneToMany(f,l),a[u]=null;else if(c===1&&h===1)this._update&&this._update(f,l),a[u]=null;else if(c>1&&h>1)this._updateManyToMany&&this._updateManyToMany(f,l),a[u]=null;else if(c>1)for(var p=0;p<c;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(o,a)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var a=e[n],i=r[a],o=Oh(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);r[a]=null}},t.prototype._initIndexMap=function(e,r,n,a){for(var i=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[a](e[o],o);if(i||(n[o]=s),!!r){var u=r[s],l=Oh(u);l===0?(r[s]=o,i&&n.push(s)):l===1?r[s]=[u,o]:u.push(o)}}},t}(),fDe=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function hDe(t,e){var r={},n=r.encode={},a=Xe(),i=[],o=[],s={};oe(t.dimensions,function(h){var p=t.getDimensionInfo(h),v=p.coordDim;if(v){var g=p.coordDimIndex;aS(n,v)[g]=h,p.isExtraCoord||(a.set(v,1),pDe(p.type)&&(i[0]=h),aS(s,v)[g]=t.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(h)}_G.each(function(y,m){var d=aS(n,m),_=p.otherDims[m];_!=null&&_!==!1&&(d[_]=p.name)})});var u=[],l={};a.each(function(h,p){var v=n[p];l[p]=v[0],u=u.concat(v)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=Ne(u,function(h){return t.getDimensionInfo(h).storeDimIndex}),r.encodeFirstDimNotExtra=l;var f=n.label;f&&f.length&&(i=f.slice());var c=n.tooltip;return c&&c.length?o=c.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,r.userOutput=new fDe(s,e),r}function aS(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function RT(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function pDe(t){return!(t==="ordinal"||t==="time")}var ny=function(){function t(e){this.otherDims={},e!=null&&Me(this,e)}return t}(),vDe=_r(),dDe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},b9=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=E9(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return pt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=LG(this.source),n=!D9(e),a="",i=[],o=0,s=0;o<e;o++){var u=void 0,l=void 0,f=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)u=r?c.name:null,l=c.type,f=c.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(u=r?h.name:null,l=h.type)}i.push({property:u,type:l,ordinalMeta:f}),r&&u!=null&&(!c||!c.isCalculationCoord)&&(a+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),a+="$",a+=dDe[l]||"f",f&&(a+=f.uid),a+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,a].join("$$");return{dimensions:i,hash:v}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===r)i.isCalculationCoord||(a=i.name),n++;else{var o=this.getSourceDimension(r);o&&(a=o.name)}e.push(a)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function T9(t){return t instanceof b9}function C9(t){for(var e=Xe(),r=0;r<(t||[]).length;r++){var n=t[r],a=Ue(n)?n.name:n;a!=null&&e.get(a)==null&&e.set(a,r)}return e}function E9(t){var e=vDe(t);return e.dimNameMap||(e.dimNameMap=C9(t.dimensionsDefine))}function D9(t){return t>30}var Mh=Ue,cs=Ne,gDe=typeof Int32Array>"u"?Array:Int32Array,yDe="e\0\0",ON=-1,mDe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],_De=["_approximateExtent"],MN,Qg,Lh,kh,iS,Rh,oS,O9=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,a=!1;T9(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,n=e),n=n||["x","y"];for(var i={},o=[],s={},u=!1,l={},f=0;f<n.length;f++){var c=n[f],h=Ie(c)?new ny({name:c}):c instanceof ny?c:new ny(c),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};o.push(p),i[p]=h,l[p]!=null&&(u=!0),h.createInvertedIndices&&(s[p]=[]),v.itemName===0&&(this._nameDimIdx=f),v.itemId===0&&(this._idDimIdx=f),a&&(h.storeDimIndex=f)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Xe();oe(o,function(y){g.set(i[y].storeDimIndex,y)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var a=this._schema.getSourceDimension(r);if(a)return a.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(rr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var a=n.encode[e];return a?a[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var a=this,i;if(e instanceof wT&&(i=e),!i){var o=this.dimensions,s=PE(e)||zn(e)?new kG(e,o.length):e;i=new wT;var u=cs(o,function(l){return{type:a._dimInfos[l].type,property:l}});i.initData(s,u,n)}this._store=i,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=hDe(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r&&r.length),a=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=a;s<i;s++){var u=s-a;this._nameList[s]=r[u],o&&oS(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var a=this._dimInfos[r[n]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Gs&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,u=s===Ia;if(u&&!a.pure)for(var l=[],f=e;f<r;f++){var c=a.getItem(f,l);if(!this.hasItemOption&&ASe(c)&&(this.hasItemOption=!0),c){var h=c.name;i[f]==null&&h!=null&&(i[f]=ji(h,null));var p=c.id;o[f]==null&&p!=null&&(o[f]=ji(p,null))}}if(this._shouldMakeIdFromName())for(var f=e;f<r;f++)oS(this,f);MN(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){Mh(e)?Me(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=Lh(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),a=this._store.getOrdinalMeta(e);return a?a.categories[n]:n},t.prototype.getId=function(e){return Qg(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,a=this._dimInfos[e];if(a)return n.get(a.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,a=this._dimInfos[e];if(a)return n.getByRawIndex(a.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,a=this._store;return Le(e)?a.getValues(cs(e,function(i){return n._getStoreDimIndex(i)}),r):a.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,a=r.length;n<a;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],a=n&&n[r];return a==null||isNaN(a)?ON:a},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){et(e)&&(n=r,r=e,e=[]);var a=n||this,i=cs(kh(e),this._getStoreDimIndex,this);this._store.each(i,a?Ke(r,a):r)},t.prototype.filterSelf=function(e,r,n){et(e)&&(n=r,r=e,e=[]);var a=n||this,i=cs(kh(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Ke(r,a):r),this},t.prototype.selectRange=function(e){var r=this,n={},a=tr(e);return oe(a,function(i){var o=r._getStoreDimIndex(i);n[o]=e[i]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){et(e)&&(n=r,r=e,e=[]),n=n||this;var a=[];return this.each(e,function(){a.push(r&&r.apply(this,arguments))},n),a},t.prototype.map=function(e,r,n,a){var i=n||a||this,o=cs(kh(e),this._getStoreDimIndex,this),s=Rh(this);return s._store=this._store.map(o,i?Ke(r,i):r),s},t.prototype.modify=function(e,r,n,a){var i=n||a||this,o=cs(kh(e),this._getStoreDimIndex,this);this._store.modify(o,i?Ke(r,i):r)},t.prototype.downSample=function(e,r,n,a){var i=Rh(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),r,n,a),i},t.prototype.minmaxDownSample=function(e,r){var n=Rh(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),n},t.prototype.lttbDownSample=function(e,r){var n=Rh(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new cr(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new Lv(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Qg(e,n)},function(n){return Qg(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},Mh(e)?Me(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],a=n&&n[r];return a??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,a=n[e];a||(a=n[e]={});var i=a[r];return i==null&&(i=this.getVisual(r),Le(i)?i=i.slice():Mh(i)&&(i=Me({},i)),a[r]=i),i},t.prototype.setItemVisual=function(e,r,n){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,Mh(r)?Me(a,r):a[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){Mh(e)?Me(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?Me(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;Kbe(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){oe(this._graphicEls,function(n,a){n&&e&&e.call(r,n,a)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:cs(this.dimensions,this._getDimInfo,this),this.hostModel)),iS(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];et(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=n.apply(this,arguments);return r.apply(this,[a].concat(sE(arguments)))})},t.internalField=function(){MN=function(e){var r=e._invertedIndicesMap;oe(r,function(n,a){var i=e._dimInfos[a],o=i.ordinalMeta,s=e._store;if(o){n=r[a]=new gDe(o.categories.length);for(var u=0;u<n.length;u++)n[u]=ON;for(var u=0;u<s.count();u++)n[s.get(i.storeDimIndex,u)]=u}})},Lh=function(e,r,n){return ji(e._getCategory(r,n),null)},Qg=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=Lh(e,e._idDimIdx,r)),n==null&&(n=yDe+r),n},kh=function(e){return Le(e)||(e=e!=null?[e]:[]),e},Rh=function(e){var r=new t(e._schema?e._schema:cs(e.dimensions,e._getDimInfo,e),e.hostModel);return iS(r,e),r},iS=function(e,r){oe(mDe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,oe(_De,function(n){e[n]=Ze(r[n])}),e._calculationInfo=Me({},r._calculationInfo)},oS=function(e,r){var n=e._nameList,a=e._idList,i=e._nameDimIdx,o=e._idDimIdx,s=n[r],u=a[r];if(s==null&&i!=null&&(n[r]=s=Lh(e,i,r)),u==null&&o!=null&&(a[r]=u=Lh(e,o,r)),u==null&&s!=null){var l=e._nameRepeatCount,f=l[s]=(l[s]||0)+1;u=s,f>1&&(u+="__ec__"+f),a[r]=u}}}(),t}();function M9(t,e){PE(t)||(t=OG(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],a=Xe(),i=[],o=wDe(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&D9(o),u=n===t.dimensionsDefine,l=u?E9(t):C9(n),f=e.encodeDefine;!f&&e.encodeDefaulter&&(f=e.encodeDefaulter(t,o));for(var c=Xe(f),h=new BG(o),p=0;p<h.length;p++)h[p]=-1;function v(C){var M=h[C];if(M<0){var D=n[C],E=Ue(D)?D:{name:D},k=new ny,O=E.name;O!=null&&l.get(O)!=null&&(k.name=k.displayName=O),E.type!=null&&(k.type=E.type),E.displayName!=null&&(k.displayName=E.displayName);var A=i.length;return h[C]=A,k.storeDimIndex=C,i.push(k),k}return i[M]}if(!s)for(var p=0;p<o;p++)v(p);c.each(function(C,M){var D=Tr(C).slice();if(D.length===1&&!Ie(D[0])&&D[0]<0){c.set(M,!1);return}var E=c.set(M,[]);oe(D,function(k,O){var A=Ie(k)?l.get(k):k;A!=null&&A<o&&(E[O]=A,y(v(A),M,O))})});var g=0;oe(r,function(C){var M,D,E,k;if(Ie(C))M=C,k={};else{k=C,M=k.name;var O=k.ordinalMeta;k.ordinalMeta=null,k=Me({},k),k.ordinalMeta=O,D=k.dimsDef,E=k.otherDims,k.name=k.coordDim=k.coordDimIndex=k.dimsDef=k.otherDims=null}var A=c.get(M);if(A!==!1){if(A=Tr(A),!A.length)for(var I=0;I<(D&&D.length||1);I++){for(;g<o&&v(g).coordDim!=null;)g++;g<o&&A.push(g++)}oe(A,function(U,P){var B=v(U);if(u&&k.type!=null&&(B.type=k.type),y(ot(B,k),M,P),B.name==null&&D){var W=D[P];!Ue(W)&&(W={name:W}),B.name=B.displayName=W.name,B.defaultTooltip=W.defaultTooltip}E&&ot(B.otherDims,E)})}});function y(C,M,D){_G.get(M)!=null?C.otherDims[M]=D:(C.coordDim=M,C.coordDimIndex=D,a.set(M,!0))}var m=e.generateCoord,d=e.generateCoordCount,_=d!=null;d=m?d||1:0;var x=m||"value";function w(C){C.name==null&&(C.name=C.coordDim)}if(s)oe(i,function(C){w(C)}),i.sort(function(C,M){return C.storeDimIndex-M.storeDimIndex});else for(var S=0;S<o;S++){var b=v(S),T=b.coordDim;T==null&&(b.coordDim=SDe(x,a,_),b.coordDimIndex=0,(!m||d<=0)&&(b.isExtraCoord=!0),d--),w(b),b.type==null&&(TG(t,S)===Xn.Must||b.isExtraCoord&&(b.otherDims.itemName!=null||b.otherDims.seriesName!=null))&&(b.type="ordinal")}return xDe(i),new b9({source:t,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function xDe(t){for(var e=Xe(),r=0;r<t.length;r++){var n=t[r],a=n.name,i=e.get(a)||0;i>0&&(n.name=a+(i-1)),i++,e.set(a,i)}}function wDe(t,e,r,n){var a=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return oe(e,function(i){var o;Ue(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function SDe(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var bDe=function(){function t(e){this.coordSysDims=[],this.axisMap=Xe(),this.categoryAxisMap=Xe(),this.coordSysName=e}return t}();function TDe(t){var e=t.get("coordinateSystem"),r=new bDe(e),n=CDe[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var CDe={cartesian2d:function(t,e,r,n){var a=t.getReferringComponents("xAxis",bn).models[0],i=t.getReferringComponents("yAxis",bn).models[0];e.coordSysDims=["x","y"],r.set("x",a),r.set("y",i),xc(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),xc(i)&&(n.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var a=t.getReferringComponents("singleAxis",bn).models[0];e.coordSysDims=["single"],r.set("single",a),xc(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var a=t.getReferringComponents("polar",bn).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",i),r.set("angle",o),xc(i)&&(n.set("radius",i),e.firstCategoryDimIndex=0),xc(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var a=t.ecModel,i=a.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=i.dimensions.slice();oe(i.parallelAxisIndex,function(s,u){var l=a.getComponent("parallelAxis",s),f=o[u];r.set(f,l),xc(l)&&(n.set(f,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function xc(t){return t.get("type")==="category"}function EDe(t,e,r){r=r||{};var n=r.byIndex,a=r.stackedCoordDimension,i,o,s;DDe(e)?i=e:(o=e.schema,i=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),l,f,c,h;if(oe(i,function(d,_){Ie(d)&&(i[_]=d={name:d}),u&&!d.isExtraCoord&&(!n&&!l&&d.ordinalMeta&&(l=d),!f&&d.type!=="ordinal"&&d.type!=="time"&&(!a||a===d.coordDim)&&(f=d))}),f&&!n&&!l&&(n=!0),f){c="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var p=f.coordDim,v=f.type,g=0;oe(i,function(d){d.coordDim===p&&g++});var y={name:c,coordDim:p,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},m={name:h,coordDim:h,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(h,v),m.storeDimIndex=s.ensureCalculationDimension(c,v)),o.appendCalculationDimension(y),o.appendCalculationDimension(m)):(i.push(y),i.push(m))}return{stackedDimension:f&&f.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:c}}function DDe(t){return!T9(t.schema)}function kf(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function ODe(t,e){return kf(t,e)?t.getCalculationInfo("stackResultDimension"):e}function MDe(t,e){var r=t.get("coordinateSystem"),n=VE.get(r),a;return e&&e.coordSysDims&&(a=Ne(e.coordSysDims,function(i){var o={name:i},s=e.axisMap.get(i);if(s){var u=s.get("type");o.type=RT(u)}return o})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function LDe(t,e,r){var n,a;return r&&oe(t,function(i,o){var s=i.coordDim,u=r.categoryAxisMap.get(s);u&&(n==null&&(n=o),i.ordinalMeta=u.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(t[n].otherDims.itemName=0),n}function XE(t,e,r){r=r||{};var n=e.getSourceManager(),a,i=!1;a=n.getSource(),i=a.sourceFormat===Ia;var o=TDe(e),s=MDe(e,o),u=r.useEncodeDefaulter,l=et(u)?u:u?Mt(SG,s,e):null,f={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},c=M9(a,f),h=LDe(c.dimensions,r.createInvertedIndices,o),p=i?null:n.getSharedDataStore(c),v=EDe(e,{schema:c,store:p}),g=new O9(c,e);g.setCalculationInfo(v);var y=h!=null&&kDe(a)?function(m,d,_,x){return x===h?_:this.defaultDimValueGetter(m,d,_,x)}:null;return g.hasItemOption=!1,g.initData(i?a:p,null,y),g}function kDe(t){if(t.sourceFormat===Ia){var e=RDe(t.data||[]);return!Le(vd(e))}}function RDe(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var Ji=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();A1(Ji);var ADe=0,AT=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++ADe}return t.createByAxisModel=function(e){var r=e.option,n=r.data,a=n&&Ne(n,NDe);return new t({categories:a,needCollect:!a,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!Ie(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var a=this._getOrCreateMap();return r=a.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,a.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Xe(this.categories))},t}();function NDe(t){return Ue(t)&&t.value!=null?t.value:t+""}function NT(t){return t.type==="interval"||t.type==="log"}function FDe(t,e,r,n){var a={},i=t[1]-t[0],o=a.interval=pz(i/e);r!=null&&o<r&&(o=a.interval=r),n!=null&&o>n&&(o=a.interval=n);var s=a.intervalPrecision=L9(o),u=a.niceTickExtent=[Ar(Math.ceil(t[0]/o)*o,s),Ar(Math.floor(t[1]/o)*o,s)];return BDe(u,t),a}function sS(t){var e=Math.pow(10,vE(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Ar(r*e)}function L9(t){return ko(t)+2}function LN(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function BDe(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),LN(t,0,e),LN(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function a_(t,e){return t>=e[0]&&t<=e[1]}function i_(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function o_(t,e){return t*(e[1]-e[0])+e[0]}var YE=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new AT({})),Le(a)&&(a=new AT({categories:Ne(a,function(i){return Ue(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:Ie(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),a_(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),i_(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(o_(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,a=n[0];a<=n[1];)r.push({value:a}),a++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,n.length);o<u;++o){var l=n[o];a[o]=l,i[l]=o}for(var f=0;o<s;++o){for(;i[f]!=null;)f++;a.push(f),i[f]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ji);Ji.registerClass(YE);var Gu=Ar,Zf=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return a_(r,this._extent)},e.prototype.normalize=function(r){return i_(r,this._extent)},e.prototype.scale=function(r){return o_(r,this._extent)},e.prototype.setExtent=function(r,n){var a=this._extent;isNaN(r)||(a[0]=parseFloat(r)),isNaN(n)||(a[1]=parseFloat(n))},e.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=L9(r)},e.prototype.getTicks=function(r){var n=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var u=1e4;a[0]<i[0]&&(r?s.push({value:Gu(i[0]-n,o)}):s.push({value:a[0]}));for(var l=i[0];l<=i[1]&&(s.push({value:l}),l=Gu(l+n,o),l!==s[s.length-1].value);)if(s.length>u)return[];var f=s.length?s[s.length-1].value:i[1];return a[1]>f&&(r?s.push({value:Gu(f+n,o)}):s.push({value:a[1]})),s},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),a=[],i=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],u=n[o-1],l=0,f=[],c=s.value-u.value,h=c/r;l<r-1;){var p=Gu(u.value+(l+1)*h);p>i[0]&&p<i[1]&&f.push(p),l++}a.push(f)}return a},e.prototype.getLabel=function(r,n){if(r==null)return"";var a=n&&n.precision;a==null?a=ko(r.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=Gu(r.value,a,!0);return dG(i)},e.prototype.calcNiceTicks=function(r,n,a){r=r||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=FDe(i,r,n,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);r.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=Gu(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=Gu(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e}(Ji);Ji.registerClass(Zf);var k9=typeof Float32Array<"u",IDe=k9?Float32Array:Array;function zi(t){return Le(t)?k9?new Float32Array(t):t:new IDe(t)}var VDe="__ec_stack_";function R9(t){return t.get("stack")||VDe+t.seriesIndex}function qE(t){return t.dim+t.index}function A9(t,e){var r=[];return e.eachSeriesByType(t,function(n){F9(n)&&r.push(n)}),r}function PDe(t){var e={};oe(t,function(u){var l=u.coordinateSystem,f=l.getBaseAxis();if(!(f.type!=="time"&&f.type!=="value"))for(var c=u.getData(),h=f.dim+"_"+f.index,p=c.getDimensionIndex(c.mapDimension(f.dim)),v=c.getStore(),g=0,y=v.count();g<y;++g){var m=v.get(p,g);e[h]?e[h].push(m):e[h]=[m]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort(function(u,l){return u-l});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}r[n]=i}}return r}function N9(t){var e=PDe(t),r=[];return oe(t,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var u=i.dim+"_"+i.index,l=e[u],f=Math.abs(o[1]-o[0]),c=i.scale.getExtent(),h=Math.abs(c[1]-c[0]);s=l?f/h*l:f}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var v=Lr(n.get("barWidth"),s),g=Lr(n.get("barMaxWidth"),s),y=Lr(n.get("barMinWidth")||(B9(n)?.5:1),s),m=n.get("barGap"),d=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:y,barGap:m,barCategoryGap:d,axisKey:qE(i),stackId:R9(n)})}),UDe(r)}function UDe(t){var e={};oe(t,function(n,a){var i=n.axisKey,o=n.bandWidth,s=e[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[i]=s;var l=n.stackId;u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var f=n.barWidth;f&&!u[l].width&&(u[l].width=f,f=Math.min(s.remainedWidth,f),s.remainedWidth-=f);var c=n.barMaxWidth;c&&(u[l].maxWidth=c);var h=n.barMinWidth;h&&(u[l].minWidth=h);var p=n.barGap;p!=null&&(s.gap=p);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var r={};return oe(e,function(n,a){r[a]={};var i=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var u=tr(i).length;s=Math.max(35-u*4,15)+"%"}var l=Lr(s,o),f=Lr(n.gap,1),c=n.remainedWidth,h=n.autoWidthCount,p=(c-l)/(h+(h-1)*f);p=Math.max(p,0),oe(i,function(m){var d=m.maxWidth,_=m.minWidth;if(m.width){var x=m.width;d&&(x=Math.min(x,d)),_&&(x=Math.max(x,_)),m.width=x,c-=x+f*x,h--}else{var x=p;d&&d<x&&(x=Math.min(d,c)),_&&_>x&&(x=_),x!==p&&(m.width=x,c-=x+f*x,h--)}}),p=(c-l)/(h+(h-1)*f),p=Math.max(p,0);var v=0,g;oe(i,function(m,d){m.width||(m.width=p),g=m,v+=m.width*(1+f)}),g&&(v-=g.width*f);var y=-v/2;oe(i,function(m,d){r[a][d]=r[a][d]||{bandWidth:o,offset:y,width:m.width},y+=m.width*(1+f)})}),r}function zDe(t,e,r){if(t&&e){var n=t[qE(e)];return n}}function GDe(t,e){var r=A9(t,e),n=N9(r);oe(r,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),u=R9(a),l=n[qE(s)][u],f=l.offset,c=l.width;i.setLayout({bandWidth:l.bandWidth,offset:f,size:c})})}function WDe(t){return{seriesType:t,plan:wd(),reset:function(e){if(F9(e)){var r=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),o=r.getDimensionIndex(r.mapDimension(i.dim)),s=r.getDimensionIndex(r.mapDimension(a.dim)),u=e.get("showBackground",!0),l=r.mapDimension(i.dim),f=r.getCalculationInfo("stackResultDimension"),c=kf(r,l)&&!!r.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),p=HDe(a,i),v=B9(e),g=e.get("barMinHeight")||0,y=f&&r.getDimensionIndex(f),m=r.getLayout("size"),d=r.getLayout("offset");return{progress:function(_,x){for(var w=_.count,S=v&&zi(w*3),b=v&&u&&zi(w*3),T=v&&zi(w),C=n.master.getRect(),M=h?C.width:C.height,D,E=x.getStore(),k=0;(D=_.next())!=null;){var O=E.get(c?y:o,D),A=E.get(s,D),I=p,U=void 0;c&&(U=+O-E.get(o,D));var P=void 0,B=void 0,W=void 0,H=void 0;if(h){var $=n.dataToPoint([O,A]);if(c){var q=n.dataToPoint([U,A]);I=q[0]}P=I,B=$[1]+d,W=$[0]-I,H=m,Math.abs(W)<g&&(W=(W<0?-1:1)*g)}else{var $=n.dataToPoint([A,O]);if(c){var q=n.dataToPoint([A,U]);I=q[1]}P=$[0]+d,B=I,W=m,H=$[1]-I,Math.abs(H)<g&&(H=(H<=0?-1:1)*g)}v?(S[k]=P,S[k+1]=B,S[k+2]=h?W:H,b&&(b[k]=h?C.x:P,b[k+1]=h?B:C.y,b[k+2]=M),T[D]=D):x.setItemLayout(D,{x:P,y:B,width:W,height:H}),k+=3}v&&x.setLayout({largePoints:S,largeDataIndices:T,largeBackgroundPoints:b,valueAxisHorizontal:h})}}}}}}function F9(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function B9(t){return t.pipelineContext&&t.pipelineContext.large}function HDe(t,e){var r=e.model.get("startValue");return r||(r=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?r>0?r:1:r))}var jDe=function(t,e,r,n){for(;r<n;){var a=r+n>>>1;t[a][1]<e?r=a+1:n=a}return r},I9=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return Y1(r.value,w3[yCe(uf(this._minLevelUnit))]||w3.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return mCe(r,n,a,o,i)},e.prototype.getTicks=function(){var r=this._interval,n=this._extent,a=[];if(!r)return a;a.push({value:n[0],level:0});var i=this.getSetting("useUTC"),o=JDe(this._minLevelUnit,this._approxInterval,i,n);return a=a.concat(o),a.push({value:n[1],level:0}),a},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=wa,n[1]+=wa),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-wa}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,a){r=r||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=e0.length,u=Math.min(jDe(e0,this._approxInterval,0,s),s-1);this._interval=e0[u][1],this._minLevelUnit=e0[Math.max(u-1,0)][0]},e.prototype.parse=function(r){return rr(r)?r:+Ho(r)},e.prototype.contain=function(r){return a_(this.parse(r),this._extent)},e.prototype.normalize=function(r){return i_(this.parse(r),this._extent)},e.prototype.scale=function(r){return o_(r,this._extent)},e.type="time",e}(Zf),e0=[["second",RE],["minute",AE],["hour",kp],["quarter-day",kp*6],["half-day",kp*12],["day",wa*1.2],["half-week",wa*3.5],["week",wa*7],["month",wa*31],["quarter",wa*95],["half-year",x3/2],["year",x3]];function $De(t,e,r,n){var a=Ho(e),i=Ho(r),o=function(v){return S3(a,v,n)===S3(i,v,n)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},f=function(){return l()&&o("hour")},c=function(){return f()&&o("minute")},h=function(){return c()&&o("second")},p=function(){return h()&&o("millisecond")};switch(t){case"year":return s();case"month":return u();case"day":return l();case"hour":return f();case"minute":return c();case"second":return h();case"millisecond":return p()}}function KDe(t,e){return t/=wa,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function XDe(t){var e=30*wa;return t/=e,t>6?6:t>3?3:t>2?2:1}function YDe(t){return t/=kp,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function kN(t,e){return t/=e?AE:RE,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function qDe(t){return pz(t)}function ZDe(t,e,r){var n=new Date(t);switch(uf(e)){case"year":case"month":n[lG(r)](0);case"day":n[cG(r)](1);case"hour":n[fG(r)](0);case"minute":n[hG(r)](0);case"second":n[pG(r)](0),n[vG(r)](0)}return n.getTime()}function JDe(t,e,r,n){var a=1e4,i=sG,o=0;function s(M,D,E,k,O,A,I){for(var U=new Date(D),P=D,B=U[k]();P<E&&P<=n[1];)I.push({value:P}),B+=M,U[O](B),P=U.getTime();I.push({value:P,notAdd:!0})}function u(M,D,E){var k=[],O=!D.length;if(!$De(uf(M),n[0],n[1],r)){O&&(D=[{value:ZDe(new Date(n[0]),M,r)},{value:n[1]}]);for(var A=0;A<D.length-1;A++){var I=D[A].value,U=D[A+1].value;if(I!==U){var P=void 0,B=void 0,W=void 0,H=!1;switch(M){case"year":P=Math.max(1,Math.round(e/wa/365)),B=NE(r),W=_Ce(r);break;case"half-year":case"quarter":case"month":P=XDe(e),B=lf(r),W=lG(r);break;case"week":case"half-week":case"day":P=KDe(e),B=q1(r),W=cG(r),H=!0;break;case"half-day":case"quarter-day":case"hour":P=YDe(e),B=Tv(r),W=fG(r);break;case"minute":P=kN(e,!0),B=Z1(r),W=hG(r);break;case"second":P=kN(e,!1),B=J1(r),W=pG(r);break;case"millisecond":P=qDe(e),B=Q1(r),W=vG(r);break}s(P,I,U,B,W,H,k),M==="year"&&E.length>1&&A===0&&E.unshift({value:E[0].value-P})}}for(var A=0;A<k.length;A++)E.push(k[A]);return k}}for(var l=[],f=[],c=0,h=0,p=0;p<i.length&&o++<a;++p){var v=uf(i[p]);if(gCe(i[p])){u(i[p],l[l.length-1]||[],f);var g=i[p+1]?uf(i[p+1]):null;if(v!==g){if(f.length){h=c,f.sort(function(M,D){return M.value-D.value});for(var y=[],m=0;m<f.length;++m){var d=f[m].value;(m===0||f[m-1].value!==d)&&(y.push(f[m]),d>=n[0]&&d<=n[1]&&c++)}var _=(n[1]-n[0])/e;if(c>_*1.5&&h>_/1.5||(l.push(y),c>_||t===i[p]))break}f=[]}}}for(var x=Mr(Ne(l,function(M){return Mr(M,function(D){return D.value>=n[0]&&D.value<=n[1]&&!D.notAdd})}),function(M){return M.length>0}),w=[],S=x.length-1,p=0;p<x.length;++p)for(var b=x[p],T=0;T<b.length;++T)w.push({value:b[T].value,level:S-p});w.sort(function(M,D){return M.value-D.value});for(var C=[],p=0;p<w.length;++p)(p===0||w[p].value!==w[p-1].value)&&C.push(w[p]);return C}Ji.registerClass(I9);var RN=Ji.prototype,Fp=Zf.prototype,QDe=Ar,eOe=Math.floor,tOe=Math.ceil,t0=Math.pow,Wa=Math.log,ZE=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Zf,r._interval=0,r}return e.prototype.getTicks=function(r){var n=this._originalScale,a=this._extent,i=n.getExtent(),o=Fp.getTicks.call(this,r);return Ne(o,function(s){var u=s.value,l=Ar(t0(this.base,u));return l=u===a[0]&&this._fixMin?r0(l,i[0]):l,l=u===a[1]&&this._fixMax?r0(l,i[1]):l,{value:l}},this)},e.prototype.setExtent=function(r,n){var a=Wa(this.base);r=Wa(Math.max(0,r))/a,n=Wa(Math.max(0,n))/a,Fp.setExtent.call(this,r,n)},e.prototype.getExtent=function(){var r=this.base,n=RN.getExtent.call(this);n[0]=t0(r,n[0]),n[1]=t0(r,n[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(n[0]=r0(n[0],i[0])),this._fixMax&&(n[1]=r0(n[1],i[1])),n},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=Wa(r[0])/Wa(n),r[1]=Wa(r[1])/Wa(n),RN.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,a=n[1]-n[0];if(!(a===1/0||a<=0)){var i=kSe(a),o=r/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[Ar(tOe(n[0]/i)*i),Ar(eOe(n[1]/i)*i)];this._interval=i,this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){Fp.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=Wa(r)/Wa(this.base),a_(r,this._extent)},e.prototype.normalize=function(r){return r=Wa(r)/Wa(this.base),i_(r,this._extent)},e.prototype.scale=function(r){return r=o_(r,this._extent),t0(this.base,r)},e.type="log",e}(Ji),V9=ZE.prototype;V9.getMinorTicks=Fp.getMinorTicks;V9.getLabel=Fp.getLabel;function r0(t,e){return QDe(t,ko(e))}Ji.registerClass(ZE);var rOe=function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var i=r.get("min",!0);i==null&&(i=r.get("startValue",!0));var o=this._modelMinRaw=i;et(o)?this._modelMinNum=n0(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=n0(e,o));var s=this._modelMaxRaw=r.get("max",!0);if(et(s)?this._modelMaxNum=n0(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=n0(e,s)),a)this._axisDataLen=r.getCategories().length;else{var u=r.get("boundaryGap"),l=Le(u)?u:[u||0,u||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Zs(l[0],1),Zs(l[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,l=s!=null,f=u!=null;s==null&&(s=e?a?0:NaN:r-i[0]*o),u==null&&(u=e?a?a-1:NaN:n+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var c=$y(s)||$y(u)||e&&!a;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!f&&(u=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(s=h,l=!0),p!=null&&(u=p,f=!0),{min:s,max:u,minFixed:l,maxFixed:f,isBlank:c}},t.prototype.modifyDataMinMax=function(e,r){this[aOe[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=nOe[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),nOe={min:"_determinedMin",max:"_determinedMax"},aOe={min:"_dataMin",max:"_dataMax"};function P9(t,e,r){var n=t.rawExtentInfo;return n||(n=new rOe(t,e,r),t.rawExtentInfo=n,n)}function n0(t,e){return e==null?null:$y(e)?NaN:t.parse(e)}function U9(t,e){var r=t.type,n=P9(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var a=n.min,i=n.max,o=e.ecModel;if(o&&r==="time"){var s=A9("bar",o),u=!1;if(oe(s,function(c){u=u||c.getBaseAxis()===e.axis}),u){var l=N9(s),f=iOe(a,i,e,l);a=f.min,i=f.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function iOe(t,e,r,n){var a=r.axis.getExtent(),i=Math.abs(a[1]-a[0]),o=zDe(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;oe(o,function(p){s=Math.min(p.offset,s)});var u=-1/0;oe(o,function(p){u=Math.max(p.offset+p.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,f=e-t,c=1-(s+u)/i,h=f/c-f;return e+=h*(u/l),t-=h*(s/l),{min:t,max:e}}function AN(t,e){var r=e,n=U9(t,r),a=n.extent,i=r.get("splitNumber");t instanceof ZE&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),u=o==="interval"||o==="time";t.setExtent(a[0],a[1]),t.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:u?r.get("minInterval"):null,maxInterval:u?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function oOe(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new YE({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new I9({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Ji.getClass(e)||Zf)}}function sOe(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function Jf(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(a,i){return t.scale.getFormattedLabel(a,i,n)}}(e):Ie(e)?function(n){return function(a){var i=t.scale.getLabel(a),o=n.replace("{value}",i??"");return o}}(e):et(e)?function(n){return function(a,i){return r!=null&&(i=a.value-r),n(JE(t,a),i,a.level!=null?{level:a.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function JE(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function uOe(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var n,a,i=r.getExtent();r instanceof YE?a=r.count():(n=r.getTicks(),a=n.length);var o=t.getLabelModel(),s=Jf(t),u,l=1;a>40&&(l=Math.ceil(a/40));for(var f=0;f<a;f+=l){var c=n?n[f]:{value:i[0]+f},h=s(c,f),p=o.getTextRect(h),v=lOe(p,o.get("rotate")||0);u?u.union(v):u=v}return u}}function lOe(t,e){var r=e*Math.PI/180,n=t.width,a=t.height,i=n*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r)),s=new Dt(t.x,t.y,i,o);return s}function QE(t){var e=t.get("interval");return e??"auto"}function z9(t){return t.type==="category"&&QE(t.getLabelModel())===0}function G9(t,e){var r={};return oe(t.mapDimensionsAll(e),function(n){r[ODe(t,n)]=!0}),tr(r)}function cOe(t,e,r){e&&oe(G9(e,r),function(n){var a=e.getApproximateExtent(n);a[0]<t[0]&&(t[0]=a[0]),a[1]>t[1]&&(t[1]=a[1])})}var fOe=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),NN=[],hOe={registerPreprocessor:x9,registerProcessor:w9,registerPostInit:iDe,registerPostUpdate:oDe,registerUpdateLifecycle:$E,registerAction:Zi,registerCoordinateSystem:sDe,registerLayout:uDe,registerVisual:Xl,registerTransform:cDe,registerLoading:S9,registerMap:lDe,registerImpl:PEe,PRIORITY:JEe,ComponentModel:Nt,ComponentView:jn,SeriesModel:ci,ChartView:La,registerComponentModel:function(t){Nt.registerClass(t)},registerComponentView:function(t){jn.registerClass(t)},registerSeriesModel:function(t){ci.registerClass(t)},registerChartView:function(t){La.registerClass(t)},registerSubTypeDefaulter:function(t,e){Nt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){CSe(t,e)}};function fi(t){if(Le(t)){oe(t,function(e){fi(e)});return}St(NN,t)>=0||(NN.push(t),et(t)&&(t={install:t}),t.install(hOe))}var pOe=1e-8;function FN(t,e){return Math.abs(t-e)<pOe}function Ah(t,e,r){var n=0,a=t[0];if(!a)return!1;for(var i=1;i<t.length;i++){var o=t[i];n+=mo(a[0],a[1],o[0],o[1],e,r),a=o}var s=t[0];return(!FN(a[0],s[0])||!FN(a[1],s[1]))&&(n+=mo(a[0],a[1],s[0],s[1],e,r)),n!==0}var kv=_r();function W9(t,e){var r=Ne(e,function(n){return t.scale.parse(n)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function vOe(t){var e=t.getLabelModel().get("customValues");if(e){var r=Jf(t),n=t.scale.getExtent(),a=W9(t,e),i=Mr(a,function(o){return o>=n[0]&&o<=n[1]});return{labels:Ne(i,function(o){var s={value:o};return{formattedLabel:r(s),rawLabel:t.scale.getLabel(s),tickValue:o}})}}return t.type==="category"?gOe(t):mOe(t)}function dOe(t,e){var r=t.getTickModel().get("customValues");if(r){var n=t.scale.getExtent(),a=W9(t,r);return{ticks:Mr(a,function(i){return i>=n[0]&&i<=n[1]})}}return t.type==="category"?yOe(t,e):{ticks:Ne(t.scale.getTicks(),function(i){return i.value})}}function gOe(t){var e=t.getLabelModel(),r=H9(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function H9(t,e){var r=j9(t,"labels"),n=QE(e),a=$9(r,n);if(a)return a;var i,o;return et(n)?i=Y9(t,n):(o=n==="auto"?_Oe(t):n,i=X9(t,o)),K9(r,n,{labels:i,labelCategoryInterval:o})}function yOe(t,e){var r=j9(t,"ticks"),n=QE(e),a=$9(r,n);if(a)return a;var i,o;if((!e.get("show")||t.scale.isBlank())&&(i=[]),et(n))i=Y9(t,n,!0);else if(n==="auto"){var s=H9(t,t.getLabelModel());o=s.labelCategoryInterval,i=Ne(s.labels,function(u){return u.tickValue})}else o=n,i=X9(t,o,!0);return K9(r,n,{ticks:i,tickCategoryInterval:o})}function mOe(t){var e=t.scale.getTicks(),r=Jf(t);return{labels:Ne(e,function(n,a){return{level:n.level,formattedLabel:r(n,a),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function j9(t,e){return kv(t)[e]||(kv(t)[e]=[])}function $9(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function K9(t,e,r){return t.push({key:e,value:r}),r}function _Oe(t){var e=kv(t).autoInterval;return e??(kv(t).autoInterval=t.calculateCategoryInterval())}function xOe(t){var e=wOe(t),r=Jf(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=i[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),f=Math.abs(l*Math.cos(n)),c=Math.abs(l*Math.sin(n)),h=0,p=0;u<=i[1];u+=s){var v=0,g=0,y=k1(r({value:u}),e.font,"center","top");v=y.width*1.3,g=y.height*1.3,h=Math.max(h,v,7),p=Math.max(p,g,7)}var m=h/f,d=p/c;isNaN(m)&&(m=1/0),isNaN(d)&&(d=1/0);var _=Math.max(0,Math.floor(Math.min(m,d))),x=kv(t.model),w=t.getExtent(),S=x.lastAutoInterval,b=x.lastTickCount;return S!=null&&b!=null&&Math.abs(S-_)<=1&&Math.abs(b-o)<=1&&S>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?_=S:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=w[0],x.axisExtent1=w[1]),_}function wOe(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function X9(t,e,r){var n=Jf(t),a=t.scale,i=a.getExtent(),o=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=i[0],f=a.count();l!==0&&u>1&&f/u>2&&(l=Math.round(Math.ceil(l/u)*u));var c=z9(t),h=o.get("showMinLabel")||c,p=o.get("showMaxLabel")||c;h&&l!==i[0]&&g(i[0]);for(var v=l;v<=i[1];v+=u)g(v);p&&v-u!==i[1]&&g(i[1]);function g(y){var m={value:y};s.push(r?y:{formattedLabel:n(m),rawLabel:a.getLabel(m),tickValue:y})}return s}function Y9(t,e,r){var n=t.scale,a=Jf(t),i=[];return oe(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;e(o.value,s)&&i.push(r?u:{formattedLabel:a(o),rawLabel:s,tickValue:u})}),i}var BN=[0,1],SOe=function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return e>=n&&e<=a},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return fz(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&a.type==="ordinal"&&(n=n.slice(),IN(n,a.count())),Sr(e,BN,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),IN(n,a.count()));var i=Sr(e,n,BN,r);return this.scale.scale(i)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=dOe(this,r),a=n.ticks,i=Ne(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return bOe(this,i,o,e.clamp),i},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),a=Ne(n,function(i){return Ne(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},t.prototype.getViewLabels=function(){return vOe(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/n},t.prototype.calculateCategoryInterval=function(){return xOe(this)},t}();function IN(t,e){var r=t[1]-t[0],n=e,a=r/n/2;t[0]+=a,t[1]-=a}function bOe(t,e,r,n){var a=e.length;if(!t.onBand||r||!a)return;var i=t.getExtent(),o,s;if(a===1)e[0].coord=i[0],o=e[1]={coord:i[1],tickValue:e[0].tickValue};else{var u=e[a-1].tickValue-e[0].tickValue,l=(e[a-1].coord-e[0].coord)/u;oe(e,function(p){p.coord-=l/2});var f=t.scale.getExtent();s=1+f[1]-e[a-1].tickValue,o={coord:e[a-1].coord+l*s,tickValue:f[1]+1},e.push(o)}var c=i[0]>i[1];h(e[0].coord,i[0])&&(n?e[0].coord=i[0]:e.shift()),n&&h(i[0],e[0].coord)&&e.unshift({coord:i[0]}),h(i[1],o.coord)&&(n?o.coord=i[1]:e.pop()),n&&h(o.coord,i[1])&&e.push({coord:i[1]});function h(p,v){return p=Ar(p),v=Ar(v),c?p>v:p<v}}function TOe(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(!n.defaultAttr.ignore){var a=n.label,i=a.getComputedTransform(),o=a.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,u=a.style.margin||0,l=o.clone();l.applyTransform(i),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var f=s?new am(o,i):null;e.push({label:a,labelLine:n.labelLine,rect:l,localRect:o,obb:f,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:i})}}return e}function COe(t){var e=[];t.sort(function(g,y){return y.priority-g.priority});var r=new Dt(0,0,0,0);function n(g){if(!g.ignore){var y=g.ensureState("emphasis");y.ignore==null&&(y.ignore=!1)}g.ignore=!0}for(var a=0;a<t.length;a++){var i=t[a],o=i.axisAligned,s=i.localRect,u=i.transform,l=i.label,f=i.labelLine;r.copy(i.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var c=i.obb,h=!1,p=0;p<e.length;p++){var v=e[p];if(r.intersect(v.rect)){if(o&&v.axisAligned){h=!0;break}if(v.obb||(v.obb=new am(v.localRect,v.transform)),c||(c=new am(s,u)),c.intersect(v.obb)){h=!0;break}}}h?(n(l),f&&n(f)):(l.attr("ignore",i.defaultAttr.ignore),f&&f.attr("ignore",i.defaultAttr.labelGuideIgnore),e.push(i))}}var EOe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Nt),FT=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bn).models[0]},e.type="cartesian2dAxis",e}(Nt);di(FT,fOe);var q9={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},DOe=ct({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},q9),eD=ct({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},q9),OOe=ct({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},eD),MOe=ot({logBase:10},eD);const LOe={category:DOe,value:eD,time:OOe,log:MOe};var kOe={value:1,category:1,time:1,log:1};function VN(t,e,r,n){oe(kOe,function(a,i){var o=ct(ct({},LOe[i],!0),n,!0),s=function(u){Ce(l,u);function l(){var f=u!==null&&u.apply(this,arguments)||this;return f.type=e+"Axis."+i,f}return l.prototype.mergeDefaultAndTheme=function(f,c){var h=Cv(this),p=h?xd(f):{},v=c.getTheme();ct(f,v.get(i+"Axis")),ct(f,this.getDefaultOption()),f.type=PN(f),h&&Mf(f,p,h)},l.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=AT.createByAxisModel(this))},l.prototype.getCategories=function(f){var c=this.option;if(c.type==="category")return f?c.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+i,l.defaultOption=o,l}(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",PN)}function PN(t){return t.type||(t.data?"category":"value")}var ROe=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return Ne(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Mr(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}(),BT=["x","y"];function UN(t){return t.type==="interval"||t.type==="time"}var AOe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=BT,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!UN(r)||!UN(n))){var a=r.getExtent(),i=n.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),u=a[1]-a[0],l=i[1]-i[0];if(!(!u||!l)){var f=(s[0]-o[0])/u,c=(s[1]-o[1])/l,h=o[0]-a[0]*f,p=o[1]-i[0]*c,v=this._transform=[f,0,0,c,h,p];this._invTransform=fE([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&a.contain(a.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var a=this.dataToPoint(r),i=this.dataToPoint(n),o=this.getArea(),s=new Dt(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,a){a=a||[];var i=r[0],o=r[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Oa(a,r,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,n)),a[1]=u.toGlobalCoord(u.dataToCoord(o,n)),a},e.prototype.clampData=function(r,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),u=a.parse(r[0]),l=i.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n){var a=[];if(this._invTransform)return Oa(a,r,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(r[0]),n),a[1]=o.coordToData(o.toLocalCoord(r[1]),n),a},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-r,o=Math.min(a[0],a[1])-r,s=Math.max(n[0],n[1])-i+r,u=Math.max(a[0],a[1])-o+r;return new Dt(i,o,s,u)},e}(ROe),NOe=function(t){Ce(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(SOe);function IT(t,e,r){r=r||{};var n=t.coordinateSystem,a=e.axis,i={},o=a.getAxesOnZeroOf()[0],s=a.position,u=o?"onZero":s,l=a.dim,f=n.getRect(),c=[f.x,f.x+f.width,f.y,f.y+f.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,v=l==="x"?[c[2]-p,c[3]+p]:[c[0]-p,c[1]+p];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));v[h.onZero]=Math.max(Math.min(g,v[1]),v[0])}i.position=[l==="y"?v[h[u]]:c[0],l==="x"?v[h[u]]:c[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=y[s],i.labelOffset=o?v[h[s]]-v[h.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),gv(r.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=e.get(["axisLabel","rotate"]);return i.labelRotate=u==="top"?-m:m,i.z2=1,i}function zN(t){return t.get("coordinateSystem")==="cartesian2d"}function GN(t){var e={xAxisModel:null,yAxisModel:null};return oe(e,function(r,n){var a=n.replace(/Model$/,""),i=t.getReferringComponents(a,bn).models[0];e[n]=i}),e}var uS=Math.log;function FOe(t,e,r){var n=Zf.prototype,a=n.getTicks.call(r),i=n.getTicks.call(r,!0),o=a.length-1,s=n.getInterval.call(r),u=U9(t,e),l=u.extent,f=u.fixMin,c=u.fixMax;if(t.type==="log"){var h=uS(t.base);l=[uS(l[0])/h,uS(l[1])/h]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:c});var p=n.getExtent.call(t);f&&(l[0]=p[0]),c&&(l[1]=p[1]);var v=n.getInterval.call(t),g=l[0],y=l[1];if(f&&c)v=(y-g)/o;else if(f)for(y=l[0]+v*o;y<l[1]&&isFinite(y)&&isFinite(l[1]);)v=sS(v),y=l[0]+v*o;else if(c)for(g=l[1]-v*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)v=sS(v),g=l[1]-v*o;else{var m=t.getTicks().length-1;m>o&&(v=sS(v));var d=v*o;y=Math.ceil(l[1]/v)*v,g=Ar(y-d),g<0&&l[0]>=0?(g=0,y=Ar(d)):y>0&&l[1]<=0&&(y=0,g=-Ar(d))}var _=(a[0].value-i[0].value)/s,x=(a[o].value-i[o].value)/s;n.setExtent.call(t,g+v*_,y+v*x),n.setInterval.call(t,v),(_||x)&&n.setNiceExtent.call(t,g+v,y-v)}var BOe=function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=BT,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function a(o){var s,u=tr(o),l=u.length;if(l){for(var f=[],c=l-1;c>=0;c--){var h=+u[c],p=o[h],v=p.model,g=p.scale;NT(g)&&v.get("alignTicks")&&v.get("interval")==null?f.push(p):(AN(g,v),NT(g)&&(s=p))}f.length&&(s||(s=f.pop(),AN(s.scale,s.model)),oe(f,function(y){FOe(y.scale,y.model,s.scale)}))}}a(n.x),a(n.y);var i={};oe(n.x,function(o){WN(n,"y",o,i)}),oe(n.y,function(o){WN(n,"x",o,i)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var a=e.getBoxLayoutParams(),i=!n&&e.get("containLabel"),o=tu(a,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;u(),i&&(oe(s,function(l){if(!l.model.get(["axisLabel","inside"])){var f=uOe(l);if(f){var c=l.isHorizontal()?"height":"width",h=l.model.get(["axisLabel","margin"]);o[c]-=f[c]+h,l.position==="top"?o.y+=f.height+h:l.position==="left"&&(o.x+=f.width+h)}}}),u()),oe(this._coordsList,function(l){l.calcAffineTransform()});function u(){oe(s,function(l){var f=l.isHorizontal(),c=f?[0,o.width]:[0,o.height],h=l.inverse?1:0;l.setExtent(c[h],c[1-h]),IOe(l,f?o.x:o.y)})}},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}Ue(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===e||i[a].getAxis("y").index===r)return i[a]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",bn).models[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis",bn).models[0],i=e.gridModel,o=this._coordsList,s,u;if(r)s=r.coordinateSystem,St(o,s)<0&&(s=null);else if(n&&a)s=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(a)u=this.getAxis("y",a.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,oe(s.x,function(f,c){oe(s.y,function(h,p){var v="x"+c+"y"+p,g=new AOe(v);g.master=a,g.model=e,a._coordsMap[v]=g,a._coordsList.push(g),g.addAxis(f),g.addAxis(h)})});function l(f){return function(c,h){if(lS(c,e)){var p=c.get("position");f==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var v=new NOe(f,oOe(c),[0,0],c.get("type"),p),g=v.type==="category";v.onBand=g&&c.get("boundaryGap"),v.inverse=c.get("inverse"),c.axis=v,v.model=c,v.grid=i,v.index=h,i._axesList.push(v),s[f][h]=v,u[f]++}}}},t.prototype._updateScale=function(e,r){oe(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),e.eachSeries(function(a){if(zN(a)){var i=GN(a),o=i.xAxisModel,s=i.yAxisModel;if(!lS(o,r)||!lS(s,r))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=a.getData(),f=u.getAxis("x"),c=u.getAxis("y");n(l,f),n(l,c)}},this);function n(a,i){oe(G9(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return oe(this.getCartesians(),function(a){var i=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),o=a.getOtherAxis(i);St(r,i)<0&&r.push(i),St(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(a,i){var o=new t(a,e,r);o.name="grid_"+i,o.resize(a,r,!0),a.coordinateSystem=o,n.push(o)}),e.eachSeries(function(a){if(zN(a)){var i=GN(a),o=i.xAxisModel,s=i.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;a.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=BT,t}();function lS(t,e){return t.getCoordSysModel()===e}function WN(t,e,r,n){r.getAxesOnZeroOf=function(){return i?[i]:[]};var a=t[e],i,o=r.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)HN(a[u])&&(i=a[u]);else for(var l in a)if(a.hasOwnProperty(l)&&HN(a[l])&&!n[f(a[l])]){i=a[l];break}i&&(n[f(i)]=!0);function f(c){return c.dim+"_"+c.index}}function HN(t){return t&&t.type!=="category"&&t.type!=="time"&&sOe(t)}function IOe(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(a){return a+e}:function(a){return n-a+e},t.toLocalCoord=t.dim==="x"?function(a){return a-e}:function(a){return n-a+e}}var Fs=Math.PI,Ws=function(){function t(e,r){this.group=new yr,this.opt=r,this.axisModel=e,ot(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new yr({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!jN[e]},t.prototype.add=function(e){jN[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,n){var a=hz(r-e),i,o;return Qy(a)?(o=n>0?"top":"bottom",i="center"):Qy(a-Fs)?(o=n>0?"bottom":"top",i="center"):(o="middle",a>0&&a<Fs?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),jN={axisLine:function(t,e,r,n){var a=e.get(["axisLine","show"]);if(a==="auto"&&t.handleAutoShown&&(a=t.handleAutoShown("axisLine")),!!a){var i=e.axis.getExtent(),o=n.transform,s=[i[0],0],u=[i[1],0],l=s[0]>u[0];o&&(Oa(s,s,o),Oa(u,u,o));var f=Me({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new eu({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Sv(c.shape,c.style.lineWidth),c.anid="line",r.add(c);var h=e.get(["axisLine","symbol"]);if(h!=null){var p=e.get(["axisLine","symbolSize"]);Ie(h)&&(h=[h,h]),(Ie(p)||rr(p))&&(p=[p,p]);var v=QG(e.get(["axisLine","symbolOffset"])||0,p),g=p[0],y=p[1];oe([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(m,d){if(h[d]!=="none"&&h[d]!=null){var _=ru(h[d],-g/2,-y/2,g,y,f.stroke,!0),x=m.r+m.offset,w=l?u:s;_.attr({rotation:m.rotate,x:w[0]+x*Math.cos(t.rotation),y:w[1]-x*Math.sin(t.rotation),silent:!0,z2:11}),r.add(_)}})}}},axisTickLabel:function(t,e,r,n){var a=UOe(r,n,e,t),i=GOe(r,n,e,t);if(POe(e,i,a),zOe(r,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=TOe(Ne(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));COe(o)}},axisName:function(t,e,r,n){var a=gv(t.axisName,e.get("name"));if(a){var i=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=e.axis.getExtent(),f=l[0]>l[1]?-1:1,c=[i==="start"?l[0]-f*u:i==="end"?l[1]+f*u:(l[0]+l[1])/2,KN(i)?t.labelOffset+o*u:0],h,p=e.get("nameRotate");p!=null&&(p=p*Fs/180);var v;KN(i)?h=Ws.innerTextLayout(t.rotation,p??t.rotation,o):(h=VOe(t.rotation,i,p||0,l),v=t.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(h.rotation)),!isFinite(v)&&(v=null)));var g=s.getFont(),y=e.get("nameTruncate",!0)||{},m=y.ellipsis,d=gv(t.nameTruncateMaxWidth,y.maxWidth,v),_=new Gr({x:c[0],y:c[1],rotation:h.rotation,silent:Ws.isLabelSilent(e),style:jo(s,{text:a,font:g,overflow:"truncate",width:d,ellipsis:m,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(yd({el:_,componentModel:e,itemName:a}),_.__fullText=a,_.anid="name",e.get("triggerEvent")){var x=Ws.makeAxisEventDataBase(e);x.targetType="axisName",x.name=a,Ft(_).eventData=x}n.add(_),_.updateTransform(),r.add(_),_.decomposeTransform()}}};function VOe(t,e,r,n){var a=hz(r-t),i,o,s=n[0]>n[1],u=e==="start"&&!s||e!=="start"&&s;return Qy(a-Fs/2)?(o=u?"bottom":"top",i="center"):Qy(a-Fs*1.5)?(o=u?"top":"bottom",i="center"):(o="middle",a<Fs*1.5&&a>Fs/2?i=u?"left":"right":i=u?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function POe(t,e,r){if(!z9(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),a=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var i=e[0],o=e[1],s=e[e.length-1],u=e[e.length-2],l=r[0],f=r[1],c=r[r.length-1],h=r[r.length-2];n===!1?(fa(i),fa(l)):$N(i,o)&&(n?(fa(o),fa(f)):(fa(i),fa(l))),a===!1?(fa(s),fa(c)):$N(u,s)&&(a?(fa(u),fa(h)):(fa(s),fa(c)))}}function fa(t){t&&(t.ignore=!0)}function $N(t,e){var r=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!r||!n)){var a=lE([]);return cE(a,a,-t.rotation),r.applyTransform(af([],a,t.getLocalTransform())),n.applyTransform(af([],a,e.getLocalTransform())),r.intersect(n)}}function KN(t){return t==="middle"||t==="center"}function Z9(t,e,r,n,a){for(var i=[],o=[],s=[],u=0;u<t.length;u++){var l=t[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=r,e&&(Oa(o,o,e),Oa(s,s,e));var f=new eu({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Sv(f.shape,f.style.lineWidth),f.anid=a+"_"+t[u].tickValue,i.push(f)}return i}function UOe(t,e,r,n){var a=r.axis,i=r.getModel("axisTick"),o=i.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=i.getModel("lineStyle"),u=n.tickDirection*i.get("length"),l=a.getTicksCoords(),f=Z9(l,e.transform,u,ot(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<f.length;c++)t.add(f[c]);return f}}function zOe(t,e,r,n){var a=r.axis,i=r.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),u=n*i.get("length"),l=ot(s.getLineStyle(),ot(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var c=Z9(o[f],e.transform,u,l,"minorticks_"+f),h=0;h<c.length;h++)t.add(c[h])}}function GOe(t,e,r,n){var a=r.axis,i=gv(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),u=a.getViewLabels(),l=(gv(n.labelRotate,o.get("rotate"))||0)*Fs/180,f=Ws.innerTextLayout(n.rotation,l,n.labelDirection),c=r.getCategories&&r.getCategories(!0),h=[],p=Ws.isLabelSilent(r),v=r.get("triggerEvent");return oe(u,function(g,y){var m=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,d=g.formattedLabel,_=g.rawLabel,x=o;if(c&&c[m]){var w=c[m];Ue(w)&&w.textStyle&&(x=new cr(w.textStyle,o,r.ecModel))}var S=x.getTextColor()||r.get(["axisLine","lineStyle","color"]),b=a.dataToCoord(m),T=x.getShallow("align",!0)||f.textAlign,C=pt(x.getShallow("alignMinLabel",!0),T),M=pt(x.getShallow("alignMaxLabel",!0),T),D=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||f.textVerticalAlign,E=pt(x.getShallow("verticalAlignMinLabel",!0),D),k=pt(x.getShallow("verticalAlignMaxLabel",!0),D),O=new Gr({x:b,y:n.labelOffset+n.labelDirection*s,rotation:f.rotation,silent:p,z2:10+(g.level||0),style:jo(x,{text:d,align:y===0?C:y===u.length-1?M:T,verticalAlign:y===0?E:y===u.length-1?k:D,fill:et(S)?S(a.type==="category"?_:a.type==="value"?m+"":m,y):S})});if(O.anid="label_"+m,yd({el:O,componentModel:r,itemName:d,formatterParamsExtra:{isTruncated:function(){return O.isTruncated},value:_,tickIndex:y}}),v){var A=Ws.makeAxisEventDataBase(r);A.targetType="axisLabel",A.value=_,A.tickIndex=y,a.type==="category"&&(A.dataIndex=m),Ft(O).eventData=A}e.add(O),O.updateTransform(),h.push(O),t.add(O),O.decomposeTransform()}),h}}function WOe(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return HOe(r,t,e),r.seriesInvolved&&$Oe(r,t),r}function HOe(t,e,r){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];oe(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var u=Rv(s.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=s;var f=s.model,c=f.getModel("tooltip",n);if(oe(s.getAxes(),Mt(g,!1,null)),s.getTooltipAxes&&n&&c.get("show")){var h=c.get("trigger")==="axis",p=c.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(c.get(["axisPointer","axis"]));(h||p)&&oe(v.baseAxes,Mt(g,p?"cross":!0,h)),p&&oe(v.otherAxes,Mt(g,"cross",!1))}function g(y,m,d){var _=d.model.getModel("axisPointer",a),x=_.get("show");if(!(!x||x==="auto"&&!y&&!VT(_))){m==null&&(m=_.get("triggerTooltip")),_=y?jOe(d,c,a,e,y,m):_;var w=_.get("snap"),S=_.get("triggerEmphasis"),b=Rv(d.model),T=m||w||d.type==="category",C=t.axesInfo[b]={key:b,axis:d,coordSys:s,axisPointerModel:_,triggerTooltip:m,triggerEmphasis:S,involveSeries:T,snap:w,useHandle:VT(_),seriesModels:[],linkGroup:null};l[b]=C,t.seriesInvolved=t.seriesInvolved||T;var M=KOe(i,d);if(M!=null){var D=o[M]||(o[M]={axesInfo:{}});D.axesInfo[b]=C,D.mapper=i[M].mapper,C.linkGroup=D}}}})}function jOe(t,e,r,n,a,i){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};oe(s,function(h){u[h]=Ze(o.get(h))}),u.snap=t.type!=="category"&&!!i,o.get("type")==="cross"&&(u.type="line");var l=u.label||(u.label={});if(l.show==null&&(l.show=!1),a==="cross"){var f=o.get(["label","show"]);if(l.show=f??!0,!i){var c=u.lineStyle=o.get("crossStyle");c&&ot(l,c.textStyle)}}return t.model.getModel("axisPointer",new cr(u,r,n))}function $Oe(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,a=r.get(["tooltip","trigger"],!0),i=r.get(["tooltip","show"],!0);!n||a==="none"||a===!1||a==="item"||i===!1||r.get(["axisPointer","show"],!0)===!1||oe(t.coordSysAxesInfo[Rv(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function KOe(t,e){for(var r=e.model,n=e.dim,a=0;a<t.length;a++){var i=t[a]||{};if(cS(i[n+"AxisId"],r.id)||cS(i[n+"AxisIndex"],r.componentIndex)||cS(i[n+"AxisName"],r.name))return a}}function cS(t,e){return t==="all"||Le(t)&&St(t,e)>=0||t===e}function XOe(t){var e=tD(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,a=r.option,i=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=VT(r);i==null&&(a.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function tD(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Rv(t)]}function YOe(t){var e=tD(t);return e&&e.axisPointerModel}function VT(t){return!!t.get(["handle","show"])}function Rv(t){return t.type+"||"+t.id}var XN={},J9=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){this.axisPointerClass&&XOe(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,a,!0)},e.prototype.updateAxisPointer=function(r,n,a,i){this._doUpdateAxisPointerClass(r,a,!1)},e.prototype.remove=function(r,n){var a=this._axisPointer;a&&a.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,a){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var o=YOe(r);o?(this._axisPointer||(this._axisPointer=new i)).render(r,o,n,a):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){XN[r]=n},e.getAxisPointerClass=function(r){return r&&XN[r]},e.type="axis",e}(jn),PT=_r();function qOe(t,e,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=a.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var f=s.length,c=PT(t).splitAreaColors,h=Xe(),p=0;if(c)for(var v=0;v<l.length;v++){var g=c.get(l[v].tickValue);if(g!=null){p=(g+(f-1)*v)%f;break}}var y=a.toGlobalCoord(l[0].coord),m=o.getAreaStyle();s=Le(s)?s:[s];for(var v=1;v<l.length;v++){var d=a.toGlobalCoord(l[v].coord),_=void 0,x=void 0,w=void 0,S=void 0;a.isHorizontal()?(_=y,x=u.y,w=d-_,S=u.height,y=_+w):(_=u.x,x=y,w=u.width,S=d-x,y=x+S);var b=l[v-1].tickValue;b!=null&&h.set(b,p),e.add(new Yt({anid:b!=null?"area_"+b:null,shape:{x:_,y:x,width:w,height:S},style:ot({fill:s[p]},m),autoBatch:!0,silent:!0})),p=(p+1)%f}PT(t).splitAreaColors=h}}}function ZOe(t){PT(t).splitAreaColors=null}var JOe=["axisLine","axisTickLabel","axisName"],QOe=["splitArea","splitLine","minorSplitLine"],Q9=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new yr,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),u=IT(s,r),l=new Ws(r,Me({handleAutoShown:function(c){for(var h=s.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(NT(h[p].getOtherAxis(r.axis).scale))return!0;return!1}},u));oe(JOe,l.add,l),this._axisGroup.add(l.getGroup()),oe(QOe,function(c){r.get([c,"show"])&&eMe[c](this,this._axisGroup,r,s)},this);var f=i&&i.type==="changeAxisOrder"&&i.isInitSort;f||Qz(o,this._axisGroup,r),t.prototype.render.call(this,r,n,a,i)}},e.prototype.remove=function(){ZOe(this)},e.type="cartesianAxis",e}(J9),eMe={splitLine:function(t,e,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color"),u=i.get("showMinLine")!==!1,l=i.get("showMaxLine")!==!1;s=Le(s)?s:[s];for(var f=n.coordinateSystem.getRect(),c=a.isHorizontal(),h=0,p=a.getTicksCoords({tickModel:i}),v=[],g=[],y=o.getLineStyle(),m=0;m<p.length;m++){var d=a.toGlobalCoord(p[m].coord);if(!(m===0&&!u||m===p.length-1&&!l)){var _=p[m].tickValue;c?(v[0]=d,v[1]=f.y,g[0]=d,g[1]=f.y+f.height):(v[0]=f.x,v[1]=d,g[0]=f.x+f.width,g[1]=d);var x=h++%s.length,w=new eu({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:ot({stroke:s[x]},y),silent:!0});Sv(w.shape,y.lineWidth),e.add(w)}}}},minorSplitLine:function(t,e,r,n){var a=r.axis,i=r.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=a.isHorizontal(),l=a.getMinorTicksCoords();if(l.length)for(var f=[],c=[],h=o.getLineStyle(),p=0;p<l.length;p++)for(var v=0;v<l[p].length;v++){var g=a.toGlobalCoord(l[p][v].coord);u?(f[0]=g,f[1]=s.y,c[0]=g,c[1]=s.y+s.height):(f[0]=s.x,f[1]=g,c[0]=s.x+s.width,c[1]=g);var y=new eu({anid:"minor_line_"+l[p][v].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:c[0],y2:c[1]},style:h,silent:!0});Sv(y.shape,h.lineWidth),e.add(y)}},splitArea:function(t,e,r,n){qOe(t,e,r,n)}},eW=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(Q9),tMe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=eW.type,r}return e.type="yAxis",e}(Q9),rMe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Yt({shape:r.coordinateSystem.getRect(),style:ot({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(jn),YN={offset:0};function nMe(t){t.registerComponentView(rMe),t.registerComponentModel(EOe),t.registerCoordinateSystem("cartesian2d",BOe),VN(t,"x",FT,YN),VN(t,"y",FT,YN),t.registerComponentView(eW),t.registerComponentView(tMe),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var tl=_r(),qN=Ze,fS=Ke,aMe=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,a){var i=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||o==="hide"){s&&s.hide(),u&&u.hide();return}s&&s.show(),u&&u.show();var l={};this.makeElOption(l,i,e,r,n);var f=l.graphicKey;f!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=f;var c=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new yr,this.createPointerEl(s,l,e,r),this.createLabelEl(s,l,e,r),n.getZr().add(s);else{var h=Mt(ZN,r,c);this.updatePointerEl(s,l,h),this.updateLabelEl(s,l,h,r)}QN(s,r,!0),this._renderHandle(i)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),a=e.axis,i=a.type==="category",o=r.get("snap");if(!o&&!i)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var u=tD(e).seriesDataCount,l=a.getExtent();return Math.abs(l[0]-l[1])/u>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,a,i){},t.prototype.createPointerEl=function(e,r,n,a){var i=r.pointer;if(i){var o=tl(e).pointerEl=new ZTe[i.type](qN(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,a){if(r.label){var i=tl(e).labelEl=new Gr(qN(r.label));e.add(i),JN(i,a)}},t.prototype.updatePointerEl=function(e,r,n){var a=tl(e).pointerEl;a&&r.pointer&&(a.setStyle(r.pointer.style),n(a,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,a){var i=tl(e).labelEl;i&&(i.setStyle(r.label.style),n(i,{x:r.label.x,y:r.label.y}),JN(i,a))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=r.getModel("handle"),o=r.get("status");if(!i.get("show")||!o||o==="hide"){a&&n.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=W1(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(l){Ef(l.event)},onmousedown:fS(this._onHandleDragMove,this,0,0),drift:fS(this._onHandleDragMove,this),ondragend:fS(this._onHandleDragEnd,this)}),n.add(a)),QN(a,r,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=i.get("size");Le(u)||(u=[u,u]),a.scaleX=u[0]/2,a.scaleY=u[1]/2,Sd(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){ZN(this._axisPointerModel,!r&&this._moveAnimation,this._handle,hS(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(hS(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(hS(a)),tl(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,a=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),a&&r.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),cm(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t}();function ZN(t,e,r,n){tW(tl(r).lastProp,n)||(tl(r).lastProp=n,e?Wn(r,n,t):(r.stopAnimation(),r.attr(n)))}function tW(t,e){if(Ue(t)&&Ue(e)){var r=!0;return oe(e,function(n,a){r=r&&tW(t[a],n)}),!!r}else return t===e}function JN(t,e){t[e.get(["label","show"])?"show":"hide"]()}function hS(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function QN(t,e,r){var n=e.get("z"),a=e.get("zlevel");t&&t.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=r)})}function iMe(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function oMe(t,e,r,n,a){var i=r.get("value"),o=rW(i,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),u=e_(s.get("padding")||0),l=s.getFont(),f=k1(o,l),c=a.position,h=f.width+u[1]+u[3],p=f.height+u[0]+u[2],v=a.align;v==="right"&&(c[0]-=h),v==="center"&&(c[0]-=h/2);var g=a.verticalAlign;g==="bottom"&&(c[1]-=p),g==="middle"&&(c[1]-=p/2),sMe(c,h,p,n);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:jo(s,{text:o,font:l,fill:s.getTextColor(),padding:u,backgroundColor:y}),z2:10}}function sMe(t,e,r,n){var a=n.getWidth(),i=n.getHeight();t[0]=Math.min(t[0]+e,a)-e,t[1]=Math.min(t[1]+r,i)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function rW(t,e,r,n,a){t=e.scale.parse(t);var i=e.scale.getLabel({value:t},{precision:a.precision}),o=a.formatter;if(o){var s={value:JE(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};oe(n,function(u){var l=r.getSeriesByIndex(u.seriesIndex),f=u.dataIndexInside,c=l&&l.getDataParams(f);c&&s.seriesData.push(c)}),Ie(o)?i=o.replace("{value}",i):et(o)&&(i=o(s))}return i}function nW(t,e,r){var n=nf();return cE(n,n,r.rotation),Zb(n,n,r.position),bv([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function uMe(t,e,r,n,a,i){var o=Ws.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]),oMe(e,n,a,i,{position:nW(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function lMe(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function cMe(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}var fMe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,a,i,o){var s=a.axis,u=s.grid,l=i.get("type"),f=eF(u,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(n,!0));if(l&&l!=="none"){var h=iMe(i),p=hMe[l](s,c,f);p.style=h,r.graphicKey=p.type,r.pointer=p}var v=IT(u.model,a);uMe(n,r,v,a,i,o)},e.prototype.getHandleTransform=function(r,n,a){var i=IT(n.axis.grid.model,n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=nW(n.axis,r,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,a,i){var o=a.axis,s=o.grid,u=o.getGlobalExtent(!0),l=eF(s,o).getOtherAxis(o).getGlobalExtent(),f=o.dim==="x"?0:1,c=[r.x,r.y];c[f]+=n[f],c[f]=Math.min(u[1],c[f]),c[f]=Math.max(u[0],c[f]);var h=(l[1]+l[0])/2,p=[h,h];p[f]=c[f];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:p,tooltipOption:v[f]}},e}(aMe);function eF(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var hMe={line:function(t,e,r){var n=lMe([e,r[0]],[e,r[1]],tF(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),a=r[1]-r[0];return{type:"Rect",shape:cMe([e-n/2,r[0]],[n,a],tF(t))}}};function tF(t){return t.dim==="x"?0:1}var pMe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Nt),Ro=_r(),vMe=oe;function aW(t,e,r){if(!Qe.node){var n=e.getZr();Ro(n).records||(Ro(n).records={}),dMe(n,e);var a=Ro(n).records[t]||(Ro(n).records[t]={});a.handler=r}}function dMe(t,e){if(Ro(t).initialized)return;Ro(t).initialized=!0,r("click",Mt(rF,"click")),r("mousemove",Mt(rF,"mousemove")),r("globalout",yMe);function r(n,a){t.on(n,function(i){var o=mMe(e);vMe(Ro(t).records,function(s){s&&a(s,i,o.dispatchAction)}),gMe(o.pendings,e)})}}function gMe(t,e){var r=t.showTip.length,n=t.hideTip.length,a;r?a=t.showTip[r-1]:n&&(a=t.hideTip[n-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function yMe(t,e,r){t.handler("leave",null,r)}function rF(t,e,r,n){e.handler(t,r,n)}function mMe(t){var e={showTip:[],hideTip:[]},r=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function UT(t,e){if(!Qe.node){var r=e.getZr(),n=(Ro(r).records||{})[t];n&&(Ro(r).records[t]=null)}}var _Me=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=n.getComponent("tooltip"),o=r.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";aW("axisPointer",a,function(s,u,l){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&l({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(r,n){UT("axisPointer",n)},e.prototype.dispose=function(r,n){UT("axisPointer",n)},e.type="axisPointer",e}(jn);function iW(t,e){var r=[],n=t.seriesIndex,a;if(n==null||!(a=e.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),o=Gl(i,t);if(o==null||o<0||Le(o))return{point:[]};var s=i.getItemGraphicEl(o),u=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),f=u.getOtherAxis(l),c=f.dim,h=l.dim,p=c==="x"||c==="radius"?1:0,v=i.mapDimension(h),g=[];g[p]=i.get(v,o),g[1-p]=i.get(i.getCalculationInfo("stackResultDimension"),o),r=u.dataToPoint(g)||[]}else r=u.dataToPoint(i.getValues(Ne(u.dimensions,function(m){return i.mapDimension(m)}),o))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:s}}var nF=_r();function xMe(t,e,r){var n=t.currTrigger,a=[t.x,t.y],i=t,o=t.dispatchAction||Ke(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ay(a)&&(a=iW({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var u=ay(a),l=i.axesInfo,f=s.axesInfo,c=n==="leave"||ay(a),h={},p={},v={list:[],map:{}},g={showPointer:Mt(SMe,p),showTooltip:Mt(bMe,v)};oe(s.coordSysMap,function(m,d){var _=u||m.containPoint(a);oe(s.coordSysAxesInfo[d],function(x,w){var S=x.axis,b=DMe(l,x);if(!c&&_&&(!l||b)){var T=b&&b.value;T==null&&!u&&(T=S.pointToData(a)),T!=null&&aF(x,T,g,!1,h)}})});var y={};return oe(f,function(m,d){var _=m.linkGroup;_&&!p[d]&&oe(_.axesInfo,function(x,w){var S=p[w];if(x!==m&&S){var b=S.value;_.mapper&&(b=m.axis.scale.parse(_.mapper(b,iF(x),iF(m)))),y[m.key]=b}})}),oe(y,function(m,d){aF(f[d],m,g,!0,h)}),TMe(p,f,h),CMe(v,a,t,o),EMe(f,o,r),h}}function aF(t,e,r,n,a){var i=t.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=wMe(e,t),s=o.payloadBatch,u=o.snapToValue;s[0]&&a.seriesIndex==null&&Me(a,s[0]),!n&&t.snap&&i.containData(u)&&u!=null&&(e=u),r.showPointer(t,e,s),r.showTooltip(t,o,u)}}function wMe(t,e){var r=e.axis,n=r.dim,a=t,i=[],o=Number.MAX_VALUE,s=-1;return oe(e.seriesModels,function(u,l){var f=u.getData().mapDimensionsAll(n),c,h;if(u.getAxisTooltipData){var p=u.getAxisTooltipData(f,t,r);h=p.dataIndices,c=p.nestestValue}else{if(h=u.getData().indicesOfNearest(f[0],t,r.type==="category"?.5:null),!h.length)return;c=u.getData().get(f[0],h[0])}if(!(c==null||!isFinite(c))){var v=t-c,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,a=c,i.length=0),oe(h,function(y){i.push({seriesIndex:u.seriesIndex,dataIndexInside:y,dataIndex:u.getData().getRawIndex(y)})}))}}),{payloadBatch:i,snapToValue:a}}function SMe(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function bMe(t,e,r,n){var a=r.payloadBatch,i=e.axis,o=i.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var u=e.coordSys.model,l=Rv(u),f=t.map[l];f||(f=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(f)),f.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function TMe(t,e,r){var n=r.axesInfo=[];oe(e,function(a,i){var o=a.axisPointerModel.option,s=t[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function CMe(t,e,r,n){if(ay(e)||!t.list.length){n({type:"hideTip"});return}var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}function EMe(t,e,r){var n=r.getZr(),a="axisPointerLastHighlights",i=nF(n)[a]||{},o=nF(n)[a]={};oe(t,function(l,f){var c=l.axisPointerModel.option;c.status==="show"&&l.triggerEmphasis&&oe(c.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;o[p]=h})});var s=[],u=[];oe(i,function(l,f){!o[f]&&u.push(l)}),oe(o,function(l,f){!i[f]&&s.push(l)}),u.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function DMe(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function iF(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function ay(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function oW(t){J9.registerAxisPointerClass("CartesianAxisPointer",fMe),t.registerComponentModel(pMe),t.registerComponentView(_Me),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!Le(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=WOe(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},xMe)}function OMe(t){fi(nMe),fi(oW)}var oF="\0_ec_interaction_mutex";function MMe(t,e,r){var n=rD(t);n[e]=r}function LMe(t,e,r){var n=rD(t),a=n[e];a===r&&(n[e]=null)}function sF(t,e){return!!rD(t)[e]}function rD(t){return t[oF]||(t[oF]={})}Zi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Kr);var kMe=function(t){Ce(e,t);function e(r){var n=t.call(this)||this;n._zr=r;var a=Ke(n._mousedownHandler,n),i=Ke(n._mousemoveHandler,n),o=Ke(n._mouseupHandler,n),s=Ke(n._mousewheelHandler,n),u=Ke(n._pinchHandler,n);return n.enable=function(l,f){this.disable(),this._opt=ot(Ze(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),l==null&&(l=!0),(l===!0||l==="move"||l==="pan")&&(r.on("mousedown",a),r.on("mousemove",i),r.on("mouseup",o)),(l===!0||l==="scale"||l==="zoom")&&(r.on("mousewheel",s),r.on("pinch",u))},n.disable=function(){r.off("mousedown",a),r.off("mousemove",i),r.off("mouseup",o),r.off("mousewheel",s),r.off("pinch",u)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(r){this.pointerChecker=r},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(r){if(!iA(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var a=r.offsetX,i=r.offsetY;this.pointerChecker&&this.pointerChecker(r,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!iy("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||sF(this._zr,"globalPan"))){var n=r.offsetX,a=r.offsetY,i=this._x,o=this._y,s=n-i,u=a-o;this._x=n,this._y=a,this._opt.preventDefaultMouseMove&&Ef(r.event),sW(this,"pan","moveOnMouseMove",r,{dx:s,dy:u,oldX:i,oldY:o,newX:n,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(r){iA(r)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(r){var n=iy("zoomOnMouseWheel",r,this._opt),a=iy("moveOnMouseWheel",r,this._opt),i=r.wheelDelta,o=Math.abs(i),s=r.offsetX,u=r.offsetY;if(!(i===0||!n&&!a)){if(n){var l=o>3?1.4:o>1?1.2:1.1,f=i>0?l:1/l;pS(this,"zoom","zoomOnMouseWheel",r,{scale:f,originX:s,originY:u,isAvailableBehavior:null})}if(a){var c=Math.abs(i),h=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);pS(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:h,originX:s,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(r){if(!sF(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;pS(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},e}(Ba);function pS(t,e,r,n,a){t.pointerChecker&&t.pointerChecker(n,a.originX,a.originY)&&(Ef(n.event),sW(t,e,r,n,a))}function sW(t,e,r,n,a){a.isAvailableBehavior=Ke(iy,null,r,n),t.trigger(e,a)}function iy(t,e,r){var n=r[t];return!t||n&&(!Ie(n)||e.event[n+"Key"])}var RMe={axisPointer:1,tooltip:1,brush:1};function AMe(t,e,r){var n=e.getComponentByElement(t.topTarget),a=n&&n.coordinateSystem;return n&&n!==r&&!RMe.hasOwnProperty(n.mainType)&&a&&a.model!==r}function bd(t,e,r,n,a,i){t=t||0;var o=r[1]-r[0];if(a!=null&&(a=wc(a,[0,o])),i!=null&&(i=Math.max(i,a??0)),n==="all"){var s=Math.abs(e[1]-e[0]);s=wc(s,[0,o]),a=i=wc(s,[a,i]),n=0}e[0]=wc(e[0],r),e[1]=wc(e[1],r);var u=vS(e,n);e[n]+=t;var l=a||0,f=r.slice();u.sign<0?f[0]+=l:f[1]-=l,e[n]=wc(e[n],f);var c;return c=vS(e,n),a!=null&&(c.sign!==u.sign||c.span<a)&&(e[1-n]=e[n]+u.sign*a),c=vS(e,n),i!=null&&c.span>i&&(e[1-n]=e[n]+c.sign*i),e}function vS(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function wc(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var Hl=!0,Av=Math.min,Rf=Math.max,NMe=Math.pow,FMe=1e4,BMe=6,IMe=6,uF="globalPan",VMe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},PMe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},lF={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},UMe=0,uW=function(t){Ce(e,t);function e(r){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new yr,n._uid="brushController_"+UMe++,oe(KMe,function(a,i){this._handlers[i]=Ke(a,this)},n),n}return e.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},e.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||MMe(n,uF,this._uid),oe(this._handlers,function(a,i){n.on(i,a)}),this._brushType=r.brushType,this._brushOption=ct(Ze(lF),r,!0)},e.prototype._doDisableBrush=function(){var r=this._zr;LMe(r,uF,this._uid),oe(this._handlers,function(n,a){r.off(a,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};oe(r,function(a){n[a.panelId]=Ze(a)})}else this._panels=null;return this},e.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(r){r=Ne(r,function(h){return ct(Ze(lF),h,!0)});var n="\0-brush-index-",a=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Lv(a,r,l,u).add(f).update(f).remove(c).execute(),this;function u(h,p){return(h.id!=null?h.id:n+p)+"-"+h.brushType}function l(h,p){return u(h.__brushOption,p)}function f(h,p){var v=r[h];if(p!=null&&a[p]===s)i[h]=a[p];else{var g=i[h]=p!=null?(a[p].__brushOption=v,a[p]):cW(o,lW(o,v));nD(o,g)}}function c(h){a[h]!==s&&o.group.remove(a[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),zT(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Ba);function lW(t,e){var r=s_[e.brushType].createCover(t,e);return r.__brushOption=e,hW(r,e),t.group.add(r),r}function cW(t,e){var r=aD(e);return r.endCreating&&(r.endCreating(t,e),hW(e,e.__brushOption)),e}function fW(t,e){var r=e.__brushOption;aD(e).updateCoverShape(t,e,r.range,r)}function hW(t,e){var r=e.z;r==null&&(r=FMe),t.traverse(function(n){n.z=r,n.z2=r})}function nD(t,e){aD(e).updateCommon(t,e),fW(t,e)}function aD(t){return s_[t.__brushOption.brushType]}function iD(t,e,r){var n=t._panels;if(!n)return Hl;var a,i=t._transform;return oe(n,function(o){o.isTargetByCursor(e,r,i)&&(a=o)}),a}function pW(t,e){var r=t._panels;if(!r)return Hl;var n=e.__brushOption.panelId;return n!=null?r[n]:Hl}function zT(t){var e=t._covers,r=e.length;return oe(e,function(n){t.group.remove(n)},t),e.length=0,!!r}function jl(t,e){var r=Ne(t._covers,function(n){var a=n.__brushOption,i=Ze(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function zMe(t){var e=t._track;if(!e.length)return!1;var r=e[e.length-1],n=e[0],a=r[0]-n[0],i=r[1]-n[1],o=NMe(a*a+i*i,.5);return o>BMe}function vW(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function dW(t,e,r,n){var a=new yr;return a.add(new Yt({name:"main",style:oD(r),silent:!0,draggable:!0,cursor:"move",drift:Mt(cF,t,e,a,["n","s","w","e"]),ondragend:Mt(jl,e,{isEnd:!0})})),oe(n,function(i){a.add(new Yt({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Mt(cF,t,e,a,i),ondragend:Mt(jl,e,{isEnd:!0})}))}),a}function gW(t,e,r,n){var a=n.brushStyle.lineWidth||0,i=Rf(a,IMe),o=r[0][0],s=r[1][0],u=o-a/2,l=s-a/2,f=r[0][1],c=r[1][1],h=f-i+a/2,p=c-i+a/2,v=f-o,g=c-s,y=v+a,m=g+a;uo(t,e,"main",o,s,v,g),n.transformable&&(uo(t,e,"w",u,l,i,m),uo(t,e,"e",h,l,i,m),uo(t,e,"n",u,l,y,i),uo(t,e,"s",u,p,y,i),uo(t,e,"nw",u,l,i,i),uo(t,e,"ne",h,l,i,i),uo(t,e,"sw",u,p,i,i),uo(t,e,"se",h,p,i,i))}function GT(t,e){var r=e.__brushOption,n=r.transformable,a=e.childAt(0);a.useStyle(oD(r)),a.attr({silent:!n,cursor:n?"move":"default"}),oe([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=e.childOfName(i.join("")),s=i.length===1?WT(t,i[0]):WMe(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?PMe[s]+"-resize":null})})}function uo(t,e,r,n,a,i,o){var s=e.childOfName(r);s&&s.setShape(jMe(sD(t,e,[[n,a],[n+i,a+o]])))}function oD(t){return ot({strokeNoScale:!0},t.brushStyle)}function yW(t,e,r,n){var a=[Av(t,r),Av(e,n)],i=[Rf(t,r),Rf(e,n)];return[[a[0],i[0]],[a[1],i[1]]]}function GMe(t){return G1(t.group)}function WT(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},a=ME(r[e],GMe(t));return n[a]}function WMe(t,e){var r=[WT(t,e[0]),WT(t,e[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function cF(t,e,r,n,a,i){var o=r.__brushOption,s=t.toRectRange(o.range),u=mW(e,a,i);oe(n,function(l){var f=VMe[l];s[f[0]][f[1]]+=u[f[0]]}),o.range=t.fromRectRange(yW(s[0][0],s[1][0],s[0][1],s[1][1])),nD(e,r),jl(e,{isEnd:!1})}function HMe(t,e,r,n){var a=e.__brushOption.range,i=mW(t,r,n);oe(a,function(o){o[0]+=i[0],o[1]+=i[1]}),nD(t,e),jl(t,{isEnd:!1})}function mW(t,e,r){var n=t.group,a=n.transformCoordToLocal(e,r),i=n.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function sD(t,e,r){var n=pW(t,e);return n&&n!==Hl?n.clipPath(r,t._transform):Ze(r)}function jMe(t){var e=Av(t[0][0],t[1][0]),r=Av(t[0][1],t[1][1]),n=Rf(t[0][0],t[1][0]),a=Rf(t[0][1],t[1][1]);return{x:e,y:r,width:n-e,height:a-r}}function $Me(t,e,r){if(!(!t._brushType||XMe(t,e.offsetX,e.offsetY))){var n=t._zr,a=t._covers,i=iD(t,e,r);if(!t._dragging)for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(i&&(i===Hl||s.panelId===i.panelId)&&s_[s.brushType].contain(a[o],r[0],r[1]))return}i&&n.setCursorStyle("crosshair")}}function HT(t){var e=t.event;e.preventDefault&&e.preventDefault()}function jT(t,e,r){return t.childOfName("main").contain(e,r)}function _W(t,e,r,n){var a=t._creatingCover,i=t._creatingPanel,o=t._brushOption,s;if(t._track.push(r.slice()),zMe(t)||a){if(i&&!a){o.brushMode==="single"&&zT(t);var u=Ze(o);u.brushType=fF(u.brushType,i),u.panelId=i===Hl?null:i.panelId,a=t._creatingCover=lW(t,u),t._covers.push(a)}if(a){var l=s_[fF(t._brushType,i)],f=a.__brushOption;f.range=l.getCreatingRange(sD(t,a,t._track)),n&&(cW(t,a),l.updateCommon(t,a)),fW(t,a),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&iD(t,e,r)&&zT(t)&&(s={isEnd:n,removeOnClick:!0});return s}function fF(t,e){return t==="auto"?e.defaultBrushType:t}var KMe={mousedown:function(t){if(this._dragging)hF(this,t);else if(!t.target||!t.target.draggable){HT(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=iD(this,t,e);r&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,r=t.offsetY,n=this.group.transformCoordToLocal(e,r);if($Me(this,t,n),this._dragging){HT(t);var a=_W(this,t,n,!1);a&&jl(this,a)}},mouseup:function(t){hF(this,t)}};function hF(t,e){if(t._dragging){HT(e);var r=e.offsetX,n=e.offsetY,a=t.group.transformCoordToLocal(r,n),i=_W(t,e,a,!0);t._dragging=!1,t._track=[],t._creatingCover=null,i&&jl(t,i)}}function XMe(t,e,r){var n=t._zr;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var s_={lineX:pF(0),lineY:pF(1),rect:{createCover:function(t,e){function r(n){return n}return dW({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=vW(t);return yW(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,n){gW(t,e,r,n)},updateCommon:GT,contain:jT},polygon:{createCover:function(t,e){var r=new yr;return r.add(new gd({name:"main",style:oD(e),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Yf({name:"main",draggable:!0,drift:Mt(HMe,t,e),ondragend:Mt(jl,t,{isEnd:!0})}))},updateCoverShape:function(t,e,r,n){e.childAt(0).setShape({points:sD(t,e,r)})},updateCommon:GT,contain:jT}};function pF(t){return{createCover:function(e,r){return dW({toRectRange:function(n){var a=[n,[0,100]];return t&&a.reverse(),a},fromRectRange:function(n){return n[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=vW(e),n=Av(r[0][t],r[1][t]),a=Rf(r[0][t],r[1][t]);return[n,a]},updateCoverShape:function(e,r,n,a){var i,o=pW(e,r);if(o!==Hl&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(t);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[n,i];t&&u.reverse(),gW(e,r,u,a)},updateCommon:GT,contain:jT}}function YMe(t){return t=uD(t),function(e){return eG(e,t)}}function qMe(t,e){return t=uD(t),function(r){var n=e??r,a=n?t.width:t.height,i=n?t.x:t.y;return[i,i+(a||0)]}}function ZMe(t,e,r){var n=uD(t);return function(a,i){return n.contain(i[0],i[1])&&!AMe(a,e,r)}}function uD(t){return Dt.create(t)}var vF=["x","y","radius","angle","single"],JMe=["cartesian2d","polar","singleAxis"];function QMe(t){var e=t.get("coordinateSystem");return St(JMe,e)>=0}function Bs(t){return t+"Axis"}function eLe(t,e){var r=Xe(),n=[],a=Xe();t.eachComponent({mainType:"dataZoom",query:e},function(f){a.get(f.uid)||s(f)});var i;do i=!1,t.eachComponent("dataZoom",o);while(i);function o(f){!a.get(f.uid)&&u(f)&&(s(f),i=!0)}function s(f){a.set(f.uid,!0),n.push(f),l(f)}function u(f){var c=!1;return f.eachTargetAxis(function(h,p){var v=r.get(h);v&&v[p]&&(c=!0)}),c}function l(f){f.eachTargetAxis(function(c,h){(r.get(c)||r.set(c,[]))[h]=!0})}return n}function xW(t){var e=t.ecModel,r={infoList:[],infoMap:Xe()};return t.eachTargetAxis(function(n,a){var i=e.getComponent(Bs(n),a);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,u=r.infoMap.get(s);u||(u={model:o,axisModels:[]},r.infoList.push(u),r.infoMap.set(s,u)),u.axisModels.push(i)}}}),r}var dS=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),Nv=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return e.prototype.init=function(r,n,a){var i=dF(r);this.settledOption=i,this.mergeDefaultAndTheme(r,a),this._doInit(i)},e.prototype.mergeOption=function(r){var n=dF(r);ct(this.option,r,!0),ct(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var a=this.settledOption;oe([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(n[i[0]]=a[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Xe(),a=this._fillSpecifiedTargetAxis(n);a?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return oe(vF,function(a){var i=this.getReferringComponents(Bs(a),jSe);if(i.specified){n=!0;var o=new dS;oe(i.models,function(s){o.add(s.componentIndex)}),r.set(a,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(r,n){var a=this.ecModel,i=!0;if(i){var o=n==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});u(s,o)}if(i){var s=a.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===n}});u(s,"single")}function u(l,f){var c=l[0];if(c){var h=new dS;if(h.add(c.componentIndex),r.set(f,h),i=!1,f==="x"||f==="y"){var p=c.getReferringComponents("grid",bn).models[0];p&&oe(l,function(v){c.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",bn).models[0]&&h.add(v.componentIndex)})}}}i&&oe(vF,function(l){if(i){var f=a.findComponents({mainType:Bs(l),filter:function(h){return h.get("type",!0)==="category"}});if(f[0]){var c=new dS;c.add(f[0].componentIndex),r.set(l,c),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(r){var n=this._rangePropMode,a=this.get("rangeMode");oe([["start","startValue"],["end","endValue"]],function(i,o){var s=r[i[0]]!=null,u=r[i[1]]!=null;s&&!u?n[o]="percent":!s&&u?n[o]="value":a?n[o]=a[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,a){r==null&&(r=this.ecModel.getComponent(Bs(n),a))},this),r},e.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(a,i){oe(a.indexList,function(o){r.call(n,i,o)})})},e.prototype.getAxisProxy=function(r,n){var a=this.getAxisModel(r,n);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(r,n){var a=this._targetAxisInfoMap.get(r);if(a&&a.indexMap[n])return this.ecModel.getComponent(Bs(r),n)},e.prototype.setRawRange=function(r){var n=this.option,a=this.settledOption;oe([["start","startValue"],["end","endValue"]],function(i){(r[i[0]]!=null||r[i[1]]!=null)&&(n[i[0]]=a[i[0]]=r[i[0]],n[i[1]]=a[i[1]]=r[i[1]])},this),this._updateRangeUse(r)},e.prototype.setCalculatedRange=function(r){var n=this.option;oe(["start","startValue","end","endValue"],function(a){n[a]=r[a]})},e.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},e.prototype.getValueRange=function(r,n){if(r==null&&n==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var o=a[i],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var l=this.getAxisProxy(o,s.indexList[u]);if(l.hostedBy(this))return l;n||(n=l)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Nt);function dF(t){var e={};return oe(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var tLe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(Nv),lD=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){this.dataZoomModel=r,this.ecModel=n,this.api=a},e.type="dataZoom",e}(jn),rLe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(lD),Rc=oe,gF=tp,nLe=function(){function t(e,r,n,a){this._dimName=e,this._axisIndex=r,this.ecModel=a,this._dataZoomModel=n}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(r){if(QMe(r)){var n=Bs(this._dimName),a=r.getReferringComponents(n,bn).models[0];a&&this._axisIndex===a.componentIndex&&e.push(r)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return Ze(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var r=this._dataExtent,n=this.getAxisModel(),a=n.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],l;Rc(["start","end"],function(h,p){var v=e[h],g=e[h+"Value"];i[p]==="percent"?(v==null&&(v=o[p]),g=a.parse(Sr(v,o,r))):(l=!0,g=g==null?r[p]:a.parse(g),v=Sr(g,r,o)),u[p]=g==null||isNaN(g)?r[p]:g,s[p]=v==null||isNaN(v)?o[p]:v}),gF(u),gF(s);var f=this._minMaxSpan;l?c(u,s,r,o,!1):c(s,u,o,r,!0);function c(h,p,v,g,y){var m=y?"Span":"ValueSpan";bd(0,h,v,"all",f["min"+m],f["max"+m]);for(var d=0;d<2;d++)p[d]=Sr(h[d],v,g,!0),y&&(p[d]=a.parse(p[d]))}return{valueWindow:u,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=aLe(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,r){if(e!==this._dataZoomModel)return;var n=this._dimName,a=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;if(i==="none")return;Rc(a,function(u){var l=u.getData(),f=l.mapDimensionsAll(n);if(f.length){if(i==="weakFilter"){var c=l.getStore(),h=Ne(f,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var v,g,y,m=0;m<f.length;m++){var d=c.get(h[m],p),_=!isNaN(d),x=d<o[0],w=d>o[1];if(_&&!x&&!w)return!0;_&&(y=!0),x&&(v=!0),w&&(g=!0)}return y&&v&&g})}else Rc(f,function(p){if(i==="empty")u.setData(l=l.map(p,function(g){return s(g)?g:NaN}));else{var v={};v[p]=o,l.selectRange(v)}});Rc(f,function(p){l.setApproximateExtent(o,p)})}});function s(u){return u>=o[0]&&u<=o[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;Rc(["min","max"],function(a){var i=r.get(a+"Span"),o=r.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=Sr(n[0]+o,n,[0,100],!0):i!=null&&(o=Sr(i,[0,100],n,!0)-n[0]),e[a+"Span"]=i,e[a+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var a=fz(n,[0,500]);a=Math.min(a,20);var i=e.axis.scale.rawExtentInfo;r[0]!==0&&i.setDeterminedMinMax("min",+n[0].toFixed(a)),r[1]!==100&&i.setDeterminedMinMax("max",+n[1].toFixed(a)),i.freeze()}},t}();function aLe(t,e,r){var n=[1/0,-1/0];Rc(r,function(o){cOe(n,o.getData(),e)});var a=t.getAxisModel(),i=P9(a.axis.scale,a,n).calculate();return[i.min,i.max]}var iLe={getTargetSeries:function(t){function e(a){t.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var u=t.getComponent(Bs(o),s);a(o,s,u,i)})})}e(function(a,i,o,s){o.__dzAxisProxy=null});var r=[];e(function(a,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new nLe(a,i,s,t),r.push(o.__dzAxisProxy))});var n=Xe();return oe(r,function(a){oe(a.getTargetSeriesModels(),function(i){n.set(i.uid,i)})}),n},overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).reset(r)}),r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).filterData(r,e)})}),t.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var a=n.getDataPercentWindow(),i=n.getDataValueWindow();r.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function oLe(t){t.registerAction("dataZoom",function(e,r){var n=eLe(r,e);oe(n,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var yF=!1;function cD(t){yF||(yF=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,iLe),oLe(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function sLe(t){t.registerComponentModel(tLe),t.registerComponentView(rLe),cD(t)}var xa=function(){function t(){}return t}(),wW={};function Ac(t,e){wW[t]=e}function SW(t){return wW[t]}var uLe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;oe(this.option.feature,function(n,a){var i=SW(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(r)),ct(n,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Nt);function lLe(t,e,r){var n=e.getBoxLayoutParams(),a=e.get("padding"),i={width:r.getWidth(),height:r.getHeight()},o=tu(n,i,a);cf(e.get("orient"),t,e.get("itemGap"),o.width,o.height),SCe(t,n,i,a)}function bW(t,e){var r=e_(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new Yt({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var cLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a,i){var o=this.group;if(o.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),u=r.get("orient")==="vertical",l=r.get("feature")||{},f=this._features||(this._features={}),c=[];oe(l,function(v,g){c.push(g)}),new Lv(this._featureNames||[],c).add(h).update(h).remove(Mt(h,null)).execute(),this._featureNames=c;function h(v,g){var y=c[v],m=c[g],d=l[y],_=new cr(d,r,r.ecModel),x;if(i&&i.newTitle!=null&&i.featureName===y&&(d.title=i.newTitle),y&&!m){if(fLe(y))x={onclick:_.option.onclick,featureName:y};else{var w=SW(y);if(!w)return;x=new w}f[y]=x}else if(x=f[m],!x)return;x.uid=_d("toolbox-feature"),x.model=_,x.ecModel=n,x.api=a;var S=x instanceof xa;if(!y&&m){S&&x.dispose&&x.dispose(n,a);return}if(!_.get("show")||S&&x.unusable){S&&x.remove&&x.remove(n,a);return}p(_,x,y),_.setIconStatus=function(b,T){var C=this.option,M=this.iconPaths;C.iconStatus=C.iconStatus||{},C.iconStatus[b]=T,M[b]&&(T==="emphasis"?Df:Of)(M[b])},x instanceof xa&&x.render&&x.render(_,n,a,i)}function p(v,g,y){var m=v.getModel("iconStyle"),d=v.getModel(["emphasis","iconStyle"]),_=g instanceof xa&&g.getIcons?g.getIcons():v.get("icon"),x=v.get("title")||{},w,S;Ie(_)?(w={},w[y]=_):w=_,Ie(x)?(S={},S[y]=x):S=x;var b=v.iconPaths={};oe(w,function(T,C){var M=W1(T,{},{x:-s/2,y:-s/2,width:s,height:s});M.setStyle(m.getItemStyle());var D=M.ensureState("emphasis");D.style=d.getItemStyle();var E=new Gr({style:{text:S[C],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null,font:rG({fontStyle:d.get("textFontStyle"),fontFamily:d.get("textFontFamily"),fontSize:d.get("textFontSize"),fontWeight:d.get("textFontWeight")},n)},ignore:!0});M.setTextContent(E),yd({el:M,componentModel:r,itemName:C,formatterParamsExtra:{title:S[C]}}),M.__title=S[C],M.on("mouseover",function(){var k=d.getItemStyle(),O=u?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";E.setStyle({fill:d.get("textFill")||k.fill||k.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),M.setTextConfig({position:d.get("textPosition")||O}),E.ignore=!r.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",C])!=="emphasis"&&a.leaveEmphasis(this),E.hide()}),(v.get(["iconStatus",C])==="emphasis"?Df:Of)(M),o.add(M),M.on("click",Ke(g.onclick,g,n,a,C)),b[C]=M})}lLe(o,r,a),o.add(bW(o.getBoundingRect(),r)),u||o.eachChild(function(v){var g=v.__title,y=v.ensureState("emphasis"),m=y.textConfig||(y.textConfig={}),d=v.getTextContent(),_=d&&d.ensureState("emphasis");if(_&&!et(_)&&g){var x=_.style||(_.style={}),w=k1(g,Gr.makeFont(x)),S=v.x+o.x,b=v.y+o.y+s,T=!1;b+w.height>a.getHeight()&&(m.position="top",T=!0);var C=T?-5-w.height:s+10;S+w.width/2>a.getWidth()?(m.position=["100%",C],x.align="right"):S-w.width/2<0&&(m.position=[0,C],x.align="left")}})},e.prototype.updateView=function(r,n,a,i){oe(this._features,function(o){o instanceof xa&&o.updateView&&o.updateView(o.model,n,a,i)})},e.prototype.remove=function(r,n){oe(this._features,function(a){a instanceof xa&&a.remove&&a.remove(r,n)}),this.group.removeAll()},e.prototype.dispose=function(r,n){oe(this._features,function(a){a instanceof xa&&a.dispose&&a.dispose(r,n)})},e.type="toolbox",e}(jn);function fLe(t){return t.indexOf("my")===0}var hLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){var a=this.model,i=a.get("name")||r.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":a.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),l=Qe.browser;if(typeof MouseEvent=="function"&&(l.newEdge||!l.ie&&!l.edge)){var f=document.createElement("a");f.download=i+"."+s,f.target="_blank",f.href=u;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||o){var h=u.split(","),p=h[0].indexOf("base64")>-1,v=o?decodeURIComponent(h[1]):h[1];p&&(v=window.atob(v));var g=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,m=new Uint8Array(y);y--;)m[y]=v.charCodeAt(y);var d=new Blob([m]);window.navigator.msSaveOrOpenBlob(d,g)}else{var _=document.createElement("iframe");document.body.appendChild(_);var x=_.contentWindow,w=x.document;w.open("image/svg+xml","replace"),w.write(v),w.close(),x.focus(),w.execCommand("SaveAs",!0,g),document.body.removeChild(_)}}else{var S=a.get("lang"),b='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',T=window.open();T.document.write(b),T.document.title=i}},e.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(xa),mF="__ec_magicType_stack__",pLe=[["line","bar"],["stack"]],vLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),a={};return oe(r.get("type"),function(i){n[i]&&(a[i]=n[i])}),a},e.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(r,n,a){var i=this.model,o=i.get(["seriesIndex",a]);if(_F[a]){var s={series:[]},u=function(c){var h=c.subType,p=c.id,v=_F[a](h,p,c,i);v&&(ot(v,c.option),s.series.push(v));var g=c.coordinateSystem;if(g&&g.type==="cartesian2d"&&(a==="line"||a==="bar")){var y=g.getAxesByScale("ordinal")[0];if(y){var m=y.dim,d=m+"Axis",_=c.getReferringComponents(d,bn).models[0],x=_.componentIndex;s[d]=s[d]||[];for(var w=0;w<=x;w++)s[d][x]=s[d][x]||{};s[d][x].boundaryGap=a==="bar"}}};oe(pLe,function(c){St(c,a)>=0&&oe(c,function(h){i.setIconStatus(h,"normal")})}),i.setIconStatus(a,"emphasis"),r.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var l,f=a;a==="stack"&&(l=ct({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",a])!=="emphasis"&&(f="tiled")),n.dispatchAction({type:"changeMagicType",currentType:f,newOption:s,newTitle:l,featureName:"magicType"})}},e}(xa),_F={line:function(t,e,r,n){if(t==="bar")return ct({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,r,n){if(t==="line")return ct({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,r,n){var a=r.get("stack")===mF;if(t==="line"||t==="bar")return n.setIconStatus("stack",a?"normal":"emphasis"),ct({id:e,stack:a?"":mF},n.get(["option","stack"])||{},!0)}};Zi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var u_=new Array(60).join("-"),Af="	";function dLe(t){var e={},r=[],n=[];return t.eachRawSeries(function(a){var i=a.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(a)}else r.push(a)}else r.push(a)}),{seriesGroupByCategoryAxis:e,other:r,meta:n}}function gLe(t){var e=[];return oe(t,function(r,n){var a=r.categoryAxis,i=r.valueAxis,o=i.dim,s=[" "].concat(Ne(r.series,function(p){return p.name})),u=[a.model.getCategories()];oe(r.series,function(p){var v=p.getRawData();u.push(p.getRawData().mapArray(v.mapDimension(o),function(g){return g}))});for(var l=[s.join(Af)],f=0;f<u[0].length;f++){for(var c=[],h=0;h<u.length;h++)c.push(u[h][f]);l.push(c.join(Af))}e.push(l.join(`
`))}),e.join(`

`+u_+`

`)}function yLe(t){return Ne(t,function(e){var r=e.getRawData(),n=[e.name],a=[];return r.each(r.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=r.getName(o),u=0;u<i-1;u++)a[u]=arguments[u];n.push((s?s+Af:"")+a.join(Af))}),n.join(`
`)}).join(`

`+u_+`

`)}function mLe(t){var e=dLe(t);return{value:Mr([gLe(e.seriesGroupByCategoryAxis),yLe(e.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+u_+`

`),meta:e.meta}}function ym(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _Le(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(Af)>=0)return!0}var $T=new RegExp("["+Af+"]+","g");function xLe(t){for(var e=t.split(/\n+/g),r=ym(e.shift()).split($T),n=[],a=Ne(r,function(u){return{name:u,data:[]}}),i=0;i<e.length;i++){var o=ym(e[i]).split($T);n.push(o.shift());for(var s=0;s<o.length;s++)a[s]&&(a[s].data[i]=o[s])}return{series:a,categories:n}}function wLe(t){for(var e=t.split(/\n+/g),r=ym(e.shift()),n=[],a=0;a<e.length;a++){var i=ym(e[a]);if(i){var o=i.split($T),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),n[a]={name:s,value:[]},u=n[a].value):u=n[a]=[];for(var f=0;f<o.length;f++)u.push(+o[f]);u.length===1&&(l?n[a].value=u[0]:n[a]=u[0])}}return{name:r,data:n}}function SLe(t,e){var r=t.split(new RegExp(`
*`+u_+`
*`,"g")),n={series:[]};return oe(r,function(a,i){if(_Le(a)){var o=xLe(a),s=e[i],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=wLe(a);n.series.push(o)}}),n}var bLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var a=n.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=i.get("lang")||[];s.innerHTML=u[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var l=document.createElement("div"),f=document.createElement("textarea");l.style.cssText="overflow:auto";var c=i.get("optionToContent"),h=i.get("contentToOption"),p=mLe(r);if(et(c)){var v=c(n.getOption());Ie(v)?l.innerHTML=v:Cf(v)&&l.appendChild(v)}else{f.readOnly=i.get("readOnly");var g=f.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),f.value=p.value,l.appendChild(f)}var y=p.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var d="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),x=document.createElement("div");d+=";background-color:"+i.get("buttonColor"),d+=";color:"+i.get("buttonTextColor");var w=this;function S(){a.removeChild(o),w._dom=null}qb(_,"click",S),qb(x,"click",function(){if(h==null&&c!=null||h!=null&&c==null){S();return}var b;try{et(h)?b=h(l,n.getOption()):b=SLe(f.value,y)}catch(T){throw S(),new Error("Data view format error "+T)}b&&n.dispatchAction({type:"changeDataView",newOption:b}),S()}),_.innerHTML=u[1],x.innerHTML=u[2],x.style.cssText=_.style.cssText=d,!i.get("readOnly")&&m.appendChild(x),m.appendChild(_),o.appendChild(s),o.appendChild(l),o.appendChild(m),l.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},e.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(r,n){this.remove(r,n)},e.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(xa);function TLe(t,e){return Ne(t,function(r,n){var a=e&&e[n];if(Ue(a)&&!Le(a)){var i=Ue(r)&&!Le(r);i||(r={value:r});var o=a.name!=null&&r.name==null;return r=ot(r,a),o&&delete r.name,r}else return r})}Zi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];oe(t.newOption.series,function(n){var a=e.getSeriesByName(n.name)[0];if(!a)r.push(Me({type:"scatter"},n));else{var i=a.get("data");r.push({name:n.name,data:TLe(n.data,i)})}}),e.mergeOption(ot({series:r},t.newOption))});var TW=oe,CW=_r();function CLe(t,e){var r=fD(t);TW(e,function(n,a){for(var i=r.length-1;i>=0;i--){var o=r[i];if(o[a])break}if(i<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var u=s.getPercentRange();r[0][a]={dataZoomId:a,start:u[0],end:u[1]}}}}),r.push(e)}function ELe(t){var e=fD(t),r=e[e.length-1];e.length>1&&e.pop();var n={};return TW(r,function(a,i){for(var o=e.length-1;o>=0;o--)if(a=e[o][i],a){n[i]=a;break}}),n}function DLe(t){CW(t).snapshots=null}function OLe(t){return fD(t).length}function fD(t){var e=CW(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var MLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){DLe(r),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(xa);Zi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var LLe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],hD=function(){function t(e,r,n){var a=this;this._targetInfoList=[];var i=xF(r,e);oe(kLe,function(o,s){(!n||!n.include||St(n.include,s)>=0)&&o(i,a._targetInfoList)})}return t.prototype.setOutputRanges=function(e,r){return this.matchOutputRanges(e,r,function(n,a,i){if((n.coordRanges||(n.coordRanges=[])).push(a),!n.coordRange){n.coordRange=a;var o=gS[n.brushType](0,i,a);n.__rangeOffset={offset:TF[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,r,n){oe(e,function(a){var i=this.findTargetInfo(a,r);i&&i!==!0&&oe(i.coordSyses,function(o){var s=gS[a.brushType](1,o,a.range,!0);n(a,s.values,o,r)})},this)},t.prototype.setInputRanges=function(e,r){oe(e,function(n){var a=this.findTargetInfo(n,r);if(n.range=n.range||[],a&&a!==!0){n.panelId=a.panelId;var i=gS[n.brushType](0,a.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?TF[n.brushType](i.values,o.offset,RLe(i.xyMinMax,o.xyMinMax)):i.values}},this)},t.prototype.makePanelOpts=function(e,r){return Ne(this._targetInfoList,function(n){var a=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:YMe(a),isTargetByCursor:ZMe(a,e,n.coordSysModel),getLinearBrushOtherExtent:qMe(a)}})},t.prototype.controlSeries=function(e,r,n){var a=this.findTargetInfo(e,n);return a===!0||a&&St(a.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,r){for(var n=this._targetInfoList,a=xF(r,e),i=0;i<n.length;i++){var o=n[i],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<wF.length;u++)if(wF[u](a,o))return o}return!0},t}();function KT(t){return t[0]>t[1]&&t.reverse(),t}function xF(t,e){return Ep(t,e,{includeMainTypes:LLe})}var kLe={grid:function(t,e){var r=t.xAxisModels,n=t.yAxisModels,a=t.gridModels,i=Xe(),o={},s={};!r&&!n&&!a||(oe(r,function(u){var l=u.axis.grid.model;i.set(l.id,l),o[l.id]=!0}),oe(n,function(u){var l=u.axis.grid.model;i.set(l.id,l),s[l.id]=!0}),oe(a,function(u){i.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),i.each(function(u){var l=u.coordinateSystem,f=[];oe(l.getCartesians(),function(c,h){(St(r,c.getAxis("x").model)>=0||St(n,c.getAxis("y").model)>=0)&&f.push(c)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:f[0],coordSyses:f,getPanelRect:SF.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(t,e){oe(t.geoModels,function(r){var n=r.coordinateSystem;e.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:SF.geo})})}},wF=[function(t,e){var r=t.xAxisModel,n=t.yAxisModel,a=t.gridModel;return!a&&r&&(a=r.axis.grid.model),!a&&n&&(a=n.axis.grid.model),a&&a===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}],SF={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(G1(t)),e}},gS={lineX:Mt(bF,0),lineY:Mt(bF,1),rect:function(t,e,r,n){var a=t?e.pointToData([r[0][0],r[1][0]],n):e.dataToPoint([r[0][0],r[1][0]],n),i=t?e.pointToData([r[0][1],r[1][1]],n):e.dataToPoint([r[0][1],r[1][1]],n),o=[KT([a[0],i[0]]),KT([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,n){var a=[[1/0,-1/0],[1/0,-1/0]],i=Ne(r,function(o){var s=t?e.pointToData(o,n):e.dataToPoint(o,n);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:i,xyMinMax:a}}};function bF(t,e,r,n){var a=r.getAxis(["x","y"][t]),i=KT(Ne([0,1],function(s){return e?a.coordToData(a.toLocalCoord(n[s]),!0):a.toGlobalCoord(a.dataToCoord(n[s]))})),o=[];return o[t]=i,o[1-t]=[NaN,NaN],{values:i,xyMinMax:o}}var TF={lineX:Mt(CF,0),lineY:Mt(CF,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return Ne(t,function(n,a){return[n[0]-r[0]*e[a][0],n[1]-r[1]*e[a][1]]})}};function CF(t,e,r,n){return[e[0]-n[t]*r[0],e[1]-n[t]*r[1]]}function RLe(t,e){var r=EF(t),n=EF(e),a=[r[0]/n[0],r[1]/n[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function EF(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var XT=oe,ALe=zSe("toolbox-dataZoom_"),NLe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a,i){this._brushController||(this._brushController=new uW(a.getZr()),this._brushController.on("brush",Ke(this._onBrush,this)).mount()),ILe(r,n,this,i,a),BLe(r,n)},e.prototype.onclick=function(r,n,a){FLe[a].call(this)},e.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var a={},i=this.ecModel;this._brushController.updateCovers([]);var o=new hD(pD(this.model),i,{include:["grid"]});o.matchOutputRanges(n,i,function(l,f,c){if(c.type==="cartesian2d"){var h=l.brushType;h==="rect"?(s("x",c,f[0]),s("y",c,f[1])):s({lineX:"x",lineY:"y"}[h],c,f)}}),CLe(i,a),this._dispatchZoomAction(a);function s(l,f,c){var h=f.getAxis(l),p=h.model,v=u(l,p,i),g=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(c=bd(0,c.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(a[v.id]={dataZoomId:v.id,startValue:c[0],endValue:c[1]})}function u(l,f,c){var h;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(l,f.componentIndex);v&&(h=p)}),h}},e.prototype._dispatchZoomAction=function(r){var n=[];XT(r,function(a,i){n.push(Ze(a))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(xa),FLe={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(ELe(this.ecModel))}};function pD(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function BLe(t,e){t.setIconStatus("back",OLe(e)>1?"emphasis":"normal")}function ILe(t,e,r,n,a){var i=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(i=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=i,t.setIconStatus("zoom",i?"emphasis":"normal");var o=new hD(pD(t),e,{include:["grid"]}),s=o.makePanelOpts(a,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}LCe("dataZoom",function(t){var e=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!e||e.get(r)==null)return;var n=e.getModel(r),a=[],i=pD(n),o=Ep(t,i);XT(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),XT(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,l,f){var c=u.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:ALe+l+c};h[f]=c,a.push(h)}return a});function VLe(t){t.registerComponentModel(uLe),t.registerComponentView(cLe),Ac("saveAsImage",hLe),Ac("magicType",vLe),Ac("dataView",bLe),Ac("dataZoom",NLe),Ac("restore",MLe),fi(sLe)}var PLe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Nt);function EW(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function DW(t){if(Qe.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var OW=DW(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ULe=DW(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function MW(t,e){if(!t)return e;e=gG(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function zLe(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var GLe=MW(ULe,"transition"),vD=MW(OW,"transform"),WLe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Qe.transform3dSupported?"will-change:transform;":"");function HLe(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function jLe(t,e,r){if(!Ie(r)||r==="inside")return"";var n=t.get("backgroundColor"),a=t.get("borderWidth");e=Wl(e);var i=HLe(r),o=Math.max(Math.round(a)*1.5,6),s="",u=vD+":",l;St(["left","right"],i)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(l=i==="left"?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(l=i==="top"?225:45)+"deg)");var f=l*Math.PI/180,c=o+a,h=c*Math.abs(Math.cos(f))+c*Math.abs(Math.sin(f)),p=Math.round(((h-Math.SQRT2*a)/2+Math.SQRT2*a-(h-c)/2)*100)/100;s+=";"+i+":-"+p+"px";var v=e+" solid "+a+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+u+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function $Le(t,e){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+r,a="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+r,a+=Qe.transformSupported?","+vD+n:",left"+n+",top"+n),GLe+":"+a}function DF(t,e,r){var n=t.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!Qe.transformSupported)return r?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=Qe.transform3dSupported,o="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return r?"top:0;left:0;"+vD+":"+o+";":[["top",0],["left",0],[OW,o]]}function KLe(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont());var a=pt(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+a+"px");var i=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,u=t.get("textShadowOffsetY")||0;return i&&o&&e.push("text-shadow:"+s+"px "+u+"px "+o+"px "+i),oe(["decoration","align"],function(l){var f=t.get(l);f&&e.push("text-"+l+":"+f)}),e.join(";")}function XLe(t,e,r){var n=[],a=t.get("transitionDuration"),i=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),f=t.getModel("textStyle"),c=WG(t,"html"),h=u+"px "+l+"px "+o+"px "+s;return n.push("box-shadow:"+h),e&&a&&n.push($Le(a,r)),i&&n.push("background-color:"+i),oe(["width","color","radius"],function(p){var v="border-"+p,g=gG(v),y=t.get(g);y!=null&&n.push(v+":"+y+(p==="color"?"":"px"))}),n.push(KLe(f)),c!=null&&n.push("padding:"+e_(c).join("px ")+"px"),n.join(";")+";"}function OF(t,e,r,n,a){var i=e&&e.painter;if(r){var o=i&&i.getViewportRoot();o&&mwe(t,o,r,n,a)}else{t[0]=n,t[1]=a;var s=i&&i.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var YLe=function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Qe.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=e.getZr(),i=r.appendTo,o=i&&(Ie(i)?document.querySelector(i):Cf(i)?i:et(i)&&i(e.getDom()));OF(this._styleCoord,a,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(u){if(u=u||window.event,!s._enterable){var l=a.handler,f=a.painter.getViewportRoot();da(f,u,!0),l.dispatch("mousemove",u)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),n=zLe(r,"position"),a=r.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative")}var i=e.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=WLe+XLe(e,!this._firstShow,this._longHide)+DF(i[0],i[1],!0)+("border-color:"+Wl(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,a,i){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(Ie(i)&&n.get("trigger")==="item"&&!EW(n)&&(s=jLe(n,a,i)),Ie(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Le(e)||(e=[e]);for(var u=0;u<e.length;u++)Cf(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var n=this._styleCoord;if(OF(n,this._zr,this._container,e,r),n[0]!=null&&n[1]!=null){var a=this.el.style,i=DF(n[0],n[1]);oe(i,function(o){a[o[0]]=o[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Qe.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),qLe=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),LF(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,a,i){var o=this;Ue(e)&&Ln(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Gr({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:WG(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),oe(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(l){o.el.style[l]=n.get(l)}),oe(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(l){o.el.style[l]=s.get(l)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=MF(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var a=this._styleCoord;LF(a,this._zr,e,r),e=a[0],r=a[1];var i=n.style,o=xs(i.borderWidth||0),s=MF(i);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function xs(t){return Math.max(0,t)}function MF(t){var e=xs(t.shadowBlur||0),r=xs(t.shadowOffsetX||0),n=xs(t.shadowOffsetY||0);return{left:xs(e-r),right:xs(e+r),top:xs(e-n),bottom:xs(e+n)}}function LF(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var ZLe=new Yt({shape:{x:-1,y:-1,width:2,height:2}}),JLe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(Qe.node||!n.getDom())){var a=r.getComponent("tooltip"),i=this._renderMode=KSe(a.get("renderMode"));this._tooltipContent=i==="richText"?new qLe(n):new YLe(n,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(r,n,a){if(!(Qe.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(r),i.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Sd(this,"_updatePosition",50,"fixRate"):cm(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");aW("itemTooltip",this._api,Ke(function(a,i,o){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,a=this._api,i=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(r,n,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,a,i){if(!(i.from===this.uid||Qe.node||!a.getDom())){var o=kF(i,a);this._ticket="";var s=i.dataByCoordSys,u=rke(i,n,a);if(u){var l=u.el.getBoundingRect().clone();l.applyTransform(u.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:u.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var f=ZLe;f.x=i.x,f.y=i.y,f.update(),Ft(f).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:f},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,a,i))return;var c=iW(i,n),h=c.point[0],p=c.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:c.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(kF(i,a))},e.prototype._manuallyAxisShowTip=function(r,n,a,i){var o=i.seriesIndex,s=i.dataIndex,u=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||u==null)){var l=n.getSeriesByIndex(o);if(l){var f=l.getData(),c=Nh([f.getItemModel(s),l,(l.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},e.prototype._tryShow=function(r,n){var a=r.target,i=this._tooltipModel;if(i){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(a){var s=Ft(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var u,l;op(a,function(f){if(Ft(f).dataIndex!=null)return u=f,!0;if(Ft(f).tooltipConfig!=null)return l=f,!0},!0),u?this._showSeriesItemTooltip(r,u,n):l?this._showComponentItemTooltip(r,l,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var a=r.get("showDelay");n=Ke(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},e.prototype._showAxisTooltip=function(r,n){var a=this._ecModel,i=this._tooltipModel,o=[n.offsetX,n.offsetY],s=Nh([n.tooltipOption],i),u=this._renderMode,l=[],f=Dv("section",{blocks:[],noHeader:!0}),c=[],h=new Yw;oe(r,function(d){oe(d.dataByAxis,function(_){var x=a.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!x||w==null)){var S=rW(w,x.axis,a,_.seriesDataIndices,_.valueLabelOpt),b=Dv("section",{header:S,noHeader:!Pi(S),sortBlocks:!0,blocks:[]});f.blocks.push(b),oe(_.seriesDataIndices,function(T){var C=a.getSeriesByIndex(T.seriesIndex),M=T.dataIndexInside,D=C.getDataParams(M);if(!(D.dataIndex<0)){D.axisDim=_.axisDim,D.axisIndex=_.axisIndex,D.axisType=_.axisType,D.axisId=_.axisId,D.axisValue=JE(x.axis,{value:w}),D.axisValueLabel=S,D.marker=h.makeTooltipMarker("item",Wl(D.color),u);var E=G3(C.formatTooltip(M,!0,null)),k=E.frag;if(k){var O=Nh([C],i).get("valueFormatter");b.blocks.push(O?Me({valueFormatter:O},k):k)}E.text&&c.push(E.text),l.push(D)}})}})}),f.blocks.reverse(),c.reverse();var p=n.position,v=s.get("order"),g=K3(f,h,u,v,a.get("useUTC"),s.get("textStyle"));g&&c.unshift(g);var y=u==="richText"?`

`:"<br/>",m=c.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,l)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(s,m,l,Math.random()+"",o[0],o[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(r,n,a){var i=this._ecModel,o=Ft(n),s=o.seriesIndex,u=i.getSeriesByIndex(s),l=o.dataModel||u,f=o.dataIndex,c=o.dataType,h=l.getData(c),p=this._renderMode,v=r.positionDefault,g=Nh([h.getItemModel(f),l,u&&(u.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=g.get("trigger");if(!(y!=null&&y!=="item")){var m=l.getDataParams(f,c),d=new Yw;m.marker=d.makeTooltipMarker("item",Wl(m.color),p);var _=G3(l.formatTooltip(f,!1,c)),x=g.get("order"),w=g.get("valueFormatter"),S=_.frag,b=S?K3(w?Me({valueFormatter:w},S):S,d,p,x,i.get("useUTC"),g.get("textStyle")):_.text,T="item_"+l.name+"_"+f;this._showOrMove(g,function(){this._showTooltipContent(g,b,m,T,r.offsetX,r.offsetY,r.position,r.target,d)}),a({type:"showTip",dataIndexInside:f,dataIndex:h.getRawIndex(f),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,a){var i=this._renderMode==="html",o=Ft(n),s=o.tooltipConfig,u=s.option||{},l=u.encodeHTMLContent;if(Ie(u)){var f=u;u={content:f,formatter:f},l=!0}l&&i&&u.content&&(u=Ze(u),u.content=On(u.content));var c=[u],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&c.push(h),c.push({formatter:u.content});var p=r.positionDefault,v=Nh(c,this._tooltipModel,p?{position:p}:null),g=v.get("content"),y=Math.random()+"",m=new Yw;this._showOrMove(v,function(){var d=Ze(v.get("formatterParams")||{});this._showTooltipContent(v,g,d,y,r.offsetX,r.offsetY,r.position,n,m)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,a,i,o,s,u,l,f){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var c=this._tooltipContent;c.setEnterable(r.get("enterable"));var h=r.get("formatter");u=u||r.get("position");var p=n,v=this._getNearestPoint([o,s],a,r.get("trigger"),r.get("borderColor")),g=v.color;if(h)if(Ie(h)){var y=r.ecModel.get("useUTC"),m=Le(a)?a[0]:a,d=m&&m.axisType&&m.axisType.indexOf("time")>=0;p=h,d&&(p=Y1(m.axisValue,p,y)),p=yG(p,a,!0)}else if(et(h)){var _=Ke(function(x,w){x===this._ticket&&(c.setContent(w,f,r,g,u),this._updatePosition(r,u,o,s,c,a,l))},this);this._ticket=i,p=h(a,i,_)}else p=h;c.setContent(p,f,r,g,u),c.show(r,g),this._updatePosition(r,u,o,s,c,a,l)}},e.prototype._getNearestPoint=function(r,n,a,i){if(a==="axis"||Le(n))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!Le(n))return{color:i||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,a,i,o,s,u){var l=this._api.getWidth(),f=this._api.getHeight();n=n||r.get("position");var c=o.getSize(),h=r.get("align"),p=r.get("verticalAlign"),v=u&&u.getBoundingRect().clone();if(u&&v.applyTransform(u.transform),et(n)&&(n=n([a,i],s,o.el,v,{viewSize:[l,f],contentSize:c.slice()})),Le(n))a=Lr(n[0],l),i=Lr(n[1],f);else if(Ue(n)){var g=n;g.width=c[0],g.height=c[1];var y=tu(g,{width:l,height:f});a=y.x,i=y.y,h=null,p=null}else if(Ie(n)&&u){var m=tke(n,v,c,r.get("borderWidth"));a=m[0],i=m[1]}else{var m=QLe(a,i,o,l,f,h?null:20,p?null:20);a=m[0],i=m[1]}if(h&&(a-=RF(h)?c[0]/2:h==="right"?c[0]:0),p&&(i-=RF(p)?c[1]/2:p==="bottom"?c[1]:0),EW(r)){var m=eke(a,i,o,l,f);a=m[0],i=m[1]}o.moveTo(a,i)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===r.length;return o&&oe(a,function(s,u){var l=s.dataByAxis||[],f=r[u]||{},c=f.dataByAxis||[];o=o&&l.length===c.length,o&&oe(l,function(h,p){var v=c[p]||{},g=h.seriesDataIndices||[],y=v.seriesDataIndices||[];o=o&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&g.length===y.length,o&&oe(g,function(m,d){var _=y[d];o=o&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),i&&oe(h.seriesDataIndices,function(m){var d=m.seriesIndex,_=n[d],x=i[d];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){Qe.node||!n.getDom()||(cm(this,"_updatePosition"),this._tooltipContent.dispose(),UT("itemTooltip",n))},e.type="tooltip",e}(jn);function Nh(t,e,r){var n=e.ecModel,a;r?(a=new cr(r,n,n),a=new cr(e.option,a,n)):a=e;for(var i=t.length-1;i>=0;i--){var o=t[i];o&&(o instanceof cr&&(o=o.get("tooltip",!0)),Ie(o)&&(o={formatter:o}),o&&(a=new cr(o,a,n)))}return a}function kF(t,e){return t.dispatchAction||Ke(e.dispatchAction,e)}function QLe(t,e,r,n,a,i,o){var s=r.getSize(),u=s[0],l=s[1];return i!=null&&(t+u+i+2>n?t-=u+i:t+=i),o!=null&&(e+l+o>a?e-=l+o:e+=o),[t,e]}function eke(t,e,r,n,a){var i=r.getSize(),o=i[0],s=i[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,a)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function tke(t,e,r,n){var a=r[0],i=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,u=0,l=e.width,f=e.height;switch(t){case"inside":s=e.x+l/2-a/2,u=e.y+f/2-i/2;break;case"top":s=e.x+l/2-a/2,u=e.y-i-o;break;case"bottom":s=e.x+l/2-a/2,u=e.y+f+o;break;case"left":s=e.x-a-o,u=e.y+f/2-i/2;break;case"right":s=e.x+l+o,u=e.y+f/2-i/2}return[s,u]}function RF(t){return t==="center"||t==="middle"}function rke(t,e,r){var n=gE(t).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=dd(e,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=r.getViewOfComponentModel(o),u;if(s.group.traverse(function(l){var f=Ft(l).tooltipConfig;if(f&&f.name===t.name)return u=l,!0}),u)return{componentMainType:a,componentIndex:o.componentIndex,el:u}}}}function nke(t){fi(oW),t.registerComponentModel(PLe),t.registerComponentView(JLe),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Kr),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Kr)}var ake=["rect","polygon","keep","clear"];function ike(t,e){var r=Tr(t?t.brush:[]);if(r.length){var n=[];oe(r,function(u){var l=u.hasOwnProperty("toolbox")?u.toolbox:[];l instanceof Array&&(n=n.concat(l))});var a=t&&t.toolbox;Le(a)&&(a=a[0]),a||(a={feature:{}},t.toolbox=[a]);var i=a.feature||(a.feature={}),o=i.brush||(i.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),oke(s),e&&!s.length&&s.push.apply(s,ake)}}function oke(t){var e={};oe(t,function(r){e[r]=1}),t.length=0,oe(e,function(r,n){t.push(n)})}var Fv=oe,ske=Ue,mm=-1,ff=function(){function t(e){var r=e.mappingMethod,n=e.type,a=this.option=Ze(e);this.type=n,this.mappingMethod=r,this._normalizeData=cke[r];var i=t.visualHandlers[n];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[r],r==="piecewise"?(yS(a),uke(a)):r==="category"?a.categories?lke(a):yS(a,!0):(ui(r!=="linear"||a.dataExtent),yS(a))}return t.prototype.mapValueToVisual=function(e){var r=this._normalizeData(e);return this._normalizedToVisual(r,e)},t.prototype.getNormalizer=function(){return Ke(this._normalizeData,this)},t.listVisualTypes=function(){return tr(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,r,n){Ue(e)?oe(e,r,n):r.call(n,e)},t.mapVisual=function(e,r,n){var a,i=Le(e)?[]:Ue(e)?{}:(a=!0,null);return t.eachVisual(e,function(o,s){var u=r.call(n,o,s);a?i=u:i[s]=u}),i},t.retrieveVisuals=function(e){var r={},n;return e&&Fv(t.visualHandlers,function(a,i){e.hasOwnProperty(i)&&(r[i]=e[i],n=!0)}),n?r:null},t.prepareVisualTypes=function(e){if(Le(e))e=e.slice();else if(ske(e)){var r=[];Fv(e,function(n,a){r.push(a)}),e=r}else return[];return e.sort(function(n,a){return a==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,r){return r==="color"?!!(e&&e.indexOf(r)===0):e===r},t.findPieceIndex=function(e,r,n){for(var a,i=1/0,o=0,s=r.length;o<s;o++){var u=r[o].value;if(u!=null){if(u===e||Ie(u)&&u===e+"")return o;n&&h(u,o)}}for(var o=0,s=r.length;o<s;o++){var l=r[o],f=l.interval,c=l.close;if(f){if(f[0]===-1/0){if(i0(c[1],e,f[1]))return o}else if(f[1]===1/0){if(i0(c[0],f[0],e))return o}else if(i0(c[0],f[0],e)&&i0(c[1],e,f[1]))return o;n&&h(f[0],o),n&&h(f[1],o)}}if(n)return e===1/0?r.length-1:e===-1/0?0:a;function h(p,v){var g=Math.abs(p-e);g<i&&(i=g,a=v)}},t.visualHandlers={color:{applyVisual:Fh("color"),getColorMapper:function(){var e=this.option;return Ke(e.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),sp.call(this,r)}:function(r,n,a){var i=!!a;return!n&&(r=this._normalizeData(r)),a=fw(r,e.parsedVisual,a),i?a:Po(a,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Po(fw(e,this.option.parsedVisual),"rgba")},category:sp,piecewise:function(e,r){var n=qT.call(this,r);return n==null&&(n=Po(fw(e,this.option.parsedVisual),"rgba")),n},fixed:Xu}},colorHue:a0(function(e,r){return hw(e,r)}),colorSaturation:a0(function(e,r){return hw(e,null,r)}),colorLightness:a0(function(e,r){return hw(e,null,null,r)}),colorAlpha:a0(function(e,r){return Zwe(e,r)}),decal:{applyVisual:Fh("decal"),_normalizedToVisual:{linear:null,category:sp,piecewise:null,fixed:null}},opacity:{applyVisual:Fh("opacity"),_normalizedToVisual:YT([0,1])},liftZ:{applyVisual:Fh("liftZ"),_normalizedToVisual:{linear:Xu,category:Xu,piecewise:Xu,fixed:Xu}},symbol:{applyVisual:function(e,r,n){var a=this.mapValueToVisual(e);n("symbol",a)},_normalizedToVisual:{linear:AF,category:sp,piecewise:function(e,r){var n=qT.call(this,r);return n==null&&(n=AF.call(this,e)),n},fixed:Xu}},symbolSize:{applyVisual:Fh("symbolSize"),_normalizedToVisual:YT([0,1])}},t}();function uke(t){var e=t.pieceList;t.hasSpecialVisual=!1,oe(e,function(r,n){r.originIndex=n,r.visual!=null&&(t.hasSpecialVisual=!0)})}function lke(t){var e=t.categories,r=t.categoryMap={},n=t.visual;if(Fv(e,function(o,s){r[o]=s}),!Le(n)){var a=[];Ue(n)?Fv(n,function(o,s){var u=r[s];a[u??mm]=o}):a[mm]=n,n=LW(t,a)}for(var i=e.length-1;i>=0;i--)n[i]==null&&(delete r[e[i]],e.pop())}function yS(t,e){var r=t.visual,n=[];Ue(r)?Fv(r,function(i){n.push(i)}):r!=null&&n.push(r);var a={color:1,symbol:1};!e&&n.length===1&&!a.hasOwnProperty(t.type)&&(n[1]=n[0]),LW(t,n)}function a0(t){return{applyVisual:function(e,r,n){var a=this.mapValueToVisual(e);n("color",t(r("color"),a))},_normalizedToVisual:YT([0,1])}}function AF(t){var e=this.option.visual;return e[Math.round(Sr(t,[0,1],[0,e.length-1],!0))]||{}}function Fh(t){return function(e,r,n){n(t,this.mapValueToVisual(e))}}function sp(t){var e=this.option.visual;return e[this.option.loop&&t!==mm?t%e.length:t]}function Xu(){return this.option.visual[0]}function YT(t){return{linear:function(e){return Sr(e,t,this.option.visual,!0)},category:sp,piecewise:function(e,r){var n=qT.call(this,r);return n==null&&(n=Sr(e,t,this.option.visual,!0)),n},fixed:Xu}}function qT(t){var e=this.option,r=e.pieceList;if(e.hasSpecialVisual){var n=ff.findPieceIndex(t,r),a=r[n];if(a&&a.visual)return a.visual[this.type]}}function LW(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=Ne(e,function(r){var n=Ma(r);return n||[0,0,0,1]})),e}var cke={linear:function(t){return Sr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,r=ff.findPieceIndex(t,e,!0);if(r!=null)return Sr(r,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??mm},fixed:Kr};function i0(t,e,r){return t?e<=r:e<r}var NF=oe;function FF(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!0}}function fke(t,e,r){var n={};return NF(e,function(i){var o=n[i]=a();NF(t[i],function(s,u){if(ff.isValidType(u)){var l={type:u,visual:s};r&&r(l,i),o[u]=new ff(l),u==="opacity"&&(l=Ze(l),l.type="colorAlpha",o.__hidden.__alphaForOpacity=new ff(l))}})}),n;function a(){var i=function(){};i.prototype.__hidden=i.prototype;var o=new i;return o}}function hke(t,e,r){var n;oe(r,function(a){e.hasOwnProperty(a)&&FF(e[a])&&(n=!0)}),n&&oe(r,function(a){e.hasOwnProperty(a)&&FF(e[a])?t[a]=Ze(e[a]):delete t[a]})}function pke(t,e,r,n,a,i){var o={};oe(t,function(c){var h=ff.prepareVisualTypes(e[c]);o[c]=h});var s;function u(c){return JG(r,s,c)}function l(c,h){lEe(r,s,c,h)}r.each(f);function f(c,h){s=c;var p=r.getRawDataItem(s);if(!(p&&p.visualMap===!1))for(var v=n.call(a,c),g=e[v],y=o[v],m=0,d=y.length;m<d;m++){var _=y[m];g[_]&&g[_].applyVisual(c,u,l)}}}function vke(t){var e=t.brushType,r={point:function(n){return BF[e].point(n,r,t)},rect:function(n){return BF[e].rect(n,r,t)}};return r}var BF={lineX:IF(0),lineY:IF(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&Ah(r.range,t[0],t[1])},rect:function(t,e,r){var n=r.range;if(!t||n.length<=1)return!1;var a=t.x,i=t.y,o=t.width,s=t.height,u=n[0];if(Ah(n,a,i)||Ah(n,a+o,i)||Ah(n,a,i+s)||Ah(n,a+o,i+s)||Dt.create(t).contain(u[0],u[1])||np(a,i,a+o,i,n)||np(a,i,a,i+s,n)||np(a+o,i,a+o,i+s,n)||np(a,i+s,a+o,i+s,n))return!0}}};function IF(t){var e=["x","y"],r=["width","height"];return{point:function(n,a,i){if(n){var o=i.range,s=n[t];return Bh(s,o)}},rect:function(n,a,i){if(n){var o=i.range,s=[n[e[t]],n[e[t]]+n[r[t]]];return s[1]<s[0]&&s.reverse(),Bh(s[0],o)||Bh(s[1],o)||Bh(o[0],s)||Bh(o[1],s)}}}}function Bh(t,e){return e[0]<=t&&t<=e[1]}var VF=["inBrush","outOfBrush"],mS="__ecBrushSelect",ZT="__ecInBrushSelectEvent";function kW(t){t.eachComponent({mainType:"brush"},function(e){var r=e.brushTargetManager=new hD(e.option,t);r.setInputRanges(e.areas,t)})}function dke(t,e,r){var n=[],a,i;t.eachComponent({mainType:"brush"},function(o){r&&r.type==="takeGlobalCursor"&&o.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),kW(t),t.eachComponent({mainType:"brush"},function(o,s){var u={brushId:o.id,brushIndex:s,brushName:o.name,areas:Ze(o.areas),selected:[]};n.push(u);var l=o.option,f=l.brushLink,c=[],h=[],p=[],v=!1;s||(a=l.throttleType,i=l.throttleDelay);var g=Ne(o.areas,function(w){var S=_ke[w.brushType],b=ot({boundingRect:S?S(w):void 0},w);return b.selectors=vke(b),b}),y=fke(o.option,VF,function(w){w.mappingMethod="fixed"});Le(f)&&oe(f,function(w){c[w]=1});function m(w){return f==="all"||!!c[w]}function d(w){return!!w.length}t.eachSeries(function(w,S){var b=p[S]=[];w.subType==="parallel"?_(w,S):x(w,S,b)});function _(w,S){var b=w.coordinateSystem;v=v||b.hasAxisBrushed(),m(S)&&b.eachActiveState(w.getData(),function(T,C){T==="active"&&(h[C]=1)})}function x(w,S,b){if(!(!w.brushSelector||mke(o,S))&&(oe(g,function(C){o.brushTargetManager.controlSeries(C,w,t)&&b.push(C),v=v||d(b)}),m(S)&&d(b))){var T=w.getData();T.each(function(C){PF(w,b,T,C)&&(h[C]=1)})}}t.eachSeries(function(w,S){var b={seriesId:w.id,seriesIndex:S,seriesName:w.name,dataIndex:[]};u.selected.push(b);var T=p[S],C=w.getData(),M=m(S)?function(D){return h[D]?(b.dataIndex.push(C.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return PF(w,T,C,D)?(b.dataIndex.push(C.getRawIndex(D)),"inBrush"):"outOfBrush"};(m(S)?v:d(T))&&pke(VF,y,C,M)})}),gke(e,a,i,n,r)}function gke(t,e,r,n,a){if(a){var i=t.getZr();if(!i[ZT]){i[mS]||(i[mS]=yke);var o=Sd(i,mS,r,e);o(t,n)}}}function yke(t,e){if(!t.isDisposed()){var r=t.getZr();r[ZT]=!0,t.dispatchAction({type:"brushSelect",batch:e}),r[ZT]=!1}}function PF(t,e,r,n){for(var a=0,i=e.length;a<i;a++){var o=e[a];if(t.brushSelector(n,r,o.selectors,o))return!0}}function mke(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(Le(r)?St(r,e)<0:e!==r)}var _ke={rect:function(t){return UF(t.range)},polygon:function(t){for(var e,r=t.range,n=0,a=r.length;n<a;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var i=r[n];i[0]<e[0][0]&&(e[0][0]=i[0]),i[0]>e[0][1]&&(e[0][1]=i[0]),i[1]<e[1][0]&&(e[1][0]=i[1]),i[1]>e[1][1]&&(e[1][1]=i[1])}return e&&UF(e)}};function UF(t){return new Dt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var xke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new uW(n.getZr())).on("brush",Ke(this._onBrush,this)).mount()},e.prototype.render=function(r,n,a,i){this.model=r,this._updateController(r,n,a,i)},e.prototype.updateTransform=function(r,n,a,i){kW(n),this._updateController(r,n,a,i)},e.prototype.updateVisual=function(r,n,a,i){this.updateTransform(r,n,a,i)},e.prototype.updateView=function(r,n,a,i){this._updateController(r,n,a,i)},e.prototype._updateController=function(r,n,a,i){(!i||i.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(a)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(r){var n=this.model.id,a=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Ze(a),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Ze(a),$from:n})},e.type="brush",e}(jn),wke="#ddd",Ske=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.areas=[],r.brushOption={},r}return e.prototype.optionUpdated=function(r,n){var a=this.option;!n&&hke(a,r,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:wke},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(r){r&&(this.areas=Ne(r,function(n){return zF(this.option,n)},this))},e.prototype.setBrushOption=function(r){this.brushOption=zF(this.option,r),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Nt);function zF(t,e){return ct({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new cr(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var bke=["rect","polygon","lineX","lineY","keep","clear"],Tke=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a){var i,o,s;n.eachComponent({mainType:"brush"},function(u){i=u.brushType,o=u.brushOption.brushMode||"single",s=s||!!u.areas.length}),this._brushType=i,this._brushMode=o,oe(r.get("type",!0),function(u){r.setIconStatus(u,(u==="keep"?o==="multiple":u==="clear"?s:u===i)?"emphasis":"normal")})},e.prototype.updateView=function(r,n,a){this.render(r,n,a)},e.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),a={};return oe(r.get("type",!0),function(i){n[i]&&(a[i]=n[i])}),a},e.prototype.onclick=function(r,n,a){var i=this._brushType,o=this._brushMode;a==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?i:i===a?!1:a,brushMode:a==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(r){var n={show:!0,type:bke.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},e}(xa);function Cke(t){t.registerComponentView(xke),t.registerComponentModel(Ske),t.registerPreprocessor(ike),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,dke),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,r){r.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Kr),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Kr),Ac("brush",Tke)}var Eke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Nt),Dke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){if(this.group.removeAll(),!!r.get("show")){var i=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),u=r.get("textAlign"),l=pt(r.get("textBaseline"),r.get("textVerticalAlign")),f=new Gr({style:jo(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=f.getBoundingRect(),h=r.get("subtext"),p=new Gr({style:jo(s,{text:h,fill:s.getTextColor(),y:c.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),g=r.get("sublink"),y=r.get("triggerEvent",!0);f.silent=!v&&!y,p.silent=!g&&!y,v&&f.on("click",function(){T3(v,"_"+r.get("target"))}),g&&p.on("click",function(){T3(g,"_"+r.get("subtarget"))}),Ft(f).eventData=Ft(p).eventData=y?{componentType:"title",componentIndex:r.componentIndex}:null,i.add(f),h&&i.add(p);var m=i.getBoundingRect(),d=r.getBoxLayoutParams();d.width=m.width,d.height=m.height;var _=tu(d,{width:a.getWidth(),height:a.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?_.x+=_.width:u==="center"&&(_.x+=_.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?_.y+=_.height:l==="middle"&&(_.y+=_.height/2),l=l||"top"),i.x=_.x,i.y=_.y,i.markRedraw();var x={align:u,verticalAlign:l};f.setStyle(x),p.setStyle(x),m=i.getBoundingRect();var w=_.margin,S=r.getItemStyle(["color","opacity"]);S.fill=r.get("backgroundColor");var b=new Yt({shape:{x:m.x-w[3],y:m.y-w[0],width:m.width+w[1]+w[3],height:m.height+w[0]+w[2],r:r.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});i.add(b)}},e.type="title",e}(jn);function Oke(t){t.registerComponentModel(Eke),t.registerComponentView(Dke)}function dD(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var a=Lf(t,e,r[0]);return a!=null?a+"":null}else if(n){for(var i=[],o=0;o<r.length;o++)i.push(Lf(t,e,r[o]));return i.join(" ")}}function RW(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!Le(e))return e+"";for(var n=[],a=0;a<r.length;a++){var i=t.getDimensionIndex(r[a]);i>=0&&n.push(e[i])}return n.join(" ")}var gD=function(t){Ce(e,t);function e(r,n,a,i){var o=t.call(this)||this;return o.updateData(r,n,a,i),o}return e.prototype._createSymbol=function(r,n,a,i,o){this.removeAll();var s=ru(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=Mke,this._symbolType=r,this.add(s)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Df(this.childAt(0))},e.prototype.downplay=function(){Of(this.childAt(0))},e.prototype.setZ=function(r,n){var a=this.childAt(0);a.zlevel=r,a.z=n},e.prototype.setDraggable=function(r,n){var a=this.childAt(0);a.draggable=r,a.cursor=!n&&r?"move":a.cursor},e.prototype.updateData=function(r,n,a,i){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,u=e.getSymbolSize(r,n),l=o!==this._symbolType,f=i&&i.disableAnimation;if(l){var c=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,u,c)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:u[0]/2,scaleY:u[1]/2};f?h.attr(p):Wn(h,p,s,n),DE(h)}if(this._updateCommon(r,n,u,a,i),l){var h=this.childAt(0);if(!f){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,li(h,p,s,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,a,i,o){var s=this.childAt(0),u=r.hostModel,l,f,c,h,p,v,g,y,m;if(i&&(l=i.emphasisItemStyle,f=i.blurItemStyle,c=i.selectItemStyle,h=i.focus,p=i.blurScope,g=i.labelStatesModels,y=i.hoverScale,m=i.cursorStyle,v=i.emphasisDisabled),!i||r.hasItemOption){var d=i&&i.itemModel?i.itemModel:r.getItemModel(n),_=d.getModel("emphasis");l=_.getModel("itemStyle").getItemStyle(),c=d.getModel(["select","itemStyle"]).getItemStyle(),f=d.getModel(["blur","itemStyle"]).getItemStyle(),h=_.get("focus"),p=_.get("blurScope"),v=_.get("disabled"),g=$1(d),y=_.getShallow("scale"),m=d.getShallow("cursor")}var x=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var w=QG(r.getItemVisual(n,"symbolOffset"),a);w&&(s.x=w[0],s.y=w[1]),m&&s.attr("cursor",m);var S=r.getItemVisual(n,"style"),b=S.fill;if(s instanceof uu){var T=s.style;s.useStyle(Me({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},S))}else s.__isEmptyBrush?s.useStyle(Me({},S)):s.useStyle(S),s.style.decal=null,s.setColor(b,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var C=r.getItemVisual(n,"liftZ"),M=this._z2;C!=null?M==null&&(this._z2=s.z2,s.z2+=C):M!=null&&(s.z2=M,this._z2=null);var D=o&&o.useNameLabel;j1(s,g,{labelFetcher:u,labelDataIndex:n,defaultText:E,inheritColor:b,defaultOpacity:S.opacity});function E(A){return D?r.getName(A):dD(r,A)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var k=s.ensureState("emphasis");k.style=l,s.ensureState("select").style=c,s.ensureState("blur").style=f;var O=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;k.scaleX=this._sizeX*O,k.scaleY=this._sizeY*O,this.setSymbolScale(1),wv(this,h,p,v)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,a){var i=this.childAt(0),o=Ft(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var u=i.getTextContent();u&&im(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();im(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return SEe(r.getItemVisual(n,"symbolSize"))},e}(yr);function Mke(t,e){this.parent.drift(t,e)}function _S(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function GF(t){return t!=null&&!Ue(t)&&(t={isIgnore:t}),t||{}}function WF(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:$1(e),cursorStyle:e.get("cursor")}}var Lke=function(){function t(e){this.group=new yr,this._SymbolCtor=e||gD}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=GF(r);var n=this.group,a=e.hostModel,i=this._data,o=this._SymbolCtor,s=r.disableAnimation,u=WF(e),l={disableAnimation:s},f=r.getSymbolPoint||function(c){return e.getItemLayout(c)};i||n.removeAll(),e.diff(i).add(function(c){var h=f(c);if(_S(e,h,c,r)){var p=new o(e,c,u,l);p.setPosition(h),e.setItemGraphicEl(c,p),n.add(p)}}).update(function(c,h){var p=i.getItemGraphicEl(h),v=f(c);if(!_S(e,v,c,r)){n.remove(p);return}var g=e.getItemVisual(c,"symbol")||"circle",y=p&&p.getSymbolType&&p.getSymbolType();if(!p||y&&y!==g)n.remove(p),p=new o(e,c,u,l),p.setPosition(v);else{p.updateData(e,c,u,l);var m={x:v[0],y:v[1]};s?p.attr(m):Wn(p,m,a)}n.add(p),e.setItemGraphicEl(c,p)}).remove(function(c){var h=i.getItemGraphicEl(c);h&&h.fadeOut(function(){n.remove(h)},a)}).execute(),this._getSymbolPoint=f,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,a){var i=e._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=WF(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=GF(n);function a(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=r.getItemLayout(i);if(_S(r,o,i,n)){var s=new this._SymbolCtor(r,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){md(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(a){a.fadeOut(function(){r.remove(a)},n.hostModel)}):r.removeAll()},t}();function yD(t,e){return t.type===e}var kke=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},JT=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,a=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Le(n)&&oe(n,function(i,o){Ie(i)&&(i={type:i}),n[o]=ct(i,kke(a,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<r.length;a++){var i=r[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],a=[];r.eachRawSeries(function(u){var l=u.name;a.push(l);var f;if(u.legendVisualProvider){var c=u.legendVisualProvider,h=c.getAllNames();r.isSeriesFiltered(u)||(a=a.concat(h)),h.length?n=n.concat(h):f=!0}else f=!0;f&&dE(u)&&n.push(u.name)}),this._availableNames=a;var i=this.get("data")||n,o=Xe(),s=Ne(i,function(u){return(Ie(u)||rr(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new cr(u,this,this.ecModel))},this);this._data=Mr(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;oe(i,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;oe(r,function(a){n[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;oe(r,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&St(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Nt),Sc=Mt,QT=oe,o0=yr,AW=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new o0),this.group.add(this._selectorGroup=new o0),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var u=r.get("selector",!0),l=r.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,a,u,s,l);var f=r.getBoxLayoutParams(),c={width:a.getWidth(),height:a.getHeight()},h=r.get("padding"),p=tu(f,c,h),v=this.layoutInner(r,o,p,i,u,l),g=tu(ot({width:v.width,height:v.height},f),c,h);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=bW(v,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,a,i,o,s,u){var l=this.getContentGroup(),f=Xe(),c=n.get("selectedMode"),h=[];a.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),QT(n.getData(),function(p,v){var g=p.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var y=new o0;y.newline=!0,l.add(y);return}var m=a.getSeriesByName(g)[0];if(!f.get(g))if(m){var d=m.getData(),_=d.getVisual("legendLineStyle")||{},x=d.getVisual("legendIcon"),w=d.getVisual("style"),S=this._createItem(m,g,v,p,n,r,_,w,x,c,i);S.on("click",Sc(HF,g,null,i,h)).on("mouseover",Sc(eC,m.name,null,i,h)).on("mouseout",Sc(tC,m.name,null,i,h)),a.ssr&&S.eachChild(function(b){var T=Ft(b);T.seriesIndex=m.seriesIndex,T.dataIndex=v,T.ssrType="legend"}),f.set(g,!0)}else a.eachRawSeries(function(b){if(!f.get(g)&&b.legendVisualProvider){var T=b.legendVisualProvider;if(!T.containName(g))return;var C=T.indexOfName(g),M=T.getItemVisual(C,"style"),D=T.getItemVisual(C,"legendIcon"),E=Ma(M.fill);E&&E[3]===0&&(E[3]=.2,M=Me(Me({},M),{fill:Po(E,"rgba")}));var k=this._createItem(b,g,v,p,n,r,{},M,D,c,i);k.on("click",Sc(HF,null,g,i,h)).on("mouseover",Sc(eC,null,g,i,h)).on("mouseout",Sc(tC,null,g,i,h)),a.ssr&&k.eachChild(function(O){var A=Ft(O);A.seriesIndex=b.seriesIndex,A.dataIndex=v,A.ssrType="legend"}),f.set(g,!0)}},this)},this),o&&this._createSelector(o,n,i,s,u)},e.prototype._createSelector=function(r,n,a,i,o){var s=this.getSelectorGroup();QT(r,function(l){var f=l.type,c=new Gr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(c);var h=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);j1(c,{normal:h,emphasis:p},{defaultText:l.title}),rm(c)})},e.prototype._createItem=function(r,n,a,i,o,s,u,l,f,c,h){var p=r.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),y=o.isSelected(n),m=i.get("symbolRotate"),d=i.get("symbolKeepAspect"),_=i.get("icon");f=_||f||"roundRect";var x=Rke(f,i,u,l,p,y,h),w=new o0,S=i.getModel("textStyle");if(et(r.getLegendIcon)&&(!_||_==="inherit"))w.add(r.getLegendIcon({itemWidth:v,itemHeight:g,icon:f,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:d}));else{var b=_==="inherit"&&r.getData().getVisual("symbol")?m==="inherit"?r.getData().getVisual("symbolRotate"):m:0;w.add(Ake({itemWidth:v,itemHeight:g,icon:f,iconRotate:b,itemStyle:x.itemStyle,symbolKeepAspect:d}))}var T=s==="left"?v+5:-5,C=s,M=o.get("formatter"),D=n;Ie(M)&&M?D=M.replace("{name}",n??""):et(M)&&(D=M(n));var E=y?S.getTextColor():i.get("inactiveColor");w.add(new Gr({style:jo(S,{text:D,x:T,y:g/2,fill:E,align:C,verticalAlign:"middle"},{inheritColor:E})}));var k=new Yt({shape:w.getBoundingRect(),style:{fill:"transparent"}}),O=i.getModel("tooltip");return O.get("show")&&yd({el:k,componentModel:o,itemName:n,itemTooltipOption:O.option}),w.add(k),w.eachChild(function(A){A.silent=!0}),k.silent=!c,this.getContentGroup().add(w),rm(w),w.__legendDataIndex=a,w},e.prototype.layoutInner=function(r,n,a,i,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();cf(r.get("orient"),u,r.get("itemGap"),a.width,a.height);var f=u.getBoundingRect(),c=[-f.x,-f.y];if(l.markRedraw(),u.markRedraw(),o){cf("horizontal",l,r.get("selectorItemGap",!0));var h=l.getBoundingRect(),p=[-h.x,-h.y],v=r.get("selectorButtonGap",!0),g=r.getOrient().index,y=g===0?"width":"height",m=g===0?"height":"width",d=g===0?"y":"x";s==="end"?p[g]+=f[y]+v:c[g]+=h[y]+v,p[1-g]+=f[m]/2-h[m]/2,l.x=p[0],l.y=p[1],u.x=c[0],u.y=c[1];var _={x:0,y:0};return _[y]=f[y]+v+h[y],_[m]=Math.max(f[m],h[m]),_[d]=Math.min(0,h[d]+p[1-g]),_}else return u.x=c[0],u.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(jn);function Rke(t,e,r,n,a,i,o){function s(y,m){y.lineWidth==="auto"&&(y.lineWidth=m.lineWidth>0?2:0),QT(y,function(d,_){y[_]==="inherit"&&(y[_]=m[_])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),f=t.lastIndexOf("empty",0)===0?"fill":"stroke",c=u.getShallow("decal");l.decal=!c||c==="inherit"?n.decal:OT(c,o),l.fill==="inherit"&&(l.fill=n[a]),l.stroke==="inherit"&&(l.stroke=n[f]),l.opacity==="inherit"&&(l.opacity=(a==="fill"?n:r).opacity),s(l,n);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(s(p,r),l.fill==="auto"&&(l.fill=n.fill),l.stroke==="auto"&&(l.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!i){var v=e.get("inactiveBorderWidth"),g=l[f];l.lineWidth=v==="auto"?n.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:l,lineStyle:p}}function Ake(t){var e=t.icon||"roundRect",r=ru(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function HF(t,e,r,n){tC(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),eC(t,e,r,n)}function NW(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,a=e.length;n<a&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function eC(t,e,r,n){NW(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function tC(t,e,r,n){NW(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}function Nke(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function Ih(t,e,r){var n=t==="allSelect"||t==="inverseSelect",a={},i=[];r.eachComponent({mainType:"legend",query:e},function(s){n?s[t]():s[t](e.name),jF(s,a),i.push(s.componentIndex)});var o={};return r.eachComponent("legend",function(s){oe(a,function(u,l){s[u?"select":"unSelect"](l)}),jF(s,o)}),n?{selected:o,legendIndex:i}:{name:e.name,selected:o}}function jF(t,e){var r=e||{};return oe(t.getData(),function(n){var a=n.get("name");if(!(a===`
`||a==="")){var i=t.isSelected(a);zl(r,a)?r[a]=r[a]&&i:r[a]=i}}),r}function Fke(t){t.registerAction("legendToggleSelect","legendselectchanged",Mt(Ih,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Mt(Ih,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Mt(Ih,"inverseSelect")),t.registerAction("legendSelect","legendselected",Mt(Ih,"select")),t.registerAction("legendUnSelect","legendunselected",Mt(Ih,"unSelect"))}function FW(t){t.registerComponentModel(JT),t.registerComponentView(AW),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Nke),t.registerSubTypeDefaulter("legend",function(){return"plain"}),Fke(t)}var Bke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,a){var i=xd(r);t.prototype.init.call(this,r,n,a),$F(this,r,i)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),$F(this,this.option,r)},e.type="legend.scroll",e.defaultOption=X1(JT.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(JT);function $F(t,e,r){var n=t.getOrient(),a=[1,1];a[n.index]=0,Mf(e,r,{type:"box",ignoreSize:!!a})}var KF=yr,xS=["width","height"],wS=["x","y"],Ike=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new KF),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new KF)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,a,i,o,s,u){var l=this;t.prototype.renderInner.call(this,r,n,a,i,o,s,u);var f=this._controllerGroup,c=n.get("pageIconSize",!0),h=Le(c)?c:[c,c];v("pagePrev",0);var p=n.getModel("pageTextStyle");f.add(new Gr({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,y){var m=g+"DataIndex",d=W1(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:Ke(l._pageGo,l,m,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});d.name=g,f.add(d)}},e.prototype.layoutInner=function(r,n,a,i,o,s){var u=this.getSelectorGroup(),l=r.getOrient().index,f=xS[l],c=wS[l],h=xS[1-l],p=wS[1-l];o&&cf("horizontal",u,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),g=u.getBoundingRect(),y=[-g.x,-g.y],m=Ze(a);o&&(m[f]=a[f]-g[f]-v);var d=this._layoutContentAndController(r,i,m,l,f,h,p,c);if(o){if(s==="end")y[l]+=d[f]+v;else{var _=g[f]+v;y[l]-=_,d[c]-=_}d[f]+=g[f]+v,y[1-l]+=d[p]+d[h]/2-g[h]/2,d[h]=Math.max(d[h],g[h]),d[p]=Math.min(d[p],g[p]+y[1-l]),u.x=y[0],u.y=y[1],u.markRedraw()}return d},e.prototype._layoutContentAndController=function(r,n,a,i,o,s,u,l){var f=this.getContentGroup(),c=this._containerGroup,h=this._controllerGroup;cf(r.get("orient"),f,r.get("itemGap"),i?a.width:null,i?null:a.height),cf("horizontal",h,r.get("pageButtonItemGap",!0));var p=f.getBoundingRect(),v=h.getBoundingRect(),g=this._showController=p[o]>a[o],y=[-p.x,-p.y];n||(y[i]=f[l]);var m=[0,0],d=[-v.x,-v.y],_=pt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(g){var x=r.get("pageButtonPosition",!0);x==="end"?d[i]+=a[o]-v[o]:m[i]+=v[o]+_}d[1-i]+=p[s]/2-v[s]/2,f.setPosition(y),c.setPosition(m),h.setPosition(d);var w={x:0,y:0};if(w[o]=g?a[o]:p[o],w[s]=Math.max(p[s],v[s]),w[u]=Math.min(0,v[u]+d[1-i]),c.__rectSize=a[o],g){var S={x:0,y:0};S[o]=Math.max(a[o]-v[o]-_,0),S[s]=w[s],c.setClipPath(new Yt({shape:S})),c.__rectSize=S[o]}else h.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var b=this._getPageInfo(r);return b.pageIndex!=null&&Wn(f,{x:b.contentPosition[0],y:b.contentPosition[1]},g?r:null),this._updatePageInfoView(r,b),w},e.prototype._pageGo=function(r,n,a){var i=this._getPageInfo(n)[r];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var a=this._controllerGroup;oe(["pagePrev","pageNext"],function(f){var c=f+"DataIndex",h=n[c]!=null,p=a.childOfName(f);p&&(p.setStyle("fill",h?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var i=a.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,u=s!=null?s+1:0,l=n.pageCount;i&&o&&i.setStyle("text",Ie(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=r.getOrient().index,s=xS[o],u=wS[o],l=this._findTargetItemIndex(n),f=a.children(),c=f[l],h=f.length,p=h?1:0,v={contentPosition:[a.x,a.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return v;var g=x(c);v.contentPosition[o]=-g.s;for(var y=l+1,m=g,d=g,_=null;y<=h;++y)_=x(f[y]),(!_&&d.e>m.s+i||_&&!w(_,m.s))&&(d.i>m.i?m=d:m=_,m&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=m.i),++v.pageCount)),d=_;for(var y=l-1,m=g,d=g,_=null;y>=-1;--y)_=x(f[y]),(!_||!w(d,_.s))&&m.i<d.i&&(d=m,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=m.i),++v.pageCount,++v.pageIndex),m=_;return v;function x(S){if(S){var b=S.getBoundingRect(),T=b[u]+S[u];return{s:T,e:T+b[s],i:S.__legendDataIndex}}}function w(S,b){return S.e>=b&&S.s<=b+i}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var u=o.__legendDataIndex;i==null&&u!=null&&(i=s),u===r&&(n=s)}),n??i},e.type="legend.scroll",e}(AW);function Vke(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(n)})})}function Pke(t){fi(FW),t.registerComponentModel(Bke),t.registerComponentView(Ike),Vke(t)}function Uke(t){fi(FW),fi(Pke)}var zke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.inside",e.defaultOption=X1(Nv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Nv),mD=_r();function Gke(t,e,r){mD(t).coordSysRecordMap.each(function(n){var a=n.dataZoomInfoMap.get(e.uid);a&&(a.getRange=r)})}function Wke(t,e){for(var r=mD(t).coordSysRecordMap,n=r.keys(),a=0;a<n.length;a++){var i=n[a],o=r.get(i),s=o.dataZoomInfoMap;if(s){var u=e.uid,l=s.get(u);l&&(s.removeKey(u),s.keys().length||BW(r,o))}}}function BW(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function Hke(t,e){var r={model:e,containsPoint:Mt($ke,e),dispatchAction:Mt(jke,t),dataZoomInfoMap:null,controller:null},n=r.controller=new kMe(t.getZr());return oe(["pan","zoom","scrollMove"],function(a){n.on(a,function(i){var o=[];r.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var u=(s.getRange||{})[a],l=u&&u(s.dzReferCoordSysInfo,r.model.mainType,r.controller,i);!s.model.get("disabled",!0)&&l&&o.push({dataZoomId:s.model.id,start:l[0],end:l[1]})}}),o.length&&r.dispatchAction(o)})}),r}function jke(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function $ke(t,e,r,n){return t.coordinateSystem.containPoint([r,n])}function Kke(t){var e,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return t.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;n[r+s]>n[r+e]&&(e=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function Xke(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(e,r){var n=mD(r),a=n.coordSysRecordMap||(n.coordSysRecordMap=Xe());a.each(function(i){i.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=xW(i);oe(o.infoList,function(s){var u=s.model.uid,l=a.get(u)||a.set(u,Hke(r,s.model)),f=l.dataZoomInfoMap||(l.dataZoomInfoMap=Xe());f.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),a.each(function(i){var o=i.controller,s,u=i.dataZoomInfoMap;if(u){var l=u.keys()[0];l!=null&&(s=u.get(l))}if(!s){BW(a,i);return}var f=Kke(u);o.enable(f.controlType,f.opt),o.setPointerChecker(i.containsPoint),Sd(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Yke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return e.prototype.render=function(r,n,a){if(t.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),Gke(a,r,{pan:Ke(SS.pan,this),zoom:Ke(SS.zoom,this),scrollMove:Ke(SS.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Wke(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(lD),SS={zoom:function(t,e,r,n){var a=this.range,i=a.slice(),o=t.axisModels[0];if(o){var s=bS[e](null,[n.originX,n.originY],o,r,t),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],l=Math.max(1/n.scale,0);i[0]=(i[0]-u)*l+u,i[1]=(i[1]-u)*l+u;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(bd(0,i,[0,100],0,f.minSpan,f.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:XF(function(t,e,r,n,a,i){var o=bS[n]([i.oldX,i.oldY],[i.newX,i.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:XF(function(t,e,r,n,a,i){var o=bS[n]([0,0],[i.scrollDelta,i.scrollDelta],e,a,r);return o.signal*(t[1]-t[0])*i.scrollDelta})};function XF(t){return function(e,r,n,a){var i=this.range,o=i.slice(),s=e.axisModels[0];if(s){var u=t(o,s,e,r,n,a);if(bd(u,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var bS={grid:function(t,e,r,n,a){var i=r.axis,o={},s=a.model.coordinateSystem.getRect();return t=t||[0,0],i.dim==="x"?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(t,e,r,n,a){var i=r.axis,o={},s=a.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),r.mainType==="radiusAxis"?(o.pixel=e[0]-t[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?-1:1),o},singleAxis:function(t,e,r,n,a){var i=r.axis,o=a.model.coordinateSystem.getRect(),s={};return t=t||[0,0],i.orient==="horizontal"?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};function qke(t){cD(t),t.registerComponentModel(zke),t.registerComponentView(Yke),Xke(t)}var Zke=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=X1(Nv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Nv),Vh=Yt,YF=7,Jke=1,TS=30,Qke=7,Ph="horizontal",qF="vertical",eRe=5,tRe=["line","bar","candlestick","scatter"],rRe={easing:"cubicOut",duration:100,delay:0},nRe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._displayables={},r}return e.prototype.init=function(r,n){this.api=n,this._onBrush=Ke(this._onBrush,this),this._onBrushEnd=Ke(this._onBrushEnd,this)},e.prototype.render=function(r,n,a,i){if(t.prototype.render.apply(this,arguments),Sd(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){cm(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new yr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,a=r.get("brushSelect"),i=a?Qke:0,o=this._findCoordRect(),s={width:n.getWidth(),height:n.getHeight()},u=this._orient===Ph?{right:s.width-o.x-o.width,top:s.height-TS-YF-i,width:o.width,height:TS}:{right:YF,top:o.y,width:TS,height:o.height},l=xd(r.option);oe(["right","top","width","height"],function(c){l[c]==="ph"&&(l[c]=u[c])});var f=tu(l,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===qF&&this._size.reverse()},e.prototype._positionGroup=function(){var r=this.group,n=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===Ph&&!o?{scaleY:u?1:-1,scaleX:1}:a===Ph&&o?{scaleY:u?1:-1,scaleX:-1}:a===qF&&!o?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var l=r.getBoundingRect([s]);r.x=n.x-l.x,r.y=n.y-l.y,r.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,a=this._displayables.sliderGroup,i=r.get("brushSelect");a.add(new Vh({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var o=new Vh({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ke(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},e.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,a=this._shadowSize||[],i=r.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),u=s&&o.getDimensionInfo(s)?i.getShadowDim():r.otherDim;if(u==null)return;var l=this._shadowPolygonPts,f=this._shadowPolylinePts;if(o!==this._shadowData||u!==this._shadowDim||n[0]!==a[0]||n[1]!==a[1]){var c=o.getDataExtent(u),h=(c[1]-c[0])*.3;c=[c[0]-h,c[1]+h];var p=[0,n[1]],v=[0,n[0]],g=[[n[0],0],[0,0]],y=[],m=v[1]/(o.count()-1),d=0,_=Math.round(o.count()/n[0]),x;o.each([u],function(C,M){if(_>0&&M%_){d+=m;return}var D=C==null||isNaN(C)||C==="",E=D?0:Sr(C,c,p,!0);D&&!x&&M?(g.push([g[g.length-1][0],0]),y.push([y[y.length-1][0],0])):!D&&x&&(g.push([d,0]),y.push([d,0])),g.push([d,E]),y.push([d,E]),d+=m,x=D}),l=this._shadowPolygonPts=g,f=this._shadowPolylinePts=y}this._shadowData=o,this._shadowDim=u,this._shadowSize=[n[0],n[1]];var w=this.dataZoomModel;function S(C){var M=w.getModel(C?"selectedDataBackground":"dataBackground"),D=new yr,E=new Yf({shape:{points:l},segmentIgnoreThreshold:1,style:M.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),k=new gd({shape:{points:f},segmentIgnoreThreshold:1,style:M.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(E),D.add(k),D}for(var b=0;b<3;b++){var T=S(b===1);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}},e.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var a,i=this.ecModel;return r.eachTargetAxis(function(o,s){var u=r.getAxisProxy(o,s).getTargetSeriesModels();oe(u,function(l){if(!a&&!(n!==!0&&St(tRe,l.get("type"))<0)){var f=i.getComponent(Bs(o),s).axis,c=aRe(o),h,p=l.coordinateSystem;c!=null&&p.getOtherAxis&&(h=p.getOtherAxis(f).inverse),c=l.getData().mapDimension(c),a={thisAxis:f,series:l,thisDim:o,otherDim:c,otherAxisInverse:h}}},this)},this),a}},e.prototype._renderHandle=function(){var r=this.group,n=this._displayables,a=n.handles=[null,null],i=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,u=this.dataZoomModel,l=this.api,f=u.get("borderRadius")||0,c=u.get("brushSelect"),h=n.filler=new Vh({silent:c,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new Vh({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:f},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:Jke,fill:"rgba(0,0,0,0)"}})),oe([0,1],function(_){var x=u.get("handleIcon");!hm[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var w=ru(x,-1,0,2,2,null,!0);w.attr({cursor:ZF(this._orient),draggable:!0,drift:Ke(this._onDragMove,this,_),ondragend:Ke(this._onDragEnd,this),onmouseover:Ke(this._showDataInfo,this,!0),onmouseout:Ke(this._showDataInfo,this,!1),z2:5});var S=w.getBoundingRect(),b=u.get("handleSize");this._handleHeight=Lr(b,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,w.setStyle(u.getModel("handleStyle").getItemStyle()),w.style.strokeNoScale=!0,w.rectHover=!0,w.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),rm(w);var T=u.get("handleColor");T!=null&&(w.style.fill=T),o.add(a[_]=w);var C=u.getModel("textStyle"),M=u.get("handleLabel")||{},D=M.show||!1;r.add(i[_]=new Gr({silent:!0,invisible:!D,style:jo(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var p=h;if(c){var v=Lr(u.get("moveHandleSize"),s[1]),g=n.moveHandle=new Yt({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),y=v*.8,m=n.moveHandleIcon=ru(u.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);m.silent=!0,m.y=s[1]+v/2-.5,g.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var d=Math.min(s[1]/2,Math.max(v,10));p=n.moveZone=new Yt({invisible:!0,shape:{y:s[1]-d,height:v+d}}),p.on("mouseover",function(){l.enterEmphasis(g)}).on("mouseout",function(){l.leaveEmphasis(g)}),o.add(g),o.add(m),o.add(p)}p.attr({draggable:!0,cursor:ZF(this._orient),drift:Ke(this._onDragMove,this,"all"),ondragstart:Ke(this._showDataInfo,this,!0),ondragend:Ke(this._onDragEnd,this),onmouseover:Ke(this._showDataInfo,this,!0),onmouseout:Ke(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Sr(r[0],[0,100],n,!0),Sr(r[1],[0,100],n,!0)]},e.prototype._updateInterval=function(r,n){var a=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];bd(n,i,o,a.get("zoomLock")?"all":r,s.minSpan!=null?Sr(s.minSpan,u,o,!0):null,s.maxSpan!=null?Sr(s.maxSpan,u,o,!0):null);var l=this._range,f=this._range=tp([Sr(i[0],o,u,!0),Sr(i[1],o,u,!0)]);return!l||l[0]!==f[0]||l[1]!==f[1]},e.prototype._updateView=function(r){var n=this._displayables,a=this._handleEnds,i=tp(a.slice()),o=this._size;oe([0,1],function(p){var v=n.handles[p],g=this._handleHeight;v.attr({scaleX:g/2,scaleY:g/2,x:a[p]+(p?-1:1),y:o[1]/2-g/2})},this),n.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var u=n.dataShadowSegs,l=[0,i[0],i[1],o[0]],f=0;f<u.length;f++){var c=u[f],h=c.getClipPath();h||(h=new Yt,c.setClipPath(h)),h.setShape({x:l[f],y:0,width:l[f+1]-l[f],height:o[1]})}this._updateDataInfo(r)},e.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,a=this._displayables,i=a.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var u=n.findRepresentativeAxisProxy();if(u){var l=u.getAxisModel().axis,f=this._range,c=r?u.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:u.getDataValueWindow();s=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var h=tp(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(v){var g=G1(a.handles[v].parent,this.group),y=ME(v===0?"right":"left",g),m=this._handleWidth/2+eRe,d=bv([h[v]+(v===0?-m:m),this._size[1]/2],g);i[v].setStyle({x:d[0],y:d[1],verticalAlign:o===Ph?"middle":y,align:o===Ph?y:"center",text:s[v]})}},e.prototype._formatLabel=function(r,n){var a=this.dataZoomModel,i=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(o,20));return et(i)?i(r,s):Ie(i)?i.replace("{value}",s):s},e.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},a=n.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=i.get("show")||!1,s=r||this._dragging?o:a,u=this._displayables,l=u.handleLabels;l[0].attr("invisible",!s),l[1].attr("invisible",!s),u.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](u.moveHandle,1)},e.prototype._onDragMove=function(r,n,a,i){this._dragging=!0,Ef(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=bv([n,a],o,!0),u=this._updateInterval(r,s[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),u&&l&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(r){var n=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(a[0]<0||a[0]>n[0]||a[1]<0||a[1]>n[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(r){var n=r.offsetX,a=r.offsetY;this._brushStart=new Et(n,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var a=n.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=tp([Sr(a.x,o,s,!0),Sr(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(r){this._brushing&&(Ef(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},e.prototype._updateBrushRect=function(r,n){var a=this._displayables,i=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new Vh({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,u=this._displayables.sliderGroup,l=u.transformCoordToLocal(r,n),f=u.transformCoordToLocal(s.x,s.y),c=this._size;l[0]=Math.max(Math.min(c[0],l[0]),0),o.setShape({x:f[0],y:0,width:l[0]-f[0],height:c[1]})},e.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?rRe:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var r,n=xW(this.dataZoomModel).infoList;if(!r&&n.length){var a=n[0].model.coordinateSystem;r=a.getRect&&a.getRect()}if(!r){var i=this.api.getWidth(),o=this.api.getHeight();r={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return r},e.type="dataZoom.slider",e}(lD);function aRe(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function ZF(t){return t==="vertical"?"ns-resize":"ew-resize"}function iRe(t){t.registerComponentModel(Zke),t.registerComponentView(nRe),cD(t)}function oRe(t){fi(qke),fi(iRe)}var sRe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return XE(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new yr,a=ru("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(a),a.setStyle(r.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,u=r.itemHeight*.8,l=ru(s,(r.itemWidth-u)/2,(r.itemHeight-u)/2,u,u,r.itemStyle.fill);n.add(l),l.setStyle(r.itemStyle);var f=r.iconRotate==="inherit"?o:r.iconRotate||0;return l.rotation=f*Math.PI/180,l.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(ci);function IW(t,e,r){var n=t.getBaseAxis(),a=t.getOtherAxis(n),i=uRe(a,r),o=n.dim,s=a.dim,u=e.mapDimension(s),l=e.mapDimension(o),f=s==="x"||s==="radius"?1:0,c=Ne(t.dimensions,function(v){return e.mapDimension(v)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return kf(e,c[0])&&(h=!0,c[0]=p),kf(e,c[1])&&(h=!0,c[1]=p),{dataDimsForPoint:c,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:u,baseDim:l,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function uRe(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:rr(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function VW(t,e,r,n){var a=NaN;t.stacked&&(a=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=t.valueStart);var i=t.baseDataOffset,o=[];return o[i]=r.get(t.baseDim,n),o[1-i]=a,e.dataToPoint(o)}function lRe(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,a){r.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function cRe(t,e,r,n,a,i,o,s){for(var u=lRe(t,e),l=[],f=[],c=[],h=[],p=[],v=[],g=[],y=IW(a,e,o),m=t.getLayout("points")||[],d=e.getLayout("points")||[],_=0;_<u.length;_++){var x=u[_],w=!0,S=void 0,b=void 0;switch(x.cmd){case"=":S=x.idx*2,b=x.idx1*2;var T=m[S],C=m[S+1],M=d[b],D=d[b+1];(isNaN(T)||isNaN(C))&&(T=M,C=D),l.push(T,C),f.push(M,D),c.push(r[S],r[S+1]),h.push(n[b],n[b+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var E=x.idx,k=y.dataDimsForPoint,O=a.dataToPoint([e.get(k[0],E),e.get(k[1],E)]);b=E*2,l.push(O[0],O[1]),f.push(d[b],d[b+1]);var A=VW(y,a,e,E);c.push(A[0],A[1]),h.push(n[b],n[b+1]),g.push(e.getRawIndex(E));break;case"-":w=!1}w&&(p.push(x),v.push(v.length))}v.sort(function(Y,ie){return g[Y]-g[ie]});for(var I=l.length,U=zi(I),P=zi(I),B=zi(I),W=zi(I),H=[],_=0;_<v.length;_++){var $=v[_],q=_*2,Q=$*2;U[q]=l[Q],U[q+1]=l[Q+1],P[q]=f[Q],P[q+1]=f[Q+1],B[q]=c[Q],B[q+1]=c[Q+1],W[q]=h[Q],W[q+1]=h[Q+1],H[_]=p[$]}return{current:U,next:P,stackedOnCurrent:B,stackedOnNext:W,status:H}}var fs=Math.min,hs=Math.max;function Sl(t,e){return isNaN(t)||isNaN(e)}function rC(t,e,r,n,a,i,o,s,u){for(var l,f,c,h,p,v,g=r,y=0;y<n;y++){var m=e[g*2],d=e[g*2+1];if(g>=a||g<0)break;if(Sl(m,d)){if(u){g+=i;continue}break}if(g===r)t[i>0?"moveTo":"lineTo"](m,d),c=m,h=d;else{var _=m-l,x=d-f;if(_*_+x*x<.5){g+=i;continue}if(o>0){for(var w=g+i,S=e[w*2],b=e[w*2+1];S===m&&b===d&&y<n;)y++,w+=i,g+=i,S=e[w*2],b=e[w*2+1],m=e[g*2],d=e[g*2+1],_=m-l,x=d-f;var T=y+1;if(u)for(;Sl(S,b)&&T<n;)T++,w+=i,S=e[w*2],b=e[w*2+1];var C=.5,M=0,D=0,E=void 0,k=void 0;if(T>=n||Sl(S,b))p=m,v=d;else{M=S-l,D=b-f;var O=m-l,A=S-m,I=d-f,U=b-d,P=void 0,B=void 0;if(s==="x"){P=Math.abs(O),B=Math.abs(A);var W=M>0?1:-1;p=m-W*P*o,v=d,E=m+W*B*o,k=d}else if(s==="y"){P=Math.abs(I),B=Math.abs(U);var H=D>0?1:-1;p=m,v=d-H*P*o,E=m,k=d+H*B*o}else P=Math.sqrt(O*O+I*I),B=Math.sqrt(A*A+U*U),C=B/(B+P),p=m-M*o*(1-C),v=d-D*o*(1-C),E=m+M*o*C,k=d+D*o*C,E=fs(E,hs(S,m)),k=fs(k,hs(b,d)),E=hs(E,fs(S,m)),k=hs(k,fs(b,d)),M=E-m,D=k-d,p=m-M*P/B,v=d-D*P/B,p=fs(p,hs(l,m)),v=fs(v,hs(f,d)),p=hs(p,fs(l,m)),v=hs(v,fs(f,d)),M=m-p,D=d-v,E=m+M*B/P,k=d+D*B/P}t.bezierCurveTo(c,h,p,v,m,d),c=E,h=k}else t.lineTo(m,d)}l=m,f=d,g+=i}return y}var PW=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),fRe=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new PW},e.prototype.buildPath=function(r,n){var a=n.points,i=0,o=a.length/2;if(n.connectNulls){for(;o>0&&Sl(a[o*2-2],a[o*2-1]);o--);for(;i<o&&Sl(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=rC(r,a,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=Js.CMD,s,u,l=n==="x",f=[],c=0;c<i.length;){var h=i[c++],p=void 0,v=void 0,g=void 0,y=void 0,m=void 0,d=void 0,_=void 0;switch(h){case o.M:s=i[c++],u=i[c++];break;case o.L:if(p=i[c++],v=i[c++],_=l?(r-s)/(p-s):(r-u)/(v-u),_<=1&&_>=0){var x=l?(v-u)*_+u:(p-s)*_+s;return l?[r,x]:[x,r]}s=p,u=v;break;case o.C:p=i[c++],v=i[c++],g=i[c++],y=i[c++],m=i[c++],d=i[c++];var w=l?Xy(s,p,g,m,r,f):Xy(u,v,y,d,r,f);if(w>0)for(var S=0;S<w;S++){var b=f[S];if(b<=1&&b>=0){var x=l?Jr(u,v,y,d,b):Jr(s,p,g,m,b);return l?[r,x]:[x,r]}}s=m,u=d;break}}},e}(yt),hRe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(PW),pRe=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new hRe},e.prototype.buildPath=function(r,n){var a=n.points,i=n.stackedOnPoints,o=0,s=a.length/2,u=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Sl(a[s*2-2],a[s*2-1]);s--);for(;o<s&&Sl(a[o*2],a[o*2+1]);o++);}for(;o<s;){var l=rC(r,a,o,s,s,1,n.smooth,u,n.connectNulls);rC(r,i,o+l-1,l,s,-1,n.stackedOnSmooth,u,n.connectNulls),o+=l+1,r.closePath()}},e}(yt);function UW(t,e,r,n,a){var i=t.getArea(),o=i.x,s=i.y,u=i.width,l=i.height,f=r.get(["lineStyle","width"])||0;o-=f/2,s-=f/2,u+=f,l+=f,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var c=new Yt({shape:{x:o,y:s,width:u,height:l}});if(e){var h=t.getBaseAxis(),p=h.isHorizontal(),v=h.inverse;p?(v&&(c.shape.x+=u),c.shape.width=0):(v||(c.shape.y+=l),c.shape.height=0);var g=et(a)?function(y){a(y,c)}:null;li(c,{shape:{width:u,height:l,x:o,y:s}},r,null,n,g)}return c}function zW(t,e,r){var n=t.getArea(),a=Ar(n.r0,1),i=Ar(n.r,1),o=new Qs({shape:{cx:Ar(t.cx,1),cy:Ar(t.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=a,li(o,{shape:{endAngle:n.endAngle,r:i}},r)}return o}function GW(t,e,r,n,a){if(t){if(t.type==="polar")return zW(t,e,r);if(t.type==="cartesian2d")return UW(t,e,r,n,a)}else return null;return null}function JF(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function QF(t){for(var e=1/0,r=1/0,n=-1/0,a=-1/0,i=0;i<t.length;){var o=t[i++],s=t[i++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),a=Math.max(s,a))}return[[e,r],[n,a]]}function eB(t,e){var r=QF(t),n=r[0],a=r[1],i=QF(e),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function tB(t){return rr(t)?t:t?.5:0}function vRe(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),a=zi(n*2),i=0;i<n;i++){var o=VW(r,t,e,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function ps(t,e,r,n,a){var i=r.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],u=0,l=[],f=[],c=[],h=[];if(a){for(u=0;u<t.length;u+=2){var p=e||t;!isNaN(p[u])&&!isNaN(p[u+1])&&h.push(t[u],t[u+1])}t=h}for(u=0;u<t.length-2;u+=2)switch(c[0]=t[u+2],c[1]=t[u+3],f[0]=t[u],f[1]=t[u+1],s.push(f[0],f[1]),n){case"end":l[o]=c[o],l[1-o]=f[1-o],s.push(l[0],l[1]);break;case"middle":var v=(f[o]+c[o])/2,g=[];l[o]=g[o]=v,l[1-o]=f[1-o],g[1-o]=c[1-o],s.push(l[0],l[1]),s.push(g[0],g[1]);break;default:l[o]=f[o],l[1-o]=c[1-o],s.push(l[0],l[1])}return s.push(t[u++],t[u++]),s}function dRe(t,e){var r=[],n=t.length,a,i;function o(f,c,h){var p=f.coord,v=(h-p)/(c.coord-p),g=qwe(v,[f.color,c.color]);return{coord:h,color:g}}for(var s=0;s<n;s++){var u=t[s],l=u.coord;if(l<0)a=u;else if(l>e){i?r.push(o(i,u,e)):a&&r.push(o(a,u,0),o(a,u,e));break}else a&&(r.push(o(a,u,0)),a=null),r.push(u),i=u}return r}function gRe(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var a,i,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=n[o];break}}if(i){var u=e.getAxis(a),l=Ne(i.stops,function(_){return{coord:u.toGlobalCoord(u.dataToCoord(_.value)),color:_.color}}),f=l.length,c=i.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),c.reverse());var h=dRe(l,a==="x"?r.getWidth():r.getHeight()),p=h.length;if(!p&&f)return l[0].coord<0?c[1]?c[1]:l[f-1].color:c[0]?c[0]:l[0].color;var v=10,g=h[0].coord-v,y=h[p-1].coord+v,m=y-g;if(m<.001)return"transparent";oe(h,function(_){_.offset=(_.coord-g)/m}),h.push({offset:p?h[p-1].offset:.5,color:c[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:c[0]||"transparent"});var d=new Xz(0,0,0,0,h,!0);return d[a]=g,d[a+"2"]=y,d}}}function yRe(t,e,r){var n=t.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=r.getAxesByScale("ordinal")[0];if(i&&!(a&&mRe(i,e))){var o=e.mapDimension(i.dim),s={};return oe(i.getViewLabels(),function(u){var l=i.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function mRe(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(gD.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function _Re(t,e){return isNaN(t)||isNaN(e)}function xRe(t){for(var e=t.length/2;e>0&&_Re(t[e*2-2],t[e*2-1]);e--);return e-1}function rB(t,e){return[t[e*2],t[e*2+1]]}function wRe(t,e,r){for(var n=t.length/2,a=r==="x"?0:1,i,o,s=0,u=-1,l=0;l<n;l++)if(o=t[l*2+a],!(isNaN(o)||isNaN(t[l*2+1-a]))){if(l===0){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){u=l;break}s=l,i=o}return{range:[s,u],t:(e-i)/(o-i)}}function WW(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Xi.length;e++)if(t.get([Xi[e],"endLabel","show"]))return!0;return!1}function CS(t,e,r,n){if(yD(e,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},u=WW(n)?function(p,v){t._endLabelOnDuring(p,v,o,s,i,a,e)}:null,l=e.getBaseAxis().isHorizontal(),f=UW(e,r,n,function(){var p=t._endLabel;p&&r&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},u);if(!n.get("clip",!0)){var c=f.shape,h=Math.max(c.width,c.height);l?(c.y-=h,c.height+=h*2):(c.x-=h,c.width+=h*2)}return u&&u(1,f),f}else return zW(e,r,n)}function SRe(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),a=r.inverse,i=n?a?"right":"left":"center",o=n?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||i,verticalAlign:t.get("verticalAlign")||o}}}var bRe=function(t){Ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new yr,n=new Lke;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=Ke(this._changePolyState,this)},e.prototype.render=function(r,n,a){var i=r.coordinateSystem,o=this.group,s=r.getData(),u=r.getModel("lineStyle"),l=r.getModel("areaStyle"),f=s.getLayout("points")||[],c=i.type==="polar",h=this._coordSys,p=this._symbolDraw,v=this._polyline,g=this._polygon,y=this._lineGroup,m=!n.ssr&&r.get("animation"),d=!l.isEmpty(),_=l.get("origin"),x=IW(i,s,_),w=d&&vRe(i,s,x),S=r.get("showSymbol"),b=r.get("connectNulls"),T=S&&!c&&yRe(r,s,i),C=this._data;C&&C.eachItemGraphicEl(function(Y,ie){Y.__temp&&(o.remove(Y),C.setItemGraphicEl(ie,null))}),S||p.remove(),o.add(y);var M=c?!1:r.get("step"),D;i&&i.getArea&&r.get("clip",!0)&&(D=i.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var E=gRe(s,i,a)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&h.type===i.type&&M===this._step))S&&p.updateData(s,{isIgnore:T,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Y){return[f[Y*2],f[Y*2+1]]}}),m&&this._initSymbolLabelAnimation(s,i,D),M&&(w&&(w=ps(w,f,i,M,b)),f=ps(f,null,i,M,b)),v=this._newPolyline(f),d?g=this._newPolygon(f,w):g&&(y.remove(g),g=this._polygon=null),c||this._initOrUpdateEndLabel(r,i,Wl(E)),y.setClipPath(CS(this,i,!0,r));else{d&&!g?g=this._newPolygon(f,w):g&&!d&&(y.remove(g),g=this._polygon=null),c||this._initOrUpdateEndLabel(r,i,Wl(E));var k=y.getClipPath();if(k){var O=CS(this,i,!1,r);li(k,{shape:O.shape},r)}else y.setClipPath(CS(this,i,!0,r));S&&p.updateData(s,{isIgnore:T,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Y){return[f[Y*2],f[Y*2+1]]}}),(!JF(this._stackedOnPoints,w)||!JF(this._points,f))&&(m?this._doUpdateAnimation(s,w,i,a,M,_,b):(M&&(w&&(w=ps(w,f,i,M,b)),f=ps(f,null,i,M,b)),v.setShape({points:f}),g&&g.setShape({points:f,stackedOnPoints:w})))}var A=r.getModel("emphasis"),I=A.get("focus"),U=A.get("blurScope"),P=A.get("disabled");if(v.useStyle(ot(u.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"})),nm(v,r,"lineStyle"),v.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var B=v.getState("emphasis").style;B.lineWidth=+v.style.lineWidth+1}Ft(v).seriesIndex=r.seriesIndex,wv(v,I,U,P);var W=tB(r.get("smooth")),H=r.get("smoothMonotone");if(v.setShape({smooth:W,smoothMonotone:H,connectNulls:b}),g){var $=s.getCalculationInfo("stackedOnSeries"),q=0;g.useStyle(ot(l.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),$&&(q=tB($.get("smooth"))),g.setShape({smooth:W,stackedOnSmooth:q,smoothMonotone:H,connectNulls:b}),nm(g,r,"areaStyle"),Ft(g).seriesIndex=r.seriesIndex,wv(g,I,U,P)}var Q=this._changePolyState;s.eachItemGraphicEl(function(Y){Y&&(Y.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=s,this._coordSys=i,this._stackedOnPoints=w,this._points=f,this._step=M,this._valueOrigin=_,r.get("triggerLineEvent")&&(this.packEventData(r,v),g&&this.packEventData(r,g))},e.prototype.packEventData=function(r,n){Ft(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,a,i){var o=r.getData(),s=Gl(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var f=u[s*2],c=u[s*2+1];if(isNaN(f)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,c))return;var h=r.get("zlevel")||0,p=r.get("z")||0;l=new gD(o,s),l.x=f,l.y=c,l.setZ(h,p);var v=l.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=p,v.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else La.prototype.highlight.call(this,r,n,a,i)},e.prototype.downplay=function(r,n,a,i){var o=r.getData(),s=Gl(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else La.prototype.downplay.call(this,r,n,a,i)},e.prototype._changePolyState=function(r){var n=this._polygon;QA(this._polyline,r),n&&QA(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new fRe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new pRe({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(r,n,a){var i,o,s=n.getBaseAxis(),u=s.inverse;n.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):n.type==="polar"&&(i=s.dim==="angle",o=!0);var l=r.hostModel,f=l.get("animationDuration");et(f)&&(f=f(null));var c=l.get("animationDelay")||0,h=et(c)?c(null):c;r.eachItemGraphicEl(function(p,v){var g=p;if(g){var y=[p.x,p.y],m=void 0,d=void 0,_=void 0;if(a)if(o){var x=a,w=n.pointToCoord(y);i?(m=x.startAngle,d=x.endAngle,_=-w[1]/180*Math.PI):(m=x.r0,d=x.r,_=w[0])}else{var S=a;i?(m=S.x,d=S.x+S.width,_=p.x):(m=S.y+S.height,d=S.y,_=p.y)}var b=d===m?0:(_-m)/(d-m);u&&(b=1-b);var T=et(c)?c(v):f*b+h,C=g.getSymbolPath(),M=C.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:T}),C.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,a){var i=r.getModel("endLabel");if(WW(r)){var o=r.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Gr({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=xRe(u);f>=0&&(j1(s,$1(r,"endLabel"),{inheritColor:a,labelFetcher:r,labelDataIndex:f,defaultText:function(c,h,p){return p!=null?RW(o,p):dD(o,c)},enableTextSetter:!0},SRe(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,a,i,o,s,u){var l=this._endLabel,f=this._polyline;if(l){r<1&&i.originalX==null&&(i.originalX=l.x,i.originalY=l.y);var c=a.getLayout("points"),h=a.hostModel,p=h.get("connectNulls"),v=s.get("precision"),g=s.get("distance")||0,y=u.getBaseAxis(),m=y.isHorizontal(),d=y.inverse,_=n.shape,x=d?m?_.x:_.y+_.height:m?_.x+_.width:_.y,w=(m?g:0)*(d?-1:1),S=(m?0:-g)*(d?-1:1),b=m?"x":"y",T=wRe(c,x,b),C=T.range,M=C[1]-C[0],D=void 0;if(M>=1){if(M>1&&!p){var E=rB(c,C[0]);l.attr({x:E[0]+w,y:E[1]+S}),o&&(D=h.getRawValue(C[0]))}else{var E=f.getPointOn(x,b);E&&l.attr({x:E[0]+w,y:E[1]+S});var k=h.getRawValue(C[0]),O=h.getRawValue(C[1]);o&&(D=XSe(a,v,k,O,T.t))}i.lastFrameIndex=C[0]}else{var A=r===1||i.lastFrameIndex>0?C[0]:0,E=rB(c,A);o&&(D=h.getRawValue(A)),l.attr({x:E[0]+w,y:E[1]+S})}if(o){var I=K1(l);typeof I.setLabelText=="function"&&I.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(r,n,a,i,o,s,u){var l=this._polyline,f=this._polygon,c=r.hostModel,h=cRe(this._data,r,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),p=h.current,v=h.stackedOnCurrent,g=h.next,y=h.stackedOnNext;if(o&&(v=ps(h.stackedOnCurrent,h.current,a,o,u),p=ps(h.current,null,a,o,u),y=ps(h.stackedOnNext,h.next,a,o,u),g=ps(h.next,null,a,o,u)),eB(p,g)>3e3||f&&eB(v,y)>3e3){l.stopAnimation(),l.setShape({points:g}),f&&(f.stopAnimation(),f.setShape({points:g,stackedOnPoints:y}));return}l.shape.__points=h.current,l.shape.points=p;var m={shape:{points:g}};h.current!==p&&(m.shape.__points=h.next),l.stopAnimation(),Wn(l,m,c),f&&(f.setShape({points:p,stackedOnPoints:v}),f.stopAnimation(),Wn(f,{shape:{stackedOnPoints:y}},c),l.shape.points!==f.shape.points&&(f.shape.points=l.shape.points));for(var d=[],_=h.status,x=0;x<_.length;x++){var w=_[x].cmd;if(w==="="){var S=r.getItemGraphicEl(_[x].idx1);S&&d.push({el:S,ptIdx:x})}}l.animators&&l.animators.length&&l.animators[0].during(function(){f&&f.dirtyShape();for(var b=l.shape.__points,T=0;T<d.length;T++){var C=d[T].el,M=d[T].ptIdx*2;C.x=b[M],C.y=b[M+1],C.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(La);function TRe(t,e){return{seriesType:t,plan:wd(),reset:function(r){var n=r.getData(),a=r.coordinateSystem;if(r.pipelineContext,!!a){var i=Ne(a.dimensions,function(c){return n.mapDimension(c)}).slice(0,2),o=i.length,s=n.getCalculationInfo("stackResultDimension");kf(n,i[0])&&(i[0]=s),kf(n,i[1])&&(i[1]=s);var u=n.getStore(),l=n.getDimensionIndex(i[0]),f=n.getDimensionIndex(i[1]);return o&&{progress:function(c,h){for(var p=c.end-c.start,v=zi(p*o),g=[],y=[],m=c.start,d=0;m<c.end;m++){var _=void 0;if(o===1){var x=u.get(l,m);_=a.dataToPoint(x,null,y)}else g[0]=u.get(l,m),g[1]=u.get(f,m),_=a.dataToPoint(g,null,y);v[d++]=_[0],v[d++]=_[1]}h.setLayout("points",v)}}}}}}var CRe={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},ERe=function(t){return Math.round(t.length/2)};function HW(t){return{seriesType:t,reset:function(e,r,n){var a=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),f=u.getExtent(),c=n.getDevicePixelRatio(),h=Math.abs(f[1]-f[0])*(c||1),p=Math.round(s/h);if(isFinite(p)&&p>1){i==="lttb"?e.setData(a.lttbDownSample(a.mapDimension(l.dim),1/p)):i==="minmax"&&e.setData(a.minmaxDownSample(a.mapDimension(l.dim),1/p));var v=void 0;Ie(i)?v=CRe[i]:et(i)&&(v=i),v&&e.setData(a.downSample(a.mapDimension(l.dim),1/p,v,ERe))}}}}}function DRe(t){t.registerChartView(bRe),t.registerSeriesModel(sRe),t.registerLayout(TRe("line")),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,HW("line"))}var nC=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return XE(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(r),s=i.dataToPoint(o);if(a)oe(i.getAxes(),function(h,p){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),y=o[p],m=n[p]==="x1"||n[p]==="y1";if(m&&!g&&(y+=1),v.length<2)return;if(v.length===2){s[p]=h.toGlobalCoord(h.getExtent()[m?1:0]);return}for(var d=void 0,_=void 0,x=1,w=0;w<v.length;w++){var S=v[w].coord,b=w===v.length-1?v[w-1].tickValue+x:v[w].tickValue;if(b===y){_=S;break}else if(b<y)d=S;else if(d!=null&&b>y){_=(S+d)/2;break}w===1&&(x=b-v[0].tickValue)}_==null&&(d?d&&(_=v[v.length-1].coord):_=v[0].coord),s[p]=h.toGlobalCoord(_)}});else{var u=this.getData(),l=u.getLayout("offset"),f=u.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;s[c]+=l+f/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(ci);ci.registerClass(nC);var ORe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return XE(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},e.prototype.brushSelector=function(r,n,a){return a.rect(n.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=X1(nC.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(nC),MRe=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),nB=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new MRe},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),u=(s-o)*.5,l=o+u,f=n.startAngle,c=n.endAngle,h=n.clockwise,p=Math.PI*2,v=h?c-f<p:f-c<p;v||(f=c-(h?p:-p));var g=Math.cos(f),y=Math.sin(f),m=Math.cos(c),d=Math.sin(c);v?(r.moveTo(g*o+a,y*o+i),r.arc(g*l+a,y*l+i,u,-Math.PI+f,f,!h)):r.moveTo(g*s+a,y*s+i),r.arc(a,i,s,f,c,!h),r.arc(m*l+a,d*l+i,u,c-Math.PI*2,c-Math.PI,!h),o!==0&&r.arc(a,i,o,c,f,h)},e}(yt);function LRe(t,e){e=e||{};var r=e.isRoundCap;return function(n,a,i){var o=a.position;if(!o||o instanceof Array)return Jy(n,a,i);var s=t(o),u=a.distance!=null?a.distance:5,l=this.shape,f=l.cx,c=l.cy,h=l.r,p=l.r0,v=(h+p)/2,g=l.startAngle,y=l.endAngle,m=(g+y)/2,d=r?Math.abs(h-p)/2:0,_=Math.cos,x=Math.sin,w=f+h*_(g),S=c+h*x(g),b="left",T="top";switch(s){case"startArc":w=f+(p-u)*_(m),S=c+(p-u)*x(m),b="center",T="top";break;case"insideStartArc":w=f+(p+u)*_(m),S=c+(p+u)*x(m),b="center",T="bottom";break;case"startAngle":w=f+v*_(g)+s0(g,u+d,!1),S=c+v*x(g)+u0(g,u+d,!1),b="right",T="middle";break;case"insideStartAngle":w=f+v*_(g)+s0(g,-u+d,!1),S=c+v*x(g)+u0(g,-u+d,!1),b="left",T="middle";break;case"middle":w=f+v*_(m),S=c+v*x(m),b="center",T="middle";break;case"endArc":w=f+(h+u)*_(m),S=c+(h+u)*x(m),b="center",T="bottom";break;case"insideEndArc":w=f+(h-u)*_(m),S=c+(h-u)*x(m),b="center",T="top";break;case"endAngle":w=f+v*_(y)+s0(y,u+d,!0),S=c+v*x(y)+u0(y,u+d,!0),b="left",T="middle";break;case"insideEndAngle":w=f+v*_(y)+s0(y,-u+d,!0),S=c+v*x(y)+u0(y,-u+d,!0),b="right",T="middle";break;default:return Jy(n,a,i)}return n=n||{},n.x=w,n.y=S,n.align=b,n.verticalAlign=T,n}}function kRe(t,e,r,n){if(rr(n)){t.setTextConfig({rotation:n});return}else if(Le(e)){t.setTextConfig({rotation:0});return}var a=t.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,u,l=r(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=i;break;case"endAngle":case"insideEndAngle":u=o;break;default:t.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;l==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),t.setTextConfig({rotation:f})}function s0(t,e,r){return e*Math.sin(t)*(r?-1:1)}function u0(t,e,r){return e*Math.cos(t)*(r?1:-1)}function RRe(t,e,r){var n=t.get("borderRadius");if(n==null)return{cornerRadius:0};Le(n)||(n=[n,n,n,n]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Ne(n,function(i){return Zs(i,a)})}}var ES=Math.max,DS=Math.min;function ARe(t,e){var r=t.getArea&&t.getArea();if(yD(t,"cartesian2d")){var n=t.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(r.x-=a,r.width+=a*2):(r.y-=a,r.height+=a*2)}}return r}var NRe=function(t){Ce(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,n,a,i){this._model=r,this._removeOnRenderedListener(a),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,a):this._renderNormal(r,n,a,i))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},e.prototype.eachRendered=function(r){md(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r,n,a,i){var o=this.group,s=r.getData(),u=this._data,l=r.coordinateSystem,f=l.getBaseAxis(),c;l.type==="cartesian2d"?c=f.isHorizontal():l.type==="polar"&&(c=f.dim==="angle");var h=r.isAnimationEnabled()?r:null,p=FRe(r,l);p&&this._enableRealtimeSort(p,s,a);var v=r.get("clip",!0)||p,g=ARe(l,s);o.removeClipPath();var y=r.get("roundCap",!0),m=r.get("showBackground",!0),d=r.getModel("backgroundStyle"),_=d.get("borderRadius")||0,x=[],w=this._backgroundEls,S=i&&i.isInitSort,b=i&&i.type==="changeAxisOrder";function T(D){var E=l0[l.type](s,D),k=GRe(l,c,E);return k.useStyle(d.getItemStyle()),l.type==="cartesian2d"?k.setShape("r",_):k.setShape("cornerRadius",_),x[D]=k,k}s.diff(u).add(function(D){var E=s.getItemModel(D),k=l0[l.type](s,D,E);if(m&&T(D),!(!s.hasValue(D)||!uB[l.type](k))){var O=!1;v&&(O=aB[l.type](g,k));var A=iB[l.type](r,s,D,k,c,h,f.model,!1,y);p&&(A.forceLabelAnimation=!0),lB(A,s,D,E,k,r,c,l.type==="polar"),S?A.attr({shape:k}):p?oB(p,h,A,k,D,c,!1,!1):li(A,{shape:k},r,D),s.setItemGraphicEl(D,A),o.add(A),A.ignore=O}}).update(function(D,E){var k=s.getItemModel(D),O=l0[l.type](s,D,k);if(m){var A=void 0;w.length===0?A=T(E):(A=w[E],A.useStyle(d.getItemStyle()),l.type==="cartesian2d"?A.setShape("r",_):A.setShape("cornerRadius",_),x[D]=A);var I=l0[l.type](s,D),U=$W(c,I,l);Wn(A,{shape:U},h,D)}var P=u.getItemGraphicEl(E);if(!s.hasValue(D)||!uB[l.type](O)){o.remove(P);return}var B=!1;if(v&&(B=aB[l.type](g,O),B&&o.remove(P)),P?DE(P):P=iB[l.type](r,s,D,O,c,h,f.model,!!P,y),p&&(P.forceLabelAnimation=!0),b){var W=P.getTextContent();if(W){var H=K1(W);H.prevValue!=null&&(H.prevValue=H.value)}}else lB(P,s,D,k,O,r,c,l.type==="polar");S?P.attr({shape:O}):p?oB(p,h,P,O,D,c,!0,b):Wn(P,{shape:O},r,D,null),s.setItemGraphicEl(D,P),P.ignore=B,o.add(P)}).remove(function(D){var E=u.getItemGraphicEl(D);E&&gT(E,r,D)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new yr);C.removeAll();for(var M=0;M<x.length;++M)C.add(x[M]);o.add(C),this._backgroundEls=x,this._data=s},e.prototype._renderLarge=function(r,n,a){this._clear(),fB(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),fB(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&GW(r.coordinateSystem,!1,r),a=this.group;n?a.setClipPath(n):a.removeClipPath()},e.prototype._enableRealtimeSort=function(r,n,a){var i=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,a),this._isFirstFrame=!1;else{var s=function(u){var l=n.getItemGraphicEl(u),f=l&&l.shape;return f&&Math.abs(o.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,n,a){var i=[];return r.each(r.mapDimension(n.dim),function(o,s){var u=a(s);u=u??NaN,i.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Ne(i,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,n,a){for(var i=a.scale,o=r.mapDimension(a.dim),s=Number.MAX_VALUE,u=0,l=i.getOrdinalMeta().categories.length;u<l;++u){var f=r.rawIndexOf(o,i.getRawOrdinalNumber(u)),c=f<0?Number.MIN_VALUE:n(r.indexOfRawIndex(f));if(c>s)return!0;s=c}return!1},e.prototype._isOrderDifferentInView=function(r,n){for(var a=n.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(r,n,a,i){if(this._isOrderChangedWithinSameData(r,n,a)){var o=this._dataSort(r,a,n);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(r,n,a){var i=n.baseAxis,o=this._dataSort(r,i,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},e.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var n=this.group,a=this._data;r&&r.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){gT(i,r,Ft(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(La),aB={cartesian2d:function(t,e){var r=e.width<0?-1:1,n=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var a=t.x+t.width,i=t.y+t.height,o=ES(e.x,t.x),s=DS(e.x+e.width,a),u=ES(e.y,t.y),l=DS(e.y+e.height,i),f=s<o,c=l<u;return e.x=f&&o>a?s:o,e.y=c&&u>i?l:u,e.width=f?0:s-o,e.height=c?0:l-u,r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),f||c},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}var a=DS(e.r,t.r),i=ES(e.r0,t.r0);e.r=a,e.r0=i;var o=a-i<0;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},iB={cartesian2d:function(t,e,r,n,a,i,o,s,u){var l=new Yt({shape:Me({},n),z2:1});if(l.__dataIndex=r,l.name="item",i){var f=l.shape,c=a?"height":"width";f[c]=0}return l},polar:function(t,e,r,n,a,i,o,s,u){var l=!a&&u?nB:Qs,f=new l({shape:n,z2:1});f.name="item";var c=jW(a);if(f.calculateTextPosition=LRe(c,{isRoundCap:l===nB}),i){var h=f.shape,p=a?"r":"endAngle",v={};h[p]=a?n.r0:n.startAngle,v[p]=n[p],(s?Wn:li)(f,{shape:v},i)}return f}};function FRe(t,e){var r=t.get("realtimeSort",!0),n=e.getBaseAxis();if(r&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function oB(t,e,r,n,a,i,o,s){var u,l;i?(l={x:n.x,width:n.width},u={y:n.y,height:n.height}):(l={y:n.y,height:n.height},u={x:n.x,width:n.width}),s||(o?Wn:li)(r,{shape:u},e,a,null);var f=e?t.baseAxis.model:null;(o?Wn:li)(r,{shape:l},f,a)}function sB(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var BRe=["x","y","width","height"],IRe=["cx","cy","r","startAngle","endAngle"],uB={cartesian2d:function(t){return!sB(t,BRe)},polar:function(t){return!sB(t,IRe)}},l0={cartesian2d:function(t,e,r){var n=t.getItemLayout(e),a=r?PRe(r,n):0,i=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+o*a/2,width:n.width-i*a,height:n.height-o*a}},polar:function(t,e,r){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function VRe(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function jW(t){return function(e){var r=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(t)}function lB(t,e,r,n,a,i,o,s){var u=e.getItemVisual(r,"style");if(s){if(!i.get("roundCap")){var f=t.shape,c=RRe(n.getModel("itemStyle"),f);Me(f,c),t.setShape(f)}}else{var l=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(u);var h=n.getShallow("cursor");h&&t.attr("cursor",h);var p=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",v=$1(n);j1(t,v,{labelFetcher:i,labelDataIndex:r,defaultText:dD(i.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:p});var g=t.getTextContent();if(s&&g){var y=n.get(["label","position"]);t.textConfig.inside=y==="middle"?!0:null,kRe(t,y==="outside"?p:y,jW(o),n.get(["label","rotate"]))}tCe(g,v,i.getRawValue(r),function(d){return RW(e,d)});var m=n.getModel(["emphasis"]);wv(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),nm(t,n),VRe(a)&&(t.style.fill="none",t.style.stroke="none",oe(t.states,function(d){d.style&&(d.style.fill=d.style.stroke="none")}))}function PRe(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=t.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,i)}var URe=function(){function t(){}return t}(),cB=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new URe},e.prototype.buildPath=function(r,n){for(var a=n.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,f=0;f<a.length;f+=3)u[i]=l,u[o]=a[f+2],s[i]=a[f+i],s[o]=a[f+o],r.rect(s[0],s[1],u[0],u[1])},e}(yt);function fB(t,e,r,n){var a=t.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),u=t.getModel("backgroundStyle"),l=a.getLayout("largeBackgroundPoints");if(l){var f=new cB({shape:{points:l},incremental:!!n,silent:!0,z2:0});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,f.useStyle(u.getItemStyle()),e.add(f),r&&r.push(f)}var c=new cB({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,e.add(c),c.useStyle(a.getVisual("style")),c.style.stroke=null,Ft(c).seriesIndex=t.seriesIndex,t.get("silent")||(c.on("mousedown",hB),c.on("mousemove",hB)),r&&r.push(c)}var hB=GE(function(t){var e=this,r=zRe(e,t.offsetX,t.offsetY);Ft(e).dataIndex=r>=0?r:null},30,!1);function zRe(t,e,r){for(var n=t.baseDimIdx,a=1-n,i=t.shape.points,o=t.largeDataIndices,s=[],u=[],l=t.barWidth,f=0,c=i.length/3;f<c;f++){var h=f*3;if(u[n]=l,u[a]=i[h+2],s[n]=i[h+n],s[a]=i[h+a],u[a]<0&&(s[a]+=u[a],u[a]=-u[a]),e>=s[0]&&e<=s[0]+u[0]&&r>=s[1]&&r<=s[1]+u[1])return o[f]}return-1}function $W(t,e,r){if(yD(r,"cartesian2d")){var n=e,a=r.getArea();return{x:t?n.x:a.x,y:t?a.y:n.y,width:t?n.width:a.width,height:t?a.height:n.height}}else{var a=r.getArea(),i=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:i.r0,r:t?a.r:i.r,startAngle:t?i.startAngle:0,endAngle:t?i.endAngle:Math.PI*2}}}function GRe(t,e,r){var n=t.type==="polar"?Qs:Yt;return new n({shape:$W(e,r,t),silent:!0,z2:0})}function WRe(t){t.registerChartView(NRe),t.registerSeriesModel(ORe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Mt(GDe,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,WDe("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,HW("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(a){e.sortInfo&&a.axis.setCategorySortInfo(e.sortInfo)})})}function HRe(t,e,r){e=Le(e)&&{coordDimensions:e}||Me({encodeDefine:t.getEncode()},e);var n=t.getSource(),a=M9(n,e).dimensions,i=new O9(a,t);return i.initData(n,r),i}var jRe=function(){function t(){}return t.prototype._hasEncodeRule=function(e){var r=this.getEncode();return r&&r.get(e)!=null},t.prototype.getInitialData=function(e,r){var n,a=r.getComponent("xAxis",this.get("xAxisIndex")),i=r.getComponent("yAxis",this.get("yAxisIndex")),o=a.get("type"),s=i.get("type"),u;o==="category"?(e.layout="horizontal",n=a.getOrdinalMeta(),u=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",n=i.getOrdinalMeta(),u=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var l=["x","y"],f=e.layout==="horizontal"?0:1,c=this._baseAxisDim=l[f],h=l[1-f],p=[a,i],v=p[f].get("type"),g=p[1-f].get("type"),y=e.data;if(y&&u){var m=[];oe(y,function(x,w){var S;Le(x)?(S=x.slice(),x.unshift(w)):Le(x.value)?(S=Me({},x),S.value=S.value.slice(),x.value.unshift(w)):S=x,m.push(S)}),e.data=m}var d=this.defaultValueDimensions,_=[{name:c,type:RT(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:RT(g),dimsDef:d.slice()}];return HRe(this,{coordDimensions:_,dimensionsCount:d.length+1,encodeDefaulter:Mt(SG,_,this)})},t.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},t}(),$Re=["itemStyle","borderColor"],KRe=["itemStyle","borderColor0"],XRe=["itemStyle","borderColorDoji"],YRe=["itemStyle","color"],qRe=["itemStyle","color0"];function _D(t,e){return e.get(t>0?YRe:qRe)}function xD(t,e){return e.get(t===0?XRe:t>0?$Re:KRe)}var ZRe={seriesType:"candlestick",plan:wd(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t)){var r=t.pipelineContext.large;return!r&&{progress:function(n,a){for(var i;(i=n.next())!=null;){var o=a.getItemModel(i),s=a.getItemLayout(i).sign,u=o.getItemStyle();u.fill=_D(s,o),u.stroke=xD(s,o)||u.fill;var l=a.ensureUniqueItemVisual(i,"style");Me(l,u)}}}}}},JRe=["color","borderColor"],QRe=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},e.prototype.incrementalPrepareRender=function(r,n,a){this._clear(),this._updateDrawMode(r)},e.prototype.incrementalRender=function(r,n,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},e.prototype.eachRendered=function(r){md(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r){var n=r.getData(),a=this._data,i=this.group,o=n.getLayout("isSimpleBox"),s=r.get("clip",!0),u=r.coordinateSystem,l=u.getArea&&u.getArea();this._data||i.removeAll(),n.diff(a).add(function(f){if(n.hasValue(f)){var c=n.getItemLayout(f);if(s&&pB(l,c))return;var h=OS(c,f,!0);li(h,{shape:{points:c.ends}},r,f),MS(h,n,f,o),i.add(h),n.setItemGraphicEl(f,h)}}).update(function(f,c){var h=a.getItemGraphicEl(c);if(!n.hasValue(f)){i.remove(h);return}var p=n.getItemLayout(f);if(s&&pB(l,p)){i.remove(h);return}h?(Wn(h,{shape:{points:p.ends}},r,f),DE(h)):h=OS(p),MS(h,n,f,o),i.add(h),n.setItemGraphicEl(f,h)}).remove(function(f){var c=a.getItemGraphicEl(f);c&&i.remove(c)}).execute(),this._data=n},e.prototype._renderLarge=function(r){this._clear(),vB(r,this.group);var n=r.get("clip",!0)?GW(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(r,n){for(var a=n.getData(),i=a.getLayout("isSimpleBox"),o;(o=r.next())!=null;){var s=a.getItemLayout(o),u=OS(s);MS(u,a,o,i),u.incremental=!0,this.group.add(u),this._progressiveEls.push(u)}},e.prototype._incrementalRenderLarge=function(r,n){vB(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(r){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(La),eAe=function(){function t(){}return t}(),tAe=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new eAe},e.prototype.buildPath=function(r,n){var a=n.points;this.__simpleBox?(r.moveTo(a[4][0],a[4][1]),r.lineTo(a[6][0],a[6][1])):(r.moveTo(a[0][0],a[0][1]),r.lineTo(a[1][0],a[1][1]),r.lineTo(a[2][0],a[2][1]),r.lineTo(a[3][0],a[3][1]),r.closePath(),r.moveTo(a[4][0],a[4][1]),r.lineTo(a[5][0],a[5][1]),r.moveTo(a[6][0],a[6][1]),r.lineTo(a[7][0],a[7][1]))},e}(yt);function OS(t,e,r){var n=t.ends;return new tAe({shape:{points:r?rAe(n,t):n},z2:100})}function pB(t,e){for(var r=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){r=!1;break}return r}function MS(t,e,r,n){var a=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.__simpleBox=n,nm(t,a);var i=e.getItemLayout(r).sign;oe(t.states,function(s,u){var l=a.getModel(u),f=_D(i,l),c=xD(i,l)||f,h=s.style||(s.style={});f&&(h.fill=f),c&&(h.stroke=c)});var o=a.getModel("emphasis");wv(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function rAe(t,e){return Ne(t,function(r){return r=r.slice(),r[1]=e.initBaseline,r})}var nAe=function(){function t(){}return t}(),LS=function(t){Ce(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new nAe},e.prototype.buildPath=function(r,n){for(var a=n.points,i=0;i<a.length;)if(this.__sign===a[i++]){var o=a[i++];r.moveTo(o,a[i++]),r.lineTo(o,a[i++])}else i+=3},e}(yt);function vB(t,e,r,n){var a=t.getData(),i=a.getLayout("largePoints"),o=new LS({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new LS({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var u=new LS({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});e.add(u),kS(1,o,t),kS(-1,s,t),kS(0,u,t),n&&(o.incremental=!0,s.incremental=!0),r&&r.push(o,s)}function kS(t,e,r,n){var a=xD(t,r)||_D(t,r),i=r.getModel("itemStyle").getItemStyle(JRe);e.useStyle(i),e.style.fill=null,e.style.stroke=a}var KW=function(t){Ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(r,n,a){var i=n.getItemLayout(r);return i&&a.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(ci);di(KW,jRe,!0);function aAe(t){!t||!Le(t.series)||oe(t.series,function(e){Ue(e)&&e.type==="k"&&(e.type="candlestick")})}var iAe={seriesType:"candlestick",plan:wd(),reset:function(t){var e=t.coordinateSystem,r=t.getData(),n=oAe(t,r),a=0,i=1,o=["x","y"],s=r.getDimensionIndex(r.mapDimension(o[a])),u=Ne(r.mapDimensionsAll(o[i]),r.getDimensionIndex,r),l=u[0],f=u[1],c=u[2],h=u[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||u.length<4)return;return{progress:t.pipelineContext.large?v:p};function p(g,y){for(var m,d=y.getStore();(m=g.next())!=null;){var _=d.get(s,m),x=d.get(l,m),w=d.get(f,m),S=d.get(c,m),b=d.get(h,m),T=Math.min(x,w),C=Math.max(x,w),M=U(T,_),D=U(C,_),E=U(S,_),k=U(b,_),O=[];P(O,D,0),P(O,M,1),O.push(W(k),W(D),W(E),W(M));var A=y.getItemModel(m),I=!!A.get(["itemStyle","borderColorDoji"]);y.setItemLayout(m,{sign:dB(d,m,x,w,f,I),initBaseline:x>w?D[i]:M[i],ends:O,brushRect:B(S,b,_)})}function U(H,$){var q=[];return q[a]=$,q[i]=H,isNaN($)||isNaN(H)?[NaN,NaN]:e.dataToPoint(q)}function P(H,$,q){var Q=$.slice(),Y=$.slice();Q[a]=J0(Q[a]+n/2,1,!1),Y[a]=J0(Y[a]-n/2,1,!0),q?H.push(Q,Y):H.push(Y,Q)}function B(H,$,q){var Q=U(H,q),Y=U($,q);return Q[a]-=n/2,Y[a]-=n/2,{x:Q[0],y:Q[1],width:n,height:Y[1]-Q[1]}}function W(H){return H[a]=J0(H[a],1),H}}function v(g,y){for(var m=zi(g.count*4),d=0,_,x=[],w=[],S,b=y.getStore(),T=!!t.get(["itemStyle","borderColorDoji"]);(S=g.next())!=null;){var C=b.get(s,S),M=b.get(l,S),D=b.get(f,S),E=b.get(c,S),k=b.get(h,S);if(isNaN(C)||isNaN(E)||isNaN(k)){m[d++]=NaN,d+=3;continue}m[d++]=dB(b,S,M,D,f,T),x[a]=C,x[i]=E,_=e.dataToPoint(x,null,w),m[d++]=_?_[0]:NaN,m[d++]=_?_[1]:NaN,x[i]=k,_=e.dataToPoint(x,null,w),m[d++]=_?_[1]:NaN}y.setLayout("largePoints",m)}}};function dB(t,e,r,n,a,i){var o;return r>n?o=-1:r<n?o=1:o=i?0:e>0?t.get(a,e-1)<=n?1:-1:1,o}function oAe(t,e){var r=t.getBaseAxis(),n,a=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),i=Lr(pt(t.get("barMaxWidth"),a),a),o=Lr(pt(t.get("barMinWidth"),1),a),s=t.get("barWidth");return s!=null?Lr(s,a):Math.max(Math.min(a/2,i),o)}function sAe(t){t.registerChartView(QRe),t.registerSeriesModel(KW),t.registerPreprocessor(aAe),t.registerVisual(ZRe),t.registerLayout(iAe)}var Oi=Js.CMD;function Hc(t,e){return Math.abs(t-e)<1e-5}function aC(t){var e=t.data,r=t.len(),n=[],a,i=0,o=0,s=0,u=0;function l(k,O){a&&a.length>2&&n.push(a),a=[k,O]}function f(k,O,A,I){Hc(k,A)&&Hc(O,I)||a.push(k,O,A,I,A,I)}function c(k,O,A,I,U,P){var B=Math.abs(O-k),W=Math.tan(B/4)*4/3,H=O<k?-1:1,$=Math.cos(k),q=Math.sin(k),Q=Math.cos(O),Y=Math.sin(O),ie=$*U+A,J=q*P+I,ae=Q*U+A,re=Y*P+I,V=U*W*H,R=P*W*H;a.push(ie-V*q,J+R*$,ae+V*Y,re-R*Q,ae,re)}for(var h,p,v,g,y=0;y<r;){var m=e[y++],d=y===1;switch(d&&(i=e[y],o=e[y+1],s=i,u=o,(m===Oi.L||m===Oi.C||m===Oi.Q)&&(a=[s,u])),m){case Oi.M:i=s=e[y++],o=u=e[y++],l(s,u);break;case Oi.L:h=e[y++],p=e[y++],f(i,o,h,p),i=h,o=p;break;case Oi.C:a.push(e[y++],e[y++],e[y++],e[y++],i=e[y++],o=e[y++]);break;case Oi.Q:h=e[y++],p=e[y++],v=e[y++],g=e[y++],a.push(i+2/3*(h-i),o+2/3*(p-o),v+2/3*(h-v),g+2/3*(p-g),v,g),i=v,o=g;break;case Oi.A:var _=e[y++],x=e[y++],w=e[y++],S=e[y++],b=e[y++],T=e[y++]+b;y+=1;var C=!e[y++];h=Math.cos(b)*w+_,p=Math.sin(b)*S+x,d?(s=h,u=p,l(s,u)):f(i,o,h,p),i=Math.cos(T)*w+_,o=Math.sin(T)*S+x;for(var M=(C?-1:1)*Math.PI/2,D=b;C?D>T:D<T;D+=M){var E=C?Math.max(D+M,T):Math.min(D+M,T);c(D,E,_,x,w,S)}break;case Oi.R:s=i=e[y++],u=o=e[y++],h=s+e[y++],p=u+e[y++],l(h,u),f(h,u,h,p),f(h,p,s,p),f(s,p,s,u),f(s,u,h,u);break;case Oi.Z:a&&f(i,o,s,u),i=s,o=u;break}}return a&&a.length>2&&n.push(a),n}function iC(t,e,r,n,a,i,o,s,u,l){if(Hc(t,r)&&Hc(e,n)&&Hc(a,o)&&Hc(i,s)){u.push(o,s);return}var f=2/l,c=f*f,h=o-t,p=s-e,v=Math.sqrt(h*h+p*p);h/=v,p/=v;var g=r-t,y=n-e,m=a-o,d=i-s,_=g*g+y*y,x=m*m+d*d;if(_<c&&x<c){u.push(o,s);return}var w=h*g+p*y,S=-h*m-p*d,b=_-w*w,T=x-S*S;if(b<c&&w>=0&&T<c&&S>=0){u.push(o,s);return}var C=[],M=[];qs(t,r,a,o,.5,C),qs(e,n,i,s,.5,M),iC(C[0],M[0],C[1],M[1],C[2],M[2],C[3],M[3],u,l),iC(C[4],M[4],C[5],M[5],C[6],M[6],C[7],M[7],u,l)}function uAe(t,e){var r=aC(t),n=[];e=e||1;for(var a=0;a<r.length;a++){var i=r[a],o=[],s=i[0],u=i[1];o.push(s,u);for(var l=2;l<i.length;){var f=i[l++],c=i[l++],h=i[l++],p=i[l++],v=i[l++],g=i[l++];iC(s,u,f,c,h,p,v,g,o,e),s=v,u=g}n.push(o)}return n}function XW(t,e,r){var n=t[e],a=t[1-e],i=Math.abs(n/a),o=Math.ceil(Math.sqrt(i*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var u=[],l=0;l<o;l++)u.push(s);var f=o*s,c=r-f;if(c>0)for(var l=0;l<c;l++)u[l%o]+=1;return u}function gB(t,e,r){for(var n=t.r0,a=t.r,i=t.startAngle,o=t.endAngle,s=Math.abs(o-i),u=s*a,l=a-n,f=u>Math.abs(l),c=XW([u,l],f?0:1,e),h=(f?s:l)/c.length,p=0;p<c.length;p++)for(var v=(f?l:s)/c[p],g=0;g<c[p];g++){var y={};f?(y.startAngle=i+h*p,y.endAngle=i+h*(p+1),y.r0=n+v*g,y.r=n+v*(g+1)):(y.startAngle=i+v*g,y.endAngle=i+v*(g+1),y.r0=n+h*p,y.r=n+h*(p+1)),y.clockwise=t.clockwise,y.cx=t.cx,y.cy=t.cy,r.push(y)}}function lAe(t,e,r){for(var n=t.width,a=t.height,i=n>a,o=XW([n,a],i?0:1,e),s=i?"width":"height",u=i?"height":"width",l=i?"x":"y",f=i?"y":"x",c=t[s]/o.length,h=0;h<o.length;h++)for(var p=t[u]/o[h],v=0;v<o[h];v++){var g={};g[l]=h*c,g[f]=v*p,g[s]=c,g[u]=p,g.x+=t.x,g.y+=t.y,r.push(g)}}function yB(t,e,r,n){return t*n-r*e}function cAe(t,e,r,n,a,i,o,s){var u=r-t,l=n-e,f=o-a,c=s-i,h=yB(f,c,u,l);if(Math.abs(h)<1e-6)return null;var p=t-a,v=e-i,g=yB(p,v,f,c)/h;return g<0||g>1?null:new Et(g*u+t,g*l+e)}function fAe(t,e,r){var n=new Et;Et.sub(n,r,e),n.normalize();var a=new Et;Et.sub(a,t,e);var i=a.dot(n);return i}function bc(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function hAe(t,e,r){for(var n=t.length,a=[],i=0;i<n;i++){var o=t[i],s=t[(i+1)%n],u=cAe(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);u&&a.push({projPt:fAe(u,e,r),pt:u,idx:i})}if(a.length<2)return[{points:t},{points:t}];a.sort(function(y,m){return y.projPt-m.projPt});var l=a[0],f=a[a.length-1];if(f.idx<l.idx){var c=l;l=f,f=c}for(var h=[l.pt.x,l.pt.y],p=[f.pt.x,f.pt.y],v=[h],g=[p],i=l.idx+1;i<=f.idx;i++)bc(v,t[i].slice());bc(v,p),bc(v,h);for(var i=f.idx+1;i<=l.idx+n;i++)bc(g,t[i%n].slice());return bc(g,h),bc(g,p),[{points:v},{points:g}]}function mB(t){var e=t.points,r=[],n=[];Ez(e,r,n);var a=new Dt(r[0],r[1],n[0]-r[0],n[1]-r[1]),i=a.width,o=a.height,s=a.x,u=a.y,l=new Et,f=new Et;return i>o?(l.x=f.x=s+i/2,l.y=u,f.y=u+o):(l.y=f.y=u+o/2,l.x=s,f.x=s+i),hAe(e,l,f)}function _m(t,e,r,n){if(r===1)n.push(e);else{var a=Math.floor(r/2),i=t(e);_m(t,i[0],a,n),_m(t,i[1],r-a,n)}return n}function pAe(t,e){for(var r=[],n=0;n<e;n++)r.push(SE(t));return r}function vAe(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function dAe(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function gAe(t,e){var r=[],n=t.shape,a;switch(t.type){case"rect":lAe(n,e,r),a=Yt;break;case"sector":gB(n,e,r),a=Qs;break;case"circle":gB({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),a=Qs;break;default:var i=t.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=Ne(uAe(t.getUpdatedPathProxy(),o),function(m){return dAe(m)}),u=s.length;if(u===0)_m(mB,{points:s[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:s[l]});else{var f=0,c=Ne(s,function(m){var d=[],_=[];Ez(m,d,_);var x=(_[1]-d[1])*(_[0]-d[0]);return f+=x,{poly:m,area:x}});c.sort(function(m,d){return d.area-m.area});for(var h=e,l=0;l<u;l++){var p=c[l];if(h<=0)break;var v=l===u-1?h:Math.ceil(p.area/f*e);v<0||(_m(mB,{points:p.poly},v,r),h-=v)}}a=Yf;break}if(!a)return pAe(t,e);for(var g=[],l=0;l<r.length;l++){var y=new a;y.setShape(r[l]),vAe(t,y),g.push(y)}return g}function yAe(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var a=[],i=[],o=r<n?t:e,s=Math.min(r,n),u=Math.abs(n-r)/6,l=(s-2)/6,f=Math.ceil(u/l)+1,c=[o[0],o[1]],h=u,p=2;p<s;){var v=o[p-2],g=o[p-1],y=o[p++],m=o[p++],d=o[p++],_=o[p++],x=o[p++],w=o[p++];if(h<=0){c.push(y,m,d,_,x,w);continue}for(var S=Math.min(h,f-1)+1,b=1;b<=S;b++){var T=b/S;qs(v,y,d,x,T,a),qs(g,m,_,w,T,i),v=a[3],g=i[3],c.push(a[1],i[1],a[2],i[2],v,g),y=a[5],m=i[5],d=a[6],_=i[6]}h-=S-1}return o===t?[c,e]:[t,c]}function _B(t,e){for(var r=t.length,n=t[r-2],a=t[r-1],i=[],o=0;o<e.length;)i[o++]=n,i[o++]=a;return i}function mAe(t,e){for(var r,n,a,i=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],l=e[s],f=void 0,c=void 0;u?l?(r=yAe(u,l),f=r[0],c=r[1],n=f,a=c):(c=_B(a||u,u),f=u):(f=_B(n||l,l),c=l),i.push(f),o.push(c)}return[i,o]}function xB(t){for(var e=0,r=0,n=0,a=t.length,i=0,o=a-2;i<a;o=i,i+=2){var s=t[o],u=t[o+1],l=t[i],f=t[i+1],c=s*f-l*u;e+=c,r+=(s+l)*c,n+=(u+f)*c}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function _Ae(t,e,r,n){for(var a=(t.length-2)/6,i=1/0,o=0,s=t.length,u=s-2,l=0;l<a;l++){for(var f=l*6,c=0,h=0;h<s;h+=2){var p=h===0?f:(f+h-2)%u+2,v=t[p]-r[0],g=t[p+1]-r[1],y=e[h]-n[0],m=e[h+1]-n[1],d=y-v,_=m-g;c+=d*d+_*_}c<i&&(i=c,o=l)}return o}function xAe(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function wAe(t,e,r,n){for(var a=[],i,o=0;o<t.length;o++){var s=t[o],u=e[o],l=xB(s),f=xB(u);i==null&&(i=l[2]<0!=f[2]<0);var c=[],h=[],p=0,v=1/0,g=[],y=s.length;i&&(s=xAe(s));for(var m=_Ae(s,u,l,f)*6,d=y-2,_=0;_<d;_+=2){var x=(m+_)%d+2;c[_+2]=s[x]-l[0],c[_+3]=s[x+1]-l[1]}c[0]=s[m]-l[0],c[1]=s[m+1]-l[1];for(var w=n/r,S=-n/2;S<=n/2;S+=w){for(var b=Math.sin(S),T=Math.cos(S),C=0,_=0;_<s.length;_+=2){var M=c[_],D=c[_+1],E=u[_]-f[0],k=u[_+1]-f[1],O=E*T-k*b,A=E*b+k*T;g[_]=O,g[_+1]=A;var I=O-M,U=A-D;C+=I*I+U*U}if(C<v){v=C,p=S;for(var P=0;P<g.length;P++)h[P]=g[P]}}a.push({from:c,to:h,fromCp:l,toCp:f,rotation:-p})}return a}function xm(t){return t.__isCombineMorphing}var YW="__mOriginal_";function wm(t,e,r){var n=YW+e,a=t[n]||t[e];t[n]||(t[n]=t[e]);var i=r.replace,o=r.after,s=r.before;t[e]=function(){var u=arguments,l;return s&&s.apply(this,u),i?l=i.apply(this,u):l=a.apply(this,u),o&&o.apply(this,u),l}}function Bp(t,e){var r=YW+e;t[r]&&(t[e]=t[r],t[r]=null)}function wB(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],a=0;a<n.length;){var i=n[a],o=n[a+1];n[a++]=e[0]*i+e[2]*o+e[4],n[a++]=e[1]*i+e[3]*o+e[5]}}function qW(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),a=mAe(aC(r),aC(n)),i=a[0],o=a[1],s=t.getComputedTransform(),u=e.getComputedTransform();function l(){this.transform=null}s&&wB(i,s),u&&wB(o,u),wm(e,"updateTransform",{replace:l}),e.transform=null;var f=wAe(i,o,10,Math.PI),c=[];wm(e,"buildPath",{replace:function(h){for(var p=e.__morphT,v=1-p,g=[],y=0;y<f.length;y++){var m=f[y],d=m.from,_=m.to,x=m.rotation*p,w=m.fromCp,S=m.toCp,b=Math.sin(x),T=Math.cos(x);dwe(g,w,S,p);for(var C=0;C<d.length;C+=2){var M=d[C],D=d[C+1],E=_[C],k=_[C+1],O=M*v+E*p,A=D*v+k*p;c[C]=O*T-A*b+g[0],c[C+1]=O*b+A*T+g[1]}var I=c[0],U=c[1];h.moveTo(I,U);for(var C=2;C<d.length;){var E=c[C++],k=c[C++],P=c[C++],B=c[C++],W=c[C++],H=c[C++];I===E&&U===k&&P===W&&B===H?h.lineTo(W,H):h.bezierCurveTo(E,k,P,B,W,H),I=W,U=H}}}})}function wD(t,e,r){if(!t||!e)return e;var n=r.done,a=r.during;qW(t,e),e.__morphT=0;function i(){Bp(e,"buildPath"),Bp(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},ot({during:function(o){e.dirtyShape(),a&&a(o)},done:function(){i(),n&&n()}},r)),e}function SAe(t,e,r,n,a,i){var o=16;t=a===r?0:Math.round(32767*(t-r)/(a-r)),e=i===n?0:Math.round(32767*(e-n)/(i-n));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var f=0,c=0;(t&l)>0&&(f=1),(e&l)>0&&(c=1),s+=l*l*(3*f^c),c===0&&(f===1&&(t=l-1-t,e=l-1-e),u=t,t=e,e=u)}return s}function Sm(t){var e=1/0,r=1/0,n=-1/0,a=-1/0,i=Ne(t,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),f=u.x+u.width/2+(l?l[4]:0),c=u.y+u.height/2+(l?l[5]:0);return e=Math.min(f,e),r=Math.min(c,r),n=Math.max(f,n),a=Math.max(c,a),[f,c]}),o=Ne(i,function(s,u){return{cp:s,z:SAe(s[0],s[1],e,r,n,a),path:t[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function ZW(t){return gAe(t.path,t.count)}function oC(){return{fromIndividuals:[],toIndividuals:[],count:0}}function bAe(t,e,r){var n=[];function a(w){for(var S=0;S<w.length;S++){var b=w[S];xm(b)?a(b.childrenRef()):b instanceof yt&&n.push(b)}}a(t);var i=n.length;if(!i)return oC();var o=r.dividePath||ZW,s=o({path:e,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),oC();n=Sm(n),s=Sm(s);for(var u=r.done,l=r.during,f=r.individualDelay,c=new L1,h=0;h<i;h++){var p=n[h],v=s[h];v.parent=e,v.copyTransform(c),f||qW(p,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(w){for(var S=0;S<s.length;S++)s[S].addSelfToZr(w)}wm(e,"addSelfToZr",{after:function(w){g(w)}}),wm(e,"removeSelfFromZr",{after:function(w){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(w)}});function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Bp(e,"addSelfToZr"),Bp(e,"removeSelfFromZr")}var m=s.length;if(f)for(var d=m,_=function(){d--,d===0&&(y(),u&&u())},h=0;h<m;h++){var x=f?ot({delay:(r.delay||0)+f(h,m,n[h],s[h]),done:_},r):r;wD(n[h],s[h],x)}else e.__morphT=0,e.animateTo({__morphT:1},ot({during:function(w){for(var S=0;S<m;S++){var b=s[S];b.__morphT=e.__morphT,b.dirtyShape()}l&&l(w)},done:function(){y();for(var w=0;w<t.length;w++)Bp(t[w],"updateTransform");u&&u()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:s,count:m}}function TAe(t,e,r){var n=e.length,a=[],i=r.dividePath||ZW;function o(p){for(var v=0;v<p.length;v++){var g=p[v];xm(g)?o(g.childrenRef()):g instanceof yt&&a.push(g)}}if(xm(t)){o(t.childrenRef());var s=a.length;if(s<n)for(var u=0,l=s;l<n;l++)a.push(SE(a[u++%s]));a.length=n}else{a=i({path:t,count:n});for(var f=t.getComputedTransform(),l=0;l<a.length;l++)a[l].setLocalTransform(f);if(a.length!==n)return console.error("Invalid morphing: unmatched splitted path"),oC()}a=Sm(a),e=Sm(e);for(var c=r.individualDelay,l=0;l<n;l++){var h=c?ot({delay:(r.delay||0)+c(l,n,a[l],e[l])},r):r;wD(a[l],e[l],h)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function SB(t){return Le(t[0])}function bB(t,e){for(var r=[],n=t.length,a=0;a<n;a++)r.push({one:t[a],many:[]});for(var a=0;a<e.length;a++){var i=e[a].length,o=void 0;for(o=0;o<i;o++)r[o%n].many.push(e[a][o])}for(var s=0,a=n-1;a>=0;a--)if(!r[a].many.length){var u=r[s].many;if(u.length<=1)if(s)s=0;else return r;var i=u.length,l=Math.ceil(i/2);r[a].many=u.slice(l,i),r[s].many=u.slice(0,l),s++}return r}var CAe={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var a=SE(t.path);a.setStyle("opacity",r),e.push(a)}return e},split:null};function RS(t,e,r,n,a,i){if(!t.length||!e.length)return;var o=z1("update",n,a);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,f;SB(t)&&(l=t,f=e),SB(e)&&(l=e,f=t);function c(m,d,_,x,w){var S=m.many,b=m.one;if(S.length===1&&!w){var T=d?S[0]:b,C=d?b:S[0];if(xm(T))c({many:[T],one:C},!0,_,x,!0);else{var M=s?ot({delay:s(_,x)},u):u;wD(T,C,M),i(T,C,T,C,M)}}else for(var D=ot({dividePath:CAe[r],individualDelay:s&&function(U,P,B,W){return s(U+_,x)}},u),E=d?bAe(S,b,D):TAe(b,S,D),k=E.fromIndividuals,O=E.toIndividuals,A=k.length,I=0;I<A;I++){var M=s?ot({delay:s(I,A)},u):u;i(k[I],O[I],d?S[I]:m.one,d?m.one:S[I],M)}}for(var h=l?l===t:t.length>e.length,p=l?bB(f,l):bB(h?e:t,[h?t:e]),v=0,g=0;g<p.length;g++)v+=p[g].many.length;for(var y=0,g=0;g<p.length;g++)c(p[g],h,y,v),y+=p[g].many.length}function Yu(t){if(!t)return[];if(Le(t)){for(var e=[],r=0;r<t.length;r++)e.push(Yu(t[r]));return e}var n=[];return t.traverse(function(a){a instanceof yt&&!a.disableMorphing&&!a.invisible&&!a.ignore&&n.push(a)}),n}var JW=1e4,EAe=0,TB=1,CB=2,DAe=_r();function OAe(t,e){for(var r=t.dimensions,n=0;n<r.length;n++){var a=t.getDimensionInfo(r[n]);if(a&&a.otherDims[e]===0)return r[n]}}function MAe(t,e,r){var n=t.getDimensionInfo(r),a=n&&n.ordinalMeta;if(n){var i=t.get(n.name,e);return a&&a.categories[i]||i+""}}function EB(t,e,r,n){var a=n?"itemChildGroupId":"itemGroupId",i=OAe(t,a);if(i){var o=MAe(t,e,i);return o}var s=t.getRawDataItem(e),u=n?"childGroupId":"groupId";if(s&&s[u])return s[u]+"";if(!n)return r||t.getId(e)}function DB(t){var e=[];return oe(t,function(r){var n=r.data,a=r.dataGroupId;if(!(n.count()>JW))for(var i=n.getIndices(),o=0;o<i.length;o++)e.push({data:n,groupId:EB(n,o,a,!1),childGroupId:EB(n,o,a,!0),divide:r.divide,dataIndex:o})}),e}function AS(t,e,r){t.traverse(function(n){n instanceof yt&&li(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function NS(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function Tc(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function LAe(t,e,r){var n=z1("update",r,e);n&&t.traverse(function(a){if(a instanceof Xf){var i=zTe(a);i&&a.animateFrom({style:i},n)}})}function kAe(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var a=t[n],i=e[n];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function QW(t,e,r){var n=DB(t),a=DB(e);function i(_,x,w,S,b){(w||_)&&x.animateFrom({style:w&&w!==_?Me(Me({},w.style),_.style):_.style},b)}var o=!1,s=EAe,u=Xe(),l=Xe();n.forEach(function(_){_.groupId&&u.set(_.groupId,!0),_.childGroupId&&l.set(_.childGroupId,!0)});for(var f=0;f<a.length;f++){var c=a[f].groupId;if(l.get(c)){s=TB;break}var h=a[f].childGroupId;if(h&&u.get(h)){s=CB;break}}function p(_,x){return function(w){var S=w.data,b=w.dataIndex;return x?S.getId(b):_?s===TB?w.childGroupId:w.groupId:s===CB?w.childGroupId:w.groupId}}var v=kAe(n,a),g={};if(!v)for(var f=0;f<a.length;f++){var y=a[f],m=y.data.getItemGraphicEl(y.dataIndex);m&&(g[m.id]=!0)}function d(_,x){var w=n[x],S=a[_],b=S.data.hostModel,T=w.data.getItemGraphicEl(w.dataIndex),C=S.data.getItemGraphicEl(S.dataIndex);if(T===C){C&&LAe(C,S.dataIndex,b);return}T&&g[T.id]||C&&(Tc(C),T?(Tc(T),NS(T),o=!0,RS(Yu(T),Yu(C),S.divide,b,_,i)):AS(C,b,_))}new Lv(n,a,p(!0,v),p(!1,v),null,"multiple").update(d).updateManyToOne(function(_,x){var w=a[_],S=w.data,b=S.hostModel,T=S.getItemGraphicEl(w.dataIndex),C=Mr(Ne(x,function(M){return n[M].data.getItemGraphicEl(n[M].dataIndex)}),function(M){return M&&M!==T&&!g[M.id]});T&&(Tc(T),C.length?(oe(C,function(M){Tc(M),NS(M)}),o=!0,RS(Yu(C),Yu(T),w.divide,b,_,i)):AS(T,b,w.dataIndex))}).updateOneToMany(function(_,x){var w=n[x],S=w.data.getItemGraphicEl(w.dataIndex);if(!(S&&g[S.id])){var b=Mr(Ne(_,function(C){return a[C].data.getItemGraphicEl(a[C].dataIndex)}),function(C){return C&&C!==S}),T=a[_[0]].data.hostModel;b.length&&(oe(b,function(C){return Tc(C)}),S?(Tc(S),NS(S),o=!0,RS(Yu(S),Yu(b),w.divide,T,_[0],i)):oe(b,function(C){return AS(C,T,_[0])}))}}).updateManyToMany(function(_,x){new Lv(x,_,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return a[w].data.getId(a[w].dataIndex)}).update(function(w,S){d(_[w],x[S])}).execute()}).execute(),o&&oe(e,function(_){var x=_.data,w=x.hostModel,S=w&&r.getViewOfSeriesModel(w),b=z1("update",w,0);S&&w.isAnimationEnabled()&&b&&b.duration>0&&S.group.traverse(function(T){T instanceof yt&&!T.animators.length&&T.animateFrom({style:{opacity:0}},b)})})}function OB(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function MB(t){return Le(t)?t.sort().join(","):t}function Cs(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function RAe(t,e){var r=Xe(),n=Xe(),a=Xe();return oe(t.oldSeries,function(i,o){var s=t.oldDataGroupIds[o],u=t.oldData[o],l=OB(i),f=MB(l);n.set(f,{dataGroupId:s,data:u}),Le(l)&&oe(l,function(c){a.set(c,{key:f,dataGroupId:s,data:u})})}),oe(e.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),u=OB(i),l=MB(u),f=n.get(l);if(f)r.set(l,{oldSeries:[{dataGroupId:f.dataGroupId,divide:Cs(f.data),data:f.data}],newSeries:[{dataGroupId:o,divide:Cs(s),data:s}]});else if(Le(u)){var c=[];oe(u,function(v){var g=n.get(v);g.data&&c.push({dataGroupId:g.dataGroupId,divide:Cs(g.data),data:g.data})}),c.length&&r.set(l,{oldSeries:c,newSeries:[{dataGroupId:o,data:s,divide:Cs(s)}]})}else{var h=a.get(u);if(h){var p=r.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:Cs(h.data)}],newSeries:[]},r.set(h.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:Cs(s)})}}}}),r}function LB(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function AAe(t,e,r,n){var a=[],i=[];oe(Tr(t.from),function(o){var s=LB(e.oldSeries,o);s>=0&&a.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Cs(e.oldData[s]),groupIdDim:o.dimension})}),oe(Tr(t.to),function(o){var s=LB(r.updatedSeries,o);if(s>=0){var u=r.updatedSeries[s].getData();i.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:Cs(u),groupIdDim:o.dimension})}}),a.length>0&&i.length>0&&QW(a,i,n)}function NAe(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){oe(Tr(n.seriesTransition),function(a){oe(Tr(a.to),function(i){for(var o=n.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][ry]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var a=DAe(r);if(a.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)oe(Tr(i),function(p){AAe(p,a,n,r)});else{var o=RAe(a,n);oe(o.keys(),function(p){var v=o.get(p);QW(v.oldSeries,v.newSeries,r)})}oe(n.updatedSeries,function(p){p[ry]&&(p[ry]=!1)})}for(var s=e.getSeries(),u=a.oldSeries=[],l=a.oldDataGroupIds=[],f=a.oldData=[],c=0;c<s.length;c++){var h=s[c].getData();h.count()<JW&&(u.push(s[c]),l.push(s[c].get("dataGroupId")),f.push(h))}})}function kB(t,e,r){var n=jf.createCanvas(),a=e.getWidth(),i=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",n.setAttribute("data-zr-dom-id",t)),n.width=a*r,n.height=i*r,n}var FS=function(t){Ce(e,t);function e(r,n,a){var i=t.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||Zy,typeof r=="string"?o=kB(r,n,a):Ue(r)&&(o=r,r=o.id),i.id=r,i.dom=o;var s=o.style;return s&&(j8(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=n,i.dpr=a,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=kB("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new Dt(0,0,0,0);function f(d){if(!(!d.isFinite()||d.isZero()))if(o.length===0){var _=new Dt(0,0,0,0);_.copy(d),o.push(_)}else{for(var x=!1,w=1/0,S=0,b=0;b<o.length;++b){var T=o[b];if(T.intersect(d)){var C=new Dt(0,0,0,0);C.copy(T),C.union(d),o[b]=C,x=!0;break}else if(u){l.copy(d),l.union(T);var M=d.width*d.height,D=T.width*T.height,E=l.width*l.height,k=E-M-D;k<w&&(w=k,S=b)}}if(u&&(o[S].union(d),x=!0),!x){var _=new Dt(0,0,0,0);_.copy(d),o.push(_)}u||(u=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var h=r[c];if(h){var p=h.shouldBePainted(a,i,!0,!0),v=h.__isRendered&&(h.__dirty&Hi||!p)?h.getPrevPaintRect():null;v&&f(v);var g=p&&(h.__dirty&Hi||!h.__isRendered)?h.getPaintRect():null;g&&f(g)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var h=n[c],p=h&&h.shouldBePainted(a,i,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&f(v)}}var y;do{y=!1;for(var c=0;c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var m=c+1;m<o.length;)o[c].intersect(o[m])?(y=!0,o[c].union(o[m]),o.splice(m,1)):m++;c++}}while(y);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),i.width=r*a,i.height=n*a,s&&(s.width=r*a,s.height=n*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(r,n,a){var i=this.dom,o=this.ctx,s=i.width,u=i.height;n=n||this.clearColor;var l=this.motionBlur&&!r,f=this.lastFrameAlpha,c=this.dpr,h=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/c,u/c));var p=this.domBack;function v(g,y,m,d){if(o.clearRect(g,y,m,d),n&&n!=="transparent"){var _=void 0;if(O1(n)){var x=n.global||n.__width===m&&n.__height===d;_=x&&n.__canvasGradient||ET(o,n,{x:0,y:0,width:m,height:d}),n.__canvasGradient=_,n.__width=m,n.__height=d}else rwe(n)&&(n.scaleX=n.scaleX||c,n.scaleY=n.scaleY||c,_=DT(o,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=_||n,o.fillRect(g,y,m,d),o.restore()}l&&(o.save(),o.globalAlpha=f,o.drawImage(p,g,y,m,d),o.restore())}!a||l?v(0,0,s,u):a.length&&oe(a,function(g){v(g.x*c,g.y*c,g.width*c,g.height*c)})},e}(Ba),RB=1e5,Wu=314159,c0=.01,FAe=.001;function BAe(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function IAe(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var VAe=function(){function t(e,r,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Me({},n||{}),this.dpr=n.devicePixelRatio||Zy,this._singleCanvas=i,this.root=e;var o=e.style;o&&(j8(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(i){var f=e,c=f.width,h=f.height;n.width!=null&&(c=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,f.width=c*this.dpr,f.height=h*this.dpr,this._width=c,this._height=h;var p=new FS(f,this,this.dpr);p.__builtin__=!0,p.initContext(),u[Wu]=p,p.zlevel=Wu,s.push(Wu),this._domRoot=e}else{this._width=qg(e,0,n),this._height=qg(e,1,n);var l=this._domRoot=IAe(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=i===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(RB)),i||(i=n.ctx,i.save()),cl(i,s,a,o===r-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(RB)},t.prototype.paintOne=function(e,r){n9(e,r)},t.prototype._paintList=function(e,r,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,r,n),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;Ky(function(){u._paintList(e,r,n,a)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Wu).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&i.push(l)}for(var f=!0,c=!1,h=function(g){var y=i[g],m=y.ctx,d=o&&y.createRepaintRects(e,r,p._width,p._height),_=n?y.__startIndex:y.__drawIndex,x=!n&&y.incremental&&Date.now,w=x&&Date.now(),S=y.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,S,d);else if(_===y.__startIndex){var b=e[_];(!b.incremental||!b.notClear||n)&&y.clear(!1,S,d)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=y.__startIndex);var T,C=function(k){var O={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(T=_;T<y.__endIndex;T++){var A=e[T];if(A.__inHover&&(c=!0),a._doPaintEl(A,y,o,k,O,T===y.__endIndex-1),x){var I=Date.now()-w;if(I>15)break}}O.prevElClipPaths&&m.restore()};if(d)if(d.length===0)T=y.__endIndex;else for(var M=p.dpr,D=0;D<d.length;++D){var E=d[D];m.save(),m.beginPath(),m.rect(E.x*M,E.y*M,E.width*M,E.height*M),m.clip(),C(E),m.restore()}else m.save(),C(),m.restore();y.__drawIndex=T,y.__drawIndex<y.__endIndex&&(f=!1)},p=this,v=0;v<i.length;v++)h(v);return Qe.wxa&&oe(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:f,needsRefreshHover:c}},t.prototype._doPaintEl=function(e,r,n,a,i,o){var s=r.ctx;if(n){var u=e.getPaintRect();(!a||u&&u.intersect(a))&&(cl(s,e,i,o),e.setPrevPaintRect(u))}else cl(s,e,i,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Wu);var n=this._layers[e];return n||(n=new FS("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?ct(n,this._layerConfig[e],!0):this._layerConfig[e-c0]&&ct(n,this._layerConfig[e-c0],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,u=-1;if(!n[e]&&BAe(r)){if(i>0&&e>a[0]){for(u=0;u<i-1&&!(a[u]<e&&a[u+1]>e);u++);s=n[a[u]]}if(a.splice(u+1,0,e),n[e]=r,!r.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(r.dom,l.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];e.call(r,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__&&e.call(r,o,i)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__||e.call(r,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,h){c.__dirty=c.__used=!1});function r(c){i&&(i.__endIndex!==c&&(i.__dirty=!0),i.__endIndex=c)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var a=e[n];if(a.zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,u;for(u=0;u<e.length;u++){var a=e[u],l=a.zlevel,f=void 0;s!==l&&(s=l,o=0),a.incremental?(f=this.getLayer(l+FAe,this._needsManuallyCompositing),f.incremental=!0,o=1):f=this.getLayer(l+(o>0?c0:0),this._needsManuallyCompositing),f.__builtin__||oE("ZLevel "+l+" has been used by unkown layer "+f.id),f!==i&&(f.__used=!0,f.__startIndex!==u&&(f.__dirty=!0),f.__startIndex=u,f.incremental?f.__drawIndex=-1:f.__drawIndex=u,r(u),i=f),a.__dirty&Hi&&!a.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(c,h){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,oe(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?ct(n[e],r,!0):n[e]=r;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+c0){var o=this._layers[i];ct(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,a=r[e];a&&(a.dom.parentNode.removeChild(a.dom),delete r[e],n.splice(St(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(e!=null&&(a.width=e),r!=null&&(a.height=r),e=qg(i,0,a),r=qg(i,1,a),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(Wu).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Wu].dom;var r=new FS("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=r.dom.width,i=r.dom.height;this.eachLayer(function(c){c.__builtin__?n.drawImage(c.dom,0,0,a,i):c.renderToCanvas&&(n.save(),c.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var f=s[u];cl(n,f,o,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function PAe(t){t.registerPainter("canvas",VAe)}const UAe={id:"imu"},AB=1,zAe={__name:"IMUData",setup(t,{expose:e}){fi([Oke,VLe,nke,OMe,Uke,Cke,oRe,sAe,DRe,WRe,PAe,NAe]);const r=be(AB),n=be(null);let a=null;const i=be(0);let o=null;const s=be("Loading");function u(){let m=document.querySelector(".con4");n.value={container:m}}function l(m,d,_){let x=[];for(let w=0;w<m[d].length;w++)x.push(m[d][w][_].toFixed(2));return x.join(", ")}function f(m,d){const{container:_}=n.value;a===null&&(a=nDe(_)),a.clear();let x,w=[];for(let S=0;S<m.length;S++)for(let b=0;b<m[S].length;b++)w.push({name:"IMU"+(S+1),type:"line",xAxisIndex:b,yAxisIndex:b,data:m[S][b],lineStyle:{opacity:.5}}),w.push({name:"IMU"+(S+1),type:"line",xAxisIndex:b+3,yAxisIndex:b+3,data:d[S][b],lineStyle:{opacity:.5}});x={animation:!1,legend:{top:"0%",left:"center",data:["IMU1","IMU2","IMU3","IMU4"]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},backgroundColor:"rgba(255, 255, 255, 0.8)",position:{top:"6%",left:"98%"},formatter:function(S){return S=S[0],["Frame Index: "+S.dataIndex+'<hr style="margin: 3px 0">','AngX, AngY, AngZ<hr style="margin: 3px 0">',"IMU1: ("+l(m,0,S.dataIndex)+")<br/>","IMU2: ("+l(m,1,S.dataIndex)+")<br/>","IMU3: ("+l(m,2,S.dataIndex)+")<br/>","IMU4: ("+l(m,3,S.dataIndex)+")<br/>",'<hr style="margin: 3px 0">AccX, AccY, AccZ<hr style="margin: 3px 0">',"IMU1: ("+l(d,0,S.dataIndex)+")<br/>","IMU2: ("+l(d,1,S.dataIndex)+")<br/>","IMU3: ("+l(d,2,S.dataIndex)+")<br/>","IMU4: ("+l(d,3,S.dataIndex)+")<br/>"].join("")}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},toolbox:{feature:{dataZoom:{yAxisIndex:!1},brush:{type:["lineX","clear"]}}},brush:{xAxisIndex:"all",brushLink:"all",outOfBrush:{colorAlpha:.1}},grid:[{left:"4%",width:"28%",top:"12%",height:"32%"},{left:"36%",width:"28%",top:"12%",height:"32%"},{left:"68%",width:"28%",top:"12%",height:"32%"},{left:"4%",width:"28%",bottom:"13%",height:"32%"},{left:"36%",width:"28%",bottom:"13%",height:"32%"},{left:"68%",width:"28%",bottom:"13%",height:"32%"}],title:[{text:"Angle X (degree)",left:"18%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Angle Y (degree)",left:"50%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Angle Z (degree)",left:"82%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele X (m/s^2)",left:"18%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele Y (m/s^2)",left:"50%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele Z (m/s^2)",left:"82%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}}],xAxis:[{type:"category",gridIndex:0,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:1,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:2,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:3,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:4,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:5,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}}],yAxis:[{scale:!0,gridIndex:0,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:1,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:2,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:3,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:4,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:5,splitNumber:4,splitArea:{show:!0}}],dataZoom:[{type:"inside",xAxisIndex:[0,1,2,3,4,5],start:0,end:100},{show:!0,xAxisIndex:[0,1,2,3,4,5],type:"slider",left:"3%",width:"93%",bottom:"1%",height:"5%",start:0,end:100}],series:w},x&&a.setOption(x),window.onresize=()=>{a.resize()}}function c(){hr.get("/data/imu_"+i.value+".json").then(m=>{if(m.data.code===0){const d=m.data.data.angle,_=m.data.data.accele;r.value=AB,f(d,_),v()}})}function h(){a!==null&&a.clear()}function p(){const{container:m}=n.value;o===null&&(o=Ym.service({target:m,lock:!0,text:s,background:"rgba(0, 0, 0, 0.7)"}))}function v(){o!==null&&(o.close(),o=null)}function g(m){r.value=m}function y(m){i.value=m,p(),c()}return mr(()=>{u(),p(),c()}),$n(()=>{h()}),e({value_change:g,value:r,data_id_change:y,data_id:i}),(m,d)=>(xe(),Re("div",UAe,d[0]||(d[0]=[De("h2",null,"Calibrated IMU Data",-1),De("div",{class:"con4"},null,-1)])))}},GAe=cd(zAe,[["__scopeId","data-v-9317fe3f"]]),WAe={class:"display"},HAe={class:"tm"},jAe={class:"imudata"},$Ae={class:"r4"},KAe={class:"recon"},XAe={class:"r1"},YAe={class:"r2"},qAe={class:"r3"},ZAe={__name:"MainView",emits:["reconstructing"],setup(t,{expose:e,emit:r}){const n=be("Case 1 (In-House Arm Dataset)"),a=be(),i=be(),o=be(),s=be(),u=r;function l(h){i.value.value_change(h),i.value.value=h,o.value.value_change(h),o.value.value=h,s.value.value_change(h),s.value.value=h}function f(h,p){n.value=h,a.value.data_id_change(p),a.value.data_id=p,i.value.data_id_change(p),i.value.data_id=p,o.value.data_id_change(p),o.value.data_id=p,s.value.data_id_change(p),s.value.data_id=p}function c(h){u("reconstructing",h)}return e({data_id_change:f}),(h,p)=>{const v=GAe,g=Uxe,y=K0e,m=H0e;return xe(),Re(Gt,null,[p[0]||(p[0]=De("div",{class:"tips"},[De("p",null,[hf(' Hello and welcome to DeNet Demo! This is a demo of our paper (ID: #1568) "Hierarchically Decoupled Learning with MoEs for Freehand 3D Ultrasound Reconstruction" submitted to '),De("b",null,"MICCAI 2025"),hf(". The following steps can help you utilize this demo more effectively. ")]),De("ol",null,[De("li",null,"Choose an ultrasound scan from the left-hand list."),De("li",null,"Move the slider below the scan sequence to examine the sequence images."),De("li",null,'Click the "Online Reconstruction" button below the reconstructed volume to start online reconstruction.'),De("li",null,"Move the mouse to interactively view the 3D volume.")])],-1)),p[1]||(p[1]=De("hr",null,null,-1)),De("div",WAe,[De("div",HAe,[De("h1",null,Zn(n.value),1)]),De("div",jAe,[De("div",$Ae,[Pe(v,{ref_key:"imu",ref:s},null,512)])]),De("div",KAe,[De("div",XAe,[Pe(g,{ref_key:"frame",ref:a,onChange_frame_id:l},null,512)]),De("div",YAe,[Pe(y,{ref_key:"actual",ref:i},null,512)]),De("div",qAe,[Pe(m,{ref_key:"reco",ref:o,onReconstructing:c},null,512)])])])],64)}}},eH=cd(ZAe,[["__scopeId","data-v-7b3ea077"]]),JAe={class:"title-image-left"},QAe=["onClick"],e3e={class:"img_title"},t3e={__name:"App",setup(t){const e=be(),r=be(),n=be(null);let a=0;const i=be(!1);n.value=["Case 1 (In-House Arm Dataset)","Case 2 (In-House Carotid Dataset)","Case 3 (Open Arm Dataset)"],mr(()=>{let l=setInterval(()=>{typeof r.value<"u"&&(clearInterval(l),l=null,r.value[a].style.border="4px solid rgb(64, 128, 255)",r.value[a].style.background="#ccc")},100)});function o(l,f){if(f!==a)if(i.value){const c=n.value[a];lee.error("Reconstructing ("+c.slice(0,c.indexOf("(")-1)+") in progress!")}else r.value[a].style.border="2px solid black",r.value[a].style.background="",r.value[f].style.border="4px solid rgb(64, 128, 255)",r.value[f].style.background="#ccc",e.value.data_id_change(l,f),a=f}function s(l){i.value=l}function u({container:l=document.body,width:f="400px",height:c="300px",textAlign:h="center",textBaseline:p="middle",font:v="20px Microsoft Yahei",fillStyle:g="rgba(184, 184, 184, 0.4)",content:y="MICCAI #1568",rotate:m="30",zIndex:d=1e3}={}){const _=arguments[0],x=document.createElement("canvas");x.setAttribute("width",f),x.setAttribute("height",c);const w=x.getContext("2d");w.textAlign=h,w.textBaseline=p,w.font=v,w.fillStyle=g,w.rotate(Math.PI/180*m),w.fillText(y,parseFloat(f)/2,parseFloat(c)/2);const S=x.toDataURL(),b=document.querySelector(".__wm"),T=b||document.createElement("div"),C=`
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        z-index:${d};
        pointer-events:none;
        background-repeat:repeat;
        background-image:url('${S}')`;T.setAttribute("style",C),T.classList.add("__wm"),b||(l.style.position="relative",l.insertBefore(T,l.firstChild));const M=window.MutationObserver||window.WebKitMutationObserver;if(M){let D=new M(function(){const E=document.querySelector(".__wm");(E&&E.getAttribute("style")!==C||!E)&&(D.disconnect(),D=null,u(JSON.parse(JSON.stringify(_))))});D.observe(l,{attributes:!0,subtree:!0,childList:!0})}}return u({content:"MICCAI #1568"}),(l,f)=>{const c=wQ,h=oQ,p=aQ,v=sQ,g=iQ,y=nQ;return xe(),lt(y,null,{default:Ye(()=>[Pe(h,null,{default:Ye(()=>[De("div",JAe,[Pe(c,{src:"../public/miccai2025-logo-less.png",style:{width:"180px",height:"85px"}})]),f[0]||(f[0]=De("div",{class:"title"},[De("h1",null,"DeNet Demo"),De("h3",null,"Hierarchically Decoupled Learning with MoEs for Freehand 3D Ultrasound Reconstruction")],-1))]),_:1}),Pe(y,null,{default:Ye(()=>[Pe(p,null,{default:Ye(()=>[(xe(!0),Re(Gt,null,hp(n.value,(m,d)=>(xe(),Re("div",{class:"aside_block",ref_for:!0,ref_key:"img_list",ref:r,key:d,onClick:_=>o(m,d)},[De("div",e3e,Zn(m.slice(0,m.indexOf("(")-1)),1),Pe(c,{src:"../public/data/image_"+d+".png",lazy:""},null,8,["src"])],8,QAe))),128))]),_:1}),Pe(y,null,{default:Ye(()=>[Pe(v,null,{default:Ye(()=>[Pe(eH,{ref_key:"reco",ref:e,onReconstructing:s},null,512)]),_:1}),Pe(g)]),_:1})]),_:1})]),_:1})}}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Nc=typeof document<"u";function tH(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function r3e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&tH(t.default)}const zt=Object.assign;function BS(t,e){const r={};for(const n in e){const a=e[n];r[n]=hi(a)?a.map(t):t(a)}return r}const Ip=()=>{},hi=Array.isArray,rH=/#/g,n3e=/&/g,a3e=/\//g,i3e=/=/g,o3e=/\?/g,nH=/\+/g,s3e=/%5B/g,u3e=/%5D/g,aH=/%5E/g,l3e=/%60/g,iH=/%7B/g,c3e=/%7C/g,oH=/%7D/g,f3e=/%20/g;function SD(t){return encodeURI(""+t).replace(c3e,"|").replace(s3e,"[").replace(u3e,"]")}function h3e(t){return SD(t).replace(iH,"{").replace(oH,"}").replace(aH,"^")}function sC(t){return SD(t).replace(nH,"%2B").replace(f3e,"+").replace(rH,"%23").replace(n3e,"%26").replace(l3e,"`").replace(iH,"{").replace(oH,"}").replace(aH,"^")}function p3e(t){return sC(t).replace(i3e,"%3D")}function v3e(t){return SD(t).replace(rH,"%23").replace(o3e,"%3F")}function d3e(t){return t==null?"":v3e(t).replace(a3e,"%2F")}function Bv(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const g3e=/\/$/,y3e=t=>t.replace(g3e,"");function IS(t,e,r="/"){let n,a={},i="",o="";const s=e.indexOf("#");let u=e.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(n=e.slice(0,u),i=e.slice(u+1,s>-1?s:e.length),a=t(i)),s>-1&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=w3e(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:a,hash:Bv(o)}}function m3e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function NB(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function _3e(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Nf(e.matched[n],r.matched[a])&&sH(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Nf(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function sH(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!x3e(t[r],e[r]))return!1;return!0}function x3e(t,e){return hi(t)?FB(t,e):hi(e)?FB(e,t):t===e}function FB(t,e){return hi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function w3e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Iv;(function(t){t.pop="pop",t.push="push"})(Iv||(Iv={}));var Vp;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vp||(Vp={}));function S3e(t){if(!t)if(Nc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),y3e(t)}const b3e=/^[^#]+#/;function T3e(t,e){return t.replace(b3e,"#")+e}function C3e(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const l_=()=>({left:window.scrollX,top:window.scrollY});function E3e(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=C3e(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function BB(t,e){return(history.state?history.state.position-e:-1)+t}const uC=new Map;function D3e(t,e){uC.set(t,e)}function O3e(t){const e=uC.get(t);return uC.delete(t),e}let M3e=()=>location.protocol+"//"+location.host;function uH(t,e){const{pathname:r,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let s=a.includes(t.slice(i))?t.slice(i).length:1,u=a.slice(s);return u[0]!=="/"&&(u="/"+u),NB(u,"")}return NB(r,t)+n+a}function L3e(t,e,r,n){let a=[],i=[],o=null;const s=({state:h})=>{const p=uH(t,location),v=r.value,g=e.value;let y=0;if(h){if(r.value=p,e.value=h,o&&o===v){o=null;return}y=g?h.position-g.position:0}else n(p);a.forEach(m=>{m(r.value,v,{delta:y,type:Iv.pop,direction:y?y>0?Vp.forward:Vp.back:Vp.unknown})})};function u(){o=r.value}function l(h){a.push(h);const p=()=>{const v=a.indexOf(h);v>-1&&a.splice(v,1)};return i.push(p),p}function f(){const{history:h}=window;h.state&&h.replaceState(zt({},h.state,{scroll:l_()}),"")}function c(){for(const h of i)h();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:l,destroy:c}}function IB(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?l_():null}}function k3e(t){const{history:e,location:r}=window,n={value:uH(t,r)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,l,f){const c=t.indexOf("#"),h=c>-1?(r.host&&document.querySelector("base")?t:t.slice(c))+u:M3e()+t+u;try{e[f?"replaceState":"pushState"](l,"",h),a.value=l}catch(p){console.error(p),r[f?"replace":"assign"](h)}}function o(u,l){const f=zt({},e.state,IB(a.value.back,u,a.value.forward,!0),l,{position:a.value.position});i(u,f,!0),n.value=u}function s(u,l){const f=zt({},a.value,e.state,{forward:u,scroll:l_()});i(f.current,f,!0);const c=zt({},IB(n.value,u,null),{position:f.position+1},l);i(u,c,!1),n.value=u}return{location:n,state:a,push:s,replace:o}}function R3e(t){t=S3e(t);const e=k3e(t),r=L3e(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const a=zt({location:"",base:t,go:n,createHref:T3e.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function A3e(t){return typeof t=="string"||t&&typeof t=="object"}function lH(t){return typeof t=="string"||typeof t=="symbol"}const cH=Symbol("");var VB;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(VB||(VB={}));function Ff(t,e){return zt(new Error,{type:t,[cH]:!0},e)}function lo(t,e){return t instanceof Error&&cH in t&&(e==null||!!(t.type&e))}const PB="[^/]+?",N3e={sensitive:!1,strict:!1,start:!0,end:!0},F3e=/[.+*?^${}()[\]/\\]/g;function B3e(t,e){const r=zt({},N3e,e),n=[];let a=r.start?"^":"";const i=[];for(const l of t){const f=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(let c=0;c<l.length;c++){const h=l[c];let p=40+(r.sensitive?.25:0);if(h.type===0)c||(a+="/"),a+=h.value.replace(F3e,"\\$&"),p+=40;else if(h.type===1){const{value:v,repeatable:g,optional:y,regexp:m}=h;i.push({name:v,repeatable:g,optional:y});const d=m||PB;if(d!==PB){p+=10;try{new RegExp(`(${d})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${v}" (${d}): `+x.message)}}let _=g?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;c||(_=y&&l.length<2?`(?:/${_})`:"/"+_),y&&(_+="?"),a+=_,p+=20,y&&(p+=-8),g&&(p+=-20),d===".*"&&(p+=-50)}f.push(p)}n.push(f)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,r.sensitive?"":"i");function s(l){const f=l.match(o),c={};if(!f)return null;for(let h=1;h<f.length;h++){const p=f[h]||"",v=i[h-1];c[v.name]=p&&v.repeatable?p.split("/"):p}return c}function u(l){let f="",c=!1;for(const h of t){(!c||!f.endsWith("/"))&&(f+="/"),c=!1;for(const p of h)if(p.type===0)f+=p.value;else if(p.type===1){const{value:v,repeatable:g,optional:y}=p,m=v in l?l[v]:"";if(hi(m)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const d=hi(m)?m.join("/"):m;if(!d)if(y)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):c=!0);else throw new Error(`Missing required param "${v}"`);f+=d}}return f||"/"}return{re:o,score:n,keys:i,parse:s,stringify:u}}function I3e(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fH(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const i=I3e(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(UB(n))return 1;if(UB(a))return-1}return a.length-n.length}function UB(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const V3e={type:0,value:""},P3e=/[a-zA-Z0-9_]/;function U3e(t){if(!t)return[[]];if(t==="/")return[[V3e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,n=r;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,u,l="",f="";function c(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=u}for(;s<t.length;){if(u=t[s++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&c(),o()):u===":"?(c(),r=1):h();break;case 4:h(),r=n;break;case 1:u==="("?r=2:P3e.test(u)?h():(c(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:r=3:f+=u;break;case 3:c(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,f="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),c(),o(),a}function z3e(t,e,r){const n=B3e(U3e(t.path),r),a=zt(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function G3e(t,e){const r=[],n=new Map;e=HB({strict:!1,end:!0,sensitive:!1},e);function a(c){return n.get(c)}function i(c,h,p){const v=!p,g=GB(c);g.aliasOf=p&&p.record;const y=HB(e,c),m=[g];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of x)m.push(GB(zt({},g,{components:p?p.record.components:g.components,path:w,aliasOf:p?p.record:g})))}let d,_;for(const x of m){const{path:w}=x;if(h&&w[0]!=="/"){const S=h.record.path,b=S[S.length-1]==="/"?"":"/";x.path=h.record.path+(w&&b+w)}if(d=z3e(x,h,y),p?p.alias.push(d):(_=_||d,_!==d&&_.alias.push(d),v&&c.name&&!WB(d)&&o(c.name)),hH(d)&&u(d),g.children){const S=g.children;for(let b=0;b<S.length;b++)i(S[b],d,p&&p.children[b])}p=p||d}return _?()=>{o(_)}:Ip}function o(c){if(lH(c)){const h=n.get(c);h&&(n.delete(c),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(c);h>-1&&(r.splice(h,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return r}function u(c){const h=j3e(c,r);r.splice(h,0,c),c.record.name&&!WB(c)&&n.set(c.record.name,c)}function l(c,h){let p,v={},g,y;if("name"in c&&c.name){if(p=n.get(c.name),!p)throw Ff(1,{location:c});y=p.record.name,v=zt(zB(h.params,p.keys.filter(_=>!_.optional).concat(p.parent?p.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),c.params&&zB(c.params,p.keys.map(_=>_.name))),g=p.stringify(v)}else if(c.path!=null)g=c.path,p=r.find(_=>_.re.test(g)),p&&(v=p.parse(g),y=p.record.name);else{if(p=h.name?n.get(h.name):r.find(_=>_.re.test(h.path)),!p)throw Ff(1,{location:c,currentLocation:h});y=p.record.name,v=zt({},h.params,c.params),g=p.stringify(v)}const m=[];let d=p;for(;d;)m.unshift(d.record),d=d.parent;return{name:y,path:g,params:v,matched:m,meta:H3e(m)}}t.forEach(c=>i(c));function f(){r.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:f,getRoutes:s,getRecordMatcher:a}}function zB(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function GB(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:W3e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function W3e(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function WB(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function H3e(t){return t.reduce((e,r)=>zt(e,r.meta),{})}function HB(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function j3e(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;fH(t,e[i])<0?n=i:r=i+1}const a=$3e(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function $3e(t){let e=t;for(;e=e.parent;)if(hH(e)&&fH(t,e)===0)return e}function hH({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function K3e(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(nH," "),o=i.indexOf("="),s=Bv(o<0?i:i.slice(0,o)),u=o<0?null:Bv(i.slice(o+1));if(s in e){let l=e[s];hi(l)||(l=e[s]=[l]),l.push(u)}else e[s]=u}return e}function jB(t){let e="";for(let r in t){const n=t[r];if(r=p3e(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(hi(n)?n.map(i=>i&&sC(i)):[n&&sC(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function X3e(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=hi(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const Y3e=Symbol(""),$B=Symbol(""),bD=Symbol(""),pH=Symbol(""),lC=Symbol("");function Uh(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Es(t,e,r,n,a,i=o=>o()){const o=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((s,u)=>{const l=h=>{h===!1?u(Ff(4,{from:r,to:e})):h instanceof Error?u(h):A3e(h)?u(Ff(2,{from:e,to:h})):(o&&n.enterCallbacks[a]===o&&typeof h=="function"&&o.push(h),s())},f=i(()=>t.call(n&&n.instances[a],e,r,l));let c=Promise.resolve(f);t.length<3&&(c=c.then(l)),c.catch(h=>u(h))})}function VS(t,e,r,n,a=i=>i()){const i=[];for(const o of t)for(const s in o.components){let u=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(tH(u)){const f=(u.__vccOpts||u)[e];f&&i.push(Es(f,r,n,o,s,a))}else{let l=u();i.push(()=>l.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const c=r3e(f)?f.default:f;o.mods[s]=f,o.components[s]=c;const p=(c.__vccOpts||c)[e];return p&&Es(p,r,n,o,s,a)()}))}}return i}function KB(t){const e=It(bD),r=It(pH),n=ve(()=>{const u=te(t.to);return e.resolve(u)}),a=ve(()=>{const{matched:u}=n.value,{length:l}=u,f=u[l-1],c=r.matched;if(!f||!c.length)return-1;const h=c.findIndex(Nf.bind(null,f));if(h>-1)return h;const p=XB(u[l-2]);return l>1&&XB(f)===p&&c[c.length-1].path!==p?c.findIndex(Nf.bind(null,u[l-2])):h}),i=ve(()=>a.value>-1&&eNe(r.params,n.value.params)),o=ve(()=>a.value>-1&&a.value===r.matched.length-1&&sH(r.params,n.value.params));function s(u={}){if(Q3e(u)){const l=e[te(t.replace)?"replace":"push"](te(t.to)).catch(Ip);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:ve(()=>n.value.href),isActive:i,isExactActive:o,navigate:s}}function q3e(t){return t.length===1?t[0]:t}const Z3e=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:KB,setup(t,{slots:e}){const r=Xo(KB(t)),{options:n}=It(bD),a=ve(()=>({[YB(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[YB(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&q3e(e.default(r));return t.custom?i:To("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),J3e=Z3e;function Q3e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function eNe(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!hi(a)||a.length!==n.length||n.some((i,o)=>i!==a[o]))return!1}return!0}function XB(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const YB=(t,e,r)=>t??e??r,tNe=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=It(lC),a=ve(()=>t.route||n.value),i=It($B,0),o=ve(()=>{let l=te(i);const{matched:f}=a.value;let c;for(;(c=f[l])&&!c.components;)l++;return l}),s=ve(()=>a.value.matched[o.value]);Qn($B,ve(()=>o.value+1)),Qn(Y3e,s),Qn(lC,a);const u=be();return ft(()=>[u.value,s.value,t.name],([l,f,c],[h,p,v])=>{f&&(f.instances[c]=l,p&&p!==f&&l&&l===h&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),l&&f&&(!p||!Nf(f,p)||!h)&&(f.enterCallbacks[c]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=a.value,f=t.name,c=s.value,h=c&&c.components[f];if(!h)return qB(r.default,{Component:h,route:l});const p=c.props[f],v=p?p===!0?l.params:typeof p=="function"?p(l):p:null,y=To(h,zt({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(c.instances[f]=null)},ref:u}));return qB(r.default,{Component:y,route:l})||y}}});function qB(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const rNe=tNe;function nNe(t){const e=G3e(t.routes,t),r=t.parseQuery||K3e,n=t.stringifyQuery||jB,a=t.history,i=Uh(),o=Uh(),s=Uh(),u=Ao(vs);let l=vs;Nc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=BS.bind(null,J=>""+J),c=BS.bind(null,d3e),h=BS.bind(null,Bv);function p(J,ae){let re,V;return lH(J)?(re=e.getRecordMatcher(J),V=ae):V=J,e.addRoute(V,re)}function v(J){const ae=e.getRecordMatcher(J);ae&&e.removeRoute(ae)}function g(){return e.getRoutes().map(J=>J.record)}function y(J){return!!e.getRecordMatcher(J)}function m(J,ae){if(ae=zt({},ae||u.value),typeof J=="string"){const L=IS(r,J,ae.path),G=e.resolve({path:L.path},ae),z=a.createHref(L.fullPath);return zt(L,G,{params:h(G.params),hash:Bv(L.hash),redirectedFrom:void 0,href:z})}let re;if(J.path!=null)re=zt({},J,{path:IS(r,J.path,ae.path).path});else{const L=zt({},J.params);for(const G in L)L[G]==null&&delete L[G];re=zt({},J,{params:c(L)}),ae.params=c(ae.params)}const V=e.resolve(re,ae),R=J.hash||"";V.params=f(h(V.params));const F=m3e(n,zt({},J,{hash:h3e(R),path:V.path})),N=a.createHref(F);return zt({fullPath:F,hash:R,query:n===jB?X3e(J.query):J.query||{}},V,{redirectedFrom:void 0,href:N})}function d(J){return typeof J=="string"?IS(r,J,u.value.path):zt({},J)}function _(J,ae){if(l!==J)return Ff(8,{from:ae,to:J})}function x(J){return b(J)}function w(J){return x(zt(d(J),{replace:!0}))}function S(J){const ae=J.matched[J.matched.length-1];if(ae&&ae.redirect){const{redirect:re}=ae;let V=typeof re=="function"?re(J):re;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=d(V):{path:V},V.params={}),zt({query:J.query,hash:J.hash,params:V.path!=null?{}:J.params},V)}}function b(J,ae){const re=l=m(J),V=u.value,R=J.state,F=J.force,N=J.replace===!0,L=S(re);if(L)return b(zt(d(L),{state:typeof L=="object"?zt({},R,L.state):R,force:F,replace:N}),ae||re);const G=re;G.redirectedFrom=ae;let z;return!F&&_3e(n,V,re)&&(z=Ff(16,{to:G,from:V}),H(V,V,!0,!1)),(z?Promise.resolve(z):M(G,V)).catch(j=>lo(j)?lo(j,2)?j:W(j):P(j,G,V)).then(j=>{if(j){if(lo(j,2))return b(zt({replace:N},d(j.to),{state:typeof j.to=="object"?zt({},R,j.to.state):R,force:F}),ae||G)}else j=E(G,V,!0,N,R);return D(G,V,j),j})}function T(J,ae){const re=_(J,ae);return re?Promise.reject(re):Promise.resolve()}function C(J){const ae=Q.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(J):J()}function M(J,ae){let re;const[V,R,F]=aNe(J,ae);re=VS(V.reverse(),"beforeRouteLeave",J,ae);for(const L of V)L.leaveGuards.forEach(G=>{re.push(Es(G,J,ae))});const N=T.bind(null,J,ae);return re.push(N),ie(re).then(()=>{re=[];for(const L of i.list())re.push(Es(L,J,ae));return re.push(N),ie(re)}).then(()=>{re=VS(R,"beforeRouteUpdate",J,ae);for(const L of R)L.updateGuards.forEach(G=>{re.push(Es(G,J,ae))});return re.push(N),ie(re)}).then(()=>{re=[];for(const L of F)if(L.beforeEnter)if(hi(L.beforeEnter))for(const G of L.beforeEnter)re.push(Es(G,J,ae));else re.push(Es(L.beforeEnter,J,ae));return re.push(N),ie(re)}).then(()=>(J.matched.forEach(L=>L.enterCallbacks={}),re=VS(F,"beforeRouteEnter",J,ae,C),re.push(N),ie(re))).then(()=>{re=[];for(const L of o.list())re.push(Es(L,J,ae));return re.push(N),ie(re)}).catch(L=>lo(L,8)?L:Promise.reject(L))}function D(J,ae,re){s.list().forEach(V=>C(()=>V(J,ae,re)))}function E(J,ae,re,V,R){const F=_(J,ae);if(F)return F;const N=ae===vs,L=Nc?history.state:{};re&&(V||N?a.replace(J.fullPath,zt({scroll:N&&L&&L.scroll},R)):a.push(J.fullPath,R)),u.value=J,H(J,ae,re,N),W()}let k;function O(){k||(k=a.listen((J,ae,re)=>{if(!Y.listening)return;const V=m(J),R=S(V);if(R){b(zt(R,{replace:!0,force:!0}),V).catch(Ip);return}l=V;const F=u.value;Nc&&D3e(BB(F.fullPath,re.delta),l_()),M(V,F).catch(N=>lo(N,12)?N:lo(N,2)?(b(zt(d(N.to),{force:!0}),V).then(L=>{lo(L,20)&&!re.delta&&re.type===Iv.pop&&a.go(-1,!1)}).catch(Ip),Promise.reject()):(re.delta&&a.go(-re.delta,!1),P(N,V,F))).then(N=>{N=N||E(V,F,!1),N&&(re.delta&&!lo(N,8)?a.go(-re.delta,!1):re.type===Iv.pop&&lo(N,20)&&a.go(-1,!1)),D(V,F,N)}).catch(Ip)}))}let A=Uh(),I=Uh(),U;function P(J,ae,re){W(J);const V=I.list();return V.length?V.forEach(R=>R(J,ae,re)):console.error(J),Promise.reject(J)}function B(){return U&&u.value!==vs?Promise.resolve():new Promise((J,ae)=>{A.add([J,ae])})}function W(J){return U||(U=!J,O(),A.list().forEach(([ae,re])=>J?re(J):ae()),A.reset()),J}function H(J,ae,re,V){const{scrollBehavior:R}=t;if(!Nc||!R)return Promise.resolve();const F=!re&&O3e(BB(J.fullPath,0))||(V||!re)&&history.state&&history.state.scroll||null;return Pr().then(()=>R(J,ae,F)).then(N=>N&&E3e(N)).catch(N=>P(N,J,ae))}const $=J=>a.go(J);let q;const Q=new Set,Y={currentRoute:u,listening:!0,addRoute:p,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:m,options:t,push:x,replace:w,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:I.add,isReady:B,install(J){const ae=this;J.component("RouterLink",J3e),J.component("RouterView",rNe),J.config.globalProperties.$router=ae,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>te(u)}),Nc&&!q&&u.value===vs&&(q=!0,x(a.location).catch(R=>{}));const re={};for(const R in vs)Object.defineProperty(re,R,{get:()=>u.value[R],enumerable:!0});J.provide(bD,ae),J.provide(pH,_C(re)),J.provide(lC,u);const V=J.unmount;Q.add(J),J.unmount=function(){Q.delete(J),Q.size<1&&(l=vs,k&&k(),k=null,u.value=vs,q=!1,U=!1),V()}}};function ie(J){return J.reduce((ae,re)=>ae.then(()=>C(re)),Promise.resolve())}return Y}function aNe(t,e){const r=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const s=e.matched[o];s&&(t.matched.find(l=>Nf(l,s))?n.push(s):r.push(s));const u=t.matched[o];u&&(e.matched.find(l=>Nf(l,u))||a.push(u))}return[r,n,a]}const iNe=nNe({history:R3e("/MICCAI-2025-1568/"),routes:[{path:"/",name:"home",component:eH}]}),vH=mI(t3e);vH.use(iNe);vH.mount("#app");
